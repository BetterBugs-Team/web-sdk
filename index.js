/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Betterbugs=t():e.Betterbugs=t()}(this,(function(){return function(){var e={7495:function(e,t,n){"use strict";var i=n(9840);e.exports=function(e,t){return void 0===t&&(t=!1),function(n,r,s){if(n)e(n);else if(r.statusCode>=400&&r.statusCode<=599){var o=s;if(t)if(i.TextDecoder){var a=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return"charset"===i.trim()?r.trim():e}),"utf-8")}(r.headers&&r.headers["content-type"]);try{o=new TextDecoder(a).decode(s)}catch(e){}}else o=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:o})}else e(null,s)}}},1036:function(e,t,n){"use strict";var i=n(9840),r=n(4634),s=n(7056),o=n(6162),a=n(8670);c.httpHandler=n(7495),c.requestInterceptorsStorage=new o,c.responseInterceptorsStorage=new o,c.retryManager=new a;var l=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t};function u(e,t,n){var i=e;return s(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=r({},t,{uri:e}),i.callback=n,i}function c(e,t,n){return A(t=u(e,t,n))}function A(e){if(void 0===e.callback)throw new Error("callback argument missing");if(e.requestType&&c.requestInterceptorsStorage.getIsEnabled()){var t={uri:e.uri||e.url,headers:e.headers||{},body:e.body,metadata:e.metadata||{},retry:e.retry,timeout:e.timeout},n=c.requestInterceptorsStorage.execute(e.requestType,t);e.uri=n.uri,e.headers=n.headers,e.body=n.body,e.metadata=n.metadata,e.retry=n.retry,e.timeout=n.timeout}var i=!1,r=function(t,n,r){i||(i=!0,e.callback(t,n,r))};function s(){var e=void 0;if(e=h.response?h.response:h.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(h),b)try{e=JSON.parse(e)}catch(e){}return e}function o(t){if(clearTimeout(p),clearTimeout(e.retryTimeout),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,d||!c.retryManager.getIsEnabled()||!e.retry||!e.retry.shouldRetry()){if(e.requestType&&c.responseInterceptorsStorage.getIsEnabled()){var n={headers:w.headers||{},body:w.body,responseUrl:h.responseURL,responseType:h.responseType},i=c.responseInterceptorsStorage.execute(e.requestType,n);w.body=i.body,w.headers=i.headers}return r(t,w)}e.retryTimeout=setTimeout((function(){e.retry.moveToNextAttempt(),e.xhr=h,A(e)}),e.retry.getCurrentFuzzedDelay())}function a(){if(!d){var t;clearTimeout(p),clearTimeout(e.retryTimeout),t=e.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var n=w,i=null;if(0!==t?(n={body:s(),statusCode:t,method:g,headers:{},url:f,rawRequest:h},h.getAllResponseHeaders&&(n.headers=l(h.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),e.requestType&&c.responseInterceptorsStorage.getIsEnabled()){var o={headers:n.headers||{},body:n.body,responseUrl:h.responseURL,responseType:h.responseType},a=c.responseInterceptorsStorage.execute(e.requestType,o);n.body=a.body,n.headers=a.headers}return r(i,n,n.body)}}var u,d,h=e.xhr||null;h||(h=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var p,f=h.url=e.uri||e.url,g=h.method=e.method||"GET",m=e.body||e.data,v=h.headers=e.headers||{},y=!!e.sync,b=!1,w={body:void 0,headers:{},statusCode:0,method:g,url:f,rawRequest:h};if("json"in e&&!1!==e.json&&(b=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),m=JSON.stringify(!0===e.json?m:e.json))),h.onreadystatechange=function(){4!==h.readyState||c.responseInterceptorsStorage.getIsEnabled()||setTimeout(a,0)},h.onload=a,h.onerror=o,h.onprogress=function(){},h.onabort=function(){d=!0,clearTimeout(e.retryTimeout)},h.ontimeout=o,h.open(g,f,!y,e.username,e.password),y||(h.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(p=setTimeout((function(){if(!d){d=!0,h.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}}),e.timeout)),h.setRequestHeader)for(u in v)v.hasOwnProperty(u)&&h.setRequestHeader(u,v[u]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(h.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(h),h.send(m||null),h}e.exports=c,e.exports.default=c,c.XMLHttpRequest=i.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){c["delete"===e?"del":e]=function(t,n,i){return(n=u(t,n,i)).method=e.toUpperCase(),A(n)}}))},6162:function(e){"use strict";function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var i=function(){function e(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var n=e.prototype;return n.getIsEnabled=function(){return this.enabled_},n.enable=function(){this.enabled_=!0},n.disable=function(){this.enabled_=!1},n.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},n.addInterceptor=function(e,t){this.typeToInterceptorsMap_.has(e)||this.typeToInterceptorsMap_.set(e,new Set);var n=this.typeToInterceptorsMap_.get(e);return!n.has(t)&&(n.add(t),!0)},n.removeInterceptor=function(e,t){var n=this.typeToInterceptorsMap_.get(e);return!(!n||!n.has(t))&&(n.delete(t),!0)},n.clearInterceptorsByType=function(e){return!!this.typeToInterceptorsMap_.get(e)&&(this.typeToInterceptorsMap_.delete(e),this.typeToInterceptorsMap_.set(e,new Set),!0)},n.clear=function(){return!!this.typeToInterceptorsMap_.size&&(this.typeToInterceptorsMap_=new Map,!0)},n.getForType=function(e){return this.typeToInterceptorsMap_.get(e)||new Set},n.execute=function(e,n){for(var i,r=t(this.getForType(e));!(i=r()).done;){var s=i.value;try{n=s(n)}catch(e){}}return n},e}();e.exports=i},8670:function(e){"use strict";var t=function(){function e(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},t.getMaxAttempts=function(){return this.maxAttempts_},t.setMaxAttempts=function(e){this.maxAttempts_=e},t.getDelayFactor=function(){return this.delayFactor_},t.setDelayFactor=function(e){this.delayFactor_=e},t.getFuzzFactor=function(){return this.fuzzFactor_},t.setFuzzFactor=function(e){this.fuzzFactor_=e},t.getInitialDelay=function(){return this.initialDelay_},t.setInitialDelay=function(e){this.initialDelay_=e},t.createRetry=function(e){var t=void 0===e?{}:e,i=t.maxAttempts,r=t.delayFactor,s=t.fuzzFactor,o=t.initialDelay;return new n({maxAttempts:i||this.maxAttempts_,delayFactor:r||this.delayFactor_,fuzzFactor:s||this.fuzzFactor_,initialDelay:o||this.initialDelay_})},e}(),n=function(){function e(e){this.maxAttempts_=e.maxAttempts,this.delayFactor_=e.delayFactor,this.fuzzFactor_=e.fuzzFactor,this.currentDelay_=e.initialDelay,this.currentAttempt_=1}var t=e.prototype;return t.moveToNextAttempt=function(){this.currentAttempt_++;var e=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+e},t.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},t.getCurrentDelay=function(){return this.currentDelay_},t.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},t.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},t.getCurrentFuzzedDelay=function(){var e=this.getCurrentMinPossibleDelay(),t=this.getCurrentMaxPossibleDelay();return e+Math.random()*(t-e)},e}();e.exports=t},4582:function(e,t){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var i=n({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},t.freeze=n,t.MIME_TYPE=i,t.NAMESPACE=r},5752:function(e,t,n){var i=n(4582),r=n(4722),s=n(6559),o=n(4466),a=r.DOMImplementation,l=i.NAMESPACE,u=o.ParseError,c=o.XMLReader;function A(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function h(){this.cdata=!1}function p(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function f(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,i=new c,r=n.domBuilder||new h,o=n.errorHandler,a=n.locator,u=n.xmlns||{},d=/\/x?html?$/.test(t),p=d?s.HTML_ENTITIES:s.XML_ENTITIES;a&&r.setDocumentLocator(a),i.errorHandler=function(e,t,n){if(!e){if(t instanceof h)return t;e=t}var i={},r=e instanceof Function;function s(t){var s=e[t];!s&&r&&(s=2==e.length?function(n){e(t,n)}:e),i[t]=s&&function(e){s("[xmldom "+t+"]\t"+e+function(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),i}(o,r,a),i.domBuilder=n.domBuilder||r,d&&(u[""]=l.HTML),u.xml=u.xml||l.XML;var f=n.normalizeLineEndings||A;return e&&"string"==typeof e?i.parse(f(e),u,p):i.errorHandler.error("invalid doc source"),r.doc},h.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,s=r.createElementNS(e,n||t),o=i.length;g(this,s),this.currentElement=s,this.locator&&p(this.locator,s);for(var a=0;a<o;a++){e=i.getURI(a);var l=i.getValue(a),u=(n=i.getQName(a),r.createAttributeNS(e,n));this.locator&&p(i.getLocator(a),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&p(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=f.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&p(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=f.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&p(this.locator,i),g(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&p(this.locator,r),g(this,r),this.doc.doctype=r}},warning:function(e){},error:function(e){},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){h.prototype[e]=function(){return null}})),t.DOMParser=d},4722:function(e,t,n){var i=n(4582),r=i.find,s=i.NAMESPACE;function o(e){return""!==e}function a(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(o):[]}(e);return Object.keys(t.reduce(a,{}))}function u(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function c(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,u(n,i=new i),e.prototype=n=i}n.constructor!=e&&(n.constructor=e)}var A={},d=A.ELEMENT_NODE=1,h=A.ATTRIBUTE_NODE=2,p=A.TEXT_NODE=3,f=A.CDATA_SECTION_NODE=4,g=A.ENTITY_REFERENCE_NODE=5,m=A.ENTITY_NODE=6,v=A.PROCESSING_INSTRUCTION_NODE=7,y=A.COMMENT_NODE=8,b=A.DOCUMENT_NODE=9,w=A.DOCUMENT_TYPE_NODE=10,C=A.DOCUMENT_FRAGMENT_NODE=11,x=A.NOTATION_NODE=12,B={},S={},_=(B.INDEX_SIZE_ERR=(S[1]="Index size error",1),B.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2),B.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3)),k=(B.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),B.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),B.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),B.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7),B.NOT_FOUND_ERR=(S[8]="Not found",8)),T=(B.NOT_SUPPORTED_ERR=(S[9]="Not supported",9),B.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10));B.INVALID_STATE_ERR=(S[11]="Invalid state",11),B.SYNTAX_ERR=(S[12]="Syntax error",12),B.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),B.NAMESPACE_ERR=(S[14]="Invalid namespace",14),B.INVALID_ACCESS_ERR=(S[15]="Invalid access",15);function E(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,S[e]),this.message=S[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return n.code=e,t&&(this.message=this.message+": "+t),n}function I(){}function U(e,t){this._node=e,this._refresh=t,F(this)}function F(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(ye(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var i=n.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];u(n,e),e._inc=t}}function D(){}function L(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function O(e,t,n,i){if(i?t[L(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&H(r,e,i),function(e,t,n){e&&e._inc++;var i=n.namespaceURI;i===s.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}}function N(e,t,n){var i=L(t,n);if(!(i>=0))throw new E(k,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var s=e.ownerDocument;s&&(H(s,e,n),n.ownerElement=null)}}function M(){}function j(){}function R(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function Q(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(Q(e,t))return!0}while(e=e.nextSibling)}function P(){this.ownerDocument=this}function H(e,t,n,i){e&&e._inc++,n.namespaceURI===s.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function q(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function V(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,q(e.ownerDocument,e),t}function z(e){return e&&e.nodeType===j.DOCUMENT_TYPE_NODE}function K(e){return e&&e.nodeType===j.ELEMENT_NODE}function G(e){return e&&e.nodeType===j.TEXT_NODE}function W(e,t){var n=e.childNodes||[];if(r(n,K)||z(t))return!1;var i=r(n,z);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function $(e,t){var n=e.childNodes||[];if(r(n,(function(e){return K(e)&&e!==t})))return!1;var i=r(n,z);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function X(e,t,n){if(!function(e){return e&&(e.nodeType===j.DOCUMENT_NODE||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.ELEMENT_NODE)}(e))throw new E(_,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new E(k,"child not in parent");if(!function(e){return e&&(K(e)||G(e)||z(e)||e.nodeType===j.DOCUMENT_FRAGMENT_NODE||e.nodeType===j.COMMENT_NODE||e.nodeType===j.PROCESSING_INSTRUCTION_NODE)}(t)||z(t)&&e.nodeType!==j.DOCUMENT_NODE)throw new E(_,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function Y(e,t,n){var i=e.childNodes||[],s=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var o=s.filter(K);if(o.length>1||r(s,G))throw new E(_,"More than one element or text in fragment");if(1===o.length&&!W(e,n))throw new E(_,"Element in fragment can not be inserted before doctype")}if(K(t)&&!W(e,n))throw new E(_,"Only one element can be added and only after doctype");if(z(t)){if(r(i,z))throw new E(_,"Only one doctype is allowed");var a=r(i,K);if(n&&i.indexOf(a)<i.indexOf(n))throw new E(_,"Doctype can only be inserted before an element");if(!n&&a)throw new E(_,"Doctype can not be appended since element is present")}}function J(e,t,n){var i=e.childNodes||[],s=t.childNodes||[];if(t.nodeType===j.DOCUMENT_FRAGMENT_NODE){var o=s.filter(K);if(o.length>1||r(s,G))throw new E(_,"More than one element or text in fragment");if(1===o.length&&!$(e,n))throw new E(_,"Element in fragment can not be inserted before doctype")}if(K(t)&&!$(e,n))throw new E(_,"Only one element can be added and only after doctype");if(z(t)){if(r(i,(function(e){return z(e)&&e!==n})))throw new E(_,"Only one doctype is allowed");var a=r(i,K);if(n&&i.indexOf(a)<i.indexOf(n))throw new E(_,"Doctype can only be inserted before an element")}}function Z(e,t,n,i){X(e,t,n),e.nodeType===j.DOCUMENT_NODE&&(i||Y)(e,t,n);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===C){var s=t.firstChild;if(null==s)return t;var o=t.lastChild}else s=o=t;var a=n?n.previousSibling:e.lastChild;s.previousSibling=a,o.nextSibling=n,a?a.nextSibling=s:e.firstChild=s,null==n?e.lastChild=o:n.previousSibling=o;do{s.parentNode=e}while(s!==o&&(s=s.nextSibling));return q(e.ownerDocument||e,e),t.nodeType==C&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function ne(){}function ie(){}function re(){}function se(){}function oe(){}function ae(){}function le(){}function ue(){}function ce(){}function Ae(){}function de(){}function he(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&null==r&&null==(r=i.lookupPrefix(s)))var o=[{namespace:s,prefix:null}];return ge(this,n,e,t,o),n.join("")}function pe(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===i&&r===s.XML||r===s.XMLNS)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix===i)return a.namespace!==r}return!0}function fe(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,R),'"')}function ge(e,t,n,i,r){if(r||(r=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case d:var o=e.attributes,a=o.length,l=e.firstChild,u=e.tagName,c=u;if(!(n=s.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var A,m=0;m<o.length;m++)if("xmlns"===o.item(m).name){A=o.item(m).value;break}if(!A)for(var x=r.length-1;x>=0;x--){if(""===(B=r[x]).prefix&&B.namespace===e.namespaceURI){A=B.namespace;break}}if(A!==e.namespaceURI)for(x=r.length-1;x>=0;x--){var B;if((B=r[x]).namespace===e.namespaceURI){B.prefix&&(c=B.prefix+":"+u);break}}}t.push("<",c);for(var S=0;S<a;S++){"xmlns"==(_=o.item(S)).prefix?r.push({prefix:_.localName,namespace:_.value}):"xmlns"==_.nodeName&&r.push({prefix:"",namespace:_.value})}for(S=0;S<a;S++){var _,k,T;if(pe(_=o.item(S),0,r))fe(t,(k=_.prefix||"")?"xmlns:"+k:"xmlns",T=_.namespaceURI),r.push({prefix:k,namespace:T});ge(_,t,n,i,r)}if(u===c&&pe(e,0,r))fe(t,(k=e.prefix||"")?"xmlns:"+k:"xmlns",T=e.namespaceURI),r.push({prefix:k,namespace:T});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),n&&/^script$/i.test(u))for(;l;)l.data?t.push(l.data):ge(l,t,n,i,r.slice()),l=l.nextSibling;else for(;l;)ge(l,t,n,i,r.slice()),l=l.nextSibling;t.push("</",c,">")}else t.push("/>");return;case b:case C:for(l=e.firstChild;l;)ge(l,t,n,i,r.slice()),l=l.nextSibling;return;case h:return fe(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&>]/g,R));case f:return t.push("<![CDATA[",e.data,"]]>");case y:return t.push("\x3c!--",e.data,"--\x3e");case w:var E=e.publicId,I=e.systemId;if(t.push("<!DOCTYPE ",e.name),E)t.push(" PUBLIC ",E),I&&"."!=I&&t.push(" ",I),t.push(">");else if(I&&"."!=I)t.push(" SYSTEM ",I,">");else{var U=e.internalSubset;U&&t.push(" [",U,"]"),t.push(">")}return;case v:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function me(e,t,n){var i;switch(t.nodeType){case d:(i=t.cloneNode(!1)).ownerDocument=e;case C:break;case h:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(me(e,r,n)),r=r.nextSibling;return i}function ve(e,t,n){var i=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t[r];"object"!=typeof s&&s!=i[r]&&(i[r]=s)}switch(t.childNodes&&(i.childNodes=new I),i.ownerDocument=e,i.nodeType){case d:var o=t.attributes,a=i.attributes=new D,l=o.length;a._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(ve(e,o.item(u),!0));break;case h:n=!0}if(n)for(var c=t.firstChild;c;)i.appendChild(ve(e,c,n)),c=c.nextSibling;return i}function ye(e,t,n){e[t]=n}E.prototype=Error.prototype,u(B,E),I.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)ge(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},U.prototype.item=function(e){return F(this),this[e]||null},c(U,I),D.prototype={length:0,item:I.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(T);var n=this.getNamedItem(e.nodeName);return O(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new E(T);return t=this.getNamedItemNS(e.namespaceURI,e.localName),O(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return N(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return N(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},M.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new P;if(i.implementation=this,i.childNodes=new I,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new oe;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Z(this,e,t)},replaceChild:function(e,t){Z(this,e,t,J),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ve(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},u(A,j),u(A,j.prototype),P.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==C){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return Z(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===d&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},replaceChild:function(e,t){Z(this,e,t,J),e.ownerDocument=this,t&&this.removeChild(t),K(e)&&(this.documentElement=e)},importNode:function(e,t){return me(this,e,t)},getElementById:function(e){var t=null;return Q(this.documentElement,(function(n){if(n.nodeType==d&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=l(e);return new U(this,(function(n){var i=[];return t.length>0&&Q(n.documentElement,(function(r){if(r!==n&&r.nodeType===d){var s=r.getAttribute("class");if(s){var o=e===s;if(!o){var a=l(s);o=t.every((u=a,function(e){return u&&-1!==u.indexOf(e)}))}o&&i.push(r)}}var u})),i}))},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new I,(t.attributes=new D)._ownerElement=t,t},createDocumentFragment:function(){var e=new ce;return e.ownerDocument=this,e.childNodes=new I,e},createTextNode:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new se;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Ae;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ue;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ee,i=t.split(":"),r=n.attributes=new D;return n.childNodes=new I,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new te,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},c(P,j),ee.prototype={nodeType:d,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===C?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,q(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new U(this,(function(t){var n=[];return Q(t,(function(i){i===t||i.nodeType!=d||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new U(this,(function(n){var i=[];return Q(n,(function(r){r===n||r.nodeType!==d||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},P.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,P.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,c(ee,j),te.prototype.nodeType=h,c(te,j),ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(S[_])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},c(ne,j),ie.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},c(ie,ne),re.prototype={nodeName:"#comment",nodeType:y},c(re,ne),se.prototype={nodeName:"#cdata-section",nodeType:f},c(se,ne),oe.prototype.nodeType=w,c(oe,j),ae.prototype.nodeType=x,c(ae,j),le.prototype.nodeType=m,c(le,j),ue.prototype.nodeType=g,c(ue,j),ce.prototype.nodeName="#document-fragment",ce.prototype.nodeType=C,c(ce,j),Ae.prototype.nodeType=v,c(Ae,j),de.prototype.serializeToString=function(e,t,n){return he.call(e,t,n)},j.prototype.toString=he;try{if(Object.defineProperty){function be(e){switch(e.nodeType){case d:case C:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(be(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(U.prototype,"length",{get:function(){return F(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case d:case C:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ye=function(e,t,n){e["$$"+t]=n}}}catch(we){}t.DocumentType=oe,t.DOMException=E,t.DOMImplementation=M,t.Element=ee,t.Node=j,t.NodeList=I,t.XMLSerializer=de},6559:function(e,t,n){"use strict";var i=n(4582).freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES},8978:function(e,t,n){var i=n(4722);i.DOMImplementation,i.XMLSerializer,t.DOMParser=n(5752).DOMParser},4466:function(e,t,n){var i=n(4582).NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,s=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+r.source+s.source+"*(?::"+r.source+s.source+"*)?$");function a(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function l(){}function u(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n,r,s,o){function a(e,t,i){n.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),i)}for(var l,u=++t,c=0;;){var A=e.charAt(u);switch(A){case"=":if(1===c)l=e.slice(t,u),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),l=e.slice(t,u)),t=u+1,!((u=e.indexOf(A,t))>0))throw new Error("attribute value no end '"+A+"' match");a(l,d=e.slice(t,u),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');a(l,d=e.slice(t,u),t),o.warning('attribute "'+l+'" missed start quot('+A+")!!"),t=u+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,u)),u;case">":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,u)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===c&&(d=l),4==c?(o.warning('attribute "'+d+'" missed quot(")!'),a(l,d,t)):(i.isHTML(r[""])&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),a(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return u;case"":A=" ";default:if(A<=" ")switch(c){case 0:n.setTagName(e.slice(t,u)),c=6;break;case 1:l=e.slice(t,u),c=2;break;case 4:var d=e.slice(t,u);o.warning('attribute "'+d+'" missed quot(")!!'),a(l,d,t);case 5:c=6}else switch(c){case 2:n.tagName;i.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,t),t=u,c=1;break;case 5:o.warning('attribute space is required"'+l+'"!!');case 6:c=1,t=u;break;case 3:c=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function A(e,t,n){for(var r=e.tagName,s=null,o=e.length;o--;){var a=e[o],l=a.qName,u=a.value;if((h=l.indexOf(":"))>0)var c=a.prefix=l.slice(0,h),A=l.slice(h+1),d="xmlns"===c&&A;else A=l,c=null,d="xmlns"===l&&"";a.localName=A,!1!==d&&(null==s&&(s={},p(n,n={})),n[d]=s[d]=u,a.uri=i.XMLNS,t.startPrefixMapping(d,u))}for(o=e.length;o--;){(c=(a=e[o]).prefix)&&("xml"===c&&(a.uri=i.XML),"xmlns"!==c&&(a.uri=n[c||""]))}var h;(h=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,h),A=e.localName=r.slice(h+1)):(c=null,A=e.localName=r);var f=e.uri=n[c||""];if(t.startElement(f,A,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=s,!0;if(t.endElement(f,A,r),s)for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&t.endPrefixMapping(c)}function d(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var s=e.indexOf("</"+n+">",t),o=e.substring(t+1,s);if(/[&<]/.test(o))return/^script$/i.test(n)?(r.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,i),r.characters(o,0,o.length),s)}return t+1}function h(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function p(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function f(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var s=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var a=s[1][0],l=!1,u=!1;o>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],u=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(u=s[3][0]));var c=s[o-1];return n.startDTD(a,l,u),n.endDTD(),c.index+c[0].length}return-1}function g(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function m(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,l.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(e,t,n,r,s){function o(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function l(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(s.error("entity not found:"+e),e)}function p(t){if(t>S){var n=e.substring(S,t).replace(/&#?\w+;/g,l);C&&v(S),r.characters(n,0,t-S),S=t}}function v(t,n){for(;t>=b&&(n=w.exec(e));)y=n.index,b=y+n[0].length,C.lineNumber++;C.columnNumber=t-y+1}var y=0,b=0,w=/.*(?:\r\n?|\n)|.*$/g,C=r.locator,x=[{currentNSMap:t}],B={},S=0;for(;;){try{var _=e.indexOf("<",S);if(_<0){if(!e.substr(S).match(/^\s*$/)){var k=r.doc,T=k.createTextNode(e.substr(S));k.appendChild(T),r.currentElement=T}return}switch(_>S&&p(_),e.charAt(_+1)){case"/":var E=e.indexOf(">",_+3),I=e.substring(_+2,E).replace(/[ \t\n\r]+$/g,""),U=x.pop();E<0?(I=e.substring(_+2).replace(/[\s<].*/,""),s.error("end tag name: "+I+" is not complete:"+U.tagName),E=_+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),s.error("end tag name: "+I+" maybe not complete"),E=_+1+I.length);var F=U.localNSMap,D=U.tagName==I;if(D||U.tagName&&U.tagName.toLowerCase()==I.toLowerCase()){if(r.endElement(U.uri,U.localName,I),F)for(var L in F)Object.prototype.hasOwnProperty.call(F,L)&&r.endPrefixMapping(L);D||s.fatalError("end tag name: "+I+" is not match the current start tagName:"+U.tagName)}else x.push(U);E++;break;case"?":C&&v(_),E=g(e,_,r);break;case"!":C&&v(_),E=f(e,_,r,s);break;default:C&&v(_);var O=new m,N=x[x.length-1].currentNSMap,M=(E=c(e,_,O,N,l,s),O.length);if(!O.closed&&h(e,E,O.tagName,B)&&(O.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),C&&M){for(var j=u(C,{}),R=0;R<M;R++){var Q=O[R];v(Q.offset),Q.locator=u(C,{})}r.locator=j,A(O,r,N)&&x.push(O),r.locator=C}else A(O,r,N)&&x.push(O);i.isHTML(O.uri)&&!O.closed?E=d(e,E,O.tagName,l,r):E++}}catch(e){if(e instanceof a)throw e;s.error("element parse error: "+e),E=-1}E>S?S=E:p(Math.max(_,S)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},m.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=a},9752:function(e,t,n){"use strict";var i=n(1601),r=n.n(i),s=n(6314),o=n.n(s)()(r());o.push([e.id,".multi-range-slider * {\r\n\tbox-sizing: border-box;\r\n\tpadding: 0px;\r\n\tmargin: 0px;\r\n}\r\n.multi-range-slider {\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tborder: solid 1px gray;\r\n\tborder-radius: 10px;\r\n\tpadding: 20px 10px;\r\n\tbox-shadow: 1px 1px 4px black;\r\n\tflex-direction: column;\r\n\t-webkit-touch-callout: none; /* iOS Safari */\r\n\t-webkit-user-select: none; /* Safari */\r\n\t-khtml-user-select: none; /* Konqueror HTML */\r\n\t-moz-user-select: none; /* Old versions of Firefox */\r\n\t-ms-user-select: none; /* Internet Explorer/Edge */\r\n\tuser-select: none; /* Non-prefixed version, currently supported by Chrome, Edge,*/\r\n}\r\n.multi-range-slider .bar {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider .bar-left {\r\n\twidth: 25%;\r\n\tbackground-color: #f0f0f0;\r\n\tborder-radius: 10px 0px 0px 10px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n\tpadding: 4px 0px;\r\n}\r\n.multi-range-slider .bar-right {\r\n\twidth: 25%;\r\n\tbackground-color: #f0f0f0;\r\n\tborder-radius: 0px 10px 10px 0px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n}\r\n.multi-range-slider .bar-inner {\r\n\tbackground-color: lime;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tjustify-content: space-between;\r\n\tposition: relative;\r\n\tborder: solid 1px black;\r\n\tjustify-content: space-between;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n}\r\n.multi-range-slider .bar-inner-left {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider .bar-inner-right {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider .thumb {\r\n\tbackground-color: white;\r\n\tposition: relative;\r\n\tz-index: 1;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider .thumb::before {\r\n\tcontent: '';\r\n\tbackground-color: inherit;\r\n\tposition: absolute;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tborder: solid 1px black;\r\n\tbox-shadow: 0px 0px 3px black, inset 0px 0px 5px gray;\r\n\tborder-radius: 50%;\r\n\tz-index: 1;\r\n\tmargin: -8px -12px;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider .input-type-range:focus + .thumb::after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -4px;\r\n\tleft: -7px;\r\n\twidth: 11px;\r\n\theight: 11px;\r\n\tz-index: 2;\r\n\tborder-radius: 50%;\r\n\tborder: dotted 1px black;\r\n\tbox-shadow: 0px 0px 5px white, inset 0px 0px 10px black;\r\n}\r\n.multi-range-slider .caption {\r\n\tposition: absolute;\r\n\tbottom: 35px;\r\n\twidth: 2px;\r\n\theight: 2px;\r\n\tleft: 1px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\toverflow: visible;\r\n\tdisplay: none;\r\n}\r\n.multi-range-slider .thumb .caption * {\r\n\tposition: absolute;\r\n\tmin-width: 30px;\r\n\theight: 30px;\r\n\tfont-size: 75%;\r\n\ttext-align: center;\r\n\tline-height: 30px;\r\n\tbackground-color: blue;\r\n\tborder-radius: 15px;\r\n\tcolor: white;\r\n\tbox-shadow: 0px 0px 5px black;\r\n\tpadding: 0px 5px;\r\n\twhite-space: nowrap;\r\n}\r\n.multi-range-slider .thumb:active .caption {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider .input-type-range:focus + .thumb .caption {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider .input-type-range {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\twidth: 100%;\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n}\r\n\r\n.multi-range-slider .ruler {\r\n\tmargin: 10px 0px -5px 0px;\r\n\tdisplay: flex;\r\n\t/* display: none; */\r\n\toverflow: hidden;\r\n}\r\n.multi-range-slider .ruler .ruler-rule {\r\n\tborder-left: solid 1px;\r\n\tborder-bottom: solid 1px;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tpadding: 5px 0px;\r\n}\r\n.multi-range-slider .ruler .ruler-rule:last-child {\r\n\tborder-right: solid 1px;\r\n}\r\n\r\n.multi-range-slider .ruler .ruler-sub-rule {\r\n\tborder-left: solid 1px;\r\n\t/* border-bottom: solid 1px; */\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tpadding: 3px 0px;\r\n\tbottom: 0px;\r\n\tmargin-bottom: -5px;\r\n}\r\n.multi-range-slider .ruler .ruler-sub-rule:first-child {\r\n\tborder-left: none;\r\n}\r\n\r\n.multi-range-slider .labels {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 0px;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: -20px;\r\n\t/* display: none; */\r\n}\r\n.multi-range-slider .label {\r\n\tfont-size: 80%;\r\n\tdisplay: flex;\r\n\twidth: 1px;\r\n\tjustify-content: center;\r\n}\r\n.multi-range-slider .label:first-child {\r\n\tjustify-content: start;\r\n}\r\n.multi-range-slider .label:last-child {\r\n\tjustify-content: end;\r\n}\r\n.multi-range-slider.zero-ranage-margin .thumb-left {\r\n\tright: 12px;\r\n}\r\n.multi-range-slider.zero-ranage-margin .thumb-right {\r\n\tleft: 8px;\r\n}\r\n\r\n\r\n/* Disabled */\r\n.multi-range-slider.disabled {\r\n\tborder: solid 1px rgb(200, 200, 200);\r\n\tbox-shadow: 1px 1px 4px rgb(180, 180, 180);\r\n\tcolor:rgb(180, 180, 180);\r\n}\r\n.multi-range-slider .bar {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider.disabled .bar-left {\r\n\tbackground-color: #c9c9c9;\r\n\tbox-shadow: inset 0px 0px 5px rgb(160, 160, 160);\r\n}\r\n.multi-range-slider.disabled .bar-right {\r\n\tbackground-color: #c9c9c9;\r\n\tbox-shadow: inset 0px 0px 5px rgb(160, 160, 160);\r\n}\r\n.multi-range-slider.disabled .bar-inner {\r\n\tbackground-color: rgb(130 243 130);\r\n\tborder: solid 1px rgb(149, 149, 149);\r\n\tbox-shadow: inset 0px 0px 5px rgb(103, 103, 103);\r\n}\r\n.multi-range-slider.disabled .thumb {\r\n\tbackground-color: white;\r\n}\r\n.multi-range-slider.disabled .thumb::before {\r\n\tborder: solid 1px rgb(200, 200, 200);\r\n\tbox-shadow: 0px 0px 3px rgb(35, 35, 35), inset 0px 0px 5px gray;\r\n}\r\n.multi-range-slider.disabled .input-type-range:focus + .thumb::after {\r\n\tborder: dotted 1px rgb(35, 35, 35);\r\n\tbox-shadow: 0px 0px 5px white, inset 0px 0px 10px rgb(35, 35, 35);\r\n}\r\n.multi-range-slider.disabled .thumb .caption * {\r\n\tbackground-color: rgb(84, 84, 137);\r\n\tcolor: rgb(199, 199, 199);\r\n\tbox-shadow: 0px 0px 5px rgb(35, 35, 35);\r\n}\r\n\r\n\r\n",""]),t.A=o},547:function(e,t,n){"use strict";var i=n(1601),r=n.n(i),s=n(6314),o=n.n(s)()(r());o.push([e.id,".multi-range-slider-black * {\r\n\tbox-sizing: border-box;\r\n\tpadding: 0px;\r\n\tmargin: 0px;\r\n}\r\n.multi-range-slider-black {\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tbackground-color: black;\r\n\tborder: solid 1px gray;\r\n\tpadding: 30px 10px 25px 10px;\r\n\tflex-direction: column;\r\n\tcolor: white;\r\n\t-webkit-touch-callout: none; /* iOS Safari*/\r\n\t-webkit-user-select: none; /* Safari */\r\n\t-khtml-user-select: none; /* Konqueror HTML */\r\n\t-moz-user-select: none; /* Old versions of Firefox */\r\n\t-ms-user-select: none; /* Internet Explorer/Edge */\r\n\tuser-select: none; /* Non-prefixed version, currently supported by Chrome, Edge,*/\r\n}\r\n.multi-range-slider-black .bar {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider-black .bar.active * {\r\n\ttransition: none;\r\n}\r\n.multi-range-slider-black .bar-left {\r\n\twidth: 25%;\r\n\tbackground-color: gray;\r\n\tborder-radius: 10px 0px 0px 10px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n\tborder: solid 1px black;\r\n\tpadding: 5px 0px;\r\n}\r\n.multi-range-slider-black .bar-right {\r\n\twidth: 25%;\r\n\tbackground-color: gray;\r\n\tborder-radius: 0px 10px 10px 0px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n\tborder: solid 1px black;\r\n}\r\n.multi-range-slider-black .bar-inner {\r\n\tbackground-color: lime;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tjustify-content: space-between;\r\n\tposition: relative;\r\n\tborder: solid 1px black;\r\n\tjustify-content: space-between;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n}\r\n.multi-range-slider-black .bar-inner-left {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider-black .bar-inner-right {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider-black .thumb {\r\n\tbackground-color: white;\r\n\tposition: relative;\r\n\tz-index: 1;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider-black .thumb::before {\r\n\tcontent: '';\r\n\tbackground-color: inherit;\r\n\tposition: absolute;\r\n\twidth: 20px;\r\n\theight: 30px;\r\n\tborder: solid 1px black;\r\n\tbox-shadow: 0px 0px 5px black, inset 0px 0px 10px gray;\r\n\tborder-radius: 7px;\r\n\tz-index: 1;\r\n\tmargin: -10px -12px;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider-black .input-type-range:focus + .thumb::after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -6px;\r\n\tleft: -8px;\r\n\twidth: 12px;\r\n\theight: 22px;\r\n\tz-index: 2;\r\n\tborder-radius: 7px;\r\n\tborder: dotted 1px black;\r\n\tbox-shadow: 0px 0px 5px white, inset 0px 0px 10px black;\r\n}\r\n.multi-range-slider-black .caption {\r\n\tposition: absolute;\r\n\tbottom: 45px;\r\n\twidth: 2px;\r\n\theight: 2px;\r\n\tleft: 1px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\toverflow: visible;\r\n\t/* display: none; */\r\n}\r\n.multi-range-slider-black .thumb .caption * {\r\n\tposition: absolute;\r\n\tmin-width: 30px;\r\n\theight: 30px;\r\n\tfont-size: 75%;\r\n\ttext-align: center;\r\n\tline-height: 30px;\r\n\tbackground-color: blue;\r\n\tborder-radius: 15px;\r\n\tcolor: white;\r\n\tbox-shadow: 0px 0px 5px black;\r\n\tpadding: 0px 5px;\r\n\twhite-space: nowrap;\r\n}\r\n.multi-range-slider-black .thumb:active .caption {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider-black .input-type-range:focus + .thumb .caption {\r\n\tdisplay: flex;\r\n}\r\n\r\n.multi-range-slider-black .input-type-range {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\twidth: 100%;\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n}\r\n.multi-range-slider-black .ruler {\r\n\tmargin: 10px 0px -5px 0px;\r\n\tdisplay: flex;\r\n\toverflow: hidden;\r\n}\r\n.multi-range-slider-black .ruler .ruler-rule {\r\n\tborder-left: solid 1px;\r\n\tborder-bottom: solid 1px;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tpadding: 5px 0px;\r\n}\r\n.multi-range-slider-black .ruler .ruler-rule:last-child {\r\n\tborder-right: solid 1px;\r\n}\r\n\r\n.multi-range-slider-black .ruler .ruler-sub-rule {\r\n\tborder-left: solid 1px;\r\n\t/* border-bottom: solid 1px; */\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tpadding: 3px 0px;\r\n\tbottom: 0px;\r\n\tmargin-bottom: -5px;\r\n}\r\n.multi-range-slider-black .ruler .ruler-sub-rule:first-child {\r\n\tborder-left: none;\r\n}\r\n\r\n.multi-range-slider-black .labels {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 0px;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: -20px;\r\n\t/* display:none; */\r\n}\r\n.multi-range-slider-black .label {\r\n\tfont-size: 80%;\r\n}\r\n.multi-range-slider-black.zero-ranage-margin .thumb-left {\r\n\tright: 12px;\r\n}\r\n.multi-range-slider-black.zero-ranage-margin .thumb-right {\r\n\tleft: 8px;\r\n}\r\n",""]),t.A=o},537:function(e,t,n){"use strict";var i=n(1601),r=n.n(i),s=n(6314),o=n.n(s)()(r());o.push([e.id,"/*!\n * Quill Editor v2.0.2\n * https://quilljs.com\n * Copyright (c) 2017-2024, Slab\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked] > .ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked] > .ql-ui{cursor:pointer}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor > *{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{list-style-type:none;padding-left:1.5em;position:relative}.ql-editor li > .ql-ui:before{display:inline-block;margin-left:-1.5em;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li[data-list=checked] > .ql-ui,.ql-editor li[data-list=unchecked] > .ql-ui{color:#777}.ql-editor li[data-list=bullet] > .ql-ui:before{content:'\\2022'}.ql-editor li[data-list=checked] > .ql-ui:before{content:'\\2611'}.ql-editor li[data-list=unchecked] > .ql-ui:before{content:'\\2610'}@supports (counter-set:none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered] > .ql-ui:before{content:counter(list-0, decimal) '. '}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1 > .ql-ui:before{content:counter(list-1, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2 > .ql-ui:before{content:counter(list-2, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3 > .ql-ui:before{content:counter(list-3, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4 > .ql-ui:before{content:counter(list-4, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5 > .ql-ui:before{content:counter(list-5, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6 > .ql-ui:before{content:counter(list-6, decimal) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7 > .ql-ui:before{content:counter(list-7, lower-alpha) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8 > .ql-ui:before{content:counter(list-8, lower-roman) '. '}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9 > .ql-ui:before{content:counter(list-9, decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl > .ql-ui:before{margin-left:.3em;margin-right:-1.5em;text-align:left}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank::before{color:rgba(0,0,0,0.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:'';display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor .ql-code-block-container{margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor .ql-code-block-container{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label::before,.ql-snow .ql-picker.ql-header .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label::before,.ql-snow .ql-picker.ql-font .ql-picker-item::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label::before,.ql-snow .ql-picker.ql-size .ql-picker-item::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{right:5px;top:5px}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue','Helvetica','Arial',sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,0.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow + .ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\"Visit URL:\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\"Enter link:\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\"Enter formula:\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\"Enter video:\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}",""]),t.A=o},9096:function(e,t,n){"use strict";var i=n(1601),r=n.n(i),s=n(6314),o=n.n(s),a=n(4417),l=n.n(a),u=new URL(n(9790),n.b),c=o()(r()),A=l()(u);c.push([e.id,".replayer-wrapper{position:relative}.replayer-mouse{position:absolute;width:20px;height:20px;transition:left .05s linear,top .05s linear;background-size:contain;background-position:50%;background-repeat:no-repeat;background-image:url("+A+");border-color:transparent}.replayer-mouse:after{content:\"\";display:inline-block;width:20px;height:20px;background:#4950f6;border-radius:100%;transform:translate(-50%,-50%);opacity:.3}.replayer-mouse.active:after{animation:click .2s ease-in-out 1}.replayer-mouse.touch-device{background-image:none;width:70px;height:70px;border-radius:100%;margin-left:-37px;margin-top:-37px;border:4px solid rgba(73,80,246,0);transition:left 0s linear,top 0s linear,border-color .2s ease-in-out}.replayer-mouse.touch-device.touch-active{border-color:#4950f6;transition:left .25s linear,top .25s linear,border-color .2s ease-in-out}.replayer-mouse.touch-device:after{opacity:0}.replayer-mouse.touch-device.active:after{animation:touch-click .2s ease-in-out 1}.replayer-mouse-tail{position:absolute;pointer-events:none}@keyframes click{0%{opacity:.3;width:20px;height:20px}50%{opacity:.5;width:10px;height:10px}}@keyframes touch-click{0%{opacity:0;width:20px;height:20px}50%{opacity:.5;width:10px;height:10px}}.rr-player{position:relative;background:white;float:left;border-radius:5px;box-shadow:0 24px 48px rgba(17, 16, 62, 0.12)}.rr-player__frame{overflow:hidden}.replayer-wrapper{float:left;clear:both;transform-origin:top left;left:50%;top:50%}.replayer-wrapper>iframe{border:none}.rr-controller.svelte-19ke1iv.svelte-19ke1iv{width:100%;height:80px;background:#fff;display:flex;flex-direction:column;justify-content:space-around;align-items:center;border-radius:0 0 5px 5px}.rr-timeline.svelte-19ke1iv.svelte-19ke1iv{width:80%;display:flex;align-items:center}.rr-timeline__time.svelte-19ke1iv.svelte-19ke1iv{display:inline-block;width:100px;text-align:center;color:#11103e}.rr-progress.svelte-19ke1iv.svelte-19ke1iv{flex:1;height:12px;background:#eee;position:relative;border-radius:3px;cursor:pointer;box-sizing:border-box;border-top:solid 4px #fff;border-bottom:solid 4px #fff}.rr-progress.disabled.svelte-19ke1iv.svelte-19ke1iv{cursor:not-allowed}.rr-progress__step.svelte-19ke1iv.svelte-19ke1iv{height:100%;position:absolute;left:0;top:0;background:#e0e1fe}.rr-progress__handler.svelte-19ke1iv.svelte-19ke1iv{width:20px;height:20px;border-radius:10px;position:absolute;top:2px;transform:translate(-50%, -50%);background:rgb(73, 80, 246)}.rr-controller__btns.svelte-19ke1iv.svelte-19ke1iv{display:flex;align-items:center;justify-content:center;font-size:13px}.rr-controller__btns.svelte-19ke1iv button.svelte-19ke1iv{width:32px;height:32px;display:flex;padding:0;align-items:center;justify-content:center;background:none;border:none;border-radius:50%;cursor:pointer}.rr-controller__btns.svelte-19ke1iv button.svelte-19ke1iv:active{background:#e0e1fe}.rr-controller__btns.svelte-19ke1iv button.active.svelte-19ke1iv{color:#fff;background:rgb(73, 80, 246)}.rr-controller__btns.svelte-19ke1iv button.svelte-19ke1iv:disabled{cursor:not-allowed}.switch.svelte-9brlez.svelte-9brlez.svelte-9brlez{height:1em;display:flex;align-items:center}.switch.disabled.svelte-9brlez.svelte-9brlez.svelte-9brlez{opacity:0.5}.label.svelte-9brlez.svelte-9brlez.svelte-9brlez{margin:0 8px}.switch.svelte-9brlez input[type='checkbox'].svelte-9brlez.svelte-9brlez{position:absolute;opacity:0}.switch.svelte-9brlez label.svelte-9brlez.svelte-9brlez{width:2em;height:1em;position:relative;cursor:pointer;display:block}.switch.disabled.svelte-9brlez label.svelte-9brlez.svelte-9brlez{cursor:not-allowed}.switch.svelte-9brlez label.svelte-9brlez.svelte-9brlez:before{content:'';position:absolute;width:2em;height:1em;left:0.1em;transition:background 0.1s ease;background:rgba(73, 80, 246, 0.5);border-radius:50px}.switch.svelte-9brlez label.svelte-9brlez.svelte-9brlez:after{content:'';position:absolute;width:1em;height:1em;border-radius:50px;left:0;transition:all 0.2s ease;box-shadow:0px 2px 5px 0px rgba(0, 0, 0, 0.3);background:#fcfff4;animation:switch-off 0.2s ease-out;z-index:2}.switch.svelte-9brlez input[type='checkbox'].svelte-9brlez:checked+label.svelte-9brlez:before{background:rgb(73, 80, 246)}.switch.svelte-9brlez input[type='checkbox'].svelte-9brlez:checked+label.svelte-9brlez:after{animation:switch-on 0.2s ease-out;left:1.1em}",""]),t.A=c},3024:function(e,t,n){"use strict";var i=n(1601),r=n.n(i),s=n(6314),o=n.n(s),a=n(4417),l=n.n(a),u=new URL(n(7422),n.b),c=o()(r()),A=l()(u);c.push([e.id,".vjs-svg-icon {\n  display: inline-block;\n  background-repeat: no-repeat;\n  background-position: center;\n  fill: currentColor;\n  height: 1.8em;\n  width: 1.8em;\n}\n.vjs-svg-icon:before {\n  content: none !important;\n}\n\n.vjs-svg-icon:hover,\n.vjs-control:focus .vjs-svg-icon {\n  filter: drop-shadow(0 0 0.25em #fff);\n}\n\n.vjs-modal-dialog .vjs-modal-dialog-content, .video-js .vjs-modal-dialog, .vjs-button > .vjs-icon-placeholder:before, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vjs-button > .vjs-icon-placeholder:before, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  text-align: center;\n}\n\n@font-face {\n  font-family: VideoJS;\n  src: url("+A+') format("woff");\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-play, .video-js .vjs-play-control .vjs-icon-placeholder, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-play:before, .video-js .vjs-play-control .vjs-icon-placeholder:before, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  content: "\\f101";\n}\n\n.vjs-icon-play-circle {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-play-circle:before {\n  content: "\\f102";\n}\n\n.vjs-icon-pause, .video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-pause:before, .video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before {\n  content: "\\f103";\n}\n\n.vjs-icon-volume-mute, .video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-mute:before, .video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before {\n  content: "\\f104";\n}\n\n.vjs-icon-volume-low, .video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-low:before, .video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before {\n  content: "\\f105";\n}\n\n.vjs-icon-volume-mid, .video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-mid:before, .video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before {\n  content: "\\f106";\n}\n\n.vjs-icon-volume-high, .video-js .vjs-mute-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-high:before, .video-js .vjs-mute-control .vjs-icon-placeholder:before {\n  content: "\\f107";\n}\n\n.vjs-icon-fullscreen-enter, .video-js .vjs-fullscreen-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-fullscreen-enter:before, .video-js .vjs-fullscreen-control .vjs-icon-placeholder:before {\n  content: "\\f108";\n}\n\n.vjs-icon-fullscreen-exit, .video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-fullscreen-exit:before, .video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before {\n  content: "\\f109";\n}\n\n.vjs-icon-spinner {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-spinner:before {\n  content: "\\f10a";\n}\n\n.vjs-icon-subtitles, .video-js .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder, .video-js .vjs-subtitles-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-subtitles:before, .video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before, .video-js .vjs-subtitles-button .vjs-icon-placeholder:before {\n  content: "\\f10b";\n}\n\n.vjs-icon-captions, .video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder, .video-js .vjs-captions-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-captions:before, .video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before, .video-js .vjs-captions-button .vjs-icon-placeholder:before {\n  content: "\\f10c";\n}\n\n.vjs-icon-hd {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-hd:before {\n  content: "\\f10d";\n}\n\n.vjs-icon-chapters, .video-js .vjs-chapters-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-chapters:before, .video-js .vjs-chapters-button .vjs-icon-placeholder:before {\n  content: "\\f10e";\n}\n\n.vjs-icon-downloading {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-downloading:before {\n  content: "\\f10f";\n}\n\n.vjs-icon-file-download {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-file-download:before {\n  content: "\\f110";\n}\n\n.vjs-icon-file-download-done {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-file-download-done:before {\n  content: "\\f111";\n}\n\n.vjs-icon-file-download-off {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-file-download-off:before {\n  content: "\\f112";\n}\n\n.vjs-icon-share {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-share:before {\n  content: "\\f113";\n}\n\n.vjs-icon-cog {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-cog:before {\n  content: "\\f114";\n}\n\n.vjs-icon-square {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-square:before {\n  content: "\\f115";\n}\n\n.vjs-icon-circle, .vjs-seek-to-live-control .vjs-icon-placeholder, .video-js .vjs-volume-level, .video-js .vjs-play-progress {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-circle:before, .vjs-seek-to-live-control .vjs-icon-placeholder:before, .video-js .vjs-volume-level:before, .video-js .vjs-play-progress:before {\n  content: "\\f116";\n}\n\n.vjs-icon-circle-outline {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-circle-outline:before {\n  content: "\\f117";\n}\n\n.vjs-icon-circle-inner-circle {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-circle-inner-circle:before {\n  content: "\\f118";\n}\n\n.vjs-icon-cancel, .video-js .vjs-control.vjs-close-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-cancel:before, .video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before {\n  content: "\\f119";\n}\n\n.vjs-icon-repeat {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-repeat:before {\n  content: "\\f11a";\n}\n\n.vjs-icon-replay, .video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-replay:before, .video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before {\n  content: "\\f11b";\n}\n\n.vjs-icon-replay-5, .video-js .vjs-skip-backward-5 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-replay-5:before, .video-js .vjs-skip-backward-5 .vjs-icon-placeholder:before {\n  content: "\\f11c";\n}\n\n.vjs-icon-replay-10, .video-js .vjs-skip-backward-10 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-replay-10:before, .video-js .vjs-skip-backward-10 .vjs-icon-placeholder:before {\n  content: "\\f11d";\n}\n\n.vjs-icon-replay-30, .video-js .vjs-skip-backward-30 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-replay-30:before, .video-js .vjs-skip-backward-30 .vjs-icon-placeholder:before {\n  content: "\\f11e";\n}\n\n.vjs-icon-forward-5, .video-js .vjs-skip-forward-5 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-forward-5:before, .video-js .vjs-skip-forward-5 .vjs-icon-placeholder:before {\n  content: "\\f11f";\n}\n\n.vjs-icon-forward-10, .video-js .vjs-skip-forward-10 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-forward-10:before, .video-js .vjs-skip-forward-10 .vjs-icon-placeholder:before {\n  content: "\\f120";\n}\n\n.vjs-icon-forward-30, .video-js .vjs-skip-forward-30 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-forward-30:before, .video-js .vjs-skip-forward-30 .vjs-icon-placeholder:before {\n  content: "\\f121";\n}\n\n.vjs-icon-audio, .video-js .vjs-audio-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-audio:before, .video-js .vjs-audio-button .vjs-icon-placeholder:before {\n  content: "\\f122";\n}\n\n.vjs-icon-next-item {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-next-item:before {\n  content: "\\f123";\n}\n\n.vjs-icon-previous-item {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-previous-item:before {\n  content: "\\f124";\n}\n\n.vjs-icon-shuffle {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-shuffle:before {\n  content: "\\f125";\n}\n\n.vjs-icon-cast {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-cast:before {\n  content: "\\f126";\n}\n\n.vjs-icon-picture-in-picture-enter, .video-js .vjs-picture-in-picture-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-picture-in-picture-enter:before, .video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before {\n  content: "\\f127";\n}\n\n.vjs-icon-picture-in-picture-exit, .video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-picture-in-picture-exit:before, .video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before {\n  content: "\\f128";\n}\n\n.vjs-icon-facebook {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-facebook:before {\n  content: "\\f129";\n}\n\n.vjs-icon-linkedin {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-linkedin:before {\n  content: "\\f12a";\n}\n\n.vjs-icon-twitter {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-twitter:before {\n  content: "\\f12b";\n}\n\n.vjs-icon-tumblr {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-tumblr:before {\n  content: "\\f12c";\n}\n\n.vjs-icon-pinterest {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-pinterest:before {\n  content: "\\f12d";\n}\n\n.vjs-icon-audio-description, .video-js .vjs-descriptions-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-audio-description:before, .video-js .vjs-descriptions-button .vjs-icon-placeholder:before {\n  content: "\\f12e";\n}\n\n.video-js {\n  display: inline-block;\n  vertical-align: top;\n  box-sizing: border-box;\n  color: #fff;\n  background-color: #000;\n  position: relative;\n  padding: 0;\n  font-size: 10px;\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  font-family: Arial, Helvetica, sans-serif;\n  word-break: initial;\n}\n.video-js:-moz-full-screen {\n  position: absolute;\n}\n.video-js:-webkit-full-screen {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.video-js[tabindex="-1"] {\n  outline: none;\n}\n\n.video-js *,\n.video-js *:before,\n.video-js *:after {\n  box-sizing: inherit;\n}\n\n.video-js ul {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  list-style-position: outside;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.video-js.vjs-fluid,\n.video-js.vjs-16-9,\n.video-js.vjs-4-3,\n.video-js.vjs-9-16,\n.video-js.vjs-1-1 {\n  width: 100%;\n  max-width: 100%;\n}\n\n.video-js.vjs-fluid:not(.vjs-audio-only-mode),\n.video-js.vjs-16-9:not(.vjs-audio-only-mode),\n.video-js.vjs-4-3:not(.vjs-audio-only-mode),\n.video-js.vjs-9-16:not(.vjs-audio-only-mode),\n.video-js.vjs-1-1:not(.vjs-audio-only-mode) {\n  height: 0;\n}\n\n.video-js.vjs-16-9:not(.vjs-audio-only-mode) {\n  padding-top: 56.25%;\n}\n\n.video-js.vjs-4-3:not(.vjs-audio-only-mode) {\n  padding-top: 75%;\n}\n\n.video-js.vjs-9-16:not(.vjs-audio-only-mode) {\n  padding-top: 177.7777777778%;\n}\n\n.video-js.vjs-1-1:not(.vjs-audio-only-mode) {\n  padding-top: 100%;\n}\n\n.video-js.vjs-fill:not(.vjs-audio-only-mode) {\n  width: 100%;\n  height: 100%;\n}\n\n.video-js .vjs-tech {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.video-js.vjs-audio-only-mode .vjs-tech {\n  display: none;\n}\n\nbody.vjs-full-window,\nbody.vjs-pip-window {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n}\n\n.vjs-full-window .video-js.vjs-fullscreen,\nbody.vjs-pip-window .video-js {\n  position: fixed;\n  overflow: hidden;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.video-js.vjs-fullscreen:not(.vjs-ios-native-fs),\nbody.vjs-pip-window .video-js {\n  width: 100% !important;\n  height: 100% !important;\n  padding-top: 0 !important;\n  display: block;\n}\n\n.video-js.vjs-fullscreen.vjs-user-inactive {\n  cursor: none;\n}\n\n.vjs-pip-container .vjs-pip-text {\n  position: absolute;\n  bottom: 10%;\n  font-size: 2em;\n  background-color: rgba(0, 0, 0, 0.7);\n  padding: 0.5em;\n  text-align: center;\n  width: 100%;\n}\n\n.vjs-layout-tiny.vjs-pip-container .vjs-pip-text,\n.vjs-layout-x-small.vjs-pip-container .vjs-pip-text,\n.vjs-layout-small.vjs-pip-container .vjs-pip-text {\n  bottom: 0;\n  font-size: 1.4em;\n}\n\n.vjs-hidden {\n  display: none !important;\n}\n\n.vjs-disabled {\n  opacity: 0.5;\n  cursor: default;\n}\n\n.video-js .vjs-offscreen {\n  height: 1px;\n  left: -9999px;\n  position: absolute;\n  top: 0;\n  width: 1px;\n}\n\n.vjs-lock-showing {\n  display: block !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n.vjs-no-js {\n  padding: 20px;\n  color: #fff;\n  background-color: #000;\n  font-size: 18px;\n  font-family: Arial, Helvetica, sans-serif;\n  text-align: center;\n  width: 300px;\n  height: 150px;\n  margin: 0px auto;\n}\n\n.vjs-no-js a,\n.vjs-no-js a:visited {\n  color: #66A8CC;\n}\n\n.video-js .vjs-big-play-button {\n  font-size: 3em;\n  line-height: 1.5em;\n  height: 1.63332em;\n  width: 3em;\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  padding: 0;\n  margin-top: -0.81666em;\n  margin-left: -1.5em;\n  cursor: pointer;\n  opacity: 1;\n  border: 0.06666em solid #fff;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n  border-radius: 0.3em;\n  transition: all 0.4s;\n}\n.vjs-big-play-button .vjs-svg-icon {\n  width: 1em;\n  height: 1em;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  line-height: 1;\n  transform: translate(-50%, -50%);\n}\n\n.video-js:hover .vjs-big-play-button,\n.video-js .vjs-big-play-button:focus {\n  border-color: #fff;\n  background-color: rgb(114.9141509434, 132.7028301887, 159.3858490566);\n  background-color: rgba(114.9141509434, 132.7028301887, 159.3858490566, 0.5);\n  transition: all 0s;\n}\n\n.vjs-controls-disabled .vjs-big-play-button,\n.vjs-has-started .vjs-big-play-button,\n.vjs-using-native-controls .vjs-big-play-button,\n.vjs-error .vjs-big-play-button {\n  display: none;\n}\n\n.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause:not(.vjs-seeking, .vjs-scrubbing, .vjs-error) .vjs-big-play-button {\n  display: block;\n}\n\n.video-js button {\n  background: none;\n  border: none;\n  color: inherit;\n  display: inline-block;\n  font-size: inherit;\n  line-height: inherit;\n  text-transform: none;\n  text-decoration: none;\n  transition: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n}\n\n.video-js.vjs-spatial-navigation-enabled .vjs-button:focus {\n  outline: 0.0625em solid white;\n  box-shadow: none;\n}\n\n.vjs-control .vjs-button {\n  width: 100%;\n  height: 100%;\n}\n\n.video-js .vjs-control.vjs-close-button {\n  cursor: pointer;\n  height: 3em;\n  position: absolute;\n  right: 0;\n  top: 0.5em;\n  z-index: 2;\n}\n.video-js .vjs-modal-dialog {\n  background: rgba(0, 0, 0, 0.8);\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.8), rgba(255, 255, 255, 0));\n  overflow: auto;\n}\n\n.video-js .vjs-modal-dialog > * {\n  box-sizing: border-box;\n}\n\n.vjs-modal-dialog .vjs-modal-dialog-content {\n  font-size: 1.2em;\n  line-height: 1.5;\n  padding: 20px 24px;\n  z-index: 1;\n}\n\n.vjs-menu-button {\n  cursor: pointer;\n}\n\n.vjs-menu-button.vjs-disabled {\n  cursor: default;\n}\n\n.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu {\n  display: none;\n}\n\n.vjs-menu .vjs-menu-content {\n  display: block;\n  padding: 0;\n  margin: 0;\n  font-family: Arial, Helvetica, sans-serif;\n  overflow: auto;\n}\n\n.vjs-menu .vjs-menu-content > * {\n  box-sizing: border-box;\n}\n\n.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu {\n  display: none;\n}\n\n.vjs-menu li {\n  display: flex;\n  justify-content: center;\n  list-style: none;\n  margin: 0;\n  padding: 0.2em 0;\n  line-height: 1.4em;\n  font-size: 1.2em;\n  text-align: center;\n  text-transform: lowercase;\n}\n\n.vjs-menu li.vjs-menu-item:focus,\n.vjs-menu li.vjs-menu-item:hover,\n.js-focus-visible .vjs-menu li.vjs-menu-item:hover {\n  background-color: rgb(114.9141509434, 132.7028301887, 159.3858490566);\n  background-color: rgba(114.9141509434, 132.7028301887, 159.3858490566, 0.5);\n}\n\n.vjs-menu li.vjs-selected,\n.vjs-menu li.vjs-selected:focus,\n.vjs-menu li.vjs-selected:hover,\n.js-focus-visible .vjs-menu li.vjs-selected:hover {\n  background-color: #fff;\n  color: #2B333F;\n}\n.vjs-menu li.vjs-selected .vjs-svg-icon,\n.vjs-menu li.vjs-selected:focus .vjs-svg-icon,\n.vjs-menu li.vjs-selected:hover .vjs-svg-icon,\n.js-focus-visible .vjs-menu li.vjs-selected:hover .vjs-svg-icon {\n  fill: #000000;\n}\n\n.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),\n.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible) {\n  background: none;\n}\n\n.vjs-menu li.vjs-menu-title {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0;\n  margin: 0 0 0.3em 0;\n  font-weight: bold;\n  cursor: default;\n}\n\n.vjs-menu-button-popup .vjs-menu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 10em;\n  left: -3em;\n  height: 0em;\n  margin-bottom: 1.5em;\n  border-top-color: rgba(43, 51, 63, 0.7);\n}\n\n.vjs-pip-window .vjs-menu-button-popup .vjs-menu {\n  left: unset;\n  right: 1em;\n}\n\n.vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n  position: absolute;\n  width: 100%;\n  bottom: 1.5em;\n  max-height: 15em;\n}\n\n.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 5em;\n}\n\n.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 10em;\n}\n\n.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 14em;\n}\n\n.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 25em;\n}\n\n.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,\n.vjs-menu-button-popup .vjs-menu.vjs-lock-showing {\n  display: block;\n}\n\n.video-js .vjs-menu-button-inline {\n  transition: all 0.4s;\n  overflow: hidden;\n}\n\n.video-js .vjs-menu-button-inline:before {\n  width: 2.222222222em;\n}\n\n.video-js .vjs-menu-button-inline:hover,\n.video-js .vjs-menu-button-inline:focus,\n.video-js .vjs-menu-button-inline.vjs-slider-active {\n  width: 12em;\n}\n\n.vjs-menu-button-inline .vjs-menu {\n  opacity: 0;\n  height: 100%;\n  width: auto;\n  position: absolute;\n  left: 4em;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  transition: all 0.4s;\n}\n\n.vjs-menu-button-inline:hover .vjs-menu,\n.vjs-menu-button-inline:focus .vjs-menu,\n.vjs-menu-button-inline.vjs-slider-active .vjs-menu {\n  display: block;\n  opacity: 1;\n}\n\n.vjs-menu-button-inline .vjs-menu-content {\n  width: auto;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n}\n\n.video-js .vjs-control-bar {\n  display: none;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 3em;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n}\n\n.video-js.vjs-spatial-navigation-enabled .vjs-control-bar {\n  gap: 1px;\n}\n\n.video-js:not(.vjs-controls-disabled, .vjs-using-native-controls, .vjs-error) .vjs-control-bar.vjs-lock-showing {\n  display: flex !important;\n}\n\n.vjs-has-started .vjs-control-bar,\n.vjs-audio-only-mode .vjs-control-bar {\n  display: flex;\n  visibility: visible;\n  opacity: 1;\n  transition: visibility 0.1s, opacity 0.1s;\n}\n\n.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  visibility: visible;\n  opacity: 0;\n  pointer-events: none;\n  transition: visibility 1s, opacity 1s;\n}\n\n.vjs-controls-disabled .vjs-control-bar,\n.vjs-using-native-controls .vjs-control-bar,\n.vjs-error .vjs-control-bar {\n  display: none !important;\n}\n\n.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,\n.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  opacity: 1;\n  visibility: visible;\n  pointer-events: auto;\n}\n\n.video-js .vjs-control {\n  position: relative;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 4em;\n  flex: none;\n}\n\n.video-js .vjs-control.vjs-visible-text {\n  width: auto;\n  padding-left: 1em;\n  padding-right: 1em;\n}\n\n.vjs-button > .vjs-icon-placeholder:before {\n  font-size: 1.8em;\n  line-height: 1.67;\n}\n\n.vjs-button > .vjs-icon-placeholder {\n  display: block;\n}\n\n.vjs-button > .vjs-svg-icon {\n  display: inline-block;\n}\n\n.video-js .vjs-control:focus:before,\n.video-js .vjs-control:hover:before,\n.video-js .vjs-control:focus {\n  text-shadow: 0em 0em 1em white;\n}\n\n.video-js *:not(.vjs-visible-text) > .vjs-control-text {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.video-js .vjs-custom-control-spacer {\n  display: none;\n}\n\n.video-js .vjs-progress-control {\n  cursor: pointer;\n  flex: auto;\n  display: flex;\n  align-items: center;\n  min-width: 4em;\n  touch-action: none;\n}\n\n.video-js .vjs-progress-control.disabled {\n  cursor: default;\n}\n\n.vjs-live .vjs-progress-control {\n  display: none;\n}\n\n.vjs-liveui .vjs-progress-control {\n  display: flex;\n  align-items: center;\n}\n\n.video-js .vjs-progress-holder {\n  flex: auto;\n  transition: all 0.2s;\n  height: 0.3em;\n}\n\n.video-js .vjs-progress-control .vjs-progress-holder {\n  margin: 0 10px;\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder,\n.video-js.vjs-scrubbing.vjs-touch-enabled .vjs-progress-control .vjs-progress-holder {\n  font-size: 1.6666666667em;\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled {\n  font-size: 1em;\n}\n\n.video-js .vjs-progress-holder .vjs-play-progress,\n.video-js .vjs-progress-holder .vjs-load-progress,\n.video-js .vjs-progress-holder .vjs-load-progress div {\n  position: absolute;\n  display: block;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  width: 0;\n}\n\n.video-js .vjs-play-progress {\n  background-color: #fff;\n}\n.video-js .vjs-play-progress:before {\n  font-size: 0.9em;\n  position: absolute;\n  right: -0.5em;\n  line-height: 0.35em;\n  z-index: 1;\n}\n\n.vjs-svg-icons-enabled .vjs-play-progress:before {\n  content: none !important;\n}\n\n.vjs-play-progress .vjs-svg-icon {\n  position: absolute;\n  top: -0.35em;\n  right: -0.4em;\n  width: 0.9em;\n  height: 0.9em;\n  pointer-events: none;\n  line-height: 0.15em;\n  z-index: 1;\n}\n\n.video-js .vjs-load-progress {\n  background: rgba(114.9141509434, 132.7028301887, 159.3858490566, 0.5);\n}\n\n.video-js .vjs-load-progress div {\n  background: rgba(114.9141509434, 132.7028301887, 159.3858490566, 0.75);\n}\n\n.video-js .vjs-time-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 0.3em;\n  color: #000;\n  float: right;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 1em;\n  padding: 6px 8px 8px 8px;\n  pointer-events: none;\n  position: absolute;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1;\n}\n\n.video-js .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: none;\n}\n\n.video-js .vjs-progress-control:hover .vjs-time-tooltip,\n.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,\n.video-js.vjs-scrubbing.vjs-touch-enabled .vjs-progress-control .vjs-time-tooltip {\n  display: block;\n  font-size: 0.6em;\n  visibility: visible;\n}\n\n.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip {\n  font-size: 1em;\n}\n\n.video-js .vjs-progress-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 1px;\n  height: 100%;\n  background-color: #000;\n  z-index: 1;\n}\n\n.video-js .vjs-progress-control:hover .vjs-mouse-display {\n  display: block;\n}\n\n.video-js.vjs-scrubbing.vjs-touch-enabled .vjs-progress-control .vjs-mouse-display {\n  display: block;\n}\n\n.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display,\n.video-js.vjs-touch-enabled:not(.vjs-scrubbing) .vjs-progress-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s;\n}\n\n.vjs-mouse-display .vjs-time-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.video-js .vjs-slider {\n  position: relative;\n  cursor: pointer;\n  padding: 0;\n  margin: 0 0.45em 0 0.45em;\n  /* iOS Safari */\n  -webkit-touch-callout: none;\n  /* Safari, and Chrome 53 */\n  -webkit-user-select: none;\n  /* Non-prefixed version, currently supported by Chrome and Opera */\n  -moz-user-select: none;\n       user-select: none;\n  background-color: rgb(114.9141509434, 132.7028301887, 159.3858490566);\n  background-color: rgba(114.9141509434, 132.7028301887, 159.3858490566, 0.5);\n}\n\n.video-js .vjs-slider.disabled {\n  cursor: default;\n}\n\n.video-js .vjs-slider:focus {\n  text-shadow: 0em 0em 1em white;\n  box-shadow: 0 0 1em #fff;\n}\n\n.video-js.vjs-spatial-navigation-enabled .vjs-slider:focus {\n  outline: 0.0625em solid white;\n}\n\n.video-js .vjs-mute-control {\n  cursor: pointer;\n  flex: none;\n}\n.video-js .vjs-volume-control {\n  cursor: pointer;\n  margin-right: 1em;\n  display: flex;\n}\n\n.video-js .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control {\n  visibility: visible;\n  opacity: 0;\n  width: 1px;\n  height: 1px;\n  margin-left: -1px;\n}\n\n.video-js .vjs-volume-panel {\n  transition: width 1s;\n}\n.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control, .video-js .vjs-volume-panel:active .vjs-volume-control, .video-js .vjs-volume-panel:focus .vjs-volume-control, .video-js .vjs-volume-panel .vjs-volume-control:active, .video-js .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control, .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active {\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  transition: visibility 0.1s, opacity 0.1s, height 0.1s, width 0.1s, left 0s, top 0s;\n}\n.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal, .video-js .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em;\n  margin-right: 0;\n}\n.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical, .video-js .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical {\n  left: -3.5em;\n  transition: left 0s;\n}\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover, .video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active, .video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active {\n  width: 10em;\n  transition: width 0.1s;\n}\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only {\n  width: 4em;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  height: 8em;\n  width: 3em;\n  left: -3000em;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n}\n\n.video-js .vjs-volume-panel {\n  display: flex;\n}\n\n.video-js .vjs-volume-bar {\n  margin: 1.35em 0.45em;\n}\n\n.vjs-volume-bar.vjs-slider-horizontal {\n  width: 5em;\n  height: 0.3em;\n}\n\n.vjs-volume-bar.vjs-slider-vertical {\n  width: 0.3em;\n  height: 5em;\n  margin: 1.35em auto;\n}\n\n.video-js .vjs-volume-level {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n}\n.video-js .vjs-volume-level:before {\n  position: absolute;\n  font-size: 0.9em;\n  z-index: 1;\n}\n\n.vjs-slider-vertical .vjs-volume-level {\n  width: 0.3em;\n}\n.vjs-slider-vertical .vjs-volume-level:before {\n  top: -0.5em;\n  left: -0.3em;\n  z-index: 1;\n}\n\n.vjs-svg-icons-enabled .vjs-volume-level:before {\n  content: none;\n}\n\n.vjs-volume-level .vjs-svg-icon {\n  position: absolute;\n  width: 0.9em;\n  height: 0.9em;\n  pointer-events: none;\n  z-index: 1;\n}\n\n.vjs-slider-horizontal .vjs-volume-level {\n  height: 0.3em;\n}\n.vjs-slider-horizontal .vjs-volume-level:before {\n  line-height: 0.35em;\n  right: -0.5em;\n}\n\n.vjs-slider-horizontal .vjs-volume-level .vjs-svg-icon {\n  right: -0.3em;\n  transform: translateY(-50%);\n}\n\n.vjs-slider-vertical .vjs-volume-level .vjs-svg-icon {\n  top: -0.55em;\n  transform: translateX(-50%);\n}\n\n.video-js .vjs-volume-panel.vjs-volume-panel-vertical {\n  width: 4em;\n}\n\n.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level {\n  height: 100%;\n}\n\n.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level {\n  width: 100%;\n}\n\n.video-js .vjs-volume-vertical {\n  width: 3em;\n  height: 8em;\n  bottom: 8em;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n}\n\n.video-js .vjs-volume-horizontal .vjs-menu {\n  left: -2em;\n}\n\n.video-js .vjs-volume-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 0.3em;\n  color: #000;\n  float: right;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 1em;\n  padding: 6px 8px 8px 8px;\n  pointer-events: none;\n  position: absolute;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1;\n}\n\n.video-js .vjs-volume-control:hover .vjs-volume-tooltip,\n.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip {\n  display: block;\n  font-size: 1em;\n  visibility: visible;\n}\n\n.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,\n.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip {\n  left: 1em;\n  top: -12px;\n}\n\n.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip {\n  font-size: 1em;\n}\n\n.video-js .vjs-volume-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  background-color: #000;\n  z-index: 1;\n}\n\n.video-js .vjs-volume-horizontal .vjs-mouse-display {\n  width: 1px;\n  height: 100%;\n}\n\n.video-js .vjs-volume-control:hover .vjs-mouse-display {\n  display: block;\n}\n\n.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s;\n}\n\n.vjs-mouse-display .vjs-volume-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.vjs-poster {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n}\n\n.vjs-has-started .vjs-poster,\n.vjs-using-native-controls .vjs-poster {\n  display: none;\n}\n\n.vjs-audio.vjs-has-started .vjs-poster,\n.vjs-has-started.vjs-audio-poster-mode .vjs-poster,\n.vjs-pip-container.vjs-has-started .vjs-poster {\n  display: block;\n}\n\n.vjs-poster img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n.video-js .vjs-live-control {\n  display: flex;\n  align-items: flex-start;\n  flex: auto;\n  font-size: 1em;\n  line-height: 3em;\n}\n\n.video-js:not(.vjs-live) .vjs-live-control,\n.video-js.vjs-liveui .vjs-live-control {\n  display: none;\n}\n\n.video-js .vjs-seek-to-live-control {\n  align-items: center;\n  cursor: pointer;\n  flex: none;\n  display: inline-flex;\n  height: 100%;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n  font-size: 1em;\n  line-height: 3em;\n  width: auto;\n  min-width: 4em;\n}\n\n.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,\n.video-js:not(.vjs-live) .vjs-seek-to-live-control {\n  display: none;\n}\n\n.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge {\n  cursor: auto;\n}\n\n.vjs-seek-to-live-control .vjs-icon-placeholder {\n  margin-right: 0.5em;\n  color: #888;\n}\n\n.vjs-svg-icons-enabled .vjs-seek-to-live-control {\n  line-height: 0;\n}\n\n.vjs-seek-to-live-control .vjs-svg-icon {\n  width: 1em;\n  height: 1em;\n  pointer-events: none;\n  fill: #888888;\n}\n\n.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder {\n  color: red;\n}\n\n.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-svg-icon {\n  fill: red;\n}\n\n.video-js .vjs-time-control {\n  flex: none;\n  font-size: 1em;\n  line-height: 3em;\n  min-width: 2em;\n  width: auto;\n  padding-left: 1em;\n  padding-right: 1em;\n}\n\n.vjs-live .vjs-time-control,\n.vjs-live .vjs-time-divider,\n.video-js .vjs-current-time,\n.video-js .vjs-duration {\n  display: none;\n}\n\n.vjs-time-divider {\n  display: none;\n  line-height: 3em;\n}\n\n.vjs-normalise-time-controls:not(.vjs-live) .vjs-time-control {\n  display: flex;\n}\n\n.video-js .vjs-play-control {\n  cursor: pointer;\n}\n\n.video-js .vjs-play-control .vjs-icon-placeholder {\n  flex: none;\n}\n\n.vjs-text-track-display {\n  position: absolute;\n  bottom: 3em;\n  left: 0;\n  right: 0;\n  top: 0;\n  pointer-events: none;\n}\n\n.vjs-error .vjs-text-track-display {\n  display: none;\n}\n\n.video-js.vjs-controls-disabled .vjs-text-track-display,\n.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display {\n  bottom: 1em;\n}\n\n.video-js .vjs-text-track {\n  font-size: 1.4em;\n  text-align: center;\n  margin-bottom: 0.1em;\n}\n\n.vjs-subtitles {\n  color: #fff;\n}\n\n.vjs-captions {\n  color: #fc6;\n}\n\n.vjs-tt-cue {\n  display: block;\n}\n\nvideo::-webkit-media-text-track-display {\n  transform: translateY(-3em);\n}\n\n.video-js.vjs-controls-disabled video::-webkit-media-text-track-display,\n.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display {\n  transform: translateY(-1.5em);\n}\n\n.video-js.vjs-force-center-align-cues .vjs-text-track-cue {\n  text-align: center !important;\n  width: 80% !important;\n}\n\n@supports not (inset: 10px) {\n  .video-js .vjs-text-track-display > div {\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.video-js .vjs-picture-in-picture-control {\n  cursor: pointer;\n  flex: none;\n}\n.video-js.vjs-audio-only-mode .vjs-picture-in-picture-control,\n.vjs-pip-window .vjs-picture-in-picture-control {\n  display: none;\n}\n\n.video-js .vjs-fullscreen-control {\n  cursor: pointer;\n  flex: none;\n}\n.video-js.vjs-audio-only-mode .vjs-fullscreen-control,\n.vjs-pip-window .vjs-fullscreen-control {\n  display: none;\n}\n\n.vjs-playback-rate > .vjs-menu-button,\n.vjs-playback-rate .vjs-playback-rate-value {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vjs-playback-rate .vjs-playback-rate-value {\n  pointer-events: none;\n  font-size: 1.5em;\n  line-height: 2;\n  text-align: center;\n}\n\n.vjs-playback-rate .vjs-menu {\n  width: 4em;\n  left: 0em;\n}\n\n.vjs-error .vjs-error-display .vjs-modal-dialog-content {\n  font-size: 1.4em;\n  text-align: center;\n}\n\n.vjs-loading-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  opacity: 0.85;\n  text-align: left;\n  border: 0.6em solid rgba(43, 51, 63, 0.7);\n  box-sizing: border-box;\n  background-clip: padding-box;\n  width: 5em;\n  height: 5em;\n  border-radius: 50%;\n  visibility: hidden;\n}\n\n.vjs-seeking .vjs-loading-spinner,\n.vjs-waiting .vjs-loading-spinner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: vjs-spinner-show 0s linear 0.3s forwards;\n}\n\n.vjs-error .vjs-loading-spinner {\n  display: none;\n}\n\n.vjs-loading-spinner:before,\n.vjs-loading-spinner:after {\n  content: "";\n  position: absolute;\n  box-sizing: inherit;\n  width: inherit;\n  height: inherit;\n  border-radius: inherit;\n  opacity: 1;\n  border: inherit;\n  border-color: transparent;\n  border-top-color: white;\n}\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:after {\n  animation: vjs-spinner-spin 1.1s cubic-bezier(0.6, 0.2, 0, 0.8) infinite, vjs-spinner-fade 1.1s linear infinite;\n}\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:before {\n  border-top-color: rgb(255, 255, 255);\n}\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:after {\n  border-top-color: rgb(255, 255, 255);\n  animation-delay: 0.44s;\n}\n\n@keyframes vjs-spinner-show {\n  to {\n    visibility: visible;\n  }\n}\n@keyframes vjs-spinner-spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: rgb(114.9141509434, 132.7028301887, 159.3858490566);\n  }\n  20% {\n    border-top-color: rgb(114.9141509434, 132.7028301887, 159.3858490566);\n  }\n  35% {\n    border-top-color: white;\n  }\n  60% {\n    border-top-color: rgb(114.9141509434, 132.7028301887, 159.3858490566);\n  }\n  100% {\n    border-top-color: rgb(114.9141509434, 132.7028301887, 159.3858490566);\n  }\n}\n.video-js.vjs-audio-only-mode .vjs-captions-button {\n  display: none;\n}\n\n.vjs-chapters-button .vjs-menu ul {\n  width: 24em;\n}\n\n.video-js.vjs-audio-only-mode .vjs-descriptions-button {\n  display: none;\n}\n\n.vjs-subs-caps-button + .vjs-menu .vjs-captions-menu-item .vjs-svg-icon {\n  width: 1.5em;\n  height: 1.5em;\n}\n\n.video-js .vjs-subs-caps-button + .vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  vertical-align: middle;\n  display: inline-block;\n  margin-bottom: -0.1em;\n}\n\n.video-js .vjs-subs-caps-button + .vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: "\\f10c";\n  font-size: 1.5em;\n  line-height: inherit;\n}\n\n.video-js.vjs-audio-only-mode .vjs-subs-caps-button {\n  display: none;\n}\n\n.video-js .vjs-audio-button + .vjs-menu .vjs-descriptions-menu-item .vjs-menu-item-text .vjs-icon-placeholder,\n.video-js .vjs-audio-button + .vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  vertical-align: middle;\n  display: inline-block;\n  margin-bottom: -0.1em;\n}\n\n.video-js .vjs-audio-button + .vjs-menu .vjs-descriptions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before,\n.video-js .vjs-audio-button + .vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: " \\f12e";\n  font-size: 1.5em;\n  line-height: inherit;\n}\n\n.video-js.vjs-layout-small .vjs-current-time,\n.video-js.vjs-layout-small .vjs-time-divider,\n.video-js.vjs-layout-small .vjs-duration,\n.video-js.vjs-layout-small .vjs-remaining-time,\n.video-js.vjs-layout-small .vjs-playback-rate,\n.video-js.vjs-layout-small .vjs-volume-control, .video-js.vjs-layout-x-small .vjs-current-time,\n.video-js.vjs-layout-x-small .vjs-time-divider,\n.video-js.vjs-layout-x-small .vjs-duration,\n.video-js.vjs-layout-x-small .vjs-remaining-time,\n.video-js.vjs-layout-x-small .vjs-playback-rate,\n.video-js.vjs-layout-x-small .vjs-volume-control, .video-js.vjs-layout-tiny .vjs-current-time,\n.video-js.vjs-layout-tiny .vjs-time-divider,\n.video-js.vjs-layout-tiny .vjs-duration,\n.video-js.vjs-layout-tiny .vjs-remaining-time,\n.video-js.vjs-layout-tiny .vjs-playback-rate,\n.video-js.vjs-layout-tiny .vjs-volume-control {\n  display: none;\n}\n.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover, .video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active, .video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active, .video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover, .video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover, .video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active, .video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active, .video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover, .video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover, .video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active, .video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active, .video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover {\n  width: auto;\n  width: initial;\n}\n.video-js.vjs-layout-x-small .vjs-progress-control, .video-js.vjs-layout-tiny .vjs-progress-control {\n  display: none;\n}\n.video-js.vjs-layout-x-small .vjs-custom-control-spacer {\n  flex: auto;\n  display: block;\n}\n\n.vjs-modal-dialog.vjs-text-track-settings {\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.75);\n  color: #fff;\n  height: 70%;\n}\n.vjs-spatial-navigation-enabled .vjs-modal-dialog.vjs-text-track-settings {\n  height: 80%;\n}\n\n.vjs-error .vjs-text-track-settings {\n  display: none;\n}\n\n.vjs-text-track-settings .vjs-modal-dialog-content {\n  display: table;\n}\n\n.vjs-text-track-settings .vjs-track-settings-colors,\n.vjs-text-track-settings .vjs-track-settings-font,\n.vjs-text-track-settings .vjs-track-settings-controls {\n  display: table-cell;\n}\n\n.vjs-text-track-settings .vjs-track-settings-controls {\n  text-align: right;\n  vertical-align: bottom;\n}\n\n@supports (display: grid) {\n  .vjs-text-track-settings .vjs-modal-dialog-content {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 1fr;\n    padding: 20px 24px 0px 24px;\n  }\n  .vjs-track-settings-controls .vjs-default-button {\n    margin-bottom: 20px;\n  }\n  .vjs-text-track-settings .vjs-track-settings-controls {\n    grid-column: 1/-1;\n  }\n  .vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,\n  .vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,\n  .vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content {\n    grid-template-columns: 1fr;\n  }\n}\n.vjs-text-track-settings select {\n  font-size: inherit;\n}\n\n.vjs-track-setting > select {\n  margin-right: 1em;\n  margin-bottom: 0.5em;\n}\n\n.vjs-text-track-settings fieldset {\n  margin: 10px;\n  border: none;\n}\n\n.vjs-text-track-settings fieldset span {\n  display: inline-block;\n  padding: 0 0.6em 0.8em;\n}\n\n.vjs-text-track-settings fieldset span > select {\n  max-width: 7.3em;\n}\n\n.vjs-text-track-settings legend {\n  color: #fff;\n  font-weight: bold;\n  font-size: 1.2em;\n}\n\n.vjs-text-track-settings .vjs-label {\n  margin: 0 0.5em 0.5em 0;\n}\n\n.vjs-track-settings-controls button:focus,\n.vjs-track-settings-controls button:active {\n  outline-style: solid;\n  outline-width: medium;\n  background-image: linear-gradient(0deg, #fff 88%, rgb(114.9141509434, 132.7028301887, 159.3858490566) 100%);\n}\n\n.vjs-track-settings-controls button:hover {\n  color: rgba(43, 51, 63, 0.75);\n}\n\n.vjs-track-settings-controls button {\n  background-color: #fff;\n  background-image: linear-gradient(-180deg, #fff 88%, rgb(114.9141509434, 132.7028301887, 159.3858490566) 100%);\n  color: #2B333F;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.vjs-track-settings-controls .vjs-default-button {\n  margin-right: 1em;\n}\n\n.vjs-title-bar {\n  background: rgba(0, 0, 0, 0.9);\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.7) 60%, rgba(0, 0, 0, 0) 100%);\n  font-size: 1.2em;\n  line-height: 1.5;\n  transition: opacity 0.1s;\n  padding: 0.666em 1.333em 4em;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.vjs-error .vjs-title-bar {\n  display: none;\n}\n\n.vjs-title-bar-title,\n.vjs-title-bar-description {\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.vjs-title-bar-title {\n  font-weight: bold;\n  margin-bottom: 0.333em;\n}\n\n.vjs-playing.vjs-user-inactive .vjs-title-bar {\n  opacity: 0;\n  transition: opacity 1s;\n}\n\n.video-js .vjs-skip-forward-5 {\n  cursor: pointer;\n}\n.video-js .vjs-skip-forward-10 {\n  cursor: pointer;\n}\n.video-js .vjs-skip-forward-30 {\n  cursor: pointer;\n}\n.video-js .vjs-skip-backward-5 {\n  cursor: pointer;\n}\n.video-js .vjs-skip-backward-10 {\n  cursor: pointer;\n}\n.video-js .vjs-skip-backward-30 {\n  cursor: pointer;\n}\n.video-js .vjs-transient-button {\n  position: absolute;\n  height: 3em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(50, 50, 50, 0.5);\n  cursor: pointer;\n  opacity: 1;\n  transition: opacity 1s;\n}\n\n.video-js:not(.vjs-has-started) .vjs-transient-button {\n  display: none;\n}\n\n.video-js.not-hover .vjs-transient-button:not(.force-display),\n.video-js.vjs-user-inactive .vjs-transient-button:not(.force-display) {\n  opacity: 0;\n}\n\n.video-js .vjs-transient-button span {\n  padding: 0 0.5em;\n}\n\n.video-js .vjs-transient-button.vjs-left {\n  left: 1em;\n}\n\n.video-js .vjs-transient-button.vjs-right {\n  right: 1em;\n}\n\n.video-js .vjs-transient-button.vjs-top {\n  top: 1em;\n}\n\n.video-js .vjs-transient-button.vjs-near-top {\n  top: 4em;\n}\n\n.video-js .vjs-transient-button.vjs-bottom {\n  bottom: 4em;\n}\n\n.video-js .vjs-transient-button:hover {\n  background-color: rgba(50, 50, 50, 0.9);\n}\n\n@media print {\n  .video-js > *:not(.vjs-tech):not(.vjs-poster) {\n    visibility: hidden;\n  }\n}\n.vjs-resize-manager {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  z-index: -1000;\n}\n\n.js-focus-visible .video-js *:focus:not(.focus-visible) {\n  outline: none;\n}\n\n.video-js *:focus:not(:focus-visible) {\n  outline: none;\n}\n',""]),t.A=c},4968:function(e,t,n){"use strict";n.r(t);var i=n(1601),r=n.n(i),s=n(6314),o=n.n(s)()(r());o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;800&display=swap);"]),o.push([e.id,'@tailwind base;\n@tailwind components;\n@tailwind utilities;\n.toaster-container{position:fixed;bottom:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px}\n.toast{min-width:300px;padding:16px;border-radius:8px;background:#1c2221;box-shadow:0 4px 12px rgba(0,0,0,.15);display:flex;flex-direction:column;gap:8px;cursor:pointer;animation:slideIn .3s ease-in-out;position:relative;overflow:hidden;border:1px solid hsla(0,0%,100%,.12)}\n.toast-content{display:flex;align-items:center;gap:12px}\n.toast-icon{font-size:20px;line-height:1}\n.toast-message{font-size:14px;line-height:1.4;color:#fff}\n.toast-progress{position:absolute;bottom:0;left:0;height:3px;background:hsla(0,0%,100%,.1);animation:progress linear forwards}\n.toast-success{border-left:4px solid #00da92}\n.toast-success .toast-icon{color:#00da92}\n.toast-error{border-left:4px solid #ff4d4f}\n.toast-error .toast-icon{color:#ff4d4f}\n.toast-warning{border-left:4px solid #ffc069}\n.toast-warning .toast-icon{color:#ffc069}\n.toast-info{border-left:4px solid #2196f3}\n.toast-info .toast-icon{color:#2196f3}\n.toast-exit{animation:slideOut .3s ease-in-out forwards}\n@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}\n@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}\n@keyframes progress{from{width:100%}to{width:0%}}\n:host *, :host ::before, :host ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 rgba(0,0,0,0);--tw-ring-shadow:0 0 rgba(0,0,0,0);--tw-shadow:0 0 rgba(0,0,0,0);--tw-shadow-colored:0 0 rgba(0,0,0,0);--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }\n:host ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 rgba(0,0,0,0);--tw-ring-shadow:0 0 rgba(0,0,0,0);--tw-shadow:0 0 rgba(0,0,0,0);--tw-shadow-colored:0 0 rgba(0,0,0,0);--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }\n/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*/\n/*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n:host *,\n:host ::before,\n:host ::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n:host ::before,\n:host ::after {\n  --tw-content: \'\';\n}\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user\'s configured `sans` font-family by default.\n5. Use the user\'s configured `sans` font-feature-settings by default.\n6. Use the user\'s configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n:host html,\n:host :host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n:host body {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n:host hr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n:host abbr:where([title]) {\n  text-decoration: underline;\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n/*\nRemove the default font size and weight for headings.\n*/\n:host h1,\n:host h2,\n:host h3,\n:host h4,\n:host h5,\n:host h6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n:host a {\n  color: inherit;\n  text-decoration: inherit;\n}\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n:host b,\n:host strong {\n  font-weight: bolder;\n}\n/*\n1. Use the user\'s configured `mono` font-family by default.\n2. Use the user\'s configured `mono` font-feature-settings by default.\n3. Use the user\'s configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n:host code,\n:host kbd,\n:host samp,\n:host pre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n/*\nAdd the correct font size in all browsers.\n*/\n:host small {\n  font-size: 80%;\n}\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n:host sub,\n:host sup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n:host sub {\n  bottom: -0.25em;\n}\n:host sup {\n  top: -0.5em;\n}\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n:host table {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n:host button,\n:host input,\n:host optgroup,\n:host select,\n:host textarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n:host button,\n:host select {\n  text-transform: none;\n}\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n:host button,\n:host input:where([type=\'button\']),\n:host input:where([type=\'reset\']),\n:host input:where([type=\'submit\']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n:host :-moz-focusring {\n  outline: auto;\n}\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n:host :-moz-ui-invalid {\n  box-shadow: none;\n}\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n:host progress {\n  vertical-align: baseline;\n}\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n:host ::-webkit-inner-spin-button,\n:host ::-webkit-outer-spin-button {\n  height: auto;\n}\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n:host [type=\'search\'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n:host ::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n:host ::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n/*\nAdd the correct display in Chrome and Safari.\n*/\n:host summary {\n  display: list-item;\n}\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n:host blockquote,\n:host dl,\n:host dd,\n:host h1,\n:host h2,\n:host h3,\n:host h4,\n:host h5,\n:host h6,\n:host hr,\n:host figure,\n:host p,\n:host pre {\n  margin: 0;\n}\n:host fieldset {\n  margin: 0;\n  padding: 0;\n}\n:host legend {\n  padding: 0;\n}\n:host ol,\n:host ul,\n:host menu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n/*\nReset default styling for dialogs.\n*/\n:host dialog {\n  padding: 0;\n}\n/*\nPrevent resizing textareas horizontally by default.\n*/\n:host textarea {\n  resize: vertical;\n}\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user\'s configured gray 400 color.\n*/\n:host input::-moz-placeholder, :host textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n:host input::placeholder,\n:host textarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n/*\nSet the default cursor for buttons.\n*/\n:host button,\n:host [role="button"] {\n  cursor: pointer;\n}\n/*\nMake sure disabled buttons don\'t get the pointer cursor.\n*/\n:host :disabled {\n  cursor: default;\n}\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n:host img,\n:host svg,\n:host video,\n:host canvas,\n:host audio,\n:host iframe,\n:host embed,\n:host object {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n:host img,\n:host video {\n  max-width: 100%;\n  height: auto;\n}\n/* Make elements with the HTML hidden attribute stay hidden by default */\n:host [hidden]:where(:not([hidden="until-found"])) {\n  display: none;\n}\n:host .container{width:100%;margin-right:auto;margin-left:auto;padding-right:3rem;padding-left:3rem}\n@media (min-width: 640px){\n:host .container{max-width:640px;padding-right:3rem;padding-left:3rem}}\n@media (min-width: 768px){\n:host .container{max-width:768px;padding-right:2.5rem;padding-left:2.5rem}}\n@media (min-width: 1024px){\n:host .container{max-width:1024px;padding-right:2rem;padding-left:2rem}}\n@media (min-width: 1280px){\n:host .container{max-width:1280px;padding-right:5rem;padding-left:5rem}}\n@media (min-width: 1536px){\n:host .container{max-width:1536px;padding-right:5rem;padding-left:5rem}}\n:host .visible{visibility:visible !important}\n:host .static{position:static !important}\n:host .fixed{position:fixed !important}\n:host .absolute{position:absolute !important}\n:host .relative{position:relative !important}\n:host .inset-0{top:0px !important;right:0px !important;bottom:0px !important;left:0px !important}\n:host .bottom-0{bottom:0px !important}\n:host .left-0{left:0px !important}\n:host .right-0{right:0px !important}\n:host .right-2\\.5{right:0.625rem !important}\n:host .right-px{right:1px !important}\n:host .top-2\\.5{top:0.625rem !important}\n:host .top-px{top:1px !important}\n:host .z-40{z-index:40 !important}\n:host .z-50{z-index:50 !important}\n:host .mx-4{margin-left:1rem !important;margin-right:1rem !important}\n:host .mx-auto{margin-left:auto !important;margin-right:auto !important}\n:host .mb-2{margin-bottom:0.5rem !important}\n:host .mb-3{margin-bottom:0.75rem !important}\n:host .mb-4{margin-bottom:1rem !important}\n:host .mb-6{margin-bottom:1.5rem !important}\n:host .mb-\\[16px\\]{margin-bottom:16px !important}\n:host .ml-3{margin-left:0.75rem !important}\n:host .mt-4{margin-top:1rem !important}\n:host .block{display:block !important}\n:host .inline-block{display:inline-block !important}\n:host .flex{display:flex !important}\n:host .table{display:table !important}\n:host .hidden{display:none !important}\n:host .h-16{height:4rem !important}\n:host .h-3{height:0.75rem !important}\n:host .h-4{height:1rem !important}\n:host .h-48{height:12rem !important}\n:host .h-6{height:1.5rem !important}\n:host .h-8{height:2rem !important}\n:host .h-\\[32px\\]{height:32px !important}\n:host .h-\\[400px\\]{height:400px !important}\n:host .h-\\[80\\%\\]{height:80% !important}\n:host .h-\\[98px\\]{height:98px !important}\n:host .h-full{height:100% !important}\n:host .w-1\\/2{width:50% !important}\n:host .w-16{width:4rem !important}\n:host .w-3{width:0.75rem !important}\n:host .w-32{width:8rem !important}\n:host .w-4{width:1rem !important}\n:host .w-48{width:12rem !important}\n:host .w-6{width:1.5rem !important}\n:host .w-8{width:2rem !important}\n:host .w-\\[320px\\]{width:320px !important}\n:host .w-\\[32px\\]{width:32px !important}\n:host .w-\\[440px\\]{width:440px !important}\n:host .w-\\[98px\\]{width:98px !important}\n:host .w-full{width:100% !important}\n:host .max-w-6xl{max-width:72rem !important}\n:host .max-w-md{max-width:28rem !important}\n:host .flex-1{flex:1 1 0% !important}\n:host .flex-shrink-0{flex-shrink:0 !important}\n:host .flex-grow{flex-grow:1 !important}\n:host .transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) !important}\n@keyframes pulse{\n50%{opacity:.5}}\n:host .animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite !important}\n:host .cursor-grab{cursor:grab !important}\n:host .cursor-not-allowed{cursor:not-allowed !important}\n:host .cursor-pointer{cursor:pointer !important}\n:host .resize{resize:both !important}\n:host .flex-col{flex-direction:column !important}\n:host .items-center{align-items:center !important}\n:host .justify-end{justify-content:flex-end !important}\n:host .justify-center{justify-content:center !important}\n:host .justify-between{justify-content:space-between !important}\n:host .gap-1{gap:0.25rem !important}\n:host .gap-2{gap:0.5rem !important}\n:host .gap-3{gap:0.75rem !important}\n:host .gap-4{gap:1rem !important}\n:host .space-x-3 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0 !important;margin-right:calc(0.75rem * 0) !important;margin-right:calc(0.75rem * var(--tw-space-x-reverse)) !important;margin-left:calc(0.75rem * (1 - 0)) !important;margin-left:calc(0.75rem * (1 - var(--tw-space-x-reverse))) !important;margin-left:calc(0.75rem * calc(1 - 0)) !important;margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse))) !important}\n:host .space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0 !important;margin-top:calc(0.25rem * (1 - 0)) !important;margin-top:calc(0.25rem * (1 - var(--tw-space-y-reverse))) !important;margin-top:calc(0.25rem * calc(1 - 0)) !important;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse))) !important;margin-bottom:calc(0.25rem * 0) !important;margin-bottom:calc(0.25rem * var(--tw-space-y-reverse)) !important}\n:host .space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0 !important;margin-top:calc(0.5rem * (1 - 0)) !important;margin-top:calc(0.5rem * (1 - var(--tw-space-y-reverse))) !important;margin-top:calc(0.5rem * calc(1 - 0)) !important;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse))) !important;margin-bottom:calc(0.5rem * 0) !important;margin-bottom:calc(0.5rem * var(--tw-space-y-reverse)) !important}\n:host .overflow-hidden{overflow:hidden !important}\n:host .overflow-y-auto{overflow-y:auto !important}\n:host .rounded{border-radius:0.25rem !important}\n:host .rounded-2xl{border-radius:1rem !important}\n:host .rounded-full{border-radius:9999px !important}\n:host .rounded-lg{border-radius:0.5rem !important}\n:host .rounded-md{border-radius:0.375rem !important}\n:host .rounded-xl{border-radius:0.75rem !important}\n:host .rounded-b-\\[6px\\]{border-bottom-right-radius:6px !important;border-bottom-left-radius:6px !important}\n:host .border{border-width:1px !important}\n:host .border-b{border-bottom-width:1px !important}\n:host .border-\\[\\#2A2A2A\\]{--tw-border-opacity:1 !important;border-color:rgba(42, 42, 42, 1) !important;border-color:rgba(42, 42, 42, var(--tw-border-opacity, 1)) !important}\n:host .border-\\[\\#3A3A3A\\]{--tw-border-opacity:1 !important;border-color:rgba(58, 58, 58, 1) !important;border-color:rgba(58, 58, 58, var(--tw-border-opacity, 1)) !important}\n:host .border-white\\/10{border-color:rgba(255, 255, 255, 0.1) !important}\n:host .border-white\\/\\[0\\.12\\]{border-color:rgba(255, 255, 255, 0.12) !important}\n:host .bg-\\[\\#00DA92\\]{--tw-bg-opacity:1 !important;background-color:rgba(0, 218, 146, 1) !important;background-color:rgba(0, 218, 146, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#1A1A1A\\]{--tw-bg-opacity:1 !important;background-color:rgba(26, 26, 26, 1) !important;background-color:rgba(26, 26, 26, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#1E1E1E\\]{--tw-bg-opacity:1 !important;background-color:rgba(30, 30, 30, 1) !important;background-color:rgba(30, 30, 30, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#1c2221\\]{--tw-bg-opacity:1 !important;background-color:rgba(28, 34, 33, 1) !important;background-color:rgba(28, 34, 33, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#232728\\]{--tw-bg-opacity:1 !important;background-color:rgba(35, 39, 40, 1) !important;background-color:rgba(35, 39, 40, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#272d2c\\]{--tw-bg-opacity:1 !important;background-color:rgba(39, 45, 44, 1) !important;background-color:rgba(39, 45, 44, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#2A2A2A\\]{--tw-bg-opacity:1 !important;background-color:rgba(42, 42, 42, 1) !important;background-color:rgba(42, 42, 42, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#2A2A2A\\]\\/90{background-color:rgba(42, 42, 42, 0.9) !important}\n:host .bg-\\[\\#2a2a2a\\]{--tw-bg-opacity:1 !important;background-color:rgba(42, 42, 42, 1) !important;background-color:rgba(42, 42, 42, var(--tw-bg-opacity, 1)) !important}\n:host .bg-\\[\\#FD4243\\]{--tw-bg-opacity:1 !important;background-color:rgba(253, 66, 67, 1) !important;background-color:rgba(253, 66, 67, var(--tw-bg-opacity, 1)) !important}\n:host .bg-black{--tw-bg-opacity:1 !important;background-color:rgba(0, 0, 0, 1) !important;background-color:rgba(0, 0, 0, var(--tw-bg-opacity, 1)) !important}\n:host .bg-gray-600{--tw-bg-opacity:1 !important;background-color:rgba(75, 85, 99, 1) !important;background-color:rgba(75, 85, 99, var(--tw-bg-opacity, 1)) !important}\n:host .bg-gray-800{--tw-bg-opacity:1 !important;background-color:rgba(31, 41, 55, 1) !important;background-color:rgba(31, 41, 55, var(--tw-bg-opacity, 1)) !important}\n:host .bg-success{--tw-bg-opacity:1 !important;background-color:rgba(0, 218, 146, 1) !important;background-color:rgba(0, 218, 146, var(--tw-bg-opacity, 1)) !important}\n:host .bg-white{--tw-bg-opacity:1 !important;background-color:rgba(255, 255, 255, 1) !important;background-color:rgba(255, 255, 255, var(--tw-bg-opacity, 1)) !important}\n:host .bg-opacity-50{--tw-bg-opacity:0.5 !important}\n:host .object-cover{-o-object-fit:cover !important;object-fit:cover !important}\n:host .p-1{padding:0.25rem !important}\n:host .p-2{padding:0.5rem !important}\n:host .p-4{padding:1rem !important}\n:host .p-6{padding:1.5rem !important}\n:host .px-2{padding-left:0.5rem !important;padding-right:0.5rem !important}\n:host .px-2\\.5{padding-left:0.625rem !important;padding-right:0.625rem !important}\n:host .px-3{padding-left:0.75rem !important;padding-right:0.75rem !important}\n:host .px-4{padding-left:1rem !important;padding-right:1rem !important}\n:host .py-1{padding-top:0.25rem !important;padding-bottom:0.25rem !important}\n:host .py-1\\.5{padding-top:0.375rem !important;padding-bottom:0.375rem !important}\n:host .py-2{padding-top:0.5rem !important;padding-bottom:0.5rem !important}\n:host .py-2\\.5{padding-top:0.625rem !important;padding-bottom:0.625rem !important}\n:host .py-3{padding-top:0.75rem !important;padding-bottom:0.75rem !important}\n:host .pb-3{padding-bottom:0.75rem !important}\n:host .text-center{text-align:center !important}\n:host .text-3xl{font-size:1.875rem !important;line-height:2.25rem !important}\n:host .text-\\[12px\\]{font-size:12px !important}\n:host .text-base{font-size:1rem !important;line-height:1.5rem !important}\n:host .text-lg{font-size:1.125rem !important;line-height:1.75rem !important}\n:host .text-sm{font-size:0.875rem !important;line-height:1.25rem !important}\n:host .text-xl{font-size:1.25rem !important;line-height:1.75rem !important}\n:host .text-xs{font-size:0.75rem !important;line-height:1rem !important}\n:host .font-medium{font-weight:500 !important}\n:host .font-semibold{font-weight:600 !important}\n:host .tabular-nums{--tw-numeric-spacing:tabular-nums !important;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) tabular-nums var(--tw-numeric-fraction) !important;font-feature-settings:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction) !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) tabular-nums var(--tw-numeric-fraction) !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction) !important}\n:host .text-\\[\\#00DA92\\]{--tw-text-opacity:1 !important;color:rgba(0, 218, 146, 1) !important;color:rgba(0, 218, 146, var(--tw-text-opacity, 1)) !important}\n:host .text-\\[\\#1c2221\\]{--tw-text-opacity:1 !important;color:rgba(28, 34, 33, 1) !important;color:rgba(28, 34, 33, var(--tw-text-opacity, 1)) !important}\n:host .text-\\[\\#4ADE80\\]{--tw-text-opacity:1 !important;color:rgba(74, 222, 128, 1) !important;color:rgba(74, 222, 128, var(--tw-text-opacity, 1)) !important}\n:host .text-\\[\\#666666\\]{--tw-text-opacity:1 !important;color:rgba(102, 102, 102, 1) !important;color:rgba(102, 102, 102, var(--tw-text-opacity, 1)) !important}\n:host .text-\\[\\#A4A7A6\\]{--tw-text-opacity:1 !important;color:rgba(164, 167, 166, 1) !important;color:rgba(164, 167, 166, var(--tw-text-opacity, 1)) !important}\n:host .text-\\[\\#BDBDBD\\]{--tw-text-opacity:1 !important;color:rgba(189, 189, 189, 1) !important;color:rgba(189, 189, 189, var(--tw-text-opacity, 1)) !important}\n:host .text-\\[\\#FF4D4D\\]{--tw-text-opacity:1 !important;color:rgba(255, 77, 77, 1) !important;color:rgba(255, 77, 77, var(--tw-text-opacity, 1)) !important}\n:host .text-black{--tw-text-opacity:1 !important;color:rgba(0, 0, 0, 1) !important;color:rgba(0, 0, 0, var(--tw-text-opacity, 1)) !important}\n:host .text-gray-400{--tw-text-opacity:1 !important;color:rgba(156, 163, 175, 1) !important;color:rgba(156, 163, 175, var(--tw-text-opacity, 1)) !important}\n:host .text-gray-500{--tw-text-opacity:1 !important;color:rgba(107, 114, 128, 1) !important;color:rgba(107, 114, 128, var(--tw-text-opacity, 1)) !important}\n:host .text-red-500{--tw-text-opacity:1 !important;color:rgba(239, 68, 68, 1) !important;color:rgba(239, 68, 68, var(--tw-text-opacity, 1)) !important}\n:host .text-success\\/80{color:rgba(0, 218, 146, 0.8) !important}\n:host .text-white{--tw-text-opacity:1 !important;color:rgba(255, 255, 255, 1) !important;color:rgba(255, 255, 255, var(--tw-text-opacity, 1)) !important}\n:host .text-white\\/60{color:rgba(255, 255, 255, 0.6) !important}\n:host .opacity-0{opacity:0 !important}\n:host .opacity-15{opacity:0.15 !important}\n:host .opacity-5{opacity:0.05 !important}\n:host .opacity-\\[1\\]{opacity:1 !important}\n:host .shadow{--tw-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1) !important;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:0 0 rgba(0,0,0,0), 0 0 rgba(0,0,0,0), 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0,0,0,0)), var(--tw-ring-shadow, 0 0 rgba(0,0,0,0)), var(--tw-shadow) !important}\n:host .shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1) !important;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color) !important;box-shadow:0 0 rgba(0,0,0,0), 0 0 rgba(0,0,0,0), 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0,0,0,0)), var(--tw-ring-shadow, 0 0 rgba(0,0,0,0)), var(--tw-shadow) !important}\n:host .shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1) !important;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color) !important;box-shadow:0 0 rgba(0,0,0,0), 0 0 rgba(0,0,0,0), 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0,0,0,0)), var(--tw-ring-shadow, 0 0 rgba(0,0,0,0)), var(--tw-shadow) !important}\n:host .outline{outline-style:solid !important}\n:host .blur{--tw-blur:blur(8px) !important;filter:blur(8px) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow) !important}\n:host .filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow) !important}\n:host .backdrop-blur-sm{--tw-backdrop-blur:blur(4px) !important;-webkit-backdrop-filter:blur(4px) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia) !important;-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia) !important;backdrop-filter:blur(4px) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia) !important;backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia) !important}\n:host .transition{transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter !important;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter !important;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter !important;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1) !important;transition-duration:150ms !important}\n:host .transition-all{transition-property:all !important;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1) !important;transition-duration:150ms !important}\n:host .transition-colors{transition-property:color, background-color, border-color, text-decoration-color, fill, stroke !important;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1) !important;transition-duration:150ms !important}\n:host .transition-opacity{transition-property:opacity !important;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1) !important;transition-duration:150ms !important}\n:host .transition-transform{transition-property:transform !important;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1) !important;transition-duration:150ms !important}\n:host .duration-200{transition-duration:200ms !important}\n:host .ease-in-out{transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1) !important}\n:host .ease-out{transition-timing-function:cubic-bezier(0, 0, 0.2, 1) !important}\n:host html,:host body,:host *{font-family:"Inter",sans-serif}\n:host .cursor-pointer{cursor:pointer !important}\n:host .active-state{background:linear-gradient(0deg, #00da92, #00da92),linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%) !important;background:linear-gradient(0deg, var(--primary-100, #00da92), var(--primary-100, #00da92)),linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%) !important;box-shadow:0px -2px 4px 0px hsla(0,0%,100%,.05) inset !important;color:#0c0c0c !important}\n:host .widget-trigger-wrapper{display:flex;align-items:center;justify-content:center;width:124px;height:36px;border-radius:99px;padding:8px 12px;gap:8px;position:fixed;bottom:20px;right:20px;cursor:pointer;background:linear-gradient(0deg, #00da92, #00da92),linear-gradient(90.39deg, rgba(255, 255, 255, 0.2) 9.93%, rgba(4, 177, 120, 0.08) 68.76%);border:2px solid hsla(0,0%,100%,.12)}\n:host .widget-trigger-wrapper span{color:#000;font-weight:500;font-size:14px;line-height:20px;letter-spacing:0%;text-align:center}\n:host .widget-body-popover-overlay .ant-popover-arrow{display:none}\n:host .widget-body-popover-overlay .ant-popover-inner{padding:0}\n:host .widget-body-popover-overlay .ant-popover-inner .widget-body-wrapper{background:#1c2221;border:1px solid hsla(0,0%,100%,.12);width:100%;min-width:360px;height:100%;min-height:400px;border-radius:10px}\n:host .widget-body-popover-overlay .ant-popover-inner .widget-body-wrapper .widget-body-header{width:100%;height:44px;gap:10px;background:#1c2221;border-bottom:1px solid hsla(0,0%,100%,.06);padding:12px 16px;border-radius:10px 10px 0 0}\n:host .widget-body-popover-overlay .ant-popover-inner .widget-body-wrapper .widget-body-header .widget-body-header-title{font-size:14px}\n:host .widget-body-popover-overlay .ant-popover-inner .widget-body-wrapper .form-wrapper{background:#272d2c;padding:16px 12px}\n:host .widget-body-popover-overlay .ant-popover-inner .widget-body-wrapper .widget-body-footer{background:linear-gradient(0deg, #00da92, #00da92),linear-gradient(91.73deg, rgba(255, 255, 255, 0.2) 9.71%, rgba(255, 255, 255, 0) 50%);color:#0c0c0c;gap:8px;padding:16px;border-radius:0 0 10px 10px}\n:host .widget-body-popover-overlay .ant-popover-inner .widget-body-wrapper .widget-body-footer span{font-weight:500;font-size:16px;line-height:16px;letter-spacing:0%;vertical-align:middle}\n.__markerjs2_{top:0px !important;width:100% !important;background-color:#3d4442 !important}\n.__markerjs2_ .bb-toolbox-top-row{width:-moz-max-content;width:max-content;border-radius:4px}\n.__markerjs2_>div{background-color:#3d4442;padding:16px}\n.__markerjs2_>div>div:nth-child(2){background-color:#3d4442 !important}\n.__markerjs2_ .bb-annotation-toolbox{border-radius:0px 0px 6px 6px;background:rgba(0,0,0,0);height:120px}\n.__markerjs2_ .bb-annotation-toolbox .bb-toolbox-bottom-row{display:flex;justify-content:center;align-items:end;margin-top:12px;gap:8px}\n.__markerjs2_ .bb-annotation-toolbox .bb-toolbox-top-row{background-color:#3d4442;color:#fff;bottom:54px;justify-content:center;margin:auto;display:flex}\n.__markerjs2_ .bb-annotation-toolbox .bb-toolbox-top-row>div{overflow:hidden !important;text-align:center;justify-content:center;align-items:center}\n.__markerjs2_ .bb-annotation-toolbox .bb-toolbox-button{fill:hsla(0,0%,100%,.6);background-color:rgba(164,167,166,.2392156863);display:flex;align-items:center;justify-content:center;border-radius:4px;border:1px solid rgba(164,167,166,.1215686275);width:24px;height:24px}\n.__markerjs2_ .bb-annotation-toolbox .bb-toolbox-button-active{fill:#fff;background-color:rgba(0,218,146,.2392156863);display:flex;align-items:center;justify-content:center;border-radius:4px;border:1px solid rgba(0,218,146,.1215686275)}\n.__markerjs2_ .bb-annotation-toolbar{border-radius:6px;display:flex;height:42px;justify-content:center;text-align:center;gap:8px;color:#a4a7a6;border-bottom:12px solid rgba(0,0,0,0)}\n.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-button,.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-active-button{display:flex;align-items:center;justify-content:center;padding:0;height:32px;width:32px;border-radius:2px}\n.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-button[data-action=delete],.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-active-button[data-action=delete]{display:none}\n.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-button[data-action=clear],.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-active-button[data-action=clear]{order:99}\n.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-button svg,.__markerjs2_ .bb-annotation-toolbar .bb-marker-toolbar-active-button svg{height:20px;width:20px}\n.__markerjs2_ .bb-annotation-toolbar>div{display:flex;height:36px;padding:2px;background-color:hsla(0,0%,100%,.0784313725);align-items:center;justify-content:center;gap:8px;border-radius:4px;border:1px solid hsla(0,0%,100%,.0588235294)}\n.__markerjs2_ .bb-annotation-toolbar>div .bb-marker-toolbar-active-button,.__markerjs2_ .bb-annotation-toolbar>div .bb-marker-toolbar-active-button,.__markerjs2_ .bb-annotation-toolbar>div .bb-marker-toolbar-button:hover{background-color:hsla(0,0%,100%,.1)}\n.__markerjs2_ .bb-annotation-toolbar>div .bb-marker-toolbar-active-button svg,.__markerjs2_ .bb-annotation-toolbar>div .bb-marker-toolbar-active-button svg,.__markerjs2_ .bb-annotation-toolbar>div .bb-marker-toolbar-button:hover svg{color:#00da92}\n.__markerjs2_ .bb-annotation-toolbar>div:first-child .bb-marker-toolbar-active-button svg,.__markerjs2_ .bb-annotation-toolbar>div:first-child .bb-marker-toolbar-active-button svg,.__markerjs2_ .bb-annotation-toolbar>div:first-child .bb-marker-toolbar-button:hover svg{fill:#00da92}\n.__markerjs2_ .bb-annotation-toolbar>div:last-child .bb-marker-toolbar-active-button svg,.__markerjs2_ .bb-annotation-toolbar>div:last-child .bb-marker-toolbar-active-button svg,.__markerjs2_ .bb-annotation-toolbar>div:last-child .bb-marker-toolbar-button:hover svg{fill:#00da92}\n.__markerjs2_ .bb-annotation-toolbar>div:nth-child(2){flex-grow:initial !important;width:320px}\n.__markerjs2_ .bb-annotation-toolbar>div:nth-child(2) svg{height:auto;height:initial}\n.__markerjs2__0_toolbar_button_colors[data-action=delete]{display:none}\n.bb-editor-container{margin:.5rem auto;padding:0}\n.bb-editor-container.crop-screenshot{margin:2.5rem auto 0}\n.bb-editor-container .full-screenshot-container label{font-family:Inter;font-size:16px;font-style:normal;font-weight:400;line-height:150%;letter-spacing:.16px;color:#fff}\n.bb-editor-container .full-screenshot-container .ant-checkbox-wrapper{font-family:"Inter",sans-serif !important;font-size:1rem;font-weight:500;cursor:pointer !important}\n.bb-editor-container .full-screenshot-container .ant-checkbox-wrapper .ant-checkbox-inner{background-color:rgba(0,0,0,0);width:20px;height:20px;border:1px solid #fff}\n.bb-editor-container .full-screenshot-container .ant-checkbox-wrapper .ant-checkbox-inner::after{width:7px;height:12px;top:45%}\n.bb-editor-container .full-screenshot-container .ant-checkbox-wrapper .ant-checkbox-checked .ant-checkbox-inner{background-color:#00da92;border-color:#00da92}\n.bb-editor-container .bb-editor-image{height:auto;max-height:100% !important}\n.bb-editor-container.screenshot{margin:2.5rem auto;overflow:auto;padding:0}\n.bb-editor-container.screenshot::-webkit-scrollbar{display:none}\n.bb-editor-container.screenshot::-webkit-scrollbar-track{display:none}\n.bb-editor-container.screenshot::-webkit-scrollbar-thumb{display:none}\n.bb-editor-container.screenshot::-webkit-scrollbar-thumb:hover{display:none}\n.bb-editor-container.screenshot .__markerjs2_{height:calc(100vh - 128px)}\n.bb-editor-container.screenshot .__markerjs2_ ::-webkit-scrollbar{height:4px !important;width:4px !important}\n.bb-editor-container.screenshot .__markerjs2_ ::-webkit-scrollbar-track{background:rgba(0,0,0,0)}\n.bb-editor-container.screenshot .__markerjs2_ ::-webkit-scrollbar-thumb{background:hsla(0,0%,100%,.05);border-radius:15px}\n.bb-editor-container.screenshot .__markerjs2_>div{height:100%}\n.bb-editor-container.screenshot .__markerjs2_>div>div:nth-child(2){overflow-y:auto}\n.bb-editor-container.screenshot .__markerjs2_>div>div:nth-child(2) div{overflow-y:visible !important;overflow-y:initial !important}\n.bb-editor-container.screenshot .bb-editor-image{height:auto !important;height:initial !important;max-height:none !important;max-height:initial !important}\n.flex-100{width:100%;height:100%;position:relative}\n.flex-100 .bb-editor-container{width:100%;height:calc(100vh - 200px);position:relative;margin:0}\n.flex-100 .bb-editor-container .bb-video-player{width:100%;height:100%;margin:0 auto;position:relative;border-radius:8px;background-color:rgba(0,0,0,0) !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-button>.vjs-icon-placeholder:before{font-size:24px;line-height:inherit;display:flex;align-items:center;justify-content:center}\n.flex-100 .bb-editor-container .bb-video-player .videoPlayerOverlay{background:rgba(0,0,0,.3019607843);position:absolute;width:100%;height:100%;z-index:0;top:0;border-radius:8px;cursor:pointer}\n.flex-100 .bb-editor-container .bb-video-player .vjs-has-started .videoPlayerOverlay{display:none}\n.flex-100 .bb-editor-container .bb-video-player .vjs-big-play-button{width:98px;height:98px;background:rgba(0,0,0,0);border:none;z-index:1}\n.flex-100 .bb-editor-container .bb-video-player .vjs-big-play-button .customBigButtonPlay{display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, #00da92 0%, #33e1a8 100%)}\n.flex-100 .bb-editor-container .bb-video-player .vjs-big-play-button .customBigButtonPlay .customBigButtonPlayChild{width:94px;height:94px;border-radius:100%;background:#fff;display:flex;align-items:center;justify-content:center;padding-left:10px}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar{position:relative;height:25px;width:100%;z-index:99999999;margin:auto;bottom:53px}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator{position:absolute;top:50%;transform:translate(-50%, -50%);width:20px;font-size:8px;height:20px;border-radius:20px;background:#ff4d4f;border:1px solid #ff4d4f;color:#fff;display:flex;align-items:center;justify-content:center;box-shadow:1px 1px 10px 10px rgba(0,0,0,.1254901961);cursor:pointer}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator.warning{background:#ffc069;border:1px solid #ffc069}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator.annotationIndicator{background:rgba(0,0,0,.5019607843) !important;border:.5px solid rgba(0,0,0,.2392156863) !important;box-shadow:0px 4px 4px -1px rgba(12,12,13,.05) !important}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator.annotationIndicator:hover{background:rgba(0,0,0,.75) !important;border:.5px solid #303030 !important;box-shadow:0px 4px 4px -1px rgba(12,12,13,.05) !important;height:28px !important;width:28px !important}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator.annotationIndicator svg{height:auto !important;height:initial !important}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator svg{height:10px}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator .tooltip{position:absolute;width:200px;height:-moz-max-content;height:max-content;padding:12px;bottom:40px;font-size:10px;background-color:#000;color:#fff;border-radius:10px;display:none;transition:all .3s}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator .tooltip h6{font-weight:600;margin-bottom:8px;font-size:12px}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator .tooltip p{margin:0;line-height:14px}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator .tooltip.annotationTooltip{position:absolute;width:50px;padding:10px;bottom:40px;text-align:center;left:50%;transform:translate(-50%, 0)}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator:hover{background:#f42829;border:1px solid #f42829;width:30px;height:30px;font-size:12px;z-index:100000000000000000000;transition:all .1s}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator:hover.warning{background:#ffa940;border:1px solid #ffa940}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator:hover svg{height:15px}\n.flex-100 .bb-editor-container .bb-video-player .timelineBar .errorIndicator:hover .tooltip{transition:all .3s;display:block}\n.flex-100 .bb-editor-container .bb-video-player .video-js{width:100%;height:100%;margin:0 auto;position:relative;padding-top:0% !important;border-radius:8px}\n.flex-100 .bb-editor-container .bb-video-player .video-js video{width:100%;height:100%;margin:0 auto;position:relative}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar{position:relative;bottom:48px;height:48px;background:rgba(0,0,0,.5);z-index:99999999999;border-radius:0px 0px 8px 8px}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .play{display:block !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .pause{display:none !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playing .play{display:none !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playing .pause{display:block !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-skip-backward-5,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-skip-forward-5,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-play-control,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-fullscreen-control,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-remaining-time,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel{width:24px !important;height:24px !important;position:absolute;bottom:10px;z-index:999;display:flex;align-items:center;justify-content:center}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-skip-backward-5{left:6%}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-skip-forward-5{left:10%}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-play-control{left:2%}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-fullscreen-control{right:2%}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate{z-index:100000000000000000000000;right:6%;width:40px !important;text-align:right}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate .vjs-playback-rate-value{font-size:16px;line-height:1.5;padding-bottom:16px}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate .vjs-menu{width:230px;padding:4px 16px}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate .vjs-menu .vjs-menu-content{display:flex;justify-content:space-around;align-items:center;bottom:-18px;right:100%;padding:4px 12px;border-radius:25px;background:#1c2221}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate .vjs-menu .vjs-menu-content li{padding:4px 12px;border-radius:25px}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate .vjs-menu .vjs-menu-content li.vjs-selected{background:hsla(0,0%,100%,.1215686275);color:#fff}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate .vjs-menu .vjs-menu-content li.vjs-menu-item:focus,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-playback-rate .vjs-menu .vjs-menu-content li.vjs-menu-item:hover{background:hsla(0,0%,100%,.1215686275)}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel{left:14%;justify-content:initial}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-volume-horizontal{width:0;transition:none}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal{width:140px;padding:0 10px}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-volume-control{border-radius:25px;background:#1c2221}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-volume-bar.vjs-slider-horizontal{width:140px}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-mute-control{padding-right:16px;width:auto !important;width:initial !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-mute-control[title=Mute] .mute{display:block}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-mute-control[title=Mute] .unmute{display:none}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-mute-control[title=Unmute] .mute{display:none}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel .vjs-mute-control[title=Unmute] .unmute{display:block}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-volume-panel button{left:0;right:0;width:24px !important;height:24px !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-control-bar .vjs-remaining-time{left:50%;transform:translate(-50%, 0);font-size:.875rem}\n.flex-100 .bb-editor-container .bb-video-player .vjs-fullscreen-control[title=Fullscreen] .defaultscreen{display:block}\n.flex-100 .bb-editor-container .bb-video-player .vjs-fullscreen-control[title=Fullscreen] .fullscreen{display:none}\n.flex-100 .bb-editor-container .bb-video-player .vjs-fullscreen-control[title="Exit Fullscreen"] .defaultscreen{display:none}\n.flex-100 .bb-editor-container .bb-video-player .vjs-fullscreen-control[title="Exit Fullscreen"] .fullscreen{display:block}\n.flex-100 .bb-editor-container .bb-video-player .vjs-progress-control{position:absolute;width:100%;height:0;left:0;bottom:48px;right:0;align-items:flex-end}\n.flex-100 .bb-editor-container .bb-video-player .vjs-progress-control .vjs-progress-holder{margin:0;height:5px;background:rgba(0,0,0,0) !important;box-shadow:none !important}\n.flex-100 .bb-editor-container .bb-video-player .vjs-progress-control .vjs-play-progress{background-color:#00da92}\n.flex-100 .bb-editor-container .bb-video-player .vjs-progress-control .vjs-play-progress::before{content:none}\n.flex-100 .bb-editor-container img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}\n.bb-player-controller{height:120px;position:absolute;bottom:0px;width:100%;background:linear-gradient(180deg, rgba(0, 0, 0, 0) 22.5%, rgba(0, 0, 0, 0.68) 73.39%)}\n.bb-player-controller .controller-wrap{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 20px;color:#fff;position:absolute;width:100%;bottom:15px}\n.bb-player-controller .controller-wrap .row-1{width:100%;display:flex;justify-content:space-between;align-items:center;height:36px}\n.bb-player-controller .controller-wrap .row-1 .wrap-play-pause{display:flex;justify-content:space-between;align-items:center;flex:0 0 75px;gap:8px}\n.bb-player-controller .controller-wrap .row-1 .wrap-play-pause .btn-play-pause img{max-width:100%;cursor:pointer}\n.bb-player-controller .controller-wrap .row-1 .undo-redo-wrap{display:flex;flex:0 0 8%;justify-content:space-between;align-items:center}\n.bb-player-controller .controller-wrap .row-2{width:100%;display:flex;justify-content:space-between;align-items:center}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar{width:100%;margin-top:10px;position:relative}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider{border:none;box-shadow:none;padding:0}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar{height:24px;border-radius:2px;background:#9a9d9c}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .thumb{z-index:9999;width:0px;height:100%;border-radius:2px 0px 0px 2px;background:#10fdbb;display:flex;justify-content:space-evenly;transition:.3s all;align-items:center}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .thumb::after{content:"";height:34px;width:2px;background:#10fdbb;position:absolute;right:-3px;border-radius:20px;transition:.3s all;transform:translate(-50%, -50%);top:50%}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .thumb::before{background-color:transparent;background-color:initial;border:medium none currentcolor;border:initial;border-radius:0;border-radius:initial;box-shadow:none;box-shadow:initial;content:"||";color:#393939;cursor:inherit;height:auto;height:initial;margin:0;margin:initial;position:static;position:initial;width:auto;width:initial;transition:.3s all;z-index:auto;z-index:initial;display:none}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar:hover .thumb{width:12px}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar:hover .thumb::before{display:inline;display:initial}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .thumb-right::after{content:"";left:0px}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .bar-left,.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .bar-right{height:24px;border-radius:2px;background:#9a9d9c;box-shadow:none}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .bar-inner{box-shadow:none;background-color:#fff;position:relative}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .bar .bar-inner::after{height:34px;width:2px;left:var(--left-pos-bar);background:#10fdbb;position:absolute;border-radius:20px;top:50%;transform:translate(0, -50%);content:""}\n.bb-player-controller .controller-wrap .row-2 .bb-seek-bar .multi-range-slider .caption{display:none !important}\n.shimmer-btn{position:relative;overflow:hidden;pointer-events:none;opacity:.8}\n.shimmer-btn::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0) 100%);animation:shimmer 2s linear infinite}\n@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}\n.new-custom-quill-editor{margin-top:6px;gap:0px;border:none !important}\n.new-custom-quill-editor .ai-typing-animation p,.new-custom-quill-editor .ai-typing-animation li{opacity:0;position:relative;animation:fadeInText .5s ease-out forwards;background:linear-gradient(90deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.9) 45%, rgb(255, 255, 255) 50%, rgba(255, 255, 255, 0.9) 55%, rgba(255, 255, 255, 0.9) 100%);background-size:200% auto;color:rgba(0,0,0,0);background-clip:text;-webkit-background-clip:text;animation:fadeInText .5s ease-out forwards,shineText 2s linear forwards;transition:visibility 0s, opacity .5s ease-out}\n.new-custom-quill-editor .ai-typing-animation p[style*="visibility: visible"],.new-custom-quill-editor .ai-typing-animation li[style*="visibility: visible"]{animation-play-state:running}\n.new-custom-quill-editor .ai-typing-animation p[style*="visibility: hidden"],.new-custom-quill-editor .ai-typing-animation li[style*="visibility: hidden"]{animation-play-state:paused}\n.new-custom-quill-editor .quill{height:100px}\n.new-custom-quill-editor .quill .ql-container{border:none !important}\n.new-custom-quill-editor .quill .ql-container .ql-editor{padding:5px !important;color:hsla(0,0%,100%,.6);height:100% !important}\n.new-custom-quill-editor .quill .ql-container .ql-editor p,.new-custom-quill-editor .quill .ql-container .ql-editor li{font-size:.75rem}\n.new-custom-quill-editor .quill .ql-container .ql-editor::-webkit-scrollbar{height:0rem !important;width:.25rem !important}\n.new-custom-quill-editor .quill .ql-container .ql-editor::-webkit-scrollbar-track{background:rgba(0,0,0,0)}\n.new-custom-quill-editor .quill .ql-container .ql-editor::-webkit-scrollbar-thumb{background:hsla(0,0%,100%,.05);position:absolute;border-radius:15px}\n.new-custom-quill-editor .quill .ql-container .ql-editor.ql-blank::before{color:hsla(0,0%,100%,.4) !important;left:5px !important}\n.new-custom-quill-editor .quill .ql-container .ql-editor pre.ql-syntax,.new-custom-quill-editor .quill .ql-container .ql-editor code,.new-custom-quill-editor .quill .ql-container .ql-editor pre{background-color:hsla(0,0%,100%,.6);color:#000}\n.new-custom-quill-editor .quill .ql-container .ql-editor h1,.new-custom-quill-editor .quill .ql-container .ql-editor h2,.new-custom-quill-editor .quill .ql-container .ql-editor strong{color:#fff !important}\n.new-custom-quill-editor .ql-tooltip{z-index:9999999999 !important;box-shadow:none !important;background-color:#282d2c !important;color:hsla(0,0%,100%,.6) !important;border-radius:4px;left:0 !important}\n.new-custom-quill-editor .ql-tooltip input{background:hsla(0,0%,100%,.05) !important;border:none !important;border-radius:6px;outline:none !important}\n.new-custom-quill-editor .ql-tooltip .ql-action{color:#fff !important}\n.new-custom-quill-editor .ql-tooltip a.ql-preview{max-width:135px !important}\n.new-custom-quill-editor .ql-toolbar{display:flex;align-items:center;border:none !important;background-color:hsla(0,0%,100%,.05);border-top-left-radius:6px;border-top-right-radius:6px;height:36px !important;padding:0px 8px !important;text-align:center}\n.new-custom-quill-editor .ql-toolbar .ql-format{display:block !important}\n.new-custom-quill-editor .ql-toolbar .ql-stroke{stroke:hsla(0,0%,100%,.6) !important}\n.new-custom-quill-editor .ql-toolbar .ql-fill{fill:hsla(0,0%,100%,.6) !important}\n.new-custom-quill-editor .ql-toolbar .ql-picker-options{background-color:#282d2c}\n.new-custom-quill-editor .ql-toolbar .ql-icon-picker{width:26px !important}\n.new-custom-quill-editor .ql-toolbar .ql-picker{float:none !important;float:initial !important;vertical-align:top !important}\n.new-custom-quill-editor .ql-toolbar button{float:none !important;float:initial !important;height:22px !important;color:#fff !important}\n.new-custom-quill-editor .ql-toolbar button:hover .ql-stroke,.new-custom-quill-editor .ql-toolbar button.ql-active .ql-stroke{stroke:#fff !important}\n.new-custom-quill-editor .ql-toolbar button:hover .ql-fill,.new-custom-quill-editor .ql-toolbar button.ql-active .ql-fill{fill:#fff !important}\n.new-custom-quill-editor .ql-toolbar .btn{width:150px !important;color:#fff !important;padding:5px 10px;border-radius:25px;font-weight:500 !important;display:flex !important;align-items:center !important;justify-content:center !important;gap:6px;background:linear-gradient(140.49deg, rgba(0, 218, 146, 0.12) 0.06%, rgba(129, 229, 196, 0.12) 33.5%, rgba(164, 164, 208, 0.12) 81.82%);transition:all .3s}\n.new-custom-quill-editor .ql-toolbar .btn:hover{transition:all .3s}\n.new-custom-quill-editor .ql-toolbar .btn svg{float:none !important;float:initial !important;height:auto !important;height:initial !important}\n.new-custom-quill-editor .ql-toolbar .btn button{height:34px !important;width:150px !important;color:#fff !important;padding:5px 10px;border-radius:25px;font-weight:500 !important;display:flex !important;align-items:center !important;justify-content:center !important;gap:6px}\n.new-custom-quill-editor .ql-toolbar .btn button svg{float:none !important;float:initial !important;height:auto !important;height:initial !important}\ninput::-moz-placeholder, select::-moz-placeholder{color:hsla(0,0%,100%,.4) !important}\ninput::placeholder,select::placeholder{color:hsla(0,0%,100%,.4) !important}\n*::-webkit-scrollbar{height:.25rem !important;width:.25rem !important}\n*::-webkit-scrollbar-track{background:rgba(0,0,0,0)}\n*::-webkit-scrollbar-thumb{background:hsla(0,0%,100%,.05);position:absolute;border-radius:15px}\n.placeholder\\:text-gray-500::-moz-placeholder{--tw-text-opacity:1 !important;color:rgba(107, 114, 128, 1) !important;color:rgba(107, 114, 128, var(--tw-text-opacity, 1)) !important}\n.placeholder\\:text-gray-500::placeholder{--tw-text-opacity:1 !important;color:rgba(107, 114, 128, 1) !important;color:rgba(107, 114, 128, var(--tw-text-opacity, 1)) !important}\n.hover\\:border-\\[\\#00DA92\\]:hover{--tw-border-opacity:1 !important;border-color:rgba(0, 218, 146, 1) !important;border-color:rgba(0, 218, 146, var(--tw-border-opacity, 1)) !important}\n.hover\\:bg-\\[\\#00DA92\\]\\/90:hover{background-color:rgba(0, 218, 146, 0.9) !important}\n.hover\\:bg-\\[\\#2A2A2A\\]:hover{--tw-bg-opacity:1 !important;background-color:rgba(42, 42, 42, 1) !important;background-color:rgba(42, 42, 42, var(--tw-bg-opacity, 1)) !important}\n.hover\\:bg-\\[\\#333333\\]:hover{--tw-bg-opacity:1 !important;background-color:rgba(51, 51, 51, 1) !important;background-color:rgba(51, 51, 51, var(--tw-bg-opacity, 1)) !important}\n.hover\\:bg-\\[\\#3A3A3A\\]:hover{--tw-bg-opacity:1 !important;background-color:rgba(58, 58, 58, 1) !important;background-color:rgba(58, 58, 58, var(--tw-bg-opacity, 1)) !important}\n.hover\\:bg-white\\/10:hover{background-color:rgba(255, 255, 255, 0.1) !important}\n.hover\\:text-white:hover{--tw-text-opacity:1 !important;color:rgba(255, 255, 255, 1) !important;color:rgba(255, 255, 255, var(--tw-text-opacity, 1)) !important}\n.hover\\:opacity-90:hover{opacity:0.9 !important}\n.focus\\:border-\\[\\#00DA92\\]:focus{--tw-border-opacity:1 !important;border-color:rgba(0, 218, 146, 1) !important;border-color:rgba(0, 218, 146, var(--tw-border-opacity, 1)) !important}\n.focus\\:border-\\[\\#00da92\\]:focus{--tw-border-opacity:1 !important;border-color:rgba(0, 218, 146, 1) !important;border-color:rgba(0, 218, 146, var(--tw-border-opacity, 1)) !important}\n.focus\\:outline-none:focus{outline:2px solid transparent !important;outline-offset:2px !important}\n.focus\\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), 0 0 rgba(0,0,0,0) !important;box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 rgba(0,0,0,0)) !important}\n.focus\\:ring-\\[\\#00DA92\\]\\/50:focus{--tw-ring-color:rgba(0, 218, 146, 0.5) !important}\n.focus\\:ring-\\[\\#3A3A3A\\]:focus{--tw-ring-opacity:1 !important;--tw-ring-color:rgba(58, 58, 58, var(--tw-ring-opacity, 1)) !important}\n.active\\:bg-\\[\\#383838\\]:active{--tw-bg-opacity:1 !important;background-color:rgba(56, 56, 56, 1) !important;background-color:rgba(56, 56, 56, var(--tw-bg-opacity, 1)) !important}\n.group:hover .group-hover\\:scale-110{--tw-scale-x:1.1 !important;--tw-scale-y:1.1 !important;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(1.1) scaleY(1.1) !important;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) !important}\n.group:hover .group-hover\\:opacity-100{opacity:1 !important}',""]),t.default=o},6314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);i&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},4417:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1601:function(e){"use strict";e.exports=function(e){return e[1]}},6678:function(e,t,n){var i=n(8593);e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected String, Found "+typeof e);var t=i(e);return`\n      fetch( \n            '${t.url}', \n            {headers:${JSON.stringify(t.header)},\n            method:'${t.method}'}\n           )\n           .then(console.log, console.error)`}},137:function(e,t,n){var i=n(4523),r=(n(9604),n(5192).parse),s="-",o={request:"method"};function a(e){var t={method:"GET",url:"",httpVersion:"HTTP/1.1",queryString:[],headers:[],cookies:[],postData:{}};return e[0][0]!==s&&e.unshift("--url"),argument_pairs=e.chunk(2),i.each(argument_pairs,(function(e,n,r){var a,l,u,c=e[0].slice(1).toLowerCase(),A=e[1];if(i.isEqual(e[0].substring(0,1),s))switch(c){case"-url":t.url=A.substring(0,A.indexOf("?"))||A,t.queryString=(l=[],u=(a=A).slice(a.indexOf("?")).slice(1),i.isEmpty(u)||i.each(u.split("&"),(function(e){l.push({name:e.split("=")[0],value:e.split("=")[1]})})),l);break;case"h":case"-header":t.headers.push({name:A.split(":")[0].trim(),value:A.split(":")[1].trim()});break;case"-cookie":var d=[];i.each(A.split("; "),(function(e){d.push({name:e.split("=")[0],value:e.split("=")[1]})})),t.cookies=d;break;case"d":case"-data":t.postData={mimeType:"application/json",text:JSON.parse(A)};break;case"x":case"-request":t.method=A;break;default:t[o[c]]=A}})),t}Array.prototype.chunk=function(e){var t=this;return[].concat.apply([],t.map((function(n,i){return i%e?[]:[t.slice(i,i+e)]})))},e.exports=function(e){var t=r(e);if("curl"===t[0]){var n=t.slice(1);if(n.length%2==0||!n[1][0]!=s)return a(n)}}},3744:function(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||((i=i||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,s=Object.keys,o=Array.isArray;function a(e,t){return"object"!=typeof t||s(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);var l=Object.getPrototypeOf,u={}.hasOwnProperty;function c(e,t){return u.call(e,t)}function A(e,t){"function"==typeof t&&(t=t(l(e))),("undefined"==typeof Reflect?s:Reflect.ownKeys)(t).forEach((function(n){h(e,n,t[n])}))}var d=Object.defineProperty;function h(e,t,n,i){d(e,t,a(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:A.bind(null,e.prototype)}}}}var f=Object.getOwnPropertyDescriptor,g=[].slice;function m(e,t,n){return g.call(e,t,n)}function v(e,t){return t(e)}function y(e){if(!e)throw new Error("Assertion Failed")}function b(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function w(e,t){if("string"==typeof t&&c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],i=0,r=t.length;i<r;++i){var s=w(e,t[i]);n.push(s)}return n}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return null==a?void 0:w(a,t.substr(o+1))}}function C(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){y("string"!=typeof n&&"length"in n);for(var i=0,r=t.length;i<r;++i)C(e,t[i],n[i])}else{var s,a,l=t.indexOf(".");-1!==l?(s=t.substr(0,l),""===(a=t.substr(l+1))?void 0===n?o(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n:C(l=(l=e[s])&&c(e,s)?l:e[s]={},a,n)):void 0===n?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function x(e){var t,n={};for(t in e)c(e,t)&&(n[t]=e[t]);return n}var B=[].concat;function S(e){return B.apply([],e)}var _="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(S([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return r[e]})),k=new Set(_.map((function(e){return r[e]}))),T=null;function E(e){return T=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=T.get(t);if(n)return n;if(o(t)){n=[],T.set(t,n);for(var i=0,r=t.length;i<r;++i)n.push(e(t[i]))}else if(k.has(t.constructor))n=t;else{var s,a=l(t);for(s in n=a===Object.prototype?{}:Object.create(a),T.set(t,n),t)c(t,s)&&(n[s]=e(t[s]))}return n}(e),T=null,e}var I={}.toString;function U(e){return I.call(e).slice(8,-1)}var F="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",D="symbol"==typeof F?function(e){var t;return null!=e&&(t=e[F])&&t.apply(e)}:function(){return null};function L(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var O={};function N(e){var t,n,i,r;if(1===arguments.length){if(o(e))return e.slice();if(this===O&&"string"==typeof e)return[e];if(r=D(e)){for(n=[];!(i=r.next()).done;)n.push(i.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var M="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},j=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),R={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Q(e,t){this.name=e,this.message=t}function P(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function H(e,t,n,i){this.failures=t,this.failedKeys=i,this.successCount=n,this.message=P(e,t)}function q(e,t){this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=P(e,this.failures)}p(Q).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(H).from(Q),p(q).from(Q);var V=j.reduce((function(e,t){return e[t]=t+"Error",e}),{}),z=Q,K=j.reduce((function(e,t){var n=t+"Error";function i(e,i){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(i?"\n "+i:""),this.inner=i||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=R[t]||n,this.inner=null)}return p(i).from(z),e[t]=i,e}),{});K.Syntax=SyntaxError,K.Type=TypeError,K.Range=RangeError;var G=le.reduce((function(e,t){return e[t+"Error"]=K[t],e}),{}),W=j.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=K[t]),e}),{});function $(){}function X(e){return e}function Y(e,t){return null==e||e===X?t:function(n){return t(e(n))}}function J(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Z(e,t){return e===$?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?J(i,this.onsuccess):i),r&&(this.onerror=this.onerror?J(r,this.onerror):r),void 0!==s?s:n}}function ee(e,t){return e===$?t:function(){e.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),i&&(this.onerror=this.onerror?J(i,this.onerror):i)}}function te(e,t){return e===$?t:function(n){var i=e.apply(this,arguments);a(n,i);var r=this.onsuccess,s=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?J(r,this.onsuccess):r),s&&(this.onerror=this.onerror?J(s,this.onerror):s),void 0===i?void 0===n?void 0:n:a(i,n)}}function ne(e,t){return e===$?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ie(e,t){return e===$?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var i=this,r=arguments.length,s=new Array(r);r--;)s[r]=arguments[r];return n.then((function(){return t.apply(i,s)}))}return t.apply(this,arguments)}}W.ModifyError=H,W.DexieError=Q,W.BulkError=q;var re="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function se(e){re=e}var oe={},ae=100,le=(_="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,l(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,l(t),e]}(),_[0]),ue=(j=_[1],_=_[2],j=j&&j.then,le&&le.constructor),ce=!!_,Ae=function(e,t){ye.push([e,t]),he&&(queueMicrotask(Ee),he=!1)},de=!0,he=!0,pe=[],fe=[],ge=X,me={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$,pgp:!1,env:{},finalize:$},ve=me,ye=[],be=0,we=[];function Ce(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ve;if("function"!=typeof e){if(e!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Se(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n((function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var i=t._lib&&Ie();n&&"function"==typeof n.then?e(t,(function(e,t){n instanceof Ce?n._then(e,t):n.then(e,t)})):(t._state=!0,t._value=n,_e(t)),i&&Ue()}}),Se.bind(null,t))}catch(n){Se(t,n)}}(this,e)}var xe={get:function(){var e=ve,t=Re;function n(n,i){var r=this,s=!e.global&&(e!==ve||t!==Re),o=s&&!qe(),a=new Ce((function(t,a){ke(r,new Be($e(n,e,s,o),$e(i,e,s,o),t,a,e))}));return this._consoleTask&&(a._consoleTask=this._consoleTask),a}return n.prototype=oe,n},set:function(e){h(this,"then",e&&e.prototype===oe?xe:{get:function(){return e},set:xe.set})}};function Be(e,t,n,i,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i,this.psd=r}function Se(e,t){var n,i;fe.push(t),null===e._state&&(n=e._lib&&Ie(),t=ge(t),e._state=!1,e._value=t,i=e,pe.some((function(e){return e._value===i._value}))||pe.push(i),_e(e),n&&Ue())}function _e(e){var t=e._listeners;e._listeners=[];for(var n=0,i=t.length;n<i;++n)ke(e,t[n]);var r=e._PSD;--r.ref||r.finalize(),0===be&&(++be,Ae((function(){0==--be&&Fe()}),[]))}function ke(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++be,Ae(Te,[n,e,t])}else e._listeners.push(t)}function Te(e,t,n){try{var i,r=t._value;!t._state&&fe.length&&(fe=[]),i=re&&t._consoleTask?t._consoleTask.run((function(){return e(r)})):e(r),t._state||-1!==fe.indexOf(r)||function(e){for(var t=pe.length;t;)if(pe[--t]._value===e._value)return pe.splice(t,1)}(t),n.resolve(i)}catch(e){n.reject(e)}finally{0==--be&&Fe(),--n.psd.ref||n.psd.finalize()}}function Ee(){We(me,(function(){Ie()&&Ue()}))}function Ie(){var e=de;return he=de=!1,e}function Ue(){var e,t,n;do{for(;0<ye.length;)for(e=ye,ye=[],n=e.length,t=0;t<n;++t){var i=e[t];i[0].apply(null,i[1])}}while(0<ye.length);he=de=!0}function Fe(){var e=pe;pe=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=we.slice(0),n=t.length;n;)t[--n]()}function De(e){return new Ce(oe,!1,e)}function Le(e,t){var n=ve;return function(){var i=Ie(),r=ve;try{return Ke(n,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{Ke(r,!1),i&&Ue()}}}A(Ce.prototype,{then:xe,_then:function(e,t){ke(this,new Be(null,null,e,t,ve))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return(e instanceof t?n:De)(e)})):this.then(null,(function(e){return(e&&e.name===t?n:De)(e)}))},finally:function(e){return this.then((function(t){return Ce.resolve(e()).then((function(){return t}))}),(function(t){return Ce.resolve(e()).then((function(){return De(t)}))}))},timeout:function(e,t){var n=this;return e<1/0?new Ce((function(i,r){var s=setTimeout((function(){return r(new K.Timeout(t))}),e);n.then(i,r).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),me.env=Ge(),A(Ce,{all:function(){var e=N.apply(null,arguments).map(Ve);return new Ce((function(t,n){0===e.length&&t([]);var i=e.length;e.forEach((function(r,s){return Ce.resolve(r).then((function(n){e[s]=n,--i||t(e)}),n)}))}))},resolve:function(e){return e instanceof Ce?e:e&&"function"==typeof e.then?new Ce((function(t,n){e.then(t,n)})):new Ce(oe,!0,e)},reject:De,race:function(){var e=N.apply(null,arguments).map(Ve);return new Ce((function(t,n){e.map((function(e){return Ce.resolve(e).then(t,n)}))}))},PSD:{get:function(){return ve},set:function(e){return ve=e}},totalEchoes:{get:function(){return Re}},newPSD:Pe,usePSD:We,scheduler:{get:function(){return Ae},set:function(e){Ae=e}},rejectionMapper:{get:function(){return ge},set:function(e){ge=e}},follow:function(e,t){return new Ce((function(n,i){return Pe((function(t,n){var i=ve;i.unhandleds=[],i.onunhandled=n,i.finalize=J((function(){var e,i=this;e=function(){0===i.unhandleds.length?t():n(i.unhandleds[0])},we.push((function t(){e(),we.splice(we.indexOf(t),1)})),++be,Ae((function(){0==--be&&Fe()}),[])}),i.finalize),e()}),t,n,i)}))}}),ue&&(ue.allSettled&&h(Ce,"allSettled",(function(){var e=N.apply(null,arguments).map(Ve);return new Ce((function(t){0===e.length&&t([]);var n=e.length,i=new Array(n);e.forEach((function(e,r){return Ce.resolve(e).then((function(e){return i[r]={status:"fulfilled",value:e}}),(function(e){return i[r]={status:"rejected",reason:e}})).then((function(){return--n||t(i)}))}))}))})),ue.any&&"undefined"!=typeof AggregateError&&h(Ce,"any",(function(){var e=N.apply(null,arguments).map(Ve);return new Ce((function(t,n){0===e.length&&n(new AggregateError([]));var i=e.length,r=new Array(i);e.forEach((function(e,s){return Ce.resolve(e).then((function(e){return t(e)}),(function(e){r[s]=e,--i||n(new AggregateError(r))}))}))}))})),ue.withResolvers&&(Ce.withResolvers=ue.withResolvers));var Oe={awaits:0,echoes:0,id:0},Ne=0,Me=[],je=0,Re=0,Qe=0;function Pe(e,t,n,i){var r=ve,s=Object.create(r);return s.parent=r,s.ref=0,s.global=!1,s.id=++Qe,me.env,s.env=ce?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},t&&a(s,t),++r.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},i=We(s,e,n,i),0===s.ref&&s.finalize(),i}function He(){return Oe.id||(Oe.id=++Ne),++Oe.awaits,Oe.echoes+=ae,Oe.id}function qe(){return!!Oe.awaits&&(0==--Oe.awaits&&(Oe.id=0),Oe.echoes=Oe.awaits*ae,!0)}function Ve(e){return Oe.echoes&&e&&e.constructor===ue?(He(),e.then((function(e){return qe(),e}),(function(e){return qe(),Ye(e)}))):e}function ze(){var e=Me[Me.length-1];Me.pop(),Ke(e,!1)}function Ke(e,t){var n,i=ve;(t?!Oe.echoes||je++&&e===ve:!je||--je&&e===ve)||queueMicrotask(t?function(e){++Re,Oe.echoes&&0!=--Oe.echoes||(Oe.echoes=Oe.awaits=Oe.id=0),Me.push(ve),Ke(e,!0)}.bind(null,e):ze),e!==ve&&(ve=e,i===me&&(me.env=Ge()),ce&&(n=me.env.Promise,t=e.env,(i.global||e.global)&&(Object.defineProperty(r,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Ge(){var e=r.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function We(e,t,n,i,r){var s=ve;try{return Ke(e,!0),t(n,i,r)}finally{Ke(s,!1)}}function $e(e,t,n,i){return"function"!=typeof e?e:function(){var r=ve;n&&He(),Ke(t,!0);try{return e.apply(this,arguments)}finally{Ke(r,!1),i&&queueMicrotask(qe)}}}function Xe(e){Promise===ue&&0===Oe.echoes?0===je?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+j).indexOf("[native code]")&&(He=qe=$);var Ye=Ce.reject,Je=String.fromCharCode(65535),Ze="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",et="String expected.",tt=[],nt="__dbnames",it="readonly",rt="readwrite";function st(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=E(t))[e],t}}function lt(){throw K.Type()}function ut(e,t){try{var n=ct(e),i=ct(t);if(n!==i)return"Array"===n?1:"Array"===i?-1:"binary"===n?1:"binary"===i?-1:"string"===n?1:"string"===i?-1:"Date"===n?1:"Date"!==i?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,i=t.length,r=n<i?n:i,s=0;s<r;++s)if(e[s]!==t[s])return e[s]<t[s]?-1:1;return n===i?0:n<i?-1:1}(At(e),At(t));case"Array":return function(e,t){for(var n=e.length,i=t.length,r=n<i?n:i,s=0;s<r;++s){var o=ut(e[s],t[s]);if(0!==o)return o}return n===i?0:n<i?-1:1}(e,t)}}catch(e){}return NaN}function ct(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=U(e))?"binary":e}function At(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var dt=(ht.prototype._trans=function(e,t,n){var i=this._tx||ve.trans,r=this.name,s=re&&"undefined"!=typeof console&&console.createTask&&void 0;function o(e,n,i){if(!i.schema[r])throw new K.NotFound("Table "+r+" not part of transaction");return t(i.idbtrans,i)}var a=Ie();try{var l=i&&i.db._novip===this.db._novip?i===ve.trans?i._promise(e,o,n):Pe((function(){return i._promise(e,o,n)}),{trans:i,transless:ve.transless||ve}):function e(t,n,i,r){if(t.idbdb&&(t._state.openComplete||ve.letThrough||t._vip)){var s=t._createTransaction(n,i,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===V.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(t.close({disableAutoOpen:!1}),t.open().then((function(){return e(t,n,i,r)}))):Ye(s)}return s._promise(n,(function(e,t){return Pe((function(){return ve.trans=s,r(e,t,s)}))})).then((function(e){if("readwrite"===n)try{s.idbtrans.commit()}catch(e){}return"readonly"===n?e:s._completion.then((function(){return e}))}))}if(t._state.openComplete)return Ye(new K.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return Ye(new K.DatabaseClosed);t.open().catch($)}return t._state.dbReadyPromise.then((function(){return e(t,n,i,r)}))}(this.db,e,[this.name],o);return s&&(l._consoleTask=s,l=l.catch((function(e){return Ye(e)}))),l}finally{a&&Ue()}},ht.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?Ye(new K.Type("Invalid argument to Table.get()")):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},ht.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=s(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){if(e.compound&&t.every((function(t){return 0<=e.keyPath.indexOf(t)}))){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort((function(e,t){return e.keyPath.length-t.keyPath.length}))[0];if(n&&this.db._maxKey!==Je){var i=n.keyPath.slice(0,t.length);return this.where(i).equals(i.map((function(t){return e[t]})))}var r=this.schema.idxByName;function a(e,t){return 0===ut(e,t)}var l=t.reduce((function(t,n){var i=t[0],s=t[1],l=(t=r[n],e[n]);return[i||t,i||!t?st(s,t&&t.multi?function(e){return e=w(e,n),o(e)&&e.some((function(e){return a(l,e)}))}:function(e){return a(l,w(e,n))}):s]}),[null,null]);return i=l[0],l=l[1],i?this.where(i.name).equals(e[i.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},ht.prototype.filter=function(e){return this.toCollection().and(e)},ht.prototype.count=function(e){return this.toCollection().count(e)},ht.prototype.offset=function(e){return this.toCollection().offset(e)},ht.prototype.limit=function(e){return this.toCollection().limit(e)},ht.prototype.each=function(e){return this.toCollection().each(e)},ht.prototype.toArray=function(e){return this.toCollection().toArray(e)},ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ht.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"[".concat(e.join("+"),"]"):e))},ht.prototype.reverse=function(){return this.toCollection().reverse()},ht.prototype.mapToClass=function(t){var n,i=this.db,r=this.name;function s(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof lt&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}(s,n=t),Object.defineProperty(s.prototype,"db",{get:function(){return i},enumerable:!1,configurable:!0}),s.prototype.table=function(){return r},t=s);for(var o=new Set,a=t.prototype;a;a=l(a))Object.getOwnPropertyNames(a).forEach((function(e){return o.add(e)}));function u(e){if(!e)return e;var n,i=Object.create(t.prototype);for(n in e)if(!o.has(n))try{i[n]=e[n]}catch(e){}return i}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook("reading",u),t},ht.prototype.defineClass=function(){return this.mapToClass((function(e){a(this,e)}))},ht.prototype.add=function(e,t){var n=this,i=this.schema.primKey,r=i.auto,s=i.keyPath,o=e;return s&&r&&(o=at(s)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]})})).then((function(e){return e.numFailures?Ce.reject(e.failures[0]):e.lastResult})).then((function(t){if(s)try{C(e,s,t)}catch(t){}return t}))},ht.prototype.update=function(e,t){return"object"!=typeof e||o(e)?this.where(":id").equals(e).modify(t):void 0===(e=w(e,this.schema.primKey.keyPath))?Ye(new K.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},ht.prototype.put=function(e,t){var n=this,i=this.schema.primKey,r=i.auto,s=i.keyPath,o=e;return s&&r&&(o=at(s)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Ce.reject(e.failures[0]):e.lastResult})).then((function(t){if(s)try{C(e,s,t)}catch(t){}return t}))},ht.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Ce.reject(e.failures[0]):void 0}))},ht.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:ot})})).then((function(e){return e.numFailures?Ce.reject(e.failures[0]):void 0}))},ht.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},ht.prototype.bulkAdd=function(e,t,n){var i=this,r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(a=i.schema.primKey).auto;if((a=a.keyPath)&&r)throw new K.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");var o=e.length,a=a&&n?e.map(at(a)):e;return i.core.mutate({trans:t,type:"add",keys:r,values:a,wantResults:s}).then((function(e){var t=e.numFailures,n=e.results,r=e.lastResult;if(e=e.failures,0===t)return s?n:r;throw new q("".concat(i.name,".bulkAdd(): ").concat(t," of ").concat(o," operations failed"),e)}))}))},ht.prototype.bulkPut=function(e,t,n){var i=this,r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(a=i.schema.primKey).auto;if((a=a.keyPath)&&r)throw new K.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");var o=e.length,a=a&&n?e.map(at(a)):e;return i.core.mutate({trans:t,type:"put",keys:r,values:a,wantResults:s}).then((function(e){var t=e.numFailures,n=e.results,r=e.lastResult;if(e=e.failures,0===t)return s?n:r;throw new q("".concat(i.name,".bulkPut(): ").concat(t," of ").concat(o," operations failed"),e)}))}))},ht.prototype.bulkUpdate=function(e){var t=this,n=this.core,i=e.map((function(e){return e.key})),r=e.map((function(e){return e.changes})),s=[];return this._trans("readwrite",(function(o){return n.getMany({trans:o,keys:i,cache:"clone"}).then((function(a){var l=[],u=[];e.forEach((function(e,n){var i=e.key,r=e.changes,o=a[n];if(o){for(var c=0,A=Object.keys(r);c<A.length;c++){var d=A[c],h=r[d];if(d===t.schema.primKey.keyPath){if(0!==ut(h,i))throw new K.Constraint("Cannot update primary key in bulkUpdate()")}else C(o,d,h)}s.push(n),l.push(i),u.push(o)}}));var c=l.length;return n.mutate({trans:o,type:"put",keys:l,values:u,updates:{keys:i,changeSpecs:r}}).then((function(e){var n=e.numFailures,i=e.failures;if(0===n)return c;for(var r=0,o=Object.keys(i);r<o.length;r++){var a,l=o[r],u=s[Number(l)];null!=u&&(a=i[l],delete i[l],i[u]=a)}throw new q("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(c," operations failed"),i)}))}))}))},ht.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var i=e.numFailures,r=e.lastResult;if(e=e.failures,0===i)return r;throw new q("".concat(t.name,".bulkDelete(): ").concat(i," of ").concat(n," operations failed"),e)}))},ht);function ht(){}function pt(e){function t(t,i){if(i){for(var r=arguments.length,s=new Array(r-1);--r;)s[r-1]=arguments[r];return n[t].subscribe.apply(null,s),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=a;for(var i=1,r=arguments.length;i<r;++i)a(arguments[i]);return t;function a(e,i,r){if("object"!=typeof e){var l;i=i||ne;var u={subscribers:[],fire:r=r||$,subscribe:function(e){-1===u.subscribers.indexOf(e)&&(u.subscribers.push(e),u.fire=i(u.fire,e))},unsubscribe:function(e){u.subscribers=u.subscribers.filter((function(t){return t!==e})),u.fire=u.subscribers.reduce(i,r)}};return n[e]=t[e]=u}s(l=e).forEach((function(e){var t=l[e];if(o(t))a(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new K.InvalidArgument("Invalid event config");var n=a(e,X,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){b((function(){e.apply(null,t)}))}))}))}}))}}function ft(e,t){return p(t).from({prototype:e}),t}function gt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function mt(e,t){e.filter=st(e.filter,t)}function vt(e,t,n){var i=e.replayFilter;e.replayFilter=i?function(){return st(i(),t())}:t,e.justLimit=n&&!i}function yt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new K.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function bt(e,t,n){var i=yt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:i,range:e.range}})}function wt(e,t,n,i){var r=e.replayFilter?st(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},o=function(e,n,i){var o,a;r&&!r(n,i,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))||("[object ArrayBuffer]"==(a=""+(o=n.primaryKey))&&(a=""+new Uint8Array(o)),c(s,a)||(s[a]=!0,t(e,n,i)))};return Promise.all([e.or._iterate(o,n),Ct(bt(e,i,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Ct(bt(e,i,n),st(e.algorithm,r),t,!e.keysOnly&&e.valueMapper)}function Ct(e,t,n,i){var r=Le(i?function(e,t,r){return n(i(e),t,r)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=$}),(function(t){e.fail(t),n=$}))||r(e.value,e,(function(e){return n=e})),n()}))}))}var xt=(Bt.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var n=t.add;if(o(n))return i(i([],o(e)?e:[],!0),n,!0).sort();if("number"==typeof n)return(Number(e)||0)+n;if("bigint"==typeof n)try{return BigInt(e)+n}catch(e){return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(void 0!==t.remove){var r=t.remove;if(o(r))return o(e)?e.filter((function(e){return!r.includes(e)})).sort():[];if("number"==typeof r)return Number(e)-r;if("bigint"==typeof r)try{return BigInt(e)-r}catch(e){return BigInt(0)-r}throw new TypeError("Invalid subtrahend ".concat(r))}return(n=null===(n=t.replacePrefix)||void 0===n?void 0:n[0])&&"string"==typeof e&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},Bt);function Bt(e){this["@@propmod"]=e}var St=(_t.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Ye.bind(null,n.error)):n.table._trans("readonly",e).then(t)},_t.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ye.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},_t.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=st(t.algorithm,e)},_t.prototype._iterate=function(e,t){return wt(this._ctx,e,t,this._ctx.table.core)},_t.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},_t.prototype.raw=function(){return this._ctx.valueMapper=null,this},_t.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return wt(t,e,n,t.table.core)}))},_t.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,i=n.table.core;if(gt(n,!0))return i.count({trans:e,query:{index:yt(n,i.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var r=0;return wt(n,(function(){return++r,!1}),e,i).then((function(){return r}))})).then(e)},_t.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),i=n[0],r=n.length-1;function s(e,t){return t?s(e[n[t]],t-1):e[i]}var o="next"===this._ctx.dir?1:-1;function a(e,t){return ut(s(e,r),s(t,r))*o}return this.toArray((function(e){return e.sort(a)})).then(t)},_t.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&gt(n,!0)&&0<n.limit){var i=n.valueMapper,r=yt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:r,range:n.range}}).then((function(e){return e=e.result,i?e.map(i):e}))}var s=[];return wt(n,(function(e){return s.push(e)}),e,n.table.core).then((function(){return s}))}),e)},_t.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,gt(t)?vt(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n((function(){e.advance(t),t=0})),!1)}})):vt(t,(function(){var t=e;return function(){return--t<0}}))),this},_t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),vt(this._ctx,(function(){var t=e;return function(e,n,i){return--t<=0&&n(i),0<=t}}),!0),this},_t.prototype.until=function(e,t){return mt(this._ctx,(function(n,i,r){return!e(n.value)||(i(r),t)})),this},_t.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},_t.prototype.last=function(e){return this.reverse().first(e)},_t.prototype.filter=function(e){var t;return mt(this._ctx,(function(t){return e(t.value)})),(t=this._ctx).isMatch=st(t.isMatch,e),this},_t.prototype.and=function(e){return this.filter(e)},_t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},_t.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},_t.prototype.desc=function(){return this.reverse()},_t.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},_t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},_t.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},_t.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},_t.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&gt(t,!0)&&0<t.limit)return this._read((function(e){var n=yt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},_t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},_t.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},_t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},_t.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return mt(this._ctx,(function(e){var n=e.primaryKey.toString();return e=c(t,n),t[n]=!0,!e})),this},_t.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(i){var r,o,a;a="function"==typeof e?e:(r=s(e),o=r.length,function(t){for(var n=!1,i=0;i<o;++i){var s=r[i],a=e[s],l=w(t,s);a instanceof xt?(C(t,s,a.execute(l)),n=!0):l!==a&&(C(t,s,a),n=!0)}return n});var l,u=n.table.core,c=(l=u.schema.primaryKey).outbound,A=l.extractKey,d=200;function h(e,t){var n=t.failures;t=t.numFailures,f+=e-t;for(var i=0,r=s(n);i<r.length;i++){var o=r[i];p.push(n[o])}}(l=t.db._options.modifyChunkSize)&&(d="object"==typeof l?l[u.name]||l["*"]||200:l);var p=[],f=0,g=[];return t.clone().primaryKeys().then((function(t){function r(n){var o=Math.min(d,t.length-n);return u.getMany({trans:i,keys:t.slice(n,n+o),cache:"immutable"}).then((function(l){for(var p=[],f=[],g=c?[]:null,m=[],v=0;v<o;++v){var y=l[v],b={value:E(y),primKey:t[n+v]};!1!==a.call(b,b.value,b)&&(null==b.value?m.push(t[n+v]):c||0===ut(A(y),A(b.value))?(f.push(b.value),c&&g.push(t[n+v])):(m.push(t[n+v]),p.push(b.value)))}return Promise.resolve(0<p.length&&u.mutate({trans:i,type:"add",values:p}).then((function(e){for(var t in e.failures)m.splice(parseInt(t),1);h(p.length,e)}))).then((function(){return(0<f.length||s&&"object"==typeof e)&&u.mutate({trans:i,type:"put",keys:g,values:f,criteria:s,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<n}).then((function(e){return h(f.length,e)}))})).then((function(){return(0<m.length||s&&e===kt)&&u.mutate({trans:i,type:"delete",keys:m,criteria:s,isAdditionalChunk:0<n}).then((function(e){return h(m.length,e)}))})).then((function(){return t.length>n+o&&r(n+d)}))}))}var s=gt(n)&&n.limit===1/0&&("function"!=typeof e||e===kt)&&{index:n.index,range:n.range};return r(0).then((function(){if(0<p.length)throw new H("Error modifying one or more objects",p,f,g);return t.length}))}))}))},_t.prototype.delete=function(){var e=this._ctx,t=e.range;return gt(e)&&(e.isPrimKey||3===t.type)?this._write((function(n){var i=e.table.core.schema.primaryKey,r=t;return e.table.core.count({trans:n,query:{index:i,range:r}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:r}).then((function(e){var n=e.failures;if(e.lastResult,e.results,e=e.numFailures)throw new H("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-e);return t-e}))}))})):this.modify(kt)},_t);function _t(){}var kt=function(e,t){return t.value=null};function Tt(e,t){return e<t?-1:e===t?0:1}function Et(e,t){return t<e?-1:e===t?0:1}function It(e,t,n){return(e=e instanceof Ot?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function Ut(e){return new e.Collection(e,(function(){return Lt("")})).limit(0)}function Ft(e,t,n,i){var r,s,o,a,l,u,c,A=n.length;if(!n.every((function(e){return"string"==typeof e})))return It(e,et);function d(e){r="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},s="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},o="next"===e?Tt:Et;var t=n.map((function(e){return{lower:s(e),upper:r(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c="next"===(u=e)?"":i}d("next"),(e=new e.Collection(e,(function(){return Dt(a[0],l[A-1]+i)})))._ondirectionchange=function(e){d(e)};var h=0;return e._addAlgorithm((function(e,n,i){var r=e.key;if("string"!=typeof r)return!1;var d=s(r);if(t(d,l,h))return!0;for(var p=null,f=h;f<A;++f){var g=function(e,t,n,i,r,s){for(var o=Math.min(e.length,i.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==i[l])return r(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):r(e[l],i[l])<0?e.substr(0,l)+i[l]+n.substr(l+1):0<=a?e.substr(0,a)+t[a]+n.substr(a+1):null;r(e[l],u)<0&&(a=l)}return o<i.length&&"next"===s?e+n.substr(e.length):o<e.length&&"prev"===s?e.substr(0,n.length):a<0?null:e.substr(0,a)+i[a]+n.substr(a+1)}(r,d,a[f],l[f],o,u);null===g&&null===p?h=f+1:(null===p||0<o(p,g))&&(p=g)}return n(null!==p?function(){e.continue(p+c)}:i),!1})),e}function Dt(e,t,n,i){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:i}}function Lt(e){return{type:1,lower:e,upper:e}}var Ot=(Object.defineProperty(Nt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Nt.prototype.between=function(e,t,n,i){n=!1!==n,i=!0===i;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||i)&&(!n||!i)?Ut(this):new this.Collection(this,(function(){return Dt(e,t,!n,!i)}))}catch(e){return It(this,Ze)}},Nt.prototype.equals=function(e){return null==e?It(this,Ze):new this.Collection(this,(function(){return Lt(e)}))},Nt.prototype.above=function(e){return null==e?It(this,Ze):new this.Collection(this,(function(){return Dt(e,void 0,!0)}))},Nt.prototype.aboveOrEqual=function(e){return null==e?It(this,Ze):new this.Collection(this,(function(){return Dt(e,void 0,!1)}))},Nt.prototype.below=function(e){return null==e?It(this,Ze):new this.Collection(this,(function(){return Dt(void 0,e,!1,!0)}))},Nt.prototype.belowOrEqual=function(e){return null==e?It(this,Ze):new this.Collection(this,(function(){return Dt(void 0,e)}))},Nt.prototype.startsWith=function(e){return"string"!=typeof e?It(this,et):this.between(e,e+Je,!0,!0)},Nt.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Ft(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Je)},Nt.prototype.equalsIgnoreCase=function(e){return Ft(this,(function(e,t){return e===t[0]}),[e],"")},Nt.prototype.anyOfIgnoreCase=function(){var e=N.apply(O,arguments);return 0===e.length?Ut(this):Ft(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},Nt.prototype.startsWithAnyOfIgnoreCase=function(){var e=N.apply(O,arguments);return 0===e.length?Ut(this):Ft(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Je)},Nt.prototype.anyOf=function(){var e=this,t=N.apply(O,arguments),n=this._cmp;try{t.sort(n)}catch(i){return It(this,Ze)}if(0===t.length)return Ut(this);var i=new this.Collection(this,(function(){return Dt(t[0],t[t.length-1])}));i._ondirectionchange=function(i){n="next"===i?e._ascending:e._descending,t.sort(n)};var r=0;return i._addAlgorithm((function(e,i,s){for(var o=e.key;0<n(o,t[r]);)if(++r===t.length)return i(s),!1;return 0===n(o,t[r])||(i((function(){e.continue(t[r])})),!1)})),i},Nt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Nt.prototype.noneOf=function(){var e=N.apply(O,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return It(this,Ze)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Nt.prototype.inAnyRange=function(e,t){var n=this,i=this._cmp,r=this._ascending,s=this._descending,o=this._min,a=this._max;if(0===e.length)return Ut(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0})))return It(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",K.InvalidArgument);var l,u=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers,A=r;function d(e,t){return A(e[0],t[0])}try{(l=e.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var s=e[n];if(i(t[0],s[1])<0&&0<i(t[1],s[0])){s[0]=o(s[0],t[0]),s[1]=a(s[1],t[1]);break}}return n===r&&e.push(t),e}),[])).sort(d)}catch(e){return It(this,Ze)}var h=0,p=c?function(e){return 0<r(e,l[h][1])}:function(e){return 0<=r(e,l[h][1])},f=u?function(e){return 0<s(e,l[h][0])}:function(e){return 0<=s(e,l[h][0])},g=p;return(e=new this.Collection(this,(function(){return Dt(l[0][0],l[l.length-1][1],!u,!c)})))._ondirectionchange=function(e){A="next"===e?(g=p,r):(g=f,s),l.sort(d)},e._addAlgorithm((function(e,t,i){for(var s,o=e.key;g(o);)if(++h===l.length)return t(i),!1;return!p(s=o)&&!f(s)||(0===n._cmp(o,l[h][1])||0===n._cmp(o,l[h][0])||t((function(){A===r?e.continue(l[h][0]):e.continue(l[h][1])})),!1)})),e},Nt.prototype.startsWithAnyOf=function(){var e=N.apply(O,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Ut(this):this.inAnyRange(e.map((function(e){return[e,e+Je]}))):It(this,"startsWithAnyOf() only works with strings")},Nt);function Nt(){}function Mt(e){return Le((function(t){return jt(t),e(t.target.error),!1}))}function jt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Rt="storagemutated",Qt="x-storagemutated-1",Pt=pt(null,Rt),Ht=(qt.prototype._lock=function(){return y(!ve.global),++this._reculock,1!==this._reculock||ve.global||(ve.lockOwnerFor=this),this},qt.prototype._unlock=function(){if(y(!ve.global),0==--this._reculock)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{We(e[1],e[0])}catch(e){}}return this},qt.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},qt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,i=this.db._state.dbOpenError;if(y(!this.idbtrans),!e&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new K.DatabaseClosed(i);case"MissingAPIError":throw new K.MissingAPI(i.message,i);default:throw new K.OpenFailed(i)}if(!this.active)throw new K.TransactionInactive;return y(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Le((function(n){jt(n),t._reject(e.error)})),e.onabort=Le((function(n){jt(n),t.active&&t._reject(new K.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Le((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Pt.storagemutated.fire(e.mutatedParts)})),this},qt.prototype._promise=function(e,t,n){var i=this;if("readwrite"===e&&"readwrite"!==this.mode)return Ye(new K.ReadOnly("Transaction is readonly"));if(!this.active)return Ye(new K.TransactionInactive);if(this._locked())return new Ce((function(r,s){i._blockedFuncs.push([function(){i._promise(e,t,n).then(r,s)},ve])}));if(n)return Pe((function(){var e=new Ce((function(e,n){i._lock();var r=t(e,n,i);r&&r.then&&r.then(e,n)}));return e.finally((function(){return i._unlock()})),e._lib=!0,e}));var r=new Ce((function(e,n){var r=t(e,n,i);r&&r.then&&r.then(e,n)}));return r._lib=!0,r},qt.prototype._root=function(){return this.parent?this.parent._root():this},qt.prototype.waitFor=function(e){var t,n=this._root(),i=Ce.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then((function(){return i})):(n._waitingFor=i,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var r=n._waitingFor;return new Ce((function(e,t){i.then((function(t){return n._waitingQueue.push(Le(e.bind(null,t)))}),(function(e){return n._waitingQueue.push(Le(t.bind(null,e)))})).finally((function(){n._waitingFor===r&&(n._waitingFor=null)}))}))},qt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new K.Abort))},qt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var n=this.schema[e];if(!n)throw new K.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},qt);function qt(){}function Vt(e,t,n,i,r,s,o){return{name:e,keyPath:t,unique:n,multi:i,auto:r,compound:s,src:(n&&!o?"&":"")+(i?"*":"")+(r?"++":"")+zt(t)}}function zt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Kt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(i=function(e){return[e.name,e]},n.reduce((function(e,t,n){return(n=i(t,n))&&(e[n[0]]=n[1]),e}),{}))};var i}var Gt=function(e){try{return e.only([[]]),Gt=function(){return[[]]},[[]]}catch(e){return Gt=function(){return Je},Je}};function Wt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return w(e,t)}:function(t){return w(t,e)};var t}function $t(e){return[].slice.call(e)}var Xt=0;function Yt(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Jt(e,t,n){function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,i=e.upper,r=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===i?null:t.upperBound(i,!!e):void 0===i?t.lowerBound(n,!!r):t.bound(n,i,!!r,!!e)}function r(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,r=e.type,s=e.keys,o=e.values,a=e.range;return new Promise((function(e,l){e=Le(e);var u=t.objectStore(n),c=null==u.keyPath,A="put"===r||"add"===r;if(!A&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);var d,h=(s||o||{length:1}).length;if(s&&o&&s.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++m,jt(e)}var f=[],g=[],m=0;if("deleteRange"===r){if(4===a.type)return e({numFailures:m,failures:g,results:[],lastResult:void 0});3===a.type?f.push(d=u.clear()):f.push(d=u.delete(i(a)))}else{var v=(c=A?c?[o,s]:[o,null]:[s,null])[0],y=c[1];if(A)for(var b=0;b<h;++b)f.push(d=y&&void 0!==y[b]?u[r](v[b],y[b]):u[r](v[b])),d.onerror=p;else for(b=0;b<h;++b)f.push(d=u[r](v[b])),d.onerror=p}function w(t){t=t.target.result,f.forEach((function(e,t){return null!=e.error&&(g[t]=e.error)})),e({numFailures:m,failures:g,results:"delete"===r?s:f.map((function(e){return e.result})),lastResult:t})}d.onerror=function(e){p(e),w(e)},d.onsuccess=w}))},getMany:function(e){var t=e.trans,i=e.keys;return new Promise((function(e,r){e=Le(e);for(var s,o=t.objectStore(n),a=i.length,l=new Array(a),u=0,c=0,A=function(t){t=t.target,l[t._pos]=t.result,++c===u&&e(l)},d=Mt(r),h=0;h<a;++h)null!=i[h]&&((s=o.get(i[h]))._pos=h,s.onsuccess=A,s.onerror=d,++u);0===u&&e(l)}))},get:function(e){var t=e.trans,i=e.key;return new Promise((function(e,r){e=Le(e);var s=t.objectStore(n).get(i);s.onsuccess=function(t){return e(t.target.result)},s.onerror=Mt(r)}))},query:(t=c,function(e){return new Promise((function(r,s){r=Le(r);var o,a,l,u=e.trans,c=e.values,A=e.limit,d=e.query,h=A===1/0?void 0:A,p=d.index;if(d=d.range,u=u.objectStore(n),p=p.isPrimaryKey?u:u.index(p.name),d=i(d),0===A)return r({result:[]});t?((h=c?p.getAll(d,h):p.getAllKeys(d,h)).onsuccess=function(e){return r({result:e.target.result})},h.onerror=Mt(s)):(o=0,a=!c&&"openKeyCursor"in p?p.openKeyCursor(d):p.openCursor(d),l=[],a.onsuccess=function(e){var t=a.result;return t?(l.push(c?t.value:t.primaryKey),++o===A?r({result:l}):void t.continue()):r({result:l})},a.onerror=Mt(s))}))}),openCursor:function(e){var t=e.trans,r=e.values,s=e.query,o=e.reverse,a=e.unique;return new Promise((function(e,l){e=Le(e);var u=s.index,c=s.range,A=t.objectStore(n),d=(A=u.isPrimaryKey?A:A.index(u.name),u=o?a?"prevunique":"prev":a?"nextunique":"next",!r&&"openKeyCursor"in A?A.openKeyCursor(i(c),u):A.openCursor(i(c),u));d.onerror=Mt(l),d.onsuccess=Le((function(n){var i,r,s,o,a=d.result;a?(a.___id=++Xt,a.done=!1,i=a.continue.bind(a),r=(r=a.continuePrimaryKey)&&r.bind(a),s=a.advance.bind(a),o=function(){throw new Error("Cursor not stopped")},a.trans=t,a.stop=a.continue=a.continuePrimaryKey=a.advance=function(){throw new Error("Cursor not started")},a.fail=Le(l),a.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},a.start=function(e){function t(){if(d.result)try{e()}catch(e){a.fail(e)}else a.done=!0,a.start=function(){throw new Error("Cursor behind last entry")},a.stop()}var n=new Promise((function(e,t){e=Le(e),d.onerror=Mt(t),a.fail=t,a.stop=function(t){a.stop=a.continue=a.continuePrimaryKey=a.advance=o,e(t)}}));return d.onsuccess=Le((function(e){d.onsuccess=t,t()})),a.continue=i,a.continuePrimaryKey=r,a.advance=s,t(),n},e(a)):e(null)}),l)}))},count:function(e){var t=e.query,r=e.trans,s=t.index,o=t.range;return new Promise((function(e,t){var a=r.objectStore(n),l=s.isPrimaryKey?a:a.index(s.name);(l=(a=i(o))?l.count(a):l.count()).onsuccess=Le((function(t){return e(t.target.result)})),l.onerror=Mt(t)}))}}}var s,a,l,u=(a=n,l=$t((s=e).objectStoreNames),{schema:{name:s.name,tables:l.map((function(e){return a.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,i=o(t),r={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:i,keyPath:t,autoIncrement:n,unique:!0,extractKey:Wt(t)},indexes:$t(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,i=e.multiEntry;return e=e.keyPath,i={name:t,compound:o(e),keyPath:e,unique:n,multiEntry:i,extractKey:Wt(e)},r[Yt(e)]=i})),getIndexByKeyPath:function(e){return r[Yt(e)]}},r[":id"]=n.primaryKey,null!=t&&(r[Yt(t)]=n.primaryKey),n}))},hasGetAll:0<l.length&&"getAll"in a.objectStore(l[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),c=(n=u.schema,u.hasGetAll),A=(u=n.tables.map(r),{});return u.forEach((function(e){return A[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!A[e])throw new Error("Table '".concat(e,"' not found"));return A[e]},MIN_KEY:-1/0,MAX_KEY:Gt(t),schema:n}}function Zt(e,n,i,r){var s=i.IDBKeyRange;return i.indexedDB,{dbcore:(r=Jt(n,s,r),e.dbcore.reduce((function(e,n){return n=n.create,t(t({},e),n(e))}),r))}}function en(e,t){var n=t.db;t=Zt(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function tn(e,t,n,i){n.forEach((function(n){var r=i[n];t.forEach((function(t){var i=function e(t,n){return f(t,n)||(t=l(t))&&e(t,n)}(t,n);(!i||"value"in i&&void 0===i.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?h(t,n,{get:function(){return this.table(n)},set:function(e){d(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,r))}))}))}function nn(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function rn(e,t){return e._cfg.version-t._cfg.version}function sn(e,t,n,i){var r=e._dbSchema;n.objectStoreNames.contains("$meta")&&!r.$meta&&(r.$meta=Kt("$meta",hn("")[0],[]),e._storeNames.push("$meta"));var o=e._createTransaction("readwrite",e._storeNames,r);o.create(n),o._completion.catch(i);var a=o._reject.bind(o),l=ve.transless||ve;Pe((function(){return ve.trans=o,ve.transless=l,0!==t?(en(e,n),u=t,((i=o).storeNames.includes("$meta")?i.table("$meta").get("version").then((function(e){return null!=e?e:u})):Ce.resolve(u)).then((function(t){return r=t,a=o,l=n,u=[],t=(i=e)._versions,c=i._dbSchema=An(0,i.idbdb,l),0!==(t=t.filter((function(e){return e._cfg.version>=r}))).length?(t.forEach((function(e){u.push((function(){var t=c,n=e._cfg.dbschema;dn(i,t,l),dn(i,n,l),c=i._dbSchema=n;var o=an(t,n);o.add.forEach((function(e){ln(l,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new K.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach((function(e){return cn(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),cn(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var u=e._cfg.contentUpgrade;if(u&&e._cfg.version>r){en(i,l),a._memoizedTables={};var A=x(n);o.del.forEach((function(e){A[e]=t[e]})),nn(i,[i.Transaction.prototype]),tn(i,[i.Transaction.prototype],s(A),A),a.schema=A;var d,h=M(u);return h&&He(),o=Ce.follow((function(){var e;(d=u(a))&&h&&(e=qe.bind(null,null),d.then(e,e))})),d&&"function"==typeof d.then?Ce.resolve(d):o.then((function(){return d}))}})),u.push((function(t){var n,r,s=e._cfg.dbschema;n=s,r=t,[].slice.call(r.db.objectStoreNames).forEach((function(e){return null==n[e]&&r.db.deleteObjectStore(e)})),nn(i,[i.Transaction.prototype]),tn(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),a.schema=i._dbSchema})),u.push((function(t){i.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(i.idbdb.version/10)===e._cfg.version?(i.idbdb.deleteObjectStore("$meta"),delete i._dbSchema.$meta,i._storeNames=i._storeNames.filter((function(e){return"$meta"!==e}))):t.objectStore("$meta").put(e._cfg.version,"version"))}))})),function e(){return u.length?Ce.resolve(u.shift()(a.idbtrans)).then(e):Ce.resolve()}().then((function(){un(c,l)}))):Ce.resolve();var i,r,a,l,u,c})).catch(a)):(s(r).forEach((function(e){ln(n,e,r[e].primKey,r[e].indexes)})),en(e,n),void Ce.follow((function(){return e.on.populate.fire(o)})).catch(a));var i,u}))}function on(e,t){un(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=An(0,e.idbdb,t);dn(e,e._dbSchema,t);for(var i=0,r=an(n,e._dbSchema).change;i<r.length;i++){var s=function(e){if(e.change.length||e.recreate)return{value:void 0};var n=t.objectStore(e.name);e.add.forEach((function(e){cn(n,e)}))}(r[i]);if("object"==typeof s)return s.value}}function an(e,t){var n,i={del:[],add:[],change:[]};for(n in e)t[n]||i.del.push(n);for(n in t){var r=e[n],s=t[n];if(r){var o={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(r.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||r.primKey.auto!==s.primKey.auto)o.recreate=!0,i.change.push(o);else{var a=r.idxByName,l=s.idxByName,u=void 0;for(u in a)l[u]||o.del.push(u);for(u in l){var c=a[u],A=l[u];c?c.src!==A.src&&o.change.push(A):o.add.push(A)}(0<o.del.length||0<o.add.length||0<o.change.length)&&i.change.push(o)}}else i.add.push([n,s])}return i}function ln(e,t,n,i){var r=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach((function(e){return cn(r,e)})),r}function un(e,t){s(e).forEach((function(n){t.db.objectStoreNames.contains(n)||ln(t,n,e[n].primKey,e[n].indexes)}))}function cn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function An(e,t,n){var i={};return m(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),r=Vt(zt(a=t.keyPath),a||"",!0,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),s=[],o=0;o<t.indexNames.length;++o){var a=(l=t.index(t.indexNames[o])).keyPath,l=Vt(l.name,a,!!l.unique,!!l.multiEntry,!1,a&&"string"!=typeof a,!1);s.push(l)}i[e]=Kt(e,r,s)})),i}function dn(e,t,n){for(var i=n.db.objectStoreNames,s=0;s<i.length;++s){var o=i[s],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var u=a.indexNames[l],c=a.index(u).keyPath,A="string"==typeof c?c:"["+m(c).join("+")+"]";!t[o]||(c=t[o].idxByName[A])&&(c.name=u,delete t[o].idxByName[A],t[o].idxByName[u]=c)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function hn(e){return e.split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Vt(n,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(i),0===t)}))}var pn=(fn.prototype._parseStoresSpec=function(e,t){s(e).forEach((function(n){if(null!==e[n]){var i=hn(e[n]),r=i.shift();if(r.unique=!0,r.multi)throw new K.Schema("Primary key cannot be multi-valued");i.forEach((function(e){if(e.auto)throw new K.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new K.Schema("Index must have a name and cannot be an empty string")})),t[n]=Kt(n,r,i)}}))},fn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e,e=t._versions;var n={},i={};return e.forEach((function(e){a(n,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(n,i)})),t._dbSchema=i,nn(t,[t._allTables,t,t.Transaction.prototype]),tn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],s(i),i),t._storeNames=s(i),this},fn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ie(this._cfg.contentUpgrade||$,e),this},fn);function fn(){}function gn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ti(nt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function mn(e){return e&&"function"==typeof e.databases}function vn(e){return Pe((function(){return ve.letThrough=!0,e()}))}function yn(e){return!("from"in e)}var bn=function(e,t){if(!this){var n=new bn;return e&&"d"in e&&a(n,e),n}a(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function wn(e,t,n){var i=ut(t,n);if(!isNaN(i)){if(0<i)throw RangeError();if(yn(e))return a(e,{from:t,to:n,d:1});var r=e.l;if(i=e.r,ut(n,e.from)<0)return r?wn(r,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Sn(e);if(0<ut(t,e.to))return i?wn(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Sn(e);ut(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),0<ut(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,r&&!e.l&&Cn(e,r),i&&n&&Cn(e,i)}}function Cn(e,t){yn(t)||function e(t,n){var i=n.from,r=n.to,s=n.l;n=n.r,wn(t,i,r),s&&e(t,s),n&&e(t,n)}(e,t)}function xn(e,t){var n=Bn(t),i=n.next();if(i.done)return!1;for(var r=i.value,s=Bn(e),o=s.next(r.from),a=o.value;!i.done&&!o.done;){if(ut(a.from,r.to)<=0&&0<=ut(a.to,r.from))return!0;ut(r.from,a.from)<0?r=(i=n.next(a.from)).value:a=(o=s.next(r.from)).value}return!1}function Bn(e){var t=yn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&ut(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||ut(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Sn(e){var n,i,r=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(i=e.l)||void 0===i?void 0:i.d)||0),s=1<r?"r":r<-1?"l":"";s&&(n="r"==s?"l":"r",i=t({},e),r=e[s],e.from=r.from,e.to=r.to,e[s]=r[s],i[s]=r[n],(e[n]=i).d=_n(i)),e.d=_n(e)}function _n(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function kn(e,t){return s(t).forEach((function(n){e[n]?Cn(e[n],t[n]):e[n]=function e(t){var n,i,r={};for(n in t)c(t,n)&&(i=t[n],r[n]=!i||"object"!=typeof i||k.has(i.constructor)?i:e(i));return r}(t[n])})),e}function Tn(e,t){return e.all||t.all||Object.keys(e).some((function(n){return t[n]&&xn(t[n],e[n])}))}A(bn.prototype,((j={add:function(e){return Cn(this,e),this},addKey:function(e){return wn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return wn(t,e,e)})),this},hasKey:function(e){var t=Bn(this).next(e).value;return t&&ut(t.from,e)<=0&&0<=ut(t.to,e)}})[F]=function(){return Bn(this)},j));var En={},In={},Un=!1;function Fn(e){kn(In,e),Un||(Un=!0,setTimeout((function(){Un=!1,Dn(In,!(In={}))}),0))}function Dn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var i=0,r=Object.values(En);i<r.length;i++)Ln(o=r[i],e,n,t);else for(var s in e){var o,a=/^idb\:\/\/(.*)\/(.*)\//.exec(s);a&&(s=a[1],a=a[2],(o=En["idb://".concat(s,"/").concat(a)])&&Ln(o,e,n,t))}n.forEach((function(e){return e()}))}function Ln(e,t,n,i){for(var r=[],s=0,o=Object.entries(e.queries.query);s<o.length;s++){for(var a=o[s],l=a[0],u=[],c=0,A=a[1];c<A.length;c++){var d=A[c];Tn(t,d.obsSet)?d.subscribers.forEach((function(e){return n.add(e)})):i&&u.push(d)}i&&r.push([l,u])}if(i)for(var h=0,p=r;h<p.length;h++){var f=p[h];l=f[0],u=f[1],e.queries.query[l]=u}}function On(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?Ye(t.dbOpenError):e}));t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var i=t.openCanceller,r=Math.round(10*e.verno),o=!1;function a(){if(t.openCanceller!==i)throw new K.DatabaseClosed("db.open() was cancelled")}function l(){return new Ce((function(i,u){if(a(),!n)throw new K.MissingAPI;var c=e.name,h=t.autoSchema||!r?n.open(c):n.open(c,r);if(!h)throw new K.MissingAPI;h.onerror=Mt(u),h.onblocked=Le(e._fireOnBlocked),h.onupgradeneeded=Le((function(i){var r;A=h.transaction,t.autoSchema&&!e._options.allowEmptyDB?(h.onerror=jt,A.abort(),h.result.close(),(r=n.deleteDatabase(c)).onsuccess=r.onerror=Le((function(){u(new K.NoSuchDatabase("Database ".concat(c," doesnt exist")))}))):(A.onerror=Mt(u),i=i.oldVersion>Math.pow(2,62)?0:i.oldVersion,d=i<1,e.idbdb=h.result,o&&on(e,A),sn(e,i/10,A,u))}),u),h.onsuccess=Le((function(){A=null;var n,a,u,p,f,g=e.idbdb=h.result,v=m(g.objectStoreNames);if(0<v.length)try{var y=g.transaction(1===(p=v).length?p[0]:p,"readonly");if(t.autoSchema)a=g,u=y,(n=e).verno=a.version/10,u=n._dbSchema=An(0,a,u),n._storeNames=m(a.objectStoreNames,0),tn(n,[n._allTables],s(u),u);else if(dn(e,e._dbSchema,y),((f=an(An(0,(f=e).idbdb,y),f._dbSchema)).add.length||f.change.some((function(e){return e.add.length||e.change.length})))&&!o)return g.close(),r=g.version+1,o=!0,i(l());en(e,y)}catch(n){}tt.push(e),g.onversionchange=Le((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),g.onclose=Le((function(t){e.on("close").fire(t)})),d&&(f=e._deps,y=c,g=f.indexedDB,f=f.IDBKeyRange,mn(g)||y===nt||gn(g,f).put({name:y}).catch($)),i()}),u)})).catch((function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,l();break;case"VersionError":if(0<r)return r=0,l()}return Ce.reject(e)}))}var u,c=t.dbReadyResolve,A=null,d=!1;return Ce.race([i,("undefined"==typeof navigator?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){function t(){return indexedDB.databases().finally(e)}u=setInterval(t,100),t()})).finally((function(){return clearInterval(u)})):Promise.resolve()).then(l)]).then((function(){return a(),t.onReadyBeingFired=[],Ce.resolve(vn((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(0<t.onReadyBeingFired.length){var i=t.onReadyBeingFired.reduce(ie,$);return t.onReadyBeingFired=[],Ce.resolve(vn((function(){return i(e.vip)}))).then(n)}}))})).finally((function(){t.openCanceller===i&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)})).catch((function(n){t.dbOpenError=n;try{A&&A.abort()}catch(n){}return i===t.openCanceller&&e._close(),Ye(n)})).finally((function(){t.openComplete=!0,c()})).then((function(){var t;return d&&(t={},e.tables.forEach((function(n){n.schema.indexes.forEach((function(i){i.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(i.name)]=new bn(-1/0,[[[]]]))})),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new bn(-1/0,[[[]]])})),Pt(Rt).fire(t),Dn(t,!0)),e}))}function Nn(e){function t(t){return e.next(t)}var n=r(t),i=r((function(t){return e.throw(t)}));function r(e){return function(t){var r=e(t);return t=r.value,r.done?t:t&&"function"==typeof t.then?t.then(n,i):o(t)?Promise.all(t).then(n,i):n(t)}}return r(t)()}function Mn(e,t,n){for(var i=o(e)?e.slice():[e],r=0;r<n;++r)i.push(t);return i}var jn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var i=e.table(n),r=i.schema,s={},o=[];function a(e,n,i){var r=Yt(e),l=s[r]=s[r]||[],u=null==e?0:"string"==typeof e?1:e.length,c=0<n;return c=t(t({},i),{name:c?"".concat(r,"(virtual-from:").concat(i.name,")"):i.name,lowLevelIndex:i,isVirtual:c,keyTail:n,keyLength:u,extractKey:Wt(e),unique:!c&&i.unique}),l.push(c),c.isPrimaryKey||o.push(c),1<u&&a(2===u?e[0]:e.slice(0,u-1),n+1,i),l.sort((function(e,t){return e.keyTail-t.keyTail})),c}n=a(r.primaryKey.keyPath,0,r.primaryKey),s[":id"]=[n];for(var l=0,u=r.indexes;l<u.length;l++){var c=u[l];a(c.keyPath,0,c)}function A(n){var i,r=n.query.index;return r.isVirtual?t(t({},n),{query:{index:r.lowLevelIndex,range:(i=n.query.range,r=r.keyTail,{type:1===i.type?2:i.type,lower:Mn(i.lower,i.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:Mn(i.upper,i.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):n}return t(t({},i),{schema:t(t({},r),{primaryKey:n,indexes:o,getIndexByKeyPath:function(e){return(e=s[Yt(e)])&&e[0]}}),count:function(e){return i.count(A(e))},query:function(e){return i.query(A(e))},openCursor:function(t){var n=t.query.index,r=n.keyTail,s=n.isVirtual,o=n.keyLength;return s?i.openCursor(A(t)).then((function(e){return e&&a(e)})):i.openCursor(t);function a(n){return Object.create(n,{continue:{value:function(i){null!=i?n.continue(Mn(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value:function(t,i){n.continuePrimaryKey(Mn(t,e.MAX_KEY,r),i)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}})}}})}})}};function Rn(e,t,n,i){return n=n||{},i=i||"",s(e).forEach((function(r){var s,o,a;c(t,r)?(s=e[r],o=t[r],"object"==typeof s&&"object"==typeof o&&s&&o?(a=U(s))!==U(o)?n[i+r]=t[r]:"Object"===a?Rn(s,o,n,i+r+"."):s!==o&&(n[i+r]=t[r]):s!==o&&(n[i+r]=t[r])):n[i+r]=void 0})),s(t).forEach((function(r){c(e,r)||(n[i+r]=t[r])})),n}function Qn(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var Pn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),s=r.schema.primaryKey;return t(t({},r),{mutate:function(e){var o=ve.trans,a=o.table(n).hook,l=a.deleting,u=a.creating,A=a.updating;switch(e.type){case"add":if(u.fire===$)break;return o._promise("readwrite",(function(){return d(e)}),!0);case"put":if(u.fire===$&&A.fire===$)break;return o._promise("readwrite",(function(){return d(e)}),!0);case"delete":if(l.fire===$)break;return o._promise("readwrite",(function(){return d(e)}),!0);case"deleteRange":if(l.fire===$)break;return o._promise("readwrite",(function(){return function e(n,i,o){return r.query({trans:n,values:!1,query:{index:s,range:i},limit:o}).then((function(r){var s=r.result;return d({type:"delete",keys:s,trans:n}).then((function(r){return 0<r.numFailures?Promise.reject(r.failures[0]):s.length<o?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},i),{lower:s[s.length-1],lowerOpen:!0}),o)}))}))}(e.trans,e.range,1e4)}),!0)}return r.mutate(e);function d(e){var n,o,a,d=ve.trans,h=e.keys||Qn(s,e);if(!h)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:h}):t({},e)).type&&(e.values=i([],e.values,!0)),e.keys&&(e.keys=i([],e.keys,!0)),n=r,a=h,("add"===(o=e).type?Promise.resolve([]):n.getMany({trans:o.trans,keys:a,cache:"immutable"})).then((function(t){var n=h.map((function(n,i){var r,o,a,h=t[i],p={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(p,n,h,d):"add"===e.type||void 0===h?(r=u.fire.call(p,n,e.values[i],d),null==n&&null!=r&&(e.keys[i]=n=r,s.outbound||C(e.values[i],s.keyPath,n))):(r=Rn(h,e.values[i]),(o=A.fire.call(p,r,n,h,d))&&(a=e.values[i],Object.keys(o).forEach((function(e){c(a,e)?a[e]=o[e]:C(a,e,o[e])})))),p}));return r.mutate(e).then((function(i){for(var r=i.failures,s=i.results,o=i.numFailures,a=(i=i.lastResult,0);a<h.length;++a){var l=(s||h)[a],u=n[a];null==l?u.onerror&&u.onerror(r[a]):u.onsuccess&&u.onsuccess("put"===e.type&&t[a]?e.values[a]:l)}return{failures:r,results:s,numFailures:o,lastResult:i}})).catch((function(e){return n.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}}})}})}};function Hn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var i=[],r=0,s=0;r<t.keys.length&&s<e.length;++r)0===ut(t.keys[r],e[s])&&(i.push(n?E(t.values[r]):t.values[r]),++s);return i.length===e.length?i:null}catch(e){return null}}var qn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var i=e.table(n);return t(t({},i),{getMany:function(e){if(!e.cache)return i.getMany(e);var t=Hn(e.keys,e.trans._cache,"clone"===e.cache);return t?Ce.resolve(t):i.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?E(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),i.mutate(e)}})}}}};function Vn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function zn(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kn={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,i=new bn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,i){if(ve.subscr&&"readonly"!==n)throw new K.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return e.transaction(t,n,i)},table:function(r){var a=e.table(r),l=a.schema,u=l.primaryKey,c=l.indexes,A=u.extractKey,d=u.outbound,h=u.autoIncrement&&c.filter((function(e){return e.compound&&e.keyPath.includes(u.keyPath)})),p=t(t({},a),{mutate:function(t){function s(e){return e="idb://".concat(n,"/").concat(r,"/").concat(e),f[e]||(f[e]=new bn)}var c,A,d,p=t.trans,f=t.mutatedParts||(t.mutatedParts={}),g=s(""),m=s(":dels"),v=t.type,y="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[Qn(u,t).filter((function(e){return e})),t.values]:[],b=y[0],w=y[1];return y=t.trans._cache,o(b)?(g.addKeys(b),(y="delete"===v||b.length===w.length?Hn(b,y):null)||m.addKeys(b),(y||w)&&(c=s,A=y,d=w,l.indexes.forEach((function(e){var t=c(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function i(n){return e.multiEntry&&o(n)?n.forEach((function(e){return t.addKey(e)})):t.addKey(n)}(A||d).forEach((function(e,t){var r=A&&n(A[t]);0!==ut(r,t=d&&n(d[t]))&&(null!=r&&i(r),null!=t&&i(t))}))})))):b?(w={from:null!==(w=b.lower)&&void 0!==w?w:e.MIN_KEY,to:null!==(w=b.upper)&&void 0!==w?w:e.MAX_KEY},m.add(w),g.add(w)):(g.add(i),m.add(i),l.indexes.forEach((function(e){return s(e.name).add(i)}))),a.mutate(t).then((function(e){return!b||"add"!==t.type&&"put"!==t.type||(g.addKeys(e.results),h&&h.forEach((function(n){for(var i=t.values.map((function(e){return n.extractKey(e)})),r=n.keyPath.findIndex((function(e){return e===u.keyPath})),o=0,a=e.results.length;o<a;++o)i[o][r]=e.results[o];s(n.name).addKeys(i)}))),p.mutatedParts=kn(p.mutatedParts||{},f),e}))}}),f=(c=function(t){t=(n=t.query).index;var n=n.range;return[t,new bn(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},{get:function(e){return[u,new bn(e.key)]},getMany:function(e){return[u,(new bn).addKeys(e.keys)]},count:c,query:c,openCursor:c});return s(f).forEach((function(e){p[e]=function(s){var o=!!(p=ve.subscr),l=Vn(ve,a)&&zn(e,s)?s.obsSet={}:p;if(o){var u=function(e){return e="idb://".concat(n,"/").concat(r,"/").concat(e),l[e]||(l[e]=new bn)},c=u(""),h=u(":dels"),p=(o=(p=f[e](s))[0],p[1]);if(("query"===e&&o.isPrimaryKey&&!s.values?h:u(o.name||"")).add(p),!o.isPrimaryKey){if("count"!==e){var g="query"===e&&d&&s.values&&a.query(t(t({},s),{values:!1}));return a[e].apply(this,arguments).then((function(t){if("query"===e){if(d&&s.values)return g.then((function(e){return e=e.result,c.addKeys(e),t}));var n=s.values?t.result.map(A):t.result;(s.values?c:h).addKeys(n)}else if("openCursor"===e){var i=t,r=s.values;return i&&Object.create(i,{key:{get:function(){return h.addKey(i.primaryKey),i.key}},primaryKey:{get:function(){var e=i.primaryKey;return h.addKey(e),e}},value:{get:function(){return r&&c.addKey(i.primaryKey),i.value}}})}return t}))}h.add(i)}}return a[e].apply(this,arguments)}})),p}})}};function Gn(e,n,i){if(0===i.numFailures)return n;if("deleteRange"===n.type)return null;var r=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return i.numFailures===r?null:(n=t({},n),o(n.keys)&&(n.keys=n.keys.filter((function(e,t){return!(t in i.failures)}))),"values"in n&&o(n.values)&&(n.values=n.values.filter((function(e,t){return!(t in i.failures)}))),n)}function Wn(e,t){return n=e,(void 0===(i=t).lower||(i.lowerOpen?0<ut(n,i.lower):0<=ut(n,i.lower)))&&(void 0===t.upper||(t.upperOpen?ut(e,t.upper)<0:ut(e,t.upper)<=0));var n,i}function $n(e,t,n,i,r,s){if(!n||0===n.length)return e;var a=t.query.index,l=a.multiEntry,u=t.query.range,c=i.schema.primaryKey.extractKey,A=a.extractKey,d=(a.lowLevelIndex||a).extractKey;return n=n.reduce((function(e,n){var i=e,r=[];if("add"===n.type||"put"===n.type)for(var s=new bn,a=n.values.length-1;0<=a;--a){var d,h=n.values[a],p=c(h);s.hasKey(p)||(d=A(h),(l&&o(d)?d.some((function(e){return Wn(e,u)})):Wn(d,u))&&(s.addKey(p),r.push(h)))}switch(n.type){case"add":var f=(new bn).addKeys(t.values?e.map((function(e){return c(e)})):e);i=e.concat(t.values?r.filter((function(e){return e=c(e),!f.hasKey(e)&&(f.addKey(e),!0)})):r.map((function(e){return c(e)})).filter((function(e){return!f.hasKey(e)&&(f.addKey(e),!0)})));break;case"put":var g=(new bn).addKeys(n.values.map((function(e){return c(e)})));i=e.filter((function(e){return!g.hasKey(t.values?c(e):e)})).concat(t.values?r:r.map((function(e){return c(e)})));break;case"delete":var m=(new bn).addKeys(n.keys);i=e.filter((function(e){return!m.hasKey(t.values?c(e):e)}));break;case"deleteRange":var v=n.range;i=e.filter((function(e){return!Wn(c(e),v)}))}return i}),e),n===e?e:(n.sort((function(e,t){return ut(d(e),d(t))||ut(c(e),c(t))})),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(r.dirty=!0)),s?Object.freeze(n):n)}function Xn(e,t){return 0===ut(e.lower,t.lower)&&0===ut(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Yn(e,t){return function(e,t,n,i){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=ut(e,t))){if(n&&i)return 0;if(n)return 1;if(i)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,i){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=ut(e,t))){if(n&&i)return 0;if(n)return-1;if(i)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Jn(e,t,n,i){e.subscribers.add(n),i.addEventListener("abort",(function(){var i,r;e.subscribers.delete(n),0===e.subscribers.size&&(i=e,r=t,setTimeout((function(){0===i.subscribers.size&&L(r,i)}),3e3))}))}var Zn={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,i,r){var s,o,a=e.transaction(t,i,r);return"readwrite"===i&&(o=(s=new AbortController).signal,r=function(r){return function(){if(s.abort(),"readwrite"===i){for(var o=new Set,l=0,u=t;l<u.length;l++){var c=u[l],A=En["idb://".concat(n,"/").concat(c)];if(A){var d=e.table(c),h=A.optimisticOps.filter((function(e){return e.trans===a}));if(a._explicit&&r&&a.mutatedParts)for(var p=0,f=Object.values(A.queries.query);p<f.length;p++)for(var g=0,m=(b=f[p]).slice();g<m.length;g++)Tn((w=m[g]).obsSet,a.mutatedParts)&&(L(b,w),w.subscribers.forEach((function(e){return o.add(e)})));else if(0<h.length){A.optimisticOps=A.optimisticOps.filter((function(e){return e.trans!==a}));for(var v=0,y=Object.values(A.queries.query);v<y.length;v++)for(var b,w,C,x=0,B=(b=y[v]).slice();x<B.length;x++)null!=(w=B[x]).res&&a.mutatedParts&&(r&&!w.dirty?(C=Object.isFrozen(w.res),C=$n(w.res,w.req,h,d,w,C),w.dirty?(L(b,w),w.subscribers.forEach((function(e){return o.add(e)}))):C!==w.res&&(w.res=C,w.promise=Ce.resolve({result:C}))):(w.dirty&&L(b,w),w.subscribers.forEach((function(e){return o.add(e)}))))}}}o.forEach((function(e){return e()}))}}},a.addEventListener("abort",r(!1),{signal:o}),a.addEventListener("error",r(!1),{signal:o}),a.addEventListener("complete",r(!0),{signal:o})),a},table:function(i){var r=e.table(i),s=r.schema.primaryKey;return t(t({},r),{mutate:function(e){var o=ve.trans;if(s.outbound||"disabled"===o.db._options.cache||o.explicit||"readwrite"!==o.idbtrans.mode)return r.mutate(e);var a=En["idb://".concat(n,"/").concat(i)];return a?(o=r.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||Qn(s,e).some((function(e){return null==e})))?(a.optimisticOps.push(e),e.mutatedParts&&Fn(e.mutatedParts),o.then((function(t){0<t.numFailures&&(L(a.optimisticOps,e),(t=Gn(0,e,t))&&a.optimisticOps.push(t),e.mutatedParts&&Fn(e.mutatedParts))})),o.catch((function(){L(a.optimisticOps,e),e.mutatedParts&&Fn(e.mutatedParts)}))):o.then((function(n){var i=Gn(0,t(t({},e),{values:e.values.map((function(e,i){var r;return n.failures[i]||C(e=null!==(r=s.keyPath)&&void 0!==r&&r.includes(".")?E(e):t({},e),s.keyPath,n.results[i]),e}))}),n);a.optimisticOps.push(i),queueMicrotask((function(){return e.mutatedParts&&Fn(e.mutatedParts)}))})),o):r.mutate(e)},query:function(e){if(!Vn(ve,r)||!zn("query",e))return r.query(e);var t="immutable"===(null===(a=ve.trans)||void 0===a?void 0:a.db._options.cache),s=(u=ve).requery,o=u.signal,a=function(e,t,n,i){var r=En["idb://".concat(e,"/").concat(t)];if(!r)return[];if(!(t=r.queries[n]))return[null,!1,r,null];var s=t[(i.query?i.query.index.name:null)||""];if(!s)return[null,!1,r,null];switch(n){case"query":var o=s.find((function(e){return e.req.limit===i.limit&&e.req.values===i.values&&Xn(e.req.query.range,i.query.range)}));return o?[o,!0,r,s]:[s.find((function(e){return("limit"in e.req?e.req.limit:1/0)>=i.limit&&(!i.values||e.req.values)&&Yn(e.req.query.range,i.query.range)})),!1,r,s];case"count":return o=s.find((function(e){return Xn(e.req.query.range,i.query.range)})),[o,!!o,r,s]}}(n,i,"query",e),l=a[0],u=a[1],c=a[2],A=a[3];return l&&u?l.obsSet=e.obsSet:(u=r.query(e).then((function(e){var n=e.result;if(l&&(l.res=n),t){for(var i=0,r=n.length;i<r;++i)Object.freeze(n[i]);Object.freeze(n)}else e.result=E(n);return e})).catch((function(e){return A&&l&&L(A,l),Promise.reject(e)})),l={obsSet:e.obsSet,promise:u,subscribers:new Set,type:"query",req:e,dirty:!1},A?A.push(l):(A=[l],(c=c||(En["idb://".concat(n,"/").concat(i)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=A)),Jn(l,A,s,o),l.promise.then((function(n){return{result:$n(n.result,e,null==c?void 0:c.optimisticOps,r,l,t)}}))}})}})}};function ei(e,t){return new Proxy(e,{get:function(e,n,i){return"db"===n?t:Reflect.get(e,n,i)}})}var ti=(ni.prototype.version=function(e){if(isNaN(e)||e<.1)throw new K.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new K.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(rn),n.stores({}),this._state.autoSchema=!1,n)},ni.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?e():new Ce((function(e,n){if(t._state.openComplete)return n(new K.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new K.DatabaseClosed);t.open().catch($)}t._state.dbReadyPromise.then(e,n)})).then(e)},ni.prototype.use=function(e){var t=e.stack,n=e.create,i=e.level,r=e.name;return r&&this.unuse({stack:t,name:r}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==i?10:i,name:r}),e.sort((function(e,t){return e.level-t.level})),this},ni.prototype.unuse=function(e){var t=e.stack,n=e.name,i=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return i?e.create!==i:!!n&&e.name!==n}))),this},ni.prototype.open=function(){var e=this;return We(me,(function(){return On(e)}))},ni.prototype._close=function(){var e=this._state,t=tt.indexOf(this);if(0<=t&&tt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new Ce((function(t){e.dbReadyResolve=t})),e.openCanceller=new Ce((function(t,n){e.cancelOpen=n})))},ni.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new K.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new K.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},ni.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],i=this._state;return new Ce((function(r,s){function o(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Le((function(){var e,n,i;e=t._deps,n=t.name,i=e.indexedDB,e=e.IDBKeyRange,mn(i)||n===nt||gn(i,e).delete(n).catch($),r()})),n.onerror=Mt(s),n.onblocked=t._fireOnBlocked}if(n)throw new K.InvalidArgument("Invalid closeOptions argument to db.delete()");i.isBeingOpened?i.dbReadyPromise.then(o):o()}))},ni.prototype.backendDB=function(){return this.idbdb},ni.prototype.isOpen=function(){return null!==this.idbdb},ni.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},ni.prototype.hasFailed=function(){return null!==this._state.dbOpenError},ni.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ni.prototype,"tables",{get:function(){var e=this;return s(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),ni.prototype.transaction=function(){var e=function(e,t,n){var i=arguments.length;if(i<2)throw new K.InvalidArgument("Too few arguments");for(var r=new Array(i-1);--i;)r[i-1]=arguments[i];return n=r.pop(),[e,S(r),n]}.apply(this,arguments);return this._transaction.apply(this,e)},ni.prototype._transaction=function(e,t,n){var i=this,r=ve.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);var s,o,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(o=t.map((function(e){if("string"!=typeof(e=e instanceof i.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==e||e===it)s=it;else{if("rw"!=e&&e!=rt)throw new K.InvalidArgument("Invalid transaction mode: "+e);s=rt}if(r){if(r.mode===it&&s===rt){if(!a)throw new K.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!a)throw new K.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),a&&r&&!r.active&&(r=null)}}catch(n){return r?r._promise(null,(function(e,t){t(n)})):Ye(n)}var l=function e(t,n,i,r,s){return Ce.resolve().then((function(){var o=ve.transless||ve,a=t._createTransaction(n,i,t._dbSchema,r);if(a.explicit=!0,o={trans:a,transless:o},r)a.idbtrans=r.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(o){return o.name===V.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(t.close({disableAutoOpen:!1}),t.open().then((function(){return e(t,n,i,null,s)}))):Ye(o)}var l,u=M(s);return u&&He(),o=Ce.follow((function(){var e;(l=s.call(a,a))&&(u?(e=qe.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=Nn(l)))}),o),(l&&"function"==typeof l.then?Ce.resolve(l).then((function(e){return a.active?e:Ye(new K.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):o.then((function(){return l}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),Ye(e)}))}))}.bind(null,this,s,o,r,n);return r?r._promise(s,l,"lock"):ve.trans?We(ve.transless,(function(){return i._whenReady(l)})):this._whenReady(l)},ni.prototype.table=function(e){if(!c(this._allTables,e))throw new K.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},ni);function ni(e,n){var i=this;this._middlewares={},this.verno=0;var r=ni.dependencies;this._options=n=t({addons:ni.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},r=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s,o,a,l,u,c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$,dbReadyPromise:null,cancelOpen:$,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};c.dbReadyPromise=new Ce((function(e){c.dbReadyResolve=e})),c.openCanceller=new Ce((function(e,t){c.cancelOpen=t})),this._state=c,this.name=e,this.on=pt(this,"populate","blocked","versionchange","close",{ready:[ie,$]}),this.on.ready.subscribe=v(this.on.ready.subscribe,(function(e){return function(t,n){ni.vip((function(){var r,s=i._state;s.openComplete?(s.dbOpenError||Ce.resolve().then(t),n&&e(t)):s.onReadyBeingFired?(s.onReadyBeingFired.push(t),n&&e(t)):(e(t),r=i,n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)})))}))}})),this.Collection=(s=this,ft(St.prototype,(function(e,t){this.db=s;var n=ot,i=null;if(t)try{n=t()}catch(e){i=e}var r=e._ctx;e=(t=r.table).hook.reading.fire,this._ctx={table:t,index:r.index,isPrimKey:!r.index||t.schema.primKey.keyPath&&r.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:r.or,valueMapper:e!==X?e:null}}))),this.Table=(o=this,ft(dt.prototype,(function(e,t,n){this.db=o,this._tx=n,this.name=e,this.schema=t,this.hook=o._allTables[e]?o._allTables[e].hook:pt(null,{creating:[Z,$],reading:[Y,X],updating:[te,$],deleting:[ee,$]})}))),this.Transaction=(a=this,ft(Ht.prototype,(function(e,t,n,i,r){var s=this;this.db=a,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=pt(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce((function(e,t){s._resolve=e,s._reject=t})),this._completion.then((function(){s.active=!1,s.on.complete.fire()}),(function(e){var t=s.active;return s.active=!1,s.on.error.fire(e),s.parent?s.parent._reject(e):t&&s.idbtrans&&s.idbtrans.abort(),Ye(e)}))}))),this.Version=(l=this,ft(pn.prototype,(function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(u=this,ft(Ot.prototype,(function(e,t,n){if(this.db=u,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=ut,this._descending=function(e,t){return ut(t,e)},this._max=function(e,t){return 0<ut(e,t)?e:t},this._min=function(e,t){return ut(e,t)<0?e:t},this._IDBKeyRange=u._deps.IDBKeyRange,!this._IDBKeyRange)throw new K.MissingAPI}))),this.on("versionchange",(function(e){e.newVersion,i.close({disableAutoOpen:!1})})),this.on("blocked",(function(e){!e.newVersion||(e.newVersion,e.oldVersion)})),this._maxKey=Gt(n.IDBKeyRange),this._createTransaction=function(e,t,n,r){return new i.Transaction(e,t,n,i._options.chromeTransactionDurability,r)},this._fireOnBlocked=function(e){i.on("blocked").fire(e),tt.filter((function(e){return e.name===i.name&&e!==i&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(qn),this.use(Zn),this.use(Kn),this.use(jn),this.use(Pn);var A=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return ei(i.table(e),A)};var r=Reflect.get(e,t,n);return r instanceof dt?ei(r,A):"tables"===t?r.map((function(e){return ei(e,A)})):"_createTransaction"===t?function(){return ei(r.apply(this,arguments),A)}:r}});this.vip=A,r.forEach((function(e){return e(i)}))}j="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var ii,ri=(si.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},si.prototype[j]=function(){return this},si);function si(e){this._subscribe=e}try{ii={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(_){ii={indexedDB:null,IDBKeyRange:null}}function oi(e){var t,n=!1,i=new ri((function(i){var r,s=M(e),o=!1,a={},l={},u={get closed(){return o},unsubscribe:function(){o||(o=!0,r&&r.abort(),A&&Pt.storagemutated.unsubscribe(h))}};i.start&&i.start(u);var A=!1,d=function(){return Xe(p)},h=function(e){kn(a,e),Tn(l,a)&&d()},p=function(){var u,p,f;!o&&ii.indexedDB&&(a={},u={},r&&r.abort(),r=new AbortController,f=function(t){var n=Ie();try{s&&He();var i=Pe(e,t);return i=s?i.finally(qe):i}finally{n&&Ue()}}(p={subscr:u,signal:r.signal,requery:d,querier:e,trans:null}),Promise.resolve(f).then((function(e){n=!0,t=e,o||p.signal.aborted||(a={},function(e){for(var t in e)if(c(e,t))return;return 1}(l=u)||A||(Pt(Rt,h),A=!0),Xe((function(){return!o&&i.next&&i.next(e)})))}),(function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||o||Xe((function(){o||i.error&&i.error(e)}))})))};return setTimeout(d,0),u}));return i.hasValue=function(){return n},i.getValue=function(){return t},i}var ai=ti;function li(e){var t=ci;try{ci=!0,Pt.storagemutated.fire(e),Dn(e,!0)}finally{ci=t}}A(ai,t(t({},W),{delete:function(e){return new ai(e,{addons:[]}).delete()},exists:function(e){return new ai(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return n=(t=ai.dependencies).indexedDB,t=t.IDBKeyRange,(mn(n)?Promise.resolve(n.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==nt}))})):gn(n,t).toCollection().primaryKeys()).then(e)}catch(e){return Ye(new K.MissingAPI)}var t,n},defineClass:function(){return function(e){a(this,e)}},ignoreTransaction:function(e){return ve.trans?We(ve.transless,e):e()},vip:vn,async:function(e){return function(){try{var t=Nn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ce.resolve(t)}catch(t){return Ye(t)}}},spawn:function(e,t,n){try{var i=Nn(e.apply(n,t||[]));return i&&"function"==typeof i.then?i:Ce.resolve(i)}catch(e){return Ye(e)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(e,t){return t=Ce.resolve("function"==typeof e?ai.ignoreTransaction(e):e).timeout(t||6e4),ve.trans?ve.trans.waitFor(t):t},Promise:Ce,debug:{get:function(){return re},set:function(e){se(e)}},derive:p,extend:a,props:A,override:v,Events:pt,on:Pt,liveQuery:oi,extendObservabilitySet:kn,getByKeyPath:w,setByKeyPath:C,delByKeyPath:function(e,t){"string"==typeof t?C(e,t,void 0):"length"in t&&[].map.call(t,(function(t){C(e,t,void 0)}))},shallowClone:x,deepClone:E,getObjectDiff:Rn,cmp:ut,asap:b,minKey:-1/0,addons:[],connections:tt,errnames:V,dependencies:ii,cache:En,semVer:"4.0.11",version:"4.0.11".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),ai.maxKey=Gt(ai.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Pt(Rt,(function(e){ci||(e=new CustomEvent(Qt,{detail:e}),ci=!0,dispatchEvent(e),ci=!1)})),addEventListener(Qt,(function(e){e=e.detail,ci||li(e)})));var ui,ci=!1,Ai=function(){};return"undefined"!=typeof BroadcastChannel&&((Ai=function(){(ui=new BroadcastChannel(Qt)).onmessage=function(e){return e.data&&li(e.data)}})(),"function"==typeof ui.unref&&ui.unref(),Pt(Rt,(function(e){ci||ui.postMessage(e)}))),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",(function(e){if(!ti.disableBfCache&&e.persisted){null!=ui&&ui.close();for(var t=0,n=tt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}})),addEventListener("pageshow",(function(e){!ti.disableBfCache&&e.persisted&&(Ai(),li({all:new bn(-1/0,[[]])}))}))),Ce.rejectionMapper=function(e,t){return!e||e instanceof Q||e instanceof TypeError||e instanceof SyntaxError||!e.name||!G[e.name]?e:(t=new G[e.name](t||e.message,e),"stack"in e&&h(t,"stack",{get:function(){return this.inner.stack}}),t)},se(re),t(ti,Object.freeze({__proto__:null,Dexie:ti,liveQuery:oi,Entity:lt,cmp:ut,PropModification:xt,replacePrefix:function(e,t){return new xt({replacePrefix:[e,t]})},add:function(e){return new xt({add:e})},remove:function(e){return new xt({remove:e})},default:ti,RangeSet:bn,mergeRanges:Cn,rangesOverlap:xn}),{default:ti}),ti}()},228:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new r(i,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,o=new Array(s);r<s;r++)o[r]=i[r].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,r,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],A=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),A){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,s),!0;case 6:return c.fn.call(c.context,t,i,r,s,o),!0}for(u=1,l=new Array(A-1);u<A;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),A){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,i);break;case 4:c[u].fn.call(c[u].context,t,i,r);break;default:if(!l)for(d=1,l=new Array(A-1);d<A;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,i,r){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||r&&!a.once||i&&a.context!==i||o(this,s);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||r&&!a[l].once||i&&a[l].context!==i)&&u.push(a[l]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},5606:function(e){var t=-1;function n(e,h,p,f,g){if(e===h)return e?[[0,e]]:[];if(null!=p){var v=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,r="number"==typeof n?null:n.newRange,s=e.length,o=t.length;if(0===i.length&&(null===r||0===r.length)){var a=i.index,l=e.slice(0,a),u=e.slice(a),c=r?r.index:null,A=a+o-s;if((null===c||c===A)&&!(A<0||A>o)){var d=t.slice(0,A);if((f=t.slice(A))===u){var h=Math.min(a,A);if((v=l.slice(0,h))===(b=d.slice(0,h)))return m(v,l.slice(h),d.slice(h),u)}}if(null===c||c===a){var p=a,f=(d=t.slice(0,p),t.slice(p));if(d===l){var g=Math.min(s-p,o-p);if((y=u.slice(u.length-g))===(w=f.slice(f.length-g)))return m(l,u.slice(0,u.length-g),f.slice(0,f.length-g),y)}}}if(i.length>0&&r&&0===r.length){var v=e.slice(0,i.index),y=e.slice(i.index+i.length);if(!(o<(h=v.length)+(g=y.length))){var b=t.slice(0,h),w=t.slice(o-g);if(v===b&&y===w)return m(v,e.slice(h,s-g),t.slice(h,o-g),y)}}return null}(e,h,p);if(v)return v}var y=r(e,h),b=e.substring(0,y);y=o(e=e.substring(y),h=h.substring(y));var w=e.substring(e.length-y),C=function(e,s){var a;if(!e)return[[1,s]];if(!s)return[[t,e]];var l=e.length>s.length?e:s,u=e.length>s.length?s:e,c=l.indexOf(u);if(-1!==c)return a=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],e.length>s.length&&(a[0][0]=a[2][0]=t),a;if(1===u.length)return[[t,e],[1,s]];var A=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function s(e,t,n){for(var i,s,a,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,A="";-1!==(c=t.indexOf(u,c+1));){var d=r(e.substring(n),t.substring(c)),h=o(e.substring(0,n),t.substring(0,c));A.length<h+d&&(A=t.substring(c-h,c)+t.substring(c,c+d),i=e.substring(0,n-h),s=e.substring(n+d),a=t.substring(0,c-h),l=t.substring(c+d))}return 2*A.length>=e.length?[i,s,a,l,A]:null}var a,l,u,c,A,d=s(n,i,Math.ceil(n.length/4)),h=s(n,i,Math.ceil(n.length/2));if(!d&&!h)return null;a=h?d&&d[4].length>h[4].length?d:h:d;e.length>t.length?(l=a[0],u=a[1],c=a[2],A=a[3]):(c=a[0],A=a[1],l=a[2],u=a[3]);var p=a[4];return[l,u,c,A,p]}(e,s);if(A){var d=A[0],h=A[1],p=A[2],f=A[3],g=A[4],m=n(d,p),v=n(h,f);return m.concat([[0,g]],v)}return function(e,n){for(var r=e.length,s=n.length,o=Math.ceil((r+s)/2),a=o,l=2*o,u=new Array(l),c=new Array(l),A=0;A<l;A++)u[A]=-1,c[A]=-1;u[a+1]=0,c[a+1]=0;for(var d=r-s,h=d%2!=0,p=0,f=0,g=0,m=0,v=0;v<o;v++){for(var y=-v+p;y<=v-f;y+=2){for(var b=a+y,w=(_=y===-v||y!==v&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1)-y;_<r&&w<s&&e.charAt(_)===n.charAt(w);)_++,w++;if(u[b]=_,_>r)f+=2;else if(w>s)p+=2;else if(h){if((B=a+d-y)>=0&&B<l&&-1!==c[B])if(_>=(x=r-c[B]))return i(e,n,_,w)}}for(var C=-v+g;C<=v-m;C+=2){for(var x,B=a+C,S=(x=C===-v||C!==v&&c[B-1]<c[B+1]?c[B+1]:c[B-1]+1)-C;x<r&&S<s&&e.charAt(r-x-1)===n.charAt(s-S-1);)x++,S++;if(c[B]=x,x>r)m+=2;else if(S>s)g+=2;else if(!h){if((b=a+d-C)>=0&&b<l&&-1!==u[b]){var _;w=a+(_=u[b])-b;if(_>=(x=r-x))return i(e,n,_,w)}}}}return[[t,e],[1,n]]}(e,s)}(e=e.substring(0,e.length-y),h=h.substring(0,h.length-y));return b&&C.unshift([0,b]),w&&C.push([0,w]),d(C,g),f&&function(e){var n=!1,i=[],r=0,h=null,p=0,f=0,g=0,m=0,v=0;for(;p<e.length;)0==e[p][0]?(i[r++]=p,f=m,g=v,m=0,v=0,h=e[p][1]):(1==e[p][0]?m+=e[p][1].length:v+=e[p][1].length,h&&h.length<=Math.max(f,g)&&h.length<=Math.max(m,v)&&(e.splice(i[r-1],0,[t,h]),e[i[r-1]+1][0]=1,r--,p=--r>0?i[r-1]:-1,f=0,g=0,m=0,v=0,h=null,n=!0)),p++;n&&d(e);(function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),r=n.match(a),s=i.match(a),o=r&&n.match(l),d=s&&i.match(l),h=o&&n.match(u),p=d&&i.match(u),f=h&&e.match(c),g=p&&t.match(A);return f||g?5:h||p?4:r&&!o&&d?3:o||d?2:r||s?1:0}var n=1;for(;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],r=e[n][1],s=e[n+1][1],d=o(i,r);if(d){var h=r.substring(r.length-d);i=i.substring(0,i.length-d),r=h+r.substring(0,r.length-d),s=h+s}for(var p=i,f=r,g=s,m=t(i,r)+t(r,s);r.charAt(0)===s.charAt(0);){i+=r.charAt(0),r=r.substring(1)+s.charAt(0),s=s.substring(1);var v=t(i,r)+t(r,s);v>=m&&(m=v,p=i,f=r,g=s)}e[n-1][1]!=p&&(p?e[n-1][1]=p:(e.splice(n-1,1),n--),e[n][1]=f,g?e[n+1][1]=g:(e.splice(n+1,1),n--))}n++}})(e),p=1;for(;p<e.length;){if(e[p-1][0]==t&&1==e[p][0]){var y=e[p-1][1],b=e[p][1],w=s(y,b),C=s(b,y);w>=C?(w>=y.length/2||w>=b.length/2)&&(e.splice(p,0,[0,b.substring(0,w)]),e[p-1][1]=y.substring(0,y.length-w),e[p+1][1]=b.substring(w),p++):(C>=y.length/2||C>=b.length/2)&&(e.splice(p,0,[0,y.substring(0,C)]),e[p-1][0]=1,e[p-1][1]=b.substring(0,b.length-C),e[p+1][0]=t,e[p+1][1]=y.substring(C),p++),p++}p++}}(C),C}function i(e,t,i,r){var s=e.substring(0,i),o=t.substring(0,r),a=e.substring(i),l=t.substring(r),u=n(s,o),c=n(a,l);return u.concat(c)}function r(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,s=0;n<r;)e.substring(s,r)==t.substring(s,r)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return h(e.charCodeAt(r-1))&&r--,r}function s(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var r=Math.min(n,i);if(e==t)return r;for(var s=0,o=1;;){var a=e.substring(r-o),l=t.indexOf(a);if(-1==l)return s;o+=l,0!=l&&e.substring(r-o)!=t.substring(0,o)||(s=o,o++)}}function o(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,s=0;n<r;)e.substring(e.length-r,e.length-s)==t.substring(t.length-r,t.length-s)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return p(e.charCodeAt(e.length-r))&&r--,r}var a=/[^a-zA-Z0-9]/,l=/\s/,u=/[\r\n]/,c=/\n\r?\n$/,A=/^\r?\n\r?\n/;function d(e,n){e.push([0,""]);for(var i,s=0,a=0,l=0,u="",c="";s<e.length;)if(s<e.length-1&&!e[s][1])e.splice(s,1);else switch(e[s][0]){case 1:l++,c+=e[s][1],s++;break;case t:a++,u+=e[s][1],s++;break;case 0:var A=s-l-a-1;if(n){if(A>=0&&g(e[A][1])){var h=e[A][1].slice(-1);if(e[A][1]=e[A][1].slice(0,-1),u=h+u,c=h+c,!e[A][1]){e.splice(A,1),s--;var p=A-1;e[p]&&1===e[p][0]&&(l++,c=e[p][1]+c,p--),e[p]&&e[p][0]===t&&(a++,u=e[p][1]+u,p--),A=p}}if(f(e[s][1])){h=e[s][1].charAt(0);e[s][1]=e[s][1].slice(1),u+=h,c+=h}}if(s<e.length-1&&!e[s][1]){e.splice(s,1);break}if(u.length>0||c.length>0){u.length>0&&c.length>0&&(0!==(i=r(c,u))&&(A>=0?e[A][1]+=c.substring(0,i):(e.splice(0,0,[0,c.substring(0,i)]),s++),c=c.substring(i),u=u.substring(i)),0!==(i=o(c,u))&&(e[s][1]=c.substring(c.length-i)+e[s][1],c=c.substring(0,c.length-i),u=u.substring(0,u.length-i)));var m=l+a;0===u.length&&0===c.length?(e.splice(s-m,m),s-=m):0===u.length?(e.splice(s-m,m,[1,c]),s=s-m+1):0===c.length?(e.splice(s-m,m,[t,u]),s=s-m+1):(e.splice(s-m,m,[t,u],[1,c]),s=s-m+2)}0!==s&&0===e[s-1][0]?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,l=0,a=0,u="",c=""}""===e[e.length-1][1]&&e.pop();var v=!1;for(s=1;s<e.length-1;)0===e[s-1][0]&&0===e[s+1][0]&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)===e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),v=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),v=!0)),s++;v&&d(e,n)}function h(e){return e>=55296&&e<=56319}function p(e){return e>=56320&&e<=57343}function f(e){return p(e.charCodeAt(0))}function g(e){return h(e.charCodeAt(e.length-1))}function m(e,n,i,r){return g(e)||f(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,i],[0,r]])}function v(e,t,i,r){return n(e,t,i,r,!0)}v.INSERT=1,v.DELETE=t,v.EQUAL=0,e.exports=v},9338:function(e,t){"use strict";const n=e=>{const t=e.method;return t&&{GET:" -X GET",POST:" -X POST",PUT:" -X PUT",PATCH:" -X PATCH",DELETE:" -X DELETE",HEAD:" -X HEAD",OPTIONS:" -X OPTIONS"}[t.toUpperCase()]||""},i=e=>"function"==typeof Headers&&e instanceof Headers,r=(e,t)=>` -H "${e}: ${`${t}`.replace(/(\\|")/g,"\\$1")}"`,s=(e={})=>{const{headers:t}=e;let n=!1,s="";return i(t)?t.forEach(((e,t)=>{"content-length"!==t.toLocaleLowerCase()&&(s+=r(t,e)),"accept-encoding"===t.toLocaleLowerCase()&&(n=!0)})):t&&Object.keys(t).map((e=>{"content-length"!==e.toLocaleLowerCase()&&(s+=r(e,t[e])),"accept-encoding"===e.toLocaleLowerCase()&&(n=!0)})),{params:s,isEncode:n}};function o(e){return"string"==typeof e?e.replace(/'/g,"'\\''"):e}function a(e){return e?"object"==typeof e?` --data-binary '${o(JSON.stringify(e))}'`:` --data-binary '${o(e)}'`:""}function l(e){return e?" --compressed":""}const u=(e,t)=>{let i,r;"string"==typeof e||e instanceof URL?(i=e,r=t||{}):(i=(e||{}).url,r=e||{});const{body:o}=r,u=s(r);return`curl '${i}'${n(r)}${u.params||""}${a(o)}${l(u.isEncode)}`};t.Ay=u},9697:function(e,t,n){var i,r=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},s=n(542);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=s),e.exports=i},9840:function(e,t,n){var i;i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=i},354:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function i(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}for(var s=function(){function e(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return e.prototype.add=function(t,n,i,r){return new e(this.left+t,this.top+n,this.width+i,this.height+r)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var i=Array.from(n).find((function(e){return 0!==e.width}));return i?new e(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return s.fromClientRect(e,t.getBoundingClientRect())},a=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new s(0,0,i,r)},l=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,s="";++r<n;){var o=e[r];o<=65535?i.push(o):(o-=65536,i.push(55296+(o>>10),o%1024+56320)),(r+1===n||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<c.length;d++)A[c.charCodeAt(d)]=d;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<h.length;f++)p[h.charCodeAt(f)]=f;for(var g=function(e){var t,n,i,r,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<a;t+=4)n=p[e.charCodeAt(t)],i=p[e.charCodeAt(t+1)],r=p[e.charCodeAt(t+2)],s=p[e.charCodeAt(t+3)],c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&s;return u},m=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},v=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},y=5,b=11,w=2,C=65536>>y,x=(1<<y)-1,B=C+(1024>>y)+32,S=65536>>b,_=(1<<b-y)-1,k=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},T=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},E=function(e,t){var n=g(e),i=Array.isArray(n)?v(n):new Uint32Array(n),r=Array.isArray(n)?m(n):new Uint16Array(n),s=24,o=k(r,s/2,i[4]/2),a=2===i[5]?k(r,(s+i[4])/2):T(i,Math.ceil((s+i[4])/4));return new I(i[0],i[1],i[2],i[3],o,a)},I=function(){function e(e,t,n,i,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>y])<<w)+(e&x),this.data[t];if(e<=65535)return t=((t=this.index[C+(e-55296>>y)])<<w)+(e&x),this.data[t];if(e<this.highStart)return t=B-S+(e>>b),t=this.index[t],t+=e>>y&_,t=((t=this.index[t])<<w)+(e&x),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F="undefined"==typeof Uint8Array?[]:new Uint8Array(256),D=0;D<U.length;D++)F[U.charCodeAt(D)]=D;var L=50,O=1,N=2,M=3,j=4,R=5,Q=7,P=8,H=9,q=10,V=11,z=12,K=13,G=14,W=15,$=16,X=17,Y=18,J=19,Z=20,ee=21,te=22,ne=23,ie=24,re=25,se=26,oe=27,ae=28,le=29,ue=30,ce=31,Ae=32,de=33,he=34,pe=35,fe=36,ge=37,me=38,ve=39,ye=40,be=41,we=42,Ce=43,xe=[9001,65288],Be="!",Se="×",_e="÷",ke=E("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Te=[ue,fe],Ee=[O,N,M,R],Ie=[q,P],Ue=[oe,se],Fe=Ee.concat(Ie),De=[me,ve,ye,he,pe],Le=[W,K],Oe=function(e,t){void 0===t&&(t="strict");var n=[],i=[],r=[];return e.forEach((function(e,s){var o=ke.get(e);if(o>L?(r.push(!0),o-=L):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return i.push(s),n.push($);if(o===j||o===V){if(0===s)return i.push(s),n.push(ue);var a=n[s-1];return-1===Fe.indexOf(a)?(i.push(i[s-1]),n.push(a)):(i.push(s),n.push(ue))}return i.push(s),o===ce?n.push("strict"===t?ee:ge):o===we||o===le?n.push(ue):o===Ce?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(ue):void n.push(o)})),[i,n,r]},Ne=function(e,t,n,i){var r=i[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var s=n;s<=i.length;){if((l=i[++s])===t)return!0;if(l!==q)break}if(r===q)for(s=n;s>0;){var o=i[--s];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var a=n;a<=i.length;){var l;if((l=i[++a])===t)return!0;if(l!==q)break}if(o!==q)break}return!1},Me=function(e,t){for(var n=e;n>=0;){var i=t[n];if(i!==q)return i;n--}return 0},je=function(e,t,n,i,r){if(0===n[i])return Se;var s=i-1;if(Array.isArray(r)&&!0===r[s])return Se;var o=s-1,a=s+1,l=t[s],u=o>=0?t[o]:0,c=t[a];if(l===N&&c===M)return Se;if(-1!==Ee.indexOf(l))return Be;if(-1!==Ee.indexOf(c))return Se;if(-1!==Ie.indexOf(c))return Se;if(Me(s,t)===P)return _e;if(ke.get(e[s])===V)return Se;if((l===Ae||l===de)&&ke.get(e[a])===V)return Se;if(l===Q||c===Q)return Se;if(l===H)return Se;if(-1===[q,K,W].indexOf(l)&&c===H)return Se;if(-1!==[X,Y,J,ie,ae].indexOf(c))return Se;if(Me(s,t)===te)return Se;if(Ne(ne,te,s,t))return Se;if(Ne([X,Y],ee,s,t))return Se;if(Ne(z,z,s,t))return Se;if(l===q)return _e;if(l===ne||c===ne)return Se;if(c===$||l===$)return _e;if(-1!==[K,W,ee].indexOf(c)||l===G)return Se;if(u===fe&&-1!==Le.indexOf(l))return Se;if(l===ae&&c===fe)return Se;if(c===Z)return Se;if(-1!==Te.indexOf(c)&&l===re||-1!==Te.indexOf(l)&&c===re)return Se;if(l===oe&&-1!==[ge,Ae,de].indexOf(c)||-1!==[ge,Ae,de].indexOf(l)&&c===se)return Se;if(-1!==Te.indexOf(l)&&-1!==Ue.indexOf(c)||-1!==Ue.indexOf(l)&&-1!==Te.indexOf(c))return Se;if(-1!==[oe,se].indexOf(l)&&(c===re||-1!==[te,W].indexOf(c)&&t[a+1]===re)||-1!==[te,W].indexOf(l)&&c===re||l===re&&-1!==[re,ae,ie].indexOf(c))return Se;if(-1!==[re,ae,ie,X,Y].indexOf(c))for(var A=s;A>=0;){if((d=t[A])===re)return Se;if(-1===[ae,ie].indexOf(d))break;A--}if(-1!==[oe,se].indexOf(c))for(A=-1!==[X,Y].indexOf(l)?o:s;A>=0;){var d;if((d=t[A])===re)return Se;if(-1===[ae,ie].indexOf(d))break;A--}if(me===l&&-1!==[me,ve,he,pe].indexOf(c)||-1!==[ve,he].indexOf(l)&&-1!==[ve,ye].indexOf(c)||-1!==[ye,pe].indexOf(l)&&c===ye)return Se;if(-1!==De.indexOf(l)&&-1!==[Z,se].indexOf(c)||-1!==De.indexOf(c)&&l===oe)return Se;if(-1!==Te.indexOf(l)&&-1!==Te.indexOf(c))return Se;if(l===ie&&-1!==Te.indexOf(c))return Se;if(-1!==Te.concat(re).indexOf(l)&&c===te&&-1===xe.indexOf(e[a])||-1!==Te.concat(re).indexOf(c)&&l===Y)return Se;if(l===be&&c===be){for(var h=n[s],p=1;h>0&&t[--h]===be;)p++;if(p%2!=0)return Se}return l===Ae&&c===de?Se:_e},Re=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Oe(e,t.lineBreak),i=n[0],r=n[1],s=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map((function(e){return-1!==[re,ue,we].indexOf(e)?ge:e})));var o="keep-all"===t.wordBreak?s.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[i,r,o]},Qe=function(){function e(e,t,n,i){this.codePoints=e,this.required=t===Be,this.start=n,this.end=i}return e.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Pe=function(e,t){var n=l(e),i=Re(n,t),r=i[0],s=i[1],o=i[2],a=n.length,u=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var e=Se;c<a&&(e=je(n,s,r,++c,o))===Se;);if(e!==Se||c===a){var t=new Qe(n,e,u,c);return u=c,{value:t,done:!1}}return{done:!0,value:null}}}},He=1,qe=2,Ve=4,ze=8,Ke=10,Ge=47,We=92,$e=9,Xe=32,Ye=34,Je=61,Ze=35,et=36,tt=37,nt=39,it=40,rt=41,st=95,ot=45,at=33,lt=60,ut=62,ct=64,At=91,dt=93,ht=61,pt=123,ft=63,gt=125,mt=124,vt=126,yt=128,bt=65533,wt=42,Ct=43,xt=44,Bt=58,St=59,_t=46,kt=0,Tt=8,Et=11,It=14,Ut=31,Ft=127,Dt=-1,Lt=48,Ot=97,Nt=101,Mt=102,jt=117,Rt=122,Qt=65,Pt=69,Ht=70,qt=85,Vt=90,zt=function(e){return e>=Lt&&e<=57},Kt=function(e){return e>=55296&&e<=57343},Gt=function(e){return zt(e)||e>=Qt&&e<=Ht||e>=Ot&&e<=Mt},Wt=function(e){return e>=Ot&&e<=Rt},$t=function(e){return e>=Qt&&e<=Vt},Xt=function(e){return Wt(e)||$t(e)},Yt=function(e){return e>=yt},Jt=function(e){return e===Ke||e===$e||e===Xe},Zt=function(e){return Xt(e)||Yt(e)||e===st},en=function(e){return Zt(e)||zt(e)||e===ot},tn=function(e){return e>=kt&&e<=Tt||e===Et||e>=It&&e<=Ut||e===Ft},nn=function(e,t){return e===We&&t!==Ke},rn=function(e,t,n){return e===ot?Zt(t)||nn(t,n):!!Zt(e)||!(e!==We||!nn(e,t))},sn=function(e,t,n){return e===Ct||e===ot?!!zt(t)||t===_t&&zt(n):zt(e===_t?t:e)},on=function(e){var t=0,n=1;e[t]!==Ct&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var i=[];zt(e[t]);)i.push(e[t++]);var r=i.length?parseInt(u.apply(void 0,i),10):0;e[t]===_t&&t++;for(var s=[];zt(e[t]);)s.push(e[t++]);var o=s.length,a=o?parseInt(u.apply(void 0,s),10):0;e[t]!==Pt&&e[t]!==Nt||t++;var l=1;e[t]!==Ct&&e[t]!==ot||(e[t]===ot&&(l=-1),t++);for(var c=[];zt(e[t]);)c.push(e[t++]);var A=c.length?parseInt(u.apply(void 0,c),10):0;return n*(r+a*Math.pow(10,-o))*Math.pow(10,l*A)},an={type:2},ln={type:3},un={type:4},cn={type:13},An={type:8},dn={type:21},hn={type:9},pn={type:10},fn={type:11},gn={type:12},mn={type:14},vn={type:23},yn={type:1},bn={type:25},wn={type:24},Cn={type:26},xn={type:27},Bn={type:28},Sn={type:29},_n={type:31},kn={type:32},Tn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==kn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ye:return this.consumeStringToken(Ye);case Ze:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(en(t)||nn(n,i)){var r=rn(t,n,i)?qe:He;return{type:5,value:this.consumeName(),flags:r}}break;case et:if(this.peekCodePoint(0)===Je)return this.consumeCodePoint(),cn;break;case nt:return this.consumeStringToken(nt);case it:return an;case rt:return ln;case wt:if(this.peekCodePoint(0)===Je)return this.consumeCodePoint(),mn;break;case Ct:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xt:return un;case ot:var s=e,o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(sn(s,o,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(rn(s,o,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===ot&&a===ut)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case _t:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ge:if(this.peekCodePoint(0)===wt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===wt&&(l=this.consumeCodePoint())===Ge)return this.consumeToken();if(l===Dt)return this.consumeToken()}break;case Bt:return Cn;case St:return xn;case lt:if(this.peekCodePoint(0)===at&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ct:var c=this.peekCodePoint(0),A=this.peekCodePoint(1),d=this.peekCodePoint(2);if(rn(c,A,d))return{type:7,value:this.consumeName()};break;case At:return Bn;case We:if(nn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dt:return Sn;case ht:if(this.peekCodePoint(0)===Je)return this.consumeCodePoint(),An;break;case pt:return fn;case gt:return gn;case jt:case qt:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==Ct||!Gt(p)&&p!==ft||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case mt:if(this.peekCodePoint(0)===Je)return this.consumeCodePoint(),hn;if(this.peekCodePoint(0)===mt)return this.consumeCodePoint(),dn;break;case vt:if(this.peekCodePoint(0)===Je)return this.consumeCodePoint(),pn;break;case Dt:return kn}return Jt(e)?(this.consumeWhiteSpace(),_n):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Zt(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Gt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===ft&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(u.apply(void 0,e.map((function(e){return e===ft?Lt:e}))),16),end:parseInt(u.apply(void 0,e.map((function(e){return e===ft?Ht:e}))),16)};var i=parseInt(u.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Gt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];Gt(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return{type:30,start:i,end:parseInt(u.apply(void 0,r),16)}}return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Dt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===nt||t===Ye){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Dt||this.peekCodePoint(0)===rt)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vn)}for(;;){var i=this.consumeCodePoint();if(i===Dt||i===rt)return{type:22,value:u.apply(void 0,e)};if(Jt(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Dt||this.peekCodePoint(0)===rt?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vn);if(i===Ye||i===nt||i===it||tn(i))return this.consumeBadUrlRemnants(),vn;if(i===We){if(!nn(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),vn;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;Jt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===rt||e===Dt)return;nn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=u.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var i=this._value[n];if(i===Dt||void 0===i||i===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(i===Ke)return this._value.splice(0,n),yn;if(i===We){var r=this._value[n+1];r!==Dt&&void 0!==r&&(r===Ke?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):nn(i,r)&&(t+=this.consumeStringSlice(n),t+=u(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ve,n=this.peekCodePoint(0);for(n!==Ct&&n!==ot||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===_t&&zt(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((n===Pt||n===Nt)&&((i===Ct||i===ot)&&zt(r)||zt(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);return rn(i,r,s)?{type:15,number:t,flags:n,unit:this.consumeName()}:i===tt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Gt(e)){for(var t=u(e);Gt(this.peekCodePoint(0))&&t.length<6;)t+=u(this.consumeCodePoint());Jt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Kt(n)||n>1114111?bt:n}return e===Dt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(en(t))e+=u(t);else{if(!nn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=u(this.consumeEscapedCodePoint())}}},e}(),En=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Tn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||jn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?kn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),In=function(e){return 15===e.type},Un=function(e){return 17===e.type},Fn=function(e){return 20===e.type},Dn=function(e){return 0===e.type},Ln=function(e,t){return Fn(e)&&e.value===t},On=function(e){return 31!==e.type},Nn=function(e){return 31!==e.type&&4!==e.type},Mn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},jn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Rn=function(e){return 17===e.type||15===e.type},Qn=function(e){return 16===e.type||Rn(e)},Pn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Hn={type:17,number:0,flags:Ve},qn={type:16,number:50,flags:Ve},Vn={type:16,number:100,flags:Ve},zn=function(e,t,n){var i=e[0],r=e[1];return[Kn(i,t),Kn(void 0!==r?r:i,n)]},Kn=function(e,t){if(16===e.type)return e.number/100*t;if(In(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gn="deg",Wn="grad",$n="rad",Xn="turn",Yn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gn:return Math.PI*t.number/180;case Wn:return Math.PI/200*t.number;case $n:return t.number;case Xn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Jn=function(e){return 15===e.type&&(e.unit===Gn||e.unit===Wn||e.unit===$n||e.unit===Xn)},Zn=function(e){switch(e.filter(Fn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Hn,Hn];case"to top":case"bottom":return ei(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Hn,Vn];case"to right":case"left":return ei(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vn,Vn];case"to bottom":case"top":return ei(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vn,Hn];case"to left":case"right":return ei(270)}return 0},ei=function(e){return Math.PI*e/180},ti={name:"color",parse:function(e,t){if(18===t.type){var n=ui[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var i=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);return ri(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(4===t.value.length){i=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);var o=t.value.substring(3,4);return ri(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(6===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),ri(parseInt(i,16),parseInt(r,16),parseInt(s,16),1);if(8===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),o=t.value.substring(6,8),ri(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(o,16)/255)}if(20===t.type){var a=Ai[t.value.toUpperCase()];if(void 0!==a)return a}return Ai.TRANSPARENT}},ni=function(e){return!(255&e)},ii=function(e){var t=255&e,n=255&e>>8,i=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+i+","+n+","+t/255+")":"rgb("+r+","+i+","+n+")"},ri=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(255*i))>>>0},si=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},oi=function(e,t){var n=t.filter(Nn);if(3===n.length){var i=n.map(si),r=i[0],s=i[1],o=i[2];return ri(r,s,o,1)}if(4===n.length){var a=n.map(si),l=(r=a[0],s=a[1],o=a[2],a[3]);return ri(r,s,o,l)}return 0};function ai(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var li=function(e,t){var n=t.filter(Nn),i=n[0],r=n[1],s=n[2],o=n[3],a=(17===i.type?ei(i.number):Yn.parse(e,i))/(2*Math.PI),l=Qn(r)?r.number/100:0,u=Qn(s)?s.number/100:0,c=void 0!==o&&Qn(o)?Kn(o,1):1;if(0===l)return ri(255*u,255*u,255*u,1);var A=u<=.5?u*(l+1):u+l-u*l,d=2*u-A,h=ai(d,A,a+1/3),p=ai(d,A,a),f=ai(d,A,a-1/3);return ri(255*h,255*p,255*f,c)},ui={hsl:li,hsla:li,rgb:oi,rgba:oi},ci=function(e,t){return ti.parse(e,En.create(t).parseComponentValue())},Ai={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},di={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},hi={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pi=function(e,t){var n=ti.parse(e,t[0]),i=t[1];return i&&Qn(i)?{color:n,stop:i}:{color:n,stop:null}},fi=function(e,t){var n=e[0],i=e[e.length-1];null===n.stop&&(n.stop=Hn),null===i.stop&&(i.stop=Vn);for(var r=[],s=0,o=0;o<e.length;o++){var a=e[o].stop;if(null!==a){var l=Kn(a,t);l>s?r.push(l):r.push(s),s=l}else r.push(null)}var u=null;for(o=0;o<r.length;o++){var c=r[o];if(null===c)null===u&&(u=o);else if(null!==u){for(var A=o-u,d=(c-r[u-1])/(A+1),h=1;h<=A;h++)r[u+h-1]=d*h;u=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}}))},gi=function(e,t,n){var i=t/2,r=n/2,s=Kn(e[0],t)-i,o=r-Kn(e[1],n);return(Math.atan2(o,s)+2*Math.PI)%(2*Math.PI)},mi=function(e,t,n){var i="number"==typeof e?e:gi(e,t,n),r=Math.abs(t*Math.sin(i))+Math.abs(n*Math.cos(i)),s=t/2,o=n/2,a=r/2,l=Math.sin(i-Math.PI/2)*a,u=Math.cos(i-Math.PI/2)*a;return[r,s-u,s+u,o-l,o+l]},vi=function(e,t){return Math.sqrt(e*e+t*t)},yi=function(e,t,n,i,r){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var s=t[0],o=t[1],a=vi(n-s,i-o);return(r?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},bi=function(e,t,n,i,r){var s=0,o=0;switch(e.size){case 0:0===e.shape?s=o=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-i)),o=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(0===e.shape)s=o=Math.min(vi(t,n),vi(t,n-r),vi(t-i,n),vi(t-i,n-r));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)),l=yi(i,r,t,n,!0),u=l[0],c=l[1];o=a*(s=vi(u-t,(c-n)/a))}break;case 1:0===e.shape?s=o=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-i)),o=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(0===e.shape)s=o=Math.max(vi(t,n),vi(t,n-r),vi(t-i,n),vi(t-i,n-r));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i));var A=yi(i,r,t,n,!1);u=A[0],c=A[1],o=a*(s=vi(u-t,(c-n)/a))}}return Array.isArray(e.size)&&(s=Kn(e.size[0],i),o=2===e.size.length?Kn(e.size[1],r):s),[s,o]},wi=function(e,t){var n=ei(180),i=[];return Mn(t).forEach((function(t,r){if(0===r){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(n=Zn(t));if(Jn(s))return void(n=(Yn.parse(e,s)+ei(270))%ei(360))}var o=pi(e,t);i.push(o)})),{angle:n,stops:i,type:1}},Ci="closest-side",xi="farthest-side",Bi="closest-corner",Si="farthest-corner",_i="circle",ki="ellipse",Ti="cover",Ei="contain",Ii=function(e,t){var n=0,i=3,r=[],s=[];return Mn(t).forEach((function(t,o){var a=!0;if(0===o?a=t.reduce((function(e,t){if(Fn(t))switch(t.value){case"center":return s.push(qn),!1;case"top":case"left":return s.push(Hn),!1;case"right":case"bottom":return s.push(Vn),!1}else if(Qn(t)||Rn(t))return s.push(t),!1;return e}),a):1===o&&(a=t.reduce((function(e,t){if(Fn(t))switch(t.value){case _i:return n=0,!1;case ki:return n=1,!1;case Ei:case Ci:return i=0,!1;case xi:return i=1,!1;case Bi:return i=2,!1;case Ti:case Si:return i=3,!1}else if(Rn(t)||Qn(t))return Array.isArray(i)||(i=[]),i.push(t),!1;return e}),a)),a){var l=pi(e,t);r.push(l)}})),{size:i,shape:n,stops:r,position:s,type:2}},Ui=function(e){return 1===e.type},Fi=function(e){return 2===e.type},Di={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var i=Ni[t.name];if(void 0===i)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Li(e){return!(20===e.type&&"none"===e.value||18===e.type&&!Ni[e.name])}var Oi,Ni={"linear-gradient":function(e,t){var n=ei(180),i=[];return Mn(t).forEach((function(t,r){if(0===r){var s=t[0];if(20===s.type&&"to"===s.value)return void(n=Zn(t));if(Jn(s))return void(n=Yn.parse(e,s))}var o=pi(e,t);i.push(o)})),{angle:n,stops:i,type:1}},"-moz-linear-gradient":wi,"-ms-linear-gradient":wi,"-o-linear-gradient":wi,"-webkit-linear-gradient":wi,"radial-gradient":function(e,t){var n=0,i=3,r=[],s=[];return Mn(t).forEach((function(t,o){var a=!0;if(0===o){var l=!1;a=t.reduce((function(e,t){if(l)if(Fn(t))switch(t.value){case"center":return s.push(qn),e;case"top":case"left":return s.push(Hn),e;case"right":case"bottom":return s.push(Vn),e}else(Qn(t)||Rn(t))&&s.push(t);else if(Fn(t))switch(t.value){case _i:return n=0,!1;case ki:return n=1,!1;case"at":return l=!0,!1;case Ci:return i=0,!1;case Ti:case xi:return i=1,!1;case Ei:case Bi:return i=2,!1;case Si:return i=3,!1}else if(Rn(t)||Qn(t))return Array.isArray(i)||(i=[]),i.push(t),!1;return e}),a)}if(a){var u=pi(e,t);r.push(u)}})),{size:i,shape:n,stops:r,position:s,type:2}},"-moz-radial-gradient":Ii,"-ms-radial-gradient":Ii,"-o-radial-gradient":Ii,"-webkit-radial-gradient":Ii,"-webkit-gradient":function(e,t){var n=ei(180),i=[],r=1,s=0,o=3,a=[];return Mn(t).forEach((function(t,n){var s=t[0];if(0===n){if(Fn(s)&&"linear"===s.value)return void(r=1);if(Fn(s)&&"radial"===s.value)return void(r=2)}if(18===s.type)if("from"===s.name){var o=ti.parse(e,s.values[0]);i.push({stop:Hn,color:o})}else if("to"===s.name)o=ti.parse(e,s.values[0]),i.push({stop:Vn,color:o});else if("color-stop"===s.name){var a=s.values.filter(Nn);if(2===a.length){o=ti.parse(e,a[1]);var l=a[0];Un(l)&&i.push({stop:{type:16,number:100*l.number,flags:l.flags},color:o})}}})),1===r?{angle:(n+ei(180))%ei(360),stops:i,type:r}:{size:o,shape:s,stops:i,position:a,type:r}}},Mi={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Nn(e)&&Li(e)})).map((function(t){return Di.parse(e,t)}))}},ji={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Ri={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Mn(t).map((function(e){return e.filter(Qn)})).map(Pn)}},Qi={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Mn(t).map((function(e){return e.filter(Fn).map((function(e){return e.value})).join(" ")})).map(Pi)}},Pi=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Oi||(Oi={}));var Hi,qi={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Mn(t).map((function(e){return e.filter(Vi)}))}},Vi=function(e){return Fn(e)||Qn(e)},zi=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ki=zi("top"),Gi=zi("right"),Wi=zi("bottom"),$i=zi("left"),Xi=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Pn(t.filter(Qn))}}},Yi=Xi("top-left"),Ji=Xi("top-right"),Zi=Xi("bottom-right"),er=Xi("bottom-left"),tr=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nr=tr("top"),ir=tr("right"),rr=tr("bottom"),sr=tr("left"),or=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}}},ar=or("top"),lr=or("right"),ur=or("bottom"),cr=or("left"),Ar={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},hr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).reduce((function(e,t){return e|pr(t.value)}),0)}},pr=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fr={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Hi||(Hi={}));var mr,vr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Hi.STRICT:Hi.NORMAL}},yr={name:"line-height",initialValue:"normal",prefix:!1,type:4},br=function(e,t){return Fn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Qn(e)?Kn(e,t):t},wr={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Di.parse(e,t)}},Cr={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},xr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Br=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Sr=Br("top"),_r=Br("right"),kr=Br("bottom"),Tr=Br("left"),Er={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Ir={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ur=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Fr=Ur("top"),Dr=Ur("right"),Lr=Ur("bottom"),Or=Ur("left"),Nr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Mr={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},jr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ln(t[0],"none")?[]:Mn(t).map((function(t){for(var n={color:Ai.TRANSPARENT,offsetX:Hn,offsetY:Hn,blur:Hn},i=0,r=0;r<t.length;r++){var s=t[r];Rn(s)?(0===i?n.offsetX=s:1===i?n.offsetY=s:n.blur=s,i++):n.color=ti.parse(e,s)}return n}))}},Rr={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Qr={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Pr[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Pr={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],i=t[1];t[2],t[3];var r=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],a=t[13];return t[14],t[15],16===t.length?[n,i,r,s,o,a]:null}},Hr={type:16,number:50,flags:Ve},qr=[Hr,Hr],Vr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Qn);return 2!==n.length?qr:[n[0],n[1]]}},zr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(mr||(mr={}));for(var Kr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return mr.BREAK_ALL;case"keep-all":return mr.KEEP_ALL;default:return mr.NORMAL}}},Gr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Un(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Wr={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},$r={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:1}},Xr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Jr={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],i=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:i.push(n.join(" ")),n.length=0}})),n.length&&i.push(n.join(" ")),i.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},Zr={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},es={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:Fn(t)&&"bold"===t.value?700:400}},ts={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Fn).map((function(e){return e.value}))}},ns={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},is=function(e,t){return!!(e&t)},rs={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ss={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var i=[],r=t.filter(On),s=0;s<r.length;s++){var o=r[s],a=r[s+1];if(20===o.type){var l=a&&Un(a)?a.number:1;i.push({counter:o.value,increment:l})}}return i}},os={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],i=t.filter(On),r=0;r<i.length;r++){var s=i[r],o=i[r+1];if(Fn(s)&&"none"!==s.value){var a=o&&Un(o)?o.number:0;n.push({counter:s.value,reset:a})}}return n}},as={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(In).map((function(t){return Wr.parse(e,t)}))}},ls={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var i=[],r=t.filter(Dn);if(r.length%2!=0)return null;for(var s=0;s<r.length;s+=2){var o=r[s].value,a=r[s+1].value;i.push({open:o,close:a})}return i}},us=function(e,t,n){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?n?i.open:i.close:""},cs={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ln(t[0],"none")?[]:Mn(t).map((function(t){for(var n={color:255,offsetX:Hn,offsetY:Hn,blur:Hn,spread:Hn,inset:!1},i=0,r=0;r<t.length;r++){var s=t[r];Ln(s,"inset")?n.inset=!0:Rn(s)?(0===i?n.offsetX=s:1===i?n.offsetY=s:2===i?n.blur=s:n.spread=s,i++):n.color=ti.parse(e,s)}return n}))}},As={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],i=[];return t.filter(Fn).forEach((function(e){switch(e.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2)}})),n.forEach((function(e){-1===i.indexOf(e)&&i.push(e)})),i}},ds={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}},ps=function(){function e(e,t){var n,i;this.animationDuration=ms(e,as,t.animationDuration),this.backgroundClip=ms(e,di,t.backgroundClip),this.backgroundColor=ms(e,hi,t.backgroundColor),this.backgroundImage=ms(e,Mi,t.backgroundImage),this.backgroundOrigin=ms(e,ji,t.backgroundOrigin),this.backgroundPosition=ms(e,Ri,t.backgroundPosition),this.backgroundRepeat=ms(e,Qi,t.backgroundRepeat),this.backgroundSize=ms(e,qi,t.backgroundSize),this.borderTopColor=ms(e,Ki,t.borderTopColor),this.borderRightColor=ms(e,Gi,t.borderRightColor),this.borderBottomColor=ms(e,Wi,t.borderBottomColor),this.borderLeftColor=ms(e,$i,t.borderLeftColor),this.borderTopLeftRadius=ms(e,Yi,t.borderTopLeftRadius),this.borderTopRightRadius=ms(e,Ji,t.borderTopRightRadius),this.borderBottomRightRadius=ms(e,Zi,t.borderBottomRightRadius),this.borderBottomLeftRadius=ms(e,er,t.borderBottomLeftRadius),this.borderTopStyle=ms(e,nr,t.borderTopStyle),this.borderRightStyle=ms(e,ir,t.borderRightStyle),this.borderBottomStyle=ms(e,rr,t.borderBottomStyle),this.borderLeftStyle=ms(e,sr,t.borderLeftStyle),this.borderTopWidth=ms(e,ar,t.borderTopWidth),this.borderRightWidth=ms(e,lr,t.borderRightWidth),this.borderBottomWidth=ms(e,ur,t.borderBottomWidth),this.borderLeftWidth=ms(e,cr,t.borderLeftWidth),this.boxShadow=ms(e,cs,t.boxShadow),this.color=ms(e,Ar,t.color),this.direction=ms(e,dr,t.direction),this.display=ms(e,hr,t.display),this.float=ms(e,fr,t.cssFloat),this.fontFamily=ms(e,Jr,t.fontFamily),this.fontSize=ms(e,Zr,t.fontSize),this.fontStyle=ms(e,ns,t.fontStyle),this.fontVariant=ms(e,ts,t.fontVariant),this.fontWeight=ms(e,es,t.fontWeight),this.letterSpacing=ms(e,gr,t.letterSpacing),this.lineBreak=ms(e,vr,t.lineBreak),this.lineHeight=ms(e,yr,t.lineHeight),this.listStyleImage=ms(e,wr,t.listStyleImage),this.listStylePosition=ms(e,Cr,t.listStylePosition),this.listStyleType=ms(e,xr,t.listStyleType),this.marginTop=ms(e,Sr,t.marginTop),this.marginRight=ms(e,_r,t.marginRight),this.marginBottom=ms(e,kr,t.marginBottom),this.marginLeft=ms(e,Tr,t.marginLeft),this.opacity=ms(e,$r,t.opacity);var r=ms(e,Er,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=ms(e,Ir,t.overflowWrap),this.paddingTop=ms(e,Fr,t.paddingTop),this.paddingRight=ms(e,Dr,t.paddingRight),this.paddingBottom=ms(e,Lr,t.paddingBottom),this.paddingLeft=ms(e,Or,t.paddingLeft),this.paintOrder=ms(e,As,t.paintOrder),this.position=ms(e,Mr,t.position),this.textAlign=ms(e,Nr,t.textAlign),this.textDecorationColor=ms(e,Xr,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=ms(e,Yr,null!==(i=t.textDecorationLine)&&void 0!==i?i:t.textDecoration),this.textShadow=ms(e,jr,t.textShadow),this.textTransform=ms(e,Rr,t.textTransform),this.transform=ms(e,Qr,t.transform),this.transformOrigin=ms(e,Vr,t.transformOrigin),this.visibility=ms(e,zr,t.visibility),this.webkitTextStrokeColor=ms(e,ds,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=ms(e,hs,t.webkitTextStrokeWidth),this.wordBreak=ms(e,Kr,t.wordBreak),this.zIndex=ms(e,Gr,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return ni(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return is(this.display,4)||is(this.display,33554432)||is(this.display,268435456)||is(this.display,536870912)||is(this.display,67108864)||is(this.display,134217728)},e}(),fs=function(){function e(e,t){this.content=ms(e,rs,t.content),this.quotes=ms(e,ls,t.quotes)}return e}(),gs=function(){function e(e,t){this.counterIncrement=ms(e,ss,t.counterIncrement),this.counterReset=ms(e,os,t.counterReset)}return e}(),ms=function(e,t,n){var i=new Tn,r=null!=n?n.toString():t.initialValue;i.write(r);var s=new En(i.read());switch(t.type){case 2:var o=s.parseComponentValue();return t.parse(e,Fn(o)?o.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Yn.parse(e,s.parseComponentValue());case"color":return ti.parse(e,s.parseComponentValue());case"image":return Di.parse(e,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Rn(a)?a:Hn;case"length-percentage":var l=s.parseComponentValue();return Qn(l)?l:Hn;case"time":return Wr.parse(e,s.parseComponentValue())}}},vs="data-html2canvas-debug",ys=function(e){switch(e.getAttribute(vs)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bs=function(e,t){var n=ys(e);return 1===n||t===n},ws=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,bs(t,3),this.styles=new ps(e,window.getComputedStyle(t,null)),ua(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),bs(t,4)&&(this.flags|=16)}return e}(),Cs="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bs="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ss=0;Ss<xs.length;Ss++)Bs[xs.charCodeAt(Ss)]=Ss;for(var _s=function(e){var t,n,i,r,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<a;t+=4)n=Bs[e.charCodeAt(t)],i=Bs[e.charCodeAt(t+1)],r=Bs[e.charCodeAt(t+2)],s=Bs[e.charCodeAt(t+3)],c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&s;return u},ks=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},Ts=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},Es=5,Is=11,Us=2,Fs=65536>>Es,Ds=(1<<Es)-1,Ls=Fs+(1024>>Es)+32,Os=65536>>Is,Ns=(1<<Is-Es)-1,Ms=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},js=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Rs=function(e,t){var n=_s(e),i=Array.isArray(n)?Ts(n):new Uint32Array(n),r=Array.isArray(n)?ks(n):new Uint16Array(n),s=24,o=Ms(r,s/2,i[4]/2),a=2===i[5]?Ms(r,(s+i[4])/2):js(i,Math.ceil((s+i[4])/4));return new Qs(i[0],i[1],i[2],i[3],o,a)},Qs=function(){function e(e,t,n,i,r,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Es])<<Us)+(e&Ds),this.data[t];if(e<=65535)return t=((t=this.index[Fs+(e-55296>>Es)])<<Us)+(e&Ds),this.data[t];if(e<this.highStart)return t=Ls-Os+(e>>Is),t=this.index[t],t+=e>>Es&Ns,t=((t=this.index[t])<<Us)+(e&Ds),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hs="undefined"==typeof Uint8Array?[]:new Uint8Array(256),qs=0;qs<Ps.length;qs++)Hs[Ps.charCodeAt(qs)]=qs;var Vs,zs=1,Ks=2,Gs=3,Ws=4,$s=5,Xs=7,Ys=8,Js=9,Zs=10,eo=11,to=12,no=13,io=14,ro=15,so=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t},oo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,s="";++r<n;){var o=e[r];o<=65535?i.push(o):(o-=65536,i.push(55296+(o>>10),o%1024+56320)),(r+1===n||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},ao=Rs(Cs),lo="×",uo="÷",co=function(e){return ao.get(e)},Ao=function(e,t,n){var i=n-2,r=t[i],s=t[n-1],o=t[n];if(s===Ks&&o===Gs)return lo;if(s===Ks||s===Gs||s===Ws)return uo;if(o===Ks||o===Gs||o===Ws)return uo;if(s===Ys&&-1!==[Ys,Js,eo,to].indexOf(o))return lo;if(!(s!==eo&&s!==Js||o!==Js&&o!==Zs))return lo;if((s===to||s===Zs)&&o===Zs)return lo;if(o===no||o===$s)return lo;if(o===Xs)return lo;if(s===zs)return lo;if(s===no&&o===io){for(;r===$s;)r=t[--i];if(r===io)return lo}if(s===ro&&o===ro){for(var a=0;r===ro;)a++,r=t[--i];if(a%2==0)return lo}return uo},ho=function(e){var t=so(e),n=t.length,i=0,r=0,s=t.map(co);return{next:function(){if(i>=n)return{done:!0,value:null};for(var e=lo;i<n&&(e=Ao(t,s,++i))===lo;);if(e!==lo||i===n){var o=oo.apply(null,t.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=ho(e),i=[];!(t=n.next()).done;)t.value&&i.push(t.value.slice());return i},fo=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var i=e.createElement("boundtest");i.style.height=t+"px",i.style.display="block",e.body.appendChild(i),n.selectNode(i);var r=n.getBoundingClientRect(),s=Math.round(r.height);if(e.body.removeChild(i),s===t)return!0}}return!1},go=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var i=t.firstChild,r=l(i.data).map((function(e){return u(e)})),s=0,o={},a=r.every((function(e,t){n.setStart(i,s),n.setEnd(i,s+e.length);var r=n.getBoundingClientRect();s+=e.length;var a=r.x>o.x||r.y>o.y;return o=r,0===t||a}));return e.body.removeChild(t),a},mo=function(){return void 0!==(new Image).crossOrigin},vo=function(){return"string"==typeof(new XMLHttpRequest).responseType},yo=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},bo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},wo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,n,n);var r=new Image,s=t.toDataURL();r.src=s;var o=Co(n,n,0,0,r);return i.fillStyle="red",i.fillRect(0,0,n,n),xo(o).then((function(t){i.drawImage(t,0,0);var r=i.getImageData(0,0,n,n).data;i.fillStyle="red",i.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+s+")",o.style.height=n+"px",bo(r)?xo(Co(n,n,0,0,o)):Promise.reject(!1)})).then((function(e){return i.drawImage(e,0,0),bo(i.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Co=function(e,t,n,i,r){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",i.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(r),o},xo=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Bo={get SUPPORT_RANGE_BOUNDS(){var e=fo(document);return Object.defineProperty(Bo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Bo.SUPPORT_RANGE_BOUNDS&&go(document);return Object.defineProperty(Bo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yo(document);return Object.defineProperty(Bo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?wo(document):Promise.resolve(!1);return Object.defineProperty(Bo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=mo();return Object.defineProperty(Bo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vo();return Object.defineProperty(Bo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Bo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Bo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},So=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),_o=function(e,t,n,i){var r=Uo(t,n),o=[],a=0;return r.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Bo.SUPPORT_RANGE_BOUNDS){var r=To(i,a,t.length).getClientRects();if(r.length>1){var l=Eo(t),u=0;l.forEach((function(t){o.push(new So(t,s.fromDOMRectList(e,To(i,u+a,t.length).getClientRects()))),u+=t.length}))}else o.push(new So(t,s.fromDOMRectList(e,r)))}else{var c=i.splitText(t.length);o.push(new So(t,ko(e,i))),i=c}else Bo.SUPPORT_RANGE_BOUNDS||(i=i.splitText(t.length));a+=t.length})),o},ko=function(e,t){var n=t.ownerDocument;if(n){var i=n.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(i,t);var a=o(e,i);return i.firstChild&&r.replaceChild(i.firstChild,i),a}}return s.EMPTY},To=function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(e,t),r.setEnd(e,t+n),r},Eo=function(e){if(Bo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return po(e)},Io=function(e,t){if(Bo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Do(e,t)},Uo=function(e,t){return 0!==t.letterSpacing?Eo(e):Io(e,t)},Fo=[32,160,4961,65792,65793,4153,4241],Do=function(e,t){for(var n,i=Pe(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[],s=function(){if(n.value){var e=n.value.slice(),t=l(e),i="";t.forEach((function(e){-1===Fo.indexOf(e)?i+=u(e):(i.length&&r.push(i),r.push(u(e)),i="")})),i.length&&r.push(i)}};!(n=i.next()).done;)s();return r},Lo=function(){function e(e,t,n){this.text=Oo(t.data,n.textTransform),this.textBounds=_o(e,this.text,n,t)}return e}(),Oo=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(No,Mo);case 2:return e.toUpperCase();default:return e}},No=/(^|\s|:|-|\(|\))([a-z])/g,Mo=function(e,t,n){return e.length>0?t+n.toUpperCase():e},jo=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t(n,e),n}(ws),Ro=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t(n,e),n}(ws),Qo=function(e){function n(t,n){var i=e.call(this,t,n)||this,r=new XMLSerializer,s=o(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t(n,e),n}(ws),Po=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.value=n.value,i}return t(n,e),n}(ws),Ho=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.start=n.start,i.reversed="boolean"==typeof n.reversed&&!0===n.reversed,i}return t(n,e),n}(ws),qo=[{type:15,flags:0,unit:"px",number:3}],Vo=[{type:16,flags:0,number:50}],zo=function(e){return e.width>e.height?new s(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new s(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ko=function(e){var t=e.type===$o?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},Go="checkbox",Wo="radio",$o="password",Xo=707406591,Yo=function(e){function n(t,n){var i=e.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Ko(n),i.type!==Go&&i.type!==Wo||(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=zo(i.bounds)),i.type){case Go:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=qo;break;case Wo:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Vo}return i}return t(n,e),n}(ws),Jo=function(e){function n(t,n){var i=e.call(this,t,n)||this,r=n.options[n.selectedIndex||0];return i.value=r&&r.text||"",i}return t(n,e),n}(ws),Zo=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.value=n.value,i}return t(n,e),n}(ws),ea=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=ra(t,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?ci(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ai.TRANSPARENT,s=n.contentWindow.document.body?ci(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ai.TRANSPARENT;i.backgroundColor=ni(r)?ni(s)?i.styles.backgroundColor:s:r}}catch(e){}return i}return t(n,e),n}(ws),ta=["OL","UL","MENU"],na=function(e,t,n,i){for(var r=t.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,aa(r)&&r.data.trim().length>0)n.textNodes.push(new Lo(e,r,n.styles));else if(la(r))if(Sa(r)&&r.assignedNodes)r.assignedNodes().forEach((function(t){return na(e,t,n,i)}));else{var o=ia(e,r);o.styles.isVisible()&&(sa(r,o,i)?o.flags|=4:oa(o.styles)&&(o.flags|=2),-1!==ta.indexOf(r.tagName)&&(o.flags|=8),n.elements.push(o),r.slot,r.shadowRoot?na(e,r.shadowRoot,o,i):xa(r)||fa(r)||Ba(r)||na(e,r,o,i))}},ia=function(e,t){return ya(t)?new jo(e,t):ma(t)?new Ro(e,t):fa(t)?new Qo(e,t):Aa(t)?new Po(e,t):da(t)?new Ho(e,t):ha(t)?new Yo(e,t):Ba(t)?new Jo(e,t):xa(t)?new Zo(e,t):ba(t)?new ea(e,t):new ws(e,t)},ra=function(e,t){var n=ia(e,t);return n.flags|=4,na(e,t,n,n),n},sa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ga(e)&&n.styles.isTransparent()},oa=function(e){return e.isPositioned()||e.isFloating()},aa=function(e){return e.nodeType===Node.TEXT_NODE},la=function(e){return e.nodeType===Node.ELEMENT_NODE},ua=function(e){return la(e)&&void 0!==e.style&&!ca(e)},ca=function(e){return"object"==typeof e.className},Aa=function(e){return"LI"===e.tagName},da=function(e){return"OL"===e.tagName},ha=function(e){return"INPUT"===e.tagName},pa=function(e){return"HTML"===e.tagName},fa=function(e){return"svg"===e.tagName},ga=function(e){return"BODY"===e.tagName},ma=function(e){return"CANVAS"===e.tagName},va=function(e){return"VIDEO"===e.tagName},ya=function(e){return"IMG"===e.tagName},ba=function(e){return"IFRAME"===e.tagName},wa=function(e){return"STYLE"===e.tagName},Ca=function(e){return"SCRIPT"===e.tagName},xa=function(e){return"TEXTAREA"===e.tagName},Ba=function(e){return"SELECT"===e.tagName},Sa=function(e){return"SLOT"===e.tagName},_a=function(e){return e.tagName.indexOf("-")>0},ka=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,r=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(r=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var s=[];return r&&i.forEach((function(e){var n=t.counters[e.counter];s.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),s},e}(),Ta={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ea={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Ia={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Ua={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Fa=function(e,t,n,i,r,s){return e<t||e>n?za(e,r,s.length>0):i.integers.reduce((function(t,n,r){for(;e>=n;)e-=n,t+=i.values[r];return t}),"")+s},Da=function(e,t,n,i){var r="";do{n||e--,r=i(e)+r,e/=t}while(e*t>=t);return r},La=function(e,t,n,i,r){var s=n-t+1;return(e<0?"-":"")+(Da(Math.abs(e),s,i,(function(e){return u(Math.floor(e%s)+t)}))+r)},Oa=function(e,t,n){void 0===n&&(n=". ");var i=t.length;return Da(Math.abs(e),i,!1,(function(e){return t[Math.floor(e%i)]}))+n},Na=1,Ma=2,ja=4,Ra=8,Qa=function(e,t,n,i,r,s){if(e<-9999||e>9999)return za(e,4,r.length>0);var o=Math.abs(e),a=r;if(0===o)return t[0]+a;for(var l=0;o>0&&l<=4;l++){var u=o%10;0===u&&is(s,Na)&&""!==a?a=t[u]+a:u>1||1===u&&0===l||1===u&&1===l&&is(s,Ma)||1===u&&1===l&&is(s,ja)&&e>100||1===u&&l>1&&is(s,Ra)?a=t[u]+(l>0?n[l-1]:"")+a:1===u&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(e<0?i:"")+a},Pa="十百千萬",Ha="拾佰仟萬",qa="マイナス",Va="마이너스",za=function(e,t,n){var i=n?". ":"",r=n?"、":"",s=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var a=La(e,48,57,!0,i);return a.length<4?"0"+a:a;case 4:return Oa(e,"〇一二三四五六七八九",r);case 6:return Fa(e,1,3999,Ta,3,i).toLowerCase();case 7:return Fa(e,1,3999,Ta,3,i);case 8:return La(e,945,969,!1,i);case 9:return La(e,97,122,!1,i);case 10:return La(e,65,90,!1,i);case 11:return La(e,1632,1641,!0,i);case 12:case 49:return Fa(e,1,9999,Ea,3,i);case 35:return Fa(e,1,9999,Ea,3,i).toLowerCase();case 13:return La(e,2534,2543,!0,i);case 14:case 30:return La(e,6112,6121,!0,i);case 15:return Oa(e,"子丑寅卯辰巳午未申酉戌亥",r);case 16:return Oa(e,"甲乙丙丁戊己庚辛壬癸",r);case 17:case 48:return Qa(e,"零一二三四五六七八九",Pa,"負",r,Ma|ja|Ra);case 47:return Qa(e,"零壹貳參肆伍陸柒捌玖",Ha,"負",r,Na|Ma|ja|Ra);case 42:return Qa(e,"零一二三四五六七八九",Pa,"负",r,Ma|ja|Ra);case 41:return Qa(e,"零壹贰叁肆伍陆柒捌玖",Ha,"负",r,Na|Ma|ja|Ra);case 26:return Qa(e,"〇一二三四五六七八九","十百千万",qa,r,0);case 25:return Qa(e,"零壱弐参四伍六七八九","拾百千万",qa,r,Na|Ma|ja);case 31:return Qa(e,"영일이삼사오육칠팔구","십백천만",Va,s,Na|Ma|ja);case 33:return Qa(e,"零一二三四五六七八九","十百千萬",Va,s,0);case 32:return Qa(e,"零壹貳參四五六七八九","拾百千",Va,s,Na|Ma|ja);case 18:return La(e,2406,2415,!0,i);case 20:return Fa(e,1,19999,Ua,3,i);case 21:return La(e,2790,2799,!0,i);case 22:return La(e,2662,2671,!0,i);case 22:return Fa(e,1,10999,Ia,3,i);case 23:return Oa(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Oa(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return La(e,3302,3311,!0,i);case 28:return Oa(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case 29:return Oa(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case 34:return La(e,3792,3801,!0,i);case 37:return La(e,6160,6169,!0,i);case 38:return La(e,4160,4169,!0,i);case 39:return La(e,2918,2927,!0,i);case 40:return La(e,1776,1785,!0,i);case 43:return La(e,3046,3055,!0,i);case 44:return La(e,3174,3183,!0,i);case 45:return La(e,3664,3673,!0,i);case 46:return La(e,3872,3881,!0,i);default:return La(e,48,57,!0,i)}},Ka="data-html2canvas-ignore",Ga=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new ka,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,s=$a(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,l=s.contentWindow,u=l.document,c=Ja(s).then((function(){return i(n,void 0,void 0,(function(){var e,n;return r(this,(function(i){switch(i.label){case 0:return this.scrolledElements.forEach(il),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:i.sent(),i.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ya(u)]:[3,4];case 3:i.sent(),i.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(u,n)})).then((function(){return s}))]:[2,s]}}))}))}));return u.open(),u.write(tl(document.doctype)+"<html></html>"),nl(this.referenceElement.ownerDocument,o,a),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),c},e.prototype.createElementClone=function(e){if(bs(e,2),ma(e))return this.createCanvasClone(e);if(va(e))return this.createVideoClone(e);if(wa(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return ya(t)&&(ya(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),_a(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return el(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var r=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&r)s.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var a=o.getContextAttributes();!1===(null==a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},e.prototype.appendChildNode=function(e,t,n){la(t)&&(Ca(t)||t.hasAttribute(Ka)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&la(t)&&wa(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var i=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(la(r)&&Sa(r)&&"function"==typeof r.assignedNodes){var s=r.assignedNodes();s.length&&s.forEach((function(e){return i.appendChildNode(t,e,n)}))}else this.appendChildNode(t,r,n)},e.prototype.cloneNode=function(e,t){if(aa(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&la(e)&&(ua(e)||ca(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var r=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&ua(i)&&(this.clonedReferenceElement=i),ga(i)&&ul(i);var a=this.counters.parse(new gs(this.context,r)),l=this.resolvePseudoContent(e,i,s,Vs.BEFORE);_a(e)&&(t=!0),va(e)||this.cloneChildNodes(e,i,t),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,o,Vs.AFTER);return u&&i.appendChild(u),this.counters.pop(a),(r&&(this.options.copyStyles||ca(e))&&!ba(e)||t)&&el(r,i),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(xa(e)||Ba(e))&&(xa(i)||Ba(i))&&(i.value=e.value),i}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,i){var r=this;if(n){var s=n.content,o=t.ownerDocument;if(o&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==n.display){this.counters.parse(new gs(this.context,n));var a=new fs(this.context,n),l=o.createElement("html2canvaspseudoelement");el(n,l),a.content.forEach((function(t){if(0===t.type)l.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var i=t.values.filter(Fn);i.length&&l.appendChild(o.createTextNode(e.getAttribute(i[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(Nn),u=s[0],c=s[1];if(u&&Fn(u)){var A=r.counters.getCounterValue(u.value),d=c&&Fn(c)?xr.parse(r.context,c.value):3;l.appendChild(o.createTextNode(za(A,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Nn),p=(u=h[0],h[1]);if(c=h[2],u&&Fn(u)){var f=r.counters.getCounterValues(u.value),g=c&&Fn(c)?xr.parse(r.context,c.value):3,m=p&&0===p.type?p.value:"",v=f.map((function(e){return za(e,g,!1)})).join(m);l.appendChild(o.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(o.createTextNode(us(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(us(a.quotes,--r.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(t.value))}})),l.className=ol+" "+al;var u=i===Vs.BEFORE?" "+ol:" "+al;return ca(t)?t.className.baseValue+=u:t.className+=u,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Vs||(Vs={}));var Wa,$a=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Ka,"true"),e.body.appendChild(n),n},Xa=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Ya=function(e){return Promise.all([].slice.call(e.images,0).map(Xa))},Ja=function(e){return new Promise((function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=function(){i.onload=e.onload=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},Za=["all","d","content"],el=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e.item(n);-1===Za.indexOf(i)&&t.style.setProperty(i,e.getPropertyValue(i))}return t},tl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},nl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},il=function(e){var t=e[0],n=e[1],i=e[2];t.scrollLeft=n,t.scrollTop=i},rl=":before",sl=":after",ol="___html2canvas___pseudoelement_before",al="___html2canvas___pseudoelement_after",ll='{\n    content: "" !important;\n    display: none !important;\n}',ul=function(e){cl(e,"."+ol+rl+ll+"\n         ."+al+sl+ll)},cl=function(e,t){var n=e.ownerDocument;if(n){var i=n.createElement("style");i.textContent=t,e.appendChild(i)}},Al=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),dl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:yl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,s,o=this;return r(this,(function(r){switch(r.label){case 0:return t=Al.isSameOrigin(e),n=!ml(e)&&!0===this._options.useCORS&&Bo.SUPPORT_CORS_IMAGES&&!t,i=!ml(e)&&!t&&!yl(e)&&"string"==typeof this._options.proxy&&Bo.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||ml(e)||yl(e)||i||n?(s=e,i?[4,this.proxy(s)]:[3,2]):[2];case 1:s=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,(vl(s)||n)&&(i.crossOrigin="anonymous"),i.src=s,!0===i.complete&&setTimeout((function(){return e(i)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise((function(r,s){var o=Bo.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===o)r(a.response);else{var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return s(e)}),!1),e.readAsDataURL(a.response)}else s("Failed to proxy resource "+i+" with status code "+a.status)},a.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var u=t._options.imageTimeout;a.timeout=u,a.ontimeout=function(){return s("Timed out ("+u+"ms) proxying "+i)}}a.send()}))},e}(),hl=/^data:image\/svg\+xml/i,pl=/^data:image\/.*;base64,/i,fl=/^data:image\/.*/i,gl=function(e){return Bo.SUPPORT_SVG_DRAWING||!bl(e)},ml=function(e){return fl.test(e)},vl=function(e){return pl.test(e)},yl=function(e){return"blob"===e.substr(0,4)},bl=function(e){return"svg"===e.substr(-3).toLowerCase()||hl.test(e)},wl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Cl=function(e,t,n){return new wl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},xl=function(){function e(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,n){var i=Cl(this.start,this.startControl,t),r=Cl(this.startControl,this.endControl,t),s=Cl(this.endControl,this.end,t),o=Cl(i,r,t),a=Cl(r,s,t),l=Cl(o,a,t);return n?new e(this.start,i,o,l):new e(l,a,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Bl=function(e){return 1===e.type},Sl=function(){function e(e){var t=e.styles,n=e.bounds,i=zn(t.borderTopLeftRadius,n.width,n.height),r=i[0],s=i[1],o=zn(t.borderTopRightRadius,n.width,n.height),a=o[0],l=o[1],u=zn(t.borderBottomRightRadius,n.width,n.height),c=u[0],A=u[1],d=zn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],p=d[1],f=[];f.push((r+a)/n.width),f.push((h+c)/n.width),f.push((s+p)/n.height),f.push((l+A)/n.height);var g=Math.max.apply(Math,f);g>1&&(r/=g,s/=g,a/=g,l/=g,c/=g,A/=g,h/=g,p/=g);var m=n.width-a,v=n.height-A,y=n.width-c,b=n.height-p,w=t.borderTopWidth,C=t.borderRightWidth,x=t.borderBottomWidth,B=t.borderLeftWidth,S=Kn(t.paddingTop,e.bounds.width),_=Kn(t.paddingRight,e.bounds.width),k=Kn(t.paddingBottom,e.bounds.width),T=Kn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||s>0?_l(n.left+B/3,n.top+w/3,r-B/3,s-w/3,Wa.TOP_LEFT):new wl(n.left+B/3,n.top+w/3),this.topRightBorderDoubleOuterBox=r>0||s>0?_l(n.left+m,n.top+w/3,a-C/3,l-w/3,Wa.TOP_RIGHT):new wl(n.left+n.width-C/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=c>0||A>0?_l(n.left+y,n.top+v,c-C/3,A-x/3,Wa.BOTTOM_RIGHT):new wl(n.left+n.width-C/3,n.top+n.height-x/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?_l(n.left+B/3,n.top+b,h-B/3,p-x/3,Wa.BOTTOM_LEFT):new wl(n.left+B/3,n.top+n.height-x/3),this.topLeftBorderDoubleInnerBox=r>0||s>0?_l(n.left+2*B/3,n.top+2*w/3,r-2*B/3,s-2*w/3,Wa.TOP_LEFT):new wl(n.left+2*B/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=r>0||s>0?_l(n.left+m,n.top+2*w/3,a-2*C/3,l-2*w/3,Wa.TOP_RIGHT):new wl(n.left+n.width-2*C/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=c>0||A>0?_l(n.left+y,n.top+v,c-2*C/3,A-2*x/3,Wa.BOTTOM_RIGHT):new wl(n.left+n.width-2*C/3,n.top+n.height-2*x/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?_l(n.left+2*B/3,n.top+b,h-2*B/3,p-2*x/3,Wa.BOTTOM_LEFT):new wl(n.left+2*B/3,n.top+n.height-2*x/3),this.topLeftBorderStroke=r>0||s>0?_l(n.left+B/2,n.top+w/2,r-B/2,s-w/2,Wa.TOP_LEFT):new wl(n.left+B/2,n.top+w/2),this.topRightBorderStroke=r>0||s>0?_l(n.left+m,n.top+w/2,a-C/2,l-w/2,Wa.TOP_RIGHT):new wl(n.left+n.width-C/2,n.top+w/2),this.bottomRightBorderStroke=c>0||A>0?_l(n.left+y,n.top+v,c-C/2,A-x/2,Wa.BOTTOM_RIGHT):new wl(n.left+n.width-C/2,n.top+n.height-x/2),this.bottomLeftBorderStroke=h>0||p>0?_l(n.left+B/2,n.top+b,h-B/2,p-x/2,Wa.BOTTOM_LEFT):new wl(n.left+B/2,n.top+n.height-x/2),this.topLeftBorderBox=r>0||s>0?_l(n.left,n.top,r,s,Wa.TOP_LEFT):new wl(n.left,n.top),this.topRightBorderBox=a>0||l>0?_l(n.left+m,n.top,a,l,Wa.TOP_RIGHT):new wl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||A>0?_l(n.left+y,n.top+v,c,A,Wa.BOTTOM_RIGHT):new wl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||p>0?_l(n.left,n.top+b,h,p,Wa.BOTTOM_LEFT):new wl(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||s>0?_l(n.left+B,n.top+w,Math.max(0,r-B),Math.max(0,s-w),Wa.TOP_LEFT):new wl(n.left+B,n.top+w),this.topRightPaddingBox=a>0||l>0?_l(n.left+Math.min(m,n.width-C),n.top+w,m>n.width+C?0:Math.max(0,a-C),Math.max(0,l-w),Wa.TOP_RIGHT):new wl(n.left+n.width-C,n.top+w),this.bottomRightPaddingBox=c>0||A>0?_l(n.left+Math.min(y,n.width-B),n.top+Math.min(v,n.height-x),Math.max(0,c-C),Math.max(0,A-x),Wa.BOTTOM_RIGHT):new wl(n.left+n.width-C,n.top+n.height-x),this.bottomLeftPaddingBox=h>0||p>0?_l(n.left+B,n.top+Math.min(b,n.height-x),Math.max(0,h-B),Math.max(0,p-x),Wa.BOTTOM_LEFT):new wl(n.left+B,n.top+n.height-x),this.topLeftContentBox=r>0||s>0?_l(n.left+B+T,n.top+w+S,Math.max(0,r-(B+T)),Math.max(0,s-(w+S)),Wa.TOP_LEFT):new wl(n.left+B+T,n.top+w+S),this.topRightContentBox=a>0||l>0?_l(n.left+Math.min(m,n.width+B+T),n.top+w+S,m>n.width+B+T?0:a-B+T,l-(w+S),Wa.TOP_RIGHT):new wl(n.left+n.width-(C+_),n.top+w+S),this.bottomRightContentBox=c>0||A>0?_l(n.left+Math.min(y,n.width-(B+T)),n.top+Math.min(v,n.height+w+S),Math.max(0,c-(C+_)),A-(x+k),Wa.BOTTOM_RIGHT):new wl(n.left+n.width-(C+_),n.top+n.height-(x+k)),this.bottomLeftContentBox=h>0||p>0?_l(n.left+B+T,n.top+b,Math.max(0,h-(B+T)),p-(x+k),Wa.BOTTOM_LEFT):new wl(n.left+B+T,n.top+n.height-(x+k))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Wa||(Wa={}));var _l=function(e,t,n,i,r){var s=(Math.sqrt(2)-1)/3*4,o=n*s,a=i*s,l=e+n,u=t+i;switch(r){case Wa.TOP_LEFT:return new xl(new wl(e,u),new wl(e,u-a),new wl(l-o,t),new wl(l,t));case Wa.TOP_RIGHT:return new xl(new wl(e,t),new wl(e+o,t),new wl(l,u-a),new wl(l,u));case Wa.BOTTOM_RIGHT:return new xl(new wl(l,t),new wl(l,t+a),new wl(e+o,u),new wl(e,u));case Wa.BOTTOM_LEFT:default:return new xl(new wl(l,u),new wl(l-o,u),new wl(e,t+a),new wl(e,t))}},kl=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Tl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},El=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Il=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ul=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Fl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Dl=function(e){return 0===e.type},Ll=function(e){return 1===e.type},Ol=function(e){return 2===e.type},Nl=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Ml=function(e,t,n,i,r){return e.map((function(e,s){switch(s){case 0:return e.add(t,n);case 1:return e.add(t+i,n);case 2:return e.add(t+i,n+r);case 3:return e.add(t,n+r)}return e}))},jl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Rl=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Sl(this.container),this.container.styles.opacity<1&&this.effects.push(new Fl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new Il(n,i,r))}if(0!==this.container.styles.overflowX){var s=kl(this.curves),o=El(this.curves);Nl(s,o)?this.effects.push(new Ul(s,6)):(this.effects.push(new Ul(s,2)),this.effects.push(new Ul(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,i=this.effects.slice(0);n;){var r=n.effects.filter((function(e){return!Ll(e)}));if(t||0!==n.container.styles.position||!n.parent){if(i.unshift.apply(i,r),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var s=kl(n.curves),o=El(n.curves);Nl(s,o)||i.unshift(new Ul(o,6))}}else i.unshift.apply(i,r);n=n.parent}return i.filter((function(t){return is(t.target,e)}))},e}(),Ql=function(e,t,n,i){e.container.elements.forEach((function(r){var s=is(r.flags,4),o=is(r.flags,2),a=new Rl(r,e);is(r.styles.display,2048)&&i.push(a);var l=is(r.flags,8)?[]:i;if(s||o){var u=s||r.styles.isPositioned()?n:t,c=new jl(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var A=r.styles.zIndex.order;if(A<0){var d=0;u.negativeZIndex.some((function(e,t){return A>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),u.negativeZIndex.splice(d,0,c)}else if(A>0){var h=0;u.positiveZIndex.some((function(e,t){return A>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),u.positiveZIndex.splice(h,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else r.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);Ql(a,c,s?c:n,l)}else r.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),Ql(a,t,n,l);is(r.flags,8)&&Pl(r,l)}))},Pl=function(e,t){for(var n=e instanceof Ho?e.start:1,i=e instanceof Ho&&e.reversed,r=0;r<t.length;r++){var s=t[r];s.container instanceof Po&&"number"==typeof s.container.value&&0!==s.container.value&&(n=s.container.value),s.listValue=za(n,s.container.styles.listStyleType,!0),n+=i?-1:1}},Hl=function(e){var t=new Rl(e,null),n=new jl(t),i=[];return Ql(t,n,n,i),Pl(t.container,i),n},ql=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Wl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Wl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Wl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Vl=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Wl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Wl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Wl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},zl=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Wl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Wl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Wl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Kl=function(e,t){switch(t){case 0:return Gl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Gl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Gl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Gl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Gl=function(e,t){var n=[];return Bl(e)?n.push(e.subdivide(.5,!1)):n.push(e),Bl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Wl=function(e,t,n,i){var r=[];return Bl(e)?r.push(e.subdivide(.5,!1)):r.push(e),Bl(n)?r.push(n.subdivide(.5,!0)):r.push(n),Bl(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Bl(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},$l=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Xl=function(e){var t=e.styles,n=e.bounds,i=Kn(t.paddingLeft,n.width),r=Kn(t.paddingRight,n.width),s=Kn(t.paddingTop,n.width),o=Kn(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+s+o))},Yl=function(e,t){return 0===e?t.bounds:2===e?Xl(t):$l(t)},Jl=function(e,t){return 0===e?t.bounds:2===e?Xl(t):$l(t)},Zl=function(e,t,n){var i=Yl(iu(e.styles.backgroundOrigin,t),e),r=Jl(iu(e.styles.backgroundClip,t),e),s=nu(iu(e.styles.backgroundSize,t),n,i),o=s[0],a=s[1],l=zn(iu(e.styles.backgroundPosition,t),i.width-o,i.height-a);return[ru(iu(e.styles.backgroundRepeat,t),l,s,i,r),Math.round(i.left+l[0]),Math.round(i.top+l[1]),o,a]},eu=function(e){return Fn(e)&&e.value===Oi.AUTO},tu=function(e){return"number"==typeof e},nu=function(e,t,n){var i=t[0],r=t[1],s=t[2],o=e[0],a=e[1];if(!o)return[0,0];if(Qn(o)&&a&&Qn(a))return[Kn(o,n.width),Kn(a,n.height)];var l=tu(s);if(Fn(o)&&(o.value===Oi.CONTAIN||o.value===Oi.COVER))return tu(s)?n.width/n.height<s!=(o.value===Oi.COVER)?[n.width,n.width/s]:[n.height*s,n.height]:[n.width,n.height];var u=tu(i),c=tu(r),A=u||c;if(eu(o)&&(!a||eu(a)))return u&&c?[i,r]:l||A?A&&l?[u?i:r*s,c?r:i/s]:[u?i:n.width,c?r:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Qn(o)?d=Kn(o,n.width):Qn(a)&&(h=Kn(a,n.height)),eu(o)?d=h*s:a&&!eu(a)||(h=d/s),[d,h]}var p=null,f=null;if(Qn(o)?p=Kn(o,n.width):a&&Qn(a)&&(f=Kn(a,n.height)),null===p||a&&!eu(a)||(f=u&&c?p/i*r:n.height),null!==f&&eu(o)&&(p=u&&c?f/r*i:n.width),null!==p&&null!==f)return[p,f];throw new Error("Unable to calculate background-size for element")},iu=function(e,t){var n=e[t];return void 0===n?e[0]:n},ru=function(e,t,n,i,r){var s=t[0],o=t[1],a=n[0],l=n[1];switch(e){case 2:return[new wl(Math.round(i.left),Math.round(i.top+o)),new wl(Math.round(i.left+i.width),Math.round(i.top+o)),new wl(Math.round(i.left+i.width),Math.round(l+i.top+o)),new wl(Math.round(i.left),Math.round(l+i.top+o))];case 3:return[new wl(Math.round(i.left+s),Math.round(i.top)),new wl(Math.round(i.left+s+a),Math.round(i.top)),new wl(Math.round(i.left+s+a),Math.round(i.height+i.top)),new wl(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new wl(Math.round(i.left+s),Math.round(i.top+o)),new wl(Math.round(i.left+s+a),Math.round(i.top+o)),new wl(Math.round(i.left+s+a),Math.round(i.top+o+l)),new wl(Math.round(i.left+s),Math.round(i.top+o+l))];default:return[new wl(Math.round(r.left),Math.round(r.top)),new wl(Math.round(r.left+r.width),Math.round(r.top)),new wl(Math.round(r.left+r.width),Math.round(r.height+r.top)),new wl(Math.round(r.left),Math.round(r.height+r.top))]}},su="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ou="Hidden Text",au=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),i.src=su,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(ou)),n.appendChild(r),n.appendChild(i);var o=i.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(ou)),n.style.lineHeight="normal",i.style.verticalAlign="super";var a=i.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),lu=function(){function e(e,t){this.context=e,this.options=t}return e}(),uu=1e4,cu=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new au(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Ol(e)&&(this.ctx.globalAlpha=e.opacity),Dl(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ll(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return is(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var i=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Eo(e.text).reduce((function(t,r){return i.ctx.fillText(r,t,e.bounds.top+n),t+i.ctx.measureText(r).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=fu(e.fontFamily).join(", "),i=In(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,i,n].join(" "),n,i]},n.prototype.renderTextNode=function(e,t){return i(this,void 0,void 0,(function(){var n,i,s,o,a,l,u,c,A=this;return r(this,(function(r){return n=this.createFontStyle(t),i=n[0],s=n[1],o=n[2],this.ctx.font=i,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,u=a.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:A.ctx.fillStyle=ii(t.color),A.renderTextWithLetterSpacing(e,t.letterSpacing,l);var i=t.textShadow;i.length&&e.text.trim().length&&(i.slice(0).reverse().forEach((function(n){A.ctx.shadowColor=ii(n.color),A.ctx.shadowOffsetX=n.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=n.offsetY.number*A.options.scale,A.ctx.shadowBlur=n.blur.number,A.renderTextWithLetterSpacing(e,t.letterSpacing,l)})),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),t.textDecorationLine.length&&(A.ctx.fillStyle=ii(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:A.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+u),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(A.ctx.strokeStyle=ii(t.webkitTextStrokeColor),A.ctx.lineWidth=t.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var i=Xl(e),r=El(t);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return i(this,void 0,void 0,(function(){var t,i,o,a,l,u,c,A,d,h,p,f,g,m,v,y,b,w;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,i=e.curves,o=t.styles,a=0,l=t.textNodes,r.label=1;case 1:return a<l.length?(u=l[a],[4,this.renderTextNode(u,o)]):[3,4];case 2:r.sent(),r.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof jo))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=r.sent(),this.renderReplacedElement(t,i,v),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ro&&this.renderReplacedElement(t,i,t.canvas),!(t instanceof Qo))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=r.sent(),this.renderReplacedElement(t,i,v),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ea&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=r.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof Yo&&(A=Math.min(t.bounds.width,t.bounds.height),t.type===Go?t.checked&&(this.ctx.save(),this.path([new wl(t.bounds.left+.39363*A,t.bounds.top+.79*A),new wl(t.bounds.left+.16*A,t.bounds.top+.5549*A),new wl(t.bounds.left+.27347*A,t.bounds.top+.44071*A),new wl(t.bounds.left+.39694*A,t.bounds.top+.5649*A),new wl(t.bounds.left+.72983*A,t.bounds.top+.23*A),new wl(t.bounds.left+.84*A,t.bounds.top+.34085*A),new wl(t.bounds.left+.39363*A,t.bounds.top+.79*A)]),this.ctx.fillStyle=ii(Xo),this.ctx.fill(),this.ctx.restore()):t.type===Wo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+A/2,t.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=ii(Xo),this.ctx.fill(),this.ctx.restore())),Au(t)&&t.value.length){switch(d=this.createFontStyle(o),b=d[0],h=d[1],p=this.fontMetrics.getMetrics(b,h).baseline,this.ctx.font=b,this.ctx.fillStyle=ii(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hu(t.styles.textAlign),w=Xl(t),f=0,t.styles.textAlign){case 1:f+=w.width/2;break;case 2:f+=w.width}g=w.add(f,0,0,-w.height/2+1),this.ctx.save(),this.path([new wl(w.left,w.top),new wl(w.left+w.width,w.top),new wl(w.left+w.width,w.top+w.height),new wl(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new So(t.value,g),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!is(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,y=m.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=r.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(o)[0],this.ctx.font=b,this.ctx.fillStyle=ii(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new s(t.bounds.left,t.bounds.top+Kn(t.styles.paddingTop,t.bounds.width),t.bounds.width,br(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new So(e.listValue,w),o.letterSpacing,br(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,s,o,a,l,u,c,A,d,h,p,f,g;return r(this,(function(r){switch(r.label){case 0:return is(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),i=0,s=e.nonInlineLevel,r.label=7;case 7:return i<s.length?(g=s[i],[4,this.renderNode(g)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:o=0,a=e.nonPositionedFloats,r.label=11;case 11:return o<a.length?(g=a[o],[4,this.renderStack(g)]):[3,14];case 12:r.sent(),r.label=13;case 13:return o++,[3,11];case 14:l=0,u=e.nonPositionedInlineLevel,r.label=15;case 15:return l<u.length?(g=u[l],[4,this.renderStack(g)]):[3,18];case 16:r.sent(),r.label=17;case 17:return l++,[3,15];case 18:c=0,A=e.inlineLevel,r.label=19;case 19:return c<A.length?(g=A[c],[4,this.renderNode(g)]):[3,22];case 20:r.sent(),r.label=21;case 21:return c++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return d<h.length?(g=h[d],[4,this.renderStack(g)]):[3,26];case 24:r.sent(),r.label=25;case 25:return d++,[3,23];case 26:p=0,f=e.positiveZIndex,r.label=27;case 27:return p<f.length?(g=f[p],[4,this.renderStack(g)]):[3,30];case 28:r.sent(),r.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var i=Bl(e)?e.start:e;0===n?t.ctx.moveTo(i.x,i.y):t.ctx.lineTo(i.x,i.y),Bl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,i){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},n.prototype.resizeImage=function(e,t,n){var i;if(e.width===t&&e.height===n)return e;var r=(null!==(i=this.canvas.ownerDocument)&&void 0!==i?i:document).createElement("canvas");return r.width=Math.max(1,t),r.height=Math.max(1,n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),r},n.prototype.renderBackgroundImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,s,o,a;return r(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var s,o,a,l,u,c,A,d,h,p,f,g,m,v,y,b,w,C,x,B,S,_,k,T,E,I,U,F,D,L,O;return r(this,(function(r){switch(r.label){case 0:if(0!==n.type)return[3,5];s=void 0,o=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.context.cache.match(o)];case 2:return s=r.sent(),[3,4];case 3:return r.sent(),i.context.logger.error("Error loading background-image "+o),[3,4];case 4:return s&&(a=Zl(e,t,[s.width,s.height,s.width/s.height]),b=a[0],_=a[1],k=a[2],x=a[3],B=a[4],v=i.ctx.createPattern(i.resizeImage(s,x,B),"repeat"),i.renderRepeat(b,v,_,k)),[3,6];case 5:Ui(n)?(l=Zl(e,t,[null,null,null]),b=l[0],_=l[1],k=l[2],x=l[3],B=l[4],u=mi(n.angle,x,B),c=u[0],A=u[1],d=u[2],h=u[3],p=u[4],(f=document.createElement("canvas")).width=x,f.height=B,g=f.getContext("2d"),m=g.createLinearGradient(A,h,d,p),fi(n.stops,c).forEach((function(e){return m.addColorStop(e.stop,ii(e.color))})),g.fillStyle=m,g.fillRect(0,0,x,B),x>0&&B>0&&(v=i.ctx.createPattern(f,"repeat"),i.renderRepeat(b,v,_,k))):Fi(n)&&(y=Zl(e,t,[null,null,null]),b=y[0],w=y[1],C=y[2],x=y[3],B=y[4],S=0===n.position.length?[qn]:n.position,_=Kn(S[0],x),k=Kn(S[S.length-1],B),T=bi(n,_,k,x,B),E=T[0],I=T[1],E>0&&I>0&&(U=i.ctx.createRadialGradient(w+_,C+k,0,w+_,C+k,E),fi(n.stops,2*E).forEach((function(e){return U.addColorStop(e.stop,ii(e.color))})),i.path(b),i.ctx.fillStyle=U,E!==I?(F=e.bounds.left+.5*e.bounds.width,D=e.bounds.top+.5*e.bounds.height,O=1/(L=I/E),i.ctx.save(),i.ctx.translate(F,D),i.ctx.transform(1,0,0,L,0,0),i.ctx.translate(-F,-D),i.ctx.fillRect(w,O*(C-D)+D,x,B*O),i.ctx.restore()):i.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},i=this,s=0,o=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(ql(n,t)),this.ctx.fillStyle=ii(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,s){return i(this,void 0,void 0,(function(){var i,o;return r(this,(function(r){switch(r.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return r.sent(),[2];case 2:return i=Vl(s,n),this.path(i),this.ctx.fillStyle=ii(e),this.ctx.fill(),o=zl(s,n),this.path(o),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return i(this,void 0,void 0,(function(){var t,n,i,s,o,a,l,u,c=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!ni(t.backgroundColor)||t.backgroundImage.length,i=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=du(iu(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),ni(t.backgroundColor)||(this.ctx.fillStyle=ii(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=kl(e.curves),i=t.inset?0:uu,r=Ml(n,-i+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(r)):(c.mask(n),c.ctx.clip(),c.path(r)),c.ctx.shadowOffsetX=t.offsetX.number+i,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=ii(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?ii(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),r.label=2;case 2:o=0,a=0,l=i,r.label=3;case 3:return a<l.length?0!==(u=l[a]).style&&!ni(u.color)&&u.width>0?2!==u.style?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==u.style?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,e.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==u.style?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,e.curves)];case 10:r.sent(),r.label=11;case 11:o++,r.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,s,o){return i(this,void 0,void 0,(function(){var i,a,l,u,c,A,d,h,p,f,g,m,v,y,b,w;return r(this,(function(r){return this.ctx.save(),i=Kl(s,n),a=ql(s,n),2===o&&(this.path(a),this.ctx.clip()),Bl(a[0])?(l=a[0].start.x,u=a[0].start.y):(l=a[0].x,u=a[0].y),Bl(a[1])?(c=a[1].end.x,A=a[1].end.y):(c=a[1].x,A=a[1].y),d=0===n||2===n?Math.abs(l-c):Math.abs(u-A),this.ctx.beginPath(),3===o?this.formatPath(i):this.formatPath(a.slice(0,2)),h=t<3?3*t:2*t,p=t<3?2*t:t,3===o&&(h=t,p=t),f=!0,d<=2*h?f=!1:d<=2*h+p?(h*=g=d/(2*h+p),p*=g):(m=Math.floor((d+p)/(h+p)),v=(d-m*h)/(m-1),p=(y=(d-(m+1)*h)/m)<=0||Math.abs(p-v)<Math.abs(p-y)?v:y),f&&(3===o?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ii(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(Bl(a[0])&&(b=a[3],w=a[0],this.ctx.beginPath(),this.formatPath([new wl(b.end.x,b.end.y),new wl(w.start.x,w.start.y)]),this.ctx.stroke()),Bl(a[1])&&(b=a[1],w=a[2],this.ctx.beginPath(),this.formatPath([new wl(b.end.x,b.end.y),new wl(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ii(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Hl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(lu),Au=function(e){return e instanceof Zo||e instanceof Jo||e instanceof Yo&&e.type!==Wo&&e.type!==Go},du=function(e,t){switch(e){case 0:return kl(t);case 2:return Tl(t);default:return El(t)}},hu=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pu=["-apple-system","system-ui"],fu=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===pu.indexOf(e)})):e},gu=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t(n,e),n.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return t=Co(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,mu(t)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ii(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(lu),mu=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},vu=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug||this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&console.info},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn||this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error||this.info.apply(this,e))},e.instances={},e}(),yu=function(){function e(t,n){var i;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new vu({id:this.instanceName,enabled:t.logging}),this.cache=null!==(i=t.cache)&&void 0!==i?i:new dl(this,t)}return e.instanceCount=1,e}(),bu=function(e,t){return void 0===t&&(t={}),wu(e,t)};"undefined"!=typeof window&&Al.setContext(window);var wu=function(e,t){return i(void 0,void 0,void 0,(function(){var i,l,u,c,A,d,h,p,f,g,m,v,y,b,w,C,x,B,S,_,k,T,E,I,U,F,D,L,O,N,M,j,R,Q,P,H,q,V;return r(this,(function(r){switch(r.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(i=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(l=i.defaultView))throw new Error("Document is not attached to a Window");return u={allowTaint:null!==(T=t.allowTaint)&&void 0!==T&&T,imageTimeout:null!==(E=t.imageTimeout)&&void 0!==E?E:15e3,proxy:t.proxy,useCORS:null!==(I=t.useCORS)&&void 0!==I&&I},c=n({logging:null===(U=t.logging)||void 0===U||U,cache:t.cache},u),A={windowWidth:null!==(F=t.windowWidth)&&void 0!==F?F:l.innerWidth,windowHeight:null!==(D=t.windowHeight)&&void 0!==D?D:l.innerHeight,scrollX:null!==(L=t.scrollX)&&void 0!==L?L:l.pageXOffset,scrollY:null!==(O=t.scrollY)&&void 0!==O?O:l.pageYOffset},d=new s(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),h=new yu(c,d),p=null!==(N=t.foreignObjectRendering)&&void 0!==N&&N,f={allowTaint:null!==(M=t.allowTaint)&&void 0!==M&&M,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new Ga(h,e,f),(m=g.clonedReferenceElement)?[4,g.toIFrame(i,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=r.sent(),y=ga(m)||pa(m)?a(m.ownerDocument):o(h,m),b=y.width,w=y.height,C=y.left,x=y.top,B=Cu(h,m,t.backgroundColor),S={canvas:t.canvas,backgroundColor:B,scale:null!==(R=null!==(j=t.scale)&&void 0!==j?j:l.devicePixelRatio)&&void 0!==R?R:1,x:(null!==(Q=t.x)&&void 0!==Q?Q:0)+C,y:(null!==(P=t.y)&&void 0!==P?P:0)+x,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(b),height:null!==(q=t.height)&&void 0!==q?q:Math.ceil(w)},p?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new gu(h,S).render(m)]):[3,3];case 2:return _=r.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+C+","+x+" with size "+b+"x"+w+" using computed rendering"),h.logger.debug("Starting DOM parsing"),k=ra(h,m),B===k.styles.backgroundColor&&(k.styles.backgroundColor=Ai.TRANSPARENT),h.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),[4,new cu(h,S).render(k)];case 4:_=r.sent(),r.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(Ga.destroy(v)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,_]}}))}))},Cu=function(e,t,n){var i=t.ownerDocument,r=i.documentElement?ci(e,getComputedStyle(i.documentElement).backgroundColor):Ai.TRANSPARENT,s=i.body?ci(e,getComputedStyle(i.body).backgroundColor):Ai.TRANSPARENT,o="string"==typeof n?ci(e,n):null===n?Ai.TRANSPARENT:4294967295;return t===i.documentElement?ni(r)?ni(s)?o:s:r:o};return bu}()},7056:function(e){e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},7193:function(e,t,n){e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Boolean]",a="[object Date]",l="[object Function]",u="[object GeneratorFunction]",c="[object Map]",A="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",f="[object Set]",g="[object String]",m="[object Symbol]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",C="[object Float64Array]",x="[object Int8Array]",B="[object Int16Array]",S="[object Int32Array]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]",I=/\w*$/,U=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,D={};D[s]=D["[object Array]"]=D[y]=D[b]=D[o]=D[a]=D[w]=D[C]=D[x]=D[B]=D[S]=D[c]=D[A]=D[d]=D[p]=D[f]=D[g]=D[m]=D[_]=D[k]=D[T]=D[E]=!0,D["[object Error]"]=D[l]=D[v]=!1;var L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,O="object"==typeof self&&self&&self.Object===Object&&self,N=L||O||Function("return this")(),M=t&&!t.nodeType&&t,j=M&&e&&!e.nodeType&&e,R=j&&j.exports===M;function Q(e,t){return e.set(t[0],t[1]),e}function P(e,t){return e.add(t),e}function H(e,t,n,i){var r=-1,s=e?e.length:0;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function z(e,t){return function(n){return e(t(n))}}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var G,W=Array.prototype,$=Function.prototype,X=Object.prototype,Y=N["__core-js_shared__"],J=(G=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=$.toString,ee=X.hasOwnProperty,te=X.toString,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=R?N.Buffer:void 0,re=N.Symbol,se=N.Uint8Array,oe=z(Object.getPrototypeOf,Object),ae=Object.create,le=X.propertyIsEnumerable,ue=W.splice,ce=Object.getOwnPropertySymbols,Ae=ie?ie.isBuffer:void 0,de=z(Object.keys,Object),he=je(N,"DataView"),pe=je(N,"Map"),fe=je(N,"Promise"),ge=je(N,"Set"),me=je(N,"WeakMap"),ve=je(Object,"create"),ye=qe(he),be=qe(pe),we=qe(fe),Ce=qe(ge),xe=qe(me),Be=re?re.prototype:void 0,Se=Be?Be.valueOf:void 0;function _e(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ee(e){this.__data__=new ke(e)}function Ie(e,t){var n=ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&ee.call(e,"callee")&&(!le.call(e,"callee")||te.call(e)==s)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!ee.call(e,o)||r&&("length"==o||Pe(o,i))||n.push(o);return n}function Ue(e,t,n){var i=e[t];ee.call(e,t)&&Ve(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function Fe(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function De(e,t,n,i,r,h,v){var U;if(i&&(U=h?i(e,r,h,v):i(e)),void 0!==U)return U;if(!$e(e))return e;var F=ze(e);if(F){if(U=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(e,U)}else{var L=Qe(e),O=L==l||L==u;if(Ge(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==d||L==s||O&&!h){if(q(e))return h?e:{};if(U=function(e){return"function"!=typeof e.constructor||He(e)?{}:(t=oe(e),$e(t)?ae(t):{});var t}(O?{}:e),!t)return function(e,t){return Ne(e,Re(e),t)}(e,function(e,t){return e&&Ne(t,Xe(t),e)}(U,e))}else{if(!D[L])return h?e:{};U=function(e,t,n,i){var r=e.constructor;switch(t){case y:return Oe(e);case o:case a:return new r(+e);case b:return function(e,t){var n=t?Oe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case w:case C:case x:case B:case S:case _:case k:case T:case E:return function(e,t){var n=t?Oe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,i);case c:return function(e,t,n){var i=t?n(V(e),!0):V(e);return H(i,Q,new e.constructor)}(e,i,n);case A:case g:return new r(e);case p:return function(e){var t=new e.constructor(e.source,I.exec(e));return t.lastIndex=e.lastIndex,t}(e);case f:return function(e,t,n){var i=t?n(K(e),!0):K(e);return H(i,P,new e.constructor)}(e,i,n);case m:return s=e,Se?Object(Se.call(s)):{}}var s}(e,L,De,t)}}v||(v=new Ee);var N=v.get(e);if(N)return N;if(v.set(e,U),!F)var M=n?function(e){return function(e,t,n){var i=t(e);return ze(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Xe,Re)}(e):Xe(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););}(M||e,(function(r,s){M&&(r=e[s=r]),Ue(U,s,De(r,t,n,i,s,e,v))})),U}function Le(e){return!(!$e(e)||(t=e,J&&J in t))&&(We(e)||q(e)?ne:U).test(qe(e));var t}function Oe(e){var t=new e.constructor(e.byteLength);return new se(t).set(new se(e)),t}function Ne(e,t,n,i){n||(n={});for(var r=-1,s=t.length;++r<s;){var o=t[r],a=i?i(n[o],e[o],o,n,e):void 0;Ue(n,o,void 0===a?e[o]:a)}return n}function Me(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function je(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(n)?n:void 0}_e.prototype.clear=function(){this.__data__=ve?ve(null):{}},_e.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_e.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===i?void 0:n}return ee.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},_e.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?i:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=Fe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ue.call(t,n,1),!0)},ke.prototype.get=function(e){var t=this.__data__,n=Fe(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Fe(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,i=Fe(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new _e,map:new(pe||ke),string:new _e}},Te.prototype.delete=function(e){return Me(this,e).delete(e)},Te.prototype.get=function(e){return Me(this,e).get(e)},Te.prototype.has=function(e){return Me(this,e).has(e)},Te.prototype.set=function(e,t){return Me(this,e).set(e,t),this},Ee.prototype.clear=function(){this.__data__=new ke},Ee.prototype.delete=function(e){return this.__data__.delete(e)},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var i=n.__data__;if(!pe||i.length<199)return i.push([e,t]),this;n=this.__data__=new Te(i)}return n.set(e,t),this};var Re=ce?z(ce,Object):function(){return[]},Qe=function(e){return te.call(e)};function Pe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||F.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function qe(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(he&&Qe(new he(new ArrayBuffer(1)))!=b||pe&&Qe(new pe)!=c||fe&&Qe(fe.resolve())!=h||ge&&Qe(new ge)!=f||me&&Qe(new me)!=v)&&(Qe=function(e){var t=te.call(e),n=t==d?e.constructor:void 0,i=n?qe(n):void 0;if(i)switch(i){case ye:return b;case be:return c;case we:return h;case Ce:return f;case xe:return v}return t});var ze=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!We(e)}var Ge=Ae||function(){return!1};function We(e){var t=$e(e)?te.call(e):"";return t==l||t==u}function $e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return Ke(e)?Ie(e):function(e){if(!He(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return De(e,!0,!0)}},8142:function(e,t,n){e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",A="[object Map]",d="[object Number]",h="[object Object]",p="[object Promise]",f="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",C=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[s]=B[o]=B[b]=B[a]=B[w]=B[l]=B[u]=B[c]=B[A]=B[d]=B[h]=B[f]=B[g]=B[m]=B[y]=!1;var S="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,_="object"==typeof self&&self&&self.Object===Object&&self,k=S||_||Function("return this")(),T=t&&!t.nodeType&&t,E=T&&e&&!e.nodeType&&e,I=E&&E.exports===T,U=I&&S.process,F=function(){try{return U&&U.binding&&U.binding("util")}catch(e){}}(),D=F&&F.isTypedArray;function L(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var M,j,R,Q=Array.prototype,P=Function.prototype,H=Object.prototype,q=k["__core-js_shared__"],V=P.toString,z=H.hasOwnProperty,K=(M=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",G=H.toString,W=RegExp("^"+V.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=I?k.Buffer:void 0,X=k.Symbol,Y=k.Uint8Array,J=H.propertyIsEnumerable,Z=Q.splice,ee=X?X.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=$?$.isBuffer:void 0,ie=(j=Object.keys,R=Object,function(e){return j(R(e))}),re=Fe(k,"DataView"),se=Fe(k,"Map"),oe=Fe(k,"Promise"),ae=Fe(k,"Set"),le=Fe(k,"WeakMap"),ue=Fe(Object,"create"),ce=Ne(re),Ae=Ne(se),de=Ne(oe),he=Ne(ae),pe=Ne(le),fe=X?X.prototype:void 0,ge=fe?fe.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new ve(e);this.size=t.size}function Ce(e,t){var n=Re(e),i=!n&&je(e),r=!n&&!i&&Qe(e),s=!n&&!i&&!r&&ze(e),o=n||i||r||s,a=o?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var u in e)!t&&!z.call(e,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Oe(u,l))||a.push(u);return a}function xe(e,t){for(var n=e.length;n--;)if(Me(e[n][0],t))return n;return-1}function Be(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=z.call(e,ee),n=e[ee];try{e[ee]=void 0;var i=!0}catch(e){}var r=G.call(e);i&&(t?e[ee]=n:delete e[ee]);return r}(e):function(e){return G.call(e)}(e)}function Se(e){return Ve(e)&&Be(e)==s}function _e(e,t,n,i,r){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,i,r,c){var p=Re(e),y=Re(t),C=p?o:Le(e),x=y?o:Le(t),B=(C=C==s?h:C)==h,S=(x=x==s?h:x)==h,_=C==x;if(_&&Qe(e)){if(!Qe(t))return!1;p=!0,B=!1}if(_&&!B)return c||(c=new we),p||ze(e)?Ee(e,t,n,i,r,c):function(e,t,n,i,r,s,o){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!s(new Y(e),new Y(t)));case a:case l:case d:return Me(+e,+t);case u:return e.name==t.name&&e.message==t.message;case f:case m:return e==t+"";case A:var c=O;case g:var h=1&i;if(c||(c=N),e.size!=t.size&&!h)return!1;var p=o.get(e);if(p)return p==t;i|=2,o.set(e,t);var y=Ee(c(e),c(t),i,r,s,o);return o.delete(e),y;case v:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,C,n,i,r,c);if(!(1&n)){var k=B&&z.call(e,"__wrapped__"),T=S&&z.call(t,"__wrapped__");if(k||T){var E=k?e.value():e,I=T?t.value():t;return c||(c=new we),r(E,I,n,i,c)}}if(!_)return!1;return c||(c=new we),function(e,t,n,i,r,s){var o=1&n,a=Ie(e),l=a.length,u=Ie(t),c=u.length;if(l!=c&&!o)return!1;var A=l;for(;A--;){var d=a[A];if(!(o?d in t:z.call(t,d)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var p=!0;s.set(e,t),s.set(t,e);var f=o;for(;++A<l;){var g=e[d=a[A]],m=t[d];if(i)var v=o?i(m,g,d,t,e,s):i(g,m,d,e,t,s);if(!(void 0===v?g===m||r(g,m,n,i,s):v)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,i,r,c)}(e,t,n,i,_e,r))}function ke(e){return!(!qe(e)||function(e){return!!K&&K in e}(e))&&(Pe(e)?W:C).test(Ne(e))}function Te(e){if(n=(t=e)&&t.constructor,i="function"==typeof n&&n.prototype||H,t!==i)return ie(e);var t,n,i,r=[];for(var s in Object(e))z.call(e,s)&&"constructor"!=s&&r.push(s);return r}function Ee(e,t,n,i,r,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var c=-1,A=!0,d=2&n?new be:void 0;for(s.set(e,t),s.set(t,e);++c<a;){var h=e[c],p=t[c];if(i)var f=o?i(p,h,c,t,e,s):i(h,p,c,e,t,s);if(void 0!==f){if(f)continue;A=!1;break}if(d){if(!L(t,(function(e,t){if(o=t,!d.has(o)&&(h===e||r(h,e,n,i,s)))return d.push(t);var o}))){A=!1;break}}else if(h!==p&&!r(h,p,n,i,s)){A=!1;break}}return s.delete(e),s.delete(t),A}function Ie(e){return function(e,t,n){var i=t(e);return Re(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Ke,De)}function Ue(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ke(n)?n:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===i?void 0:n}return z.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:z.call(t,e)},me.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?i:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0)&&(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return xe(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,i=xe(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(se||ve),string:new me}},ye.prototype.delete=function(e){var t=Ue(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Ue(this,e).get(e)},ye.prototype.has=function(e){return Ue(this,e).has(e)},ye.prototype.set=function(e,t){var n=Ue(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,i),this},be.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ve,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var i=n.__data__;if(!se||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(i)}return n.set(e,t),this.size=n.size,this};var De=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}(te(e),(function(t){return J.call(e,t)})))}:function(){return[]},Le=Be;function Oe(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Ne(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(re&&Le(new re(new ArrayBuffer(1)))!=w||se&&Le(new se)!=A||oe&&Le(oe.resolve())!=p||ae&&Le(new ae)!=g||le&&Le(new le)!=y)&&(Le=function(e){var t=Be(e),n=t==h?e.constructor:void 0,i=n?Ne(n):"";if(i)switch(i){case ce:return w;case Ae:return A;case de:return p;case he:return g;case pe:return y}return t});var je=Se(function(){return arguments}())?Se:function(e){return Ve(e)&&z.call(e,"callee")&&!J.call(e,"callee")},Re=Array.isArray;var Qe=ne||function(){return!1};function Pe(e){if(!qe(e))return!1;var t=Be(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function qe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var ze=D?function(e){return function(t){return e(t)}}(D):function(e){return Ve(e)&&He(e.length)&&!!B[Be(e)]};function Ke(e){return null!=(t=e)&&He(t.length)&&!Pe(t)?Ce(e):Te(e);var t}e.exports=function(e,t){return _e(e,t)}},2491:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=s(n(6540));n(8649),n(5460);let a=null,l=null;t.default=o.default.memo((0,o.forwardRef)(((e,t)=>{let n=void 0===e.ruler||null===e.ruler||e.ruler,i=void 0===e.label||null===e.label||e.label,r=void 0!==e.subSteps&&null!==e.subSteps&&e.subSteps,s=void 0!==e.stepOnly&&null!==e.stepOnly&&e.stepOnly,u=void 0!==e.preventWheel&&null!==e.preventWheel&&e.preventWheel,c=(0,o.useRef)(null),A=+(e.min||0),d=+(e.max||100),h=Math.abs(+(e.step||5)),p=0,f=!!e.disabled,g=e.canMinMaxValueSame?0:h,m=Math.floor((+d-+A)/+h),v=e.labels||[];0===v.length?(v=[],v.push(A.toString()),v.push(d.toString())):m=v.length-1,"string"==typeof i&&(i="true"===i),"string"==typeof n&&(n="true"===n),"string"==typeof u&&(u="true"===u),h.toString().includes(".")&&(p=2);let y=e.minValue;null==y&&(y=25),y=+y;let b=e.maxValue;null==b&&(b=75),b=+b,y<A&&(y=A),y>d&&(y=d),b<y&&(b=+y+ +h),b>d&&(b=d),b<A&&(b=A);const[w,C]=(0,o.useState)(+y),[x,B]=(0,o.useState)(+b),[S,_]=(0,o.useState)((w-A)/(d-A)*100),[k,T]=(0,o.useState)((d-x)/(d-A)*100),[E,I]=(0,o.useState)(""),[U,F]=(0,o.useState)(""),[D,L]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{if(c&&c.current){c.current.parentNode.addEventListener("wheel",(e=>{(e.shiftKey||e.ctrlKey)&&e.preventDefault()}))}}),[c]),(0,o.useEffect)((()=>{if(x<w)throw new Error("maxValue is less than minValue");I(e.minCaption||w.toFixed(p)),F(e.maxCaption||x.toFixed(p)),_((w-A)/(d-A)*100),T((d-x)/(d-A)*100),l&&window.clearTimeout(l),l=window.setTimeout((()=>{let t={min:A,max:d,minValue:w,maxValue:x};D&&e.onChange&&e.onChange(t),e.onInput&&e.onInput(t)}),20)}),[w,x,A,d,p,e,D]),(0,o.useEffect)((()=>{let t=e.minValue;null==t&&(t=25),t=+t,t<A&&(t=A),t>d&&(t=d),L(!1),C(+t)}),[e.minValue,A,d]),(0,o.useEffect)((()=>{let t=e.maxValue;null==t&&(t=75),t=+t,t>d&&(t=d),t<A&&(t=A),L(!1),B(+t)}),[e.maxValue,A,d,h]),o.default.createElement("div",{ref:t,id:e.id,className:(e.baseClassName||"multi-range-slider")+" "+(e.className||"")+(f?" disabled":""),style:e.style,onWheel:e=>{if(f)return;if(!0===u)return;if(!e.shiftKey&&!e.ctrlKey)return;let t=(d-A)/100;t>1&&(t=1),e.deltaY<0&&(t=-t);let n=w,i=x;e.shiftKey&&e.ctrlKey?n+t>=A&&i+t<=d&&(n+=t,i+=t):e.ctrlKey?(t=i+t,t<n+g?t=n+g:t>d&&(t=d),i=t):e.shiftKey&&(t=n+t,t<A?t=A:t>i-g&&(t=i-g),n=t),L(!1),B(i),C(n),a&&window.clearTimeout(a),a=window.setTimeout((()=>{L(!0)}),100)}},o.default.createElement("div",{className:"bar",ref:c},o.default.createElement("div",{className:"bar-left",style:{width:S+"%",backgroundColor:e.barLeftColor},onClick:e=>{if(f)return;let t=w-h;t<A&&(t=A),C(t)}}),o.default.createElement("input",{placeholder:"min-value",className:"input-type-range input-type-range-min",type:"range",min:A,max:d,step:h,value:w,onInput:e=>{if(f)return;let t=parseFloat(e.target.value);t>x-g&&(t=x-g),C(t),L(!0)}}),o.default.createElement("div",{className:"thumb thumb-left",style:{backgroundColor:e.thumbLeftColor},onMouseDown:e=>{if(f)return;let t=e.clientX,n=e.target.parentNode.getBoundingClientRect(),i=w;L(!1);let r=e=>{let r=(e.clientX-t)/n.width,o=i+(d-A)*r;s&&(o=Math.round(o/h)*h),o=parseFloat(o.toFixed(p)),o<A?o=A:o>x-g&&(o=x-g),C(o)},o=e=>{L(!0),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",o)},onTouchStart:e=>{if(f)return;let t=e.touches[0].clientX,n=e.target.parentNode.getBoundingClientRect(),i=w;L(!1);let r=e=>{let r=(e.touches[0].clientX-t)/n.width,o=i+(d-A)*r;s&&(o=Math.round(o/h)*h),o=parseFloat(o.toFixed(p)),o<A?o=A:o>x-g&&(o=x-g),C(o)},o=e=>{L(!0),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",o)};document.addEventListener("touchmove",r),document.addEventListener("touchend",o)}},o.default.createElement("div",{className:"caption"},o.default.createElement("span",{className:"min-caption"},E))),o.default.createElement("div",{className:"bar-inner",style:{backgroundColor:e.barInnerColor}},o.default.createElement("div",{className:"bar-inner-left",onClick:e=>{if(f)return;let t=w+h;t>x-g&&(t=x-g),C(t)}}),o.default.createElement("div",{className:"bar-inner-right",onClick:e=>{if(f)return;let t=x-h;t<w+g&&(t=w+g),B(t)}})),o.default.createElement("input",{placeholder:"max-value",className:"input-type-range input-type-range-max",type:"range",min:A,max:d,step:h,value:x,onInput:e=>{if(f)return;let t=parseFloat(e.target.value);t<w+g&&(t=w+g),B(t),L(!0)}}),o.default.createElement("div",{className:"thumb thumb-right",style:{backgroundColor:e.thumbRightColor},onMouseDown:e=>{if(f)return;let t=e.clientX,n=e.target.parentNode.getBoundingClientRect(),i=x;L(!1);let r=e=>{let r=(e.clientX-t)/n.width,o=i+(d-A)*r;s&&(o=Math.round(o/h)*h),o=parseFloat(o.toFixed(p)),o<w+g?o=w+g:o>d&&(o=d),B(o)},o=e=>{L(!0),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",o)},onTouchStart:e=>{if(f)return;let t=e.touches[0].clientX,n=e.target.parentNode.getBoundingClientRect(),i=x;L(!1);let r=e=>{let r=(e.touches[0].clientX-t)/n.width,o=i+(d-A)*r;s&&(o=Math.round(o/h)*h),o=parseFloat(o.toFixed(p)),o<w+g?o=w+g:o>d&&(o=d),B(o)},o=e=>{L(!0),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",o)};document.addEventListener("touchmove",r),document.addEventListener("touchend",o)}},o.default.createElement("div",{className:"caption"},o.default.createElement("span",{className:"max-caption"},U))),o.default.createElement("div",{className:"bar-right",style:{width:k+"%",backgroundColor:e.barRightColor},onClick:e=>{if(f)return;let t=x+h;t>d&&(t=d),B(t)}})),n&&o.default.createElement("div",{className:"ruler"},[...Array(m)].map(((e,t)=>o.default.createElement("div",{key:t,className:"ruler-rule"},r&&[...Array(10)].map(((e,t)=>o.default.createElement("div",{key:t,className:"ruler-sub-rule"}))))))),i&&o.default.createElement("div",{className:"labels"},v.map((e=>o.default.createElement("div",{key:e.toString(),className:"label"},e)))))})))},8962:function(e,t,n){var i=n(3626).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;0===n.version?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=i(e.subarray(r)),n.firstOffset=i(e.subarray(r+8)),r+=16),r+=2;var s=t.getUint16(r);for(r+=2;s>0;r+=12,s--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n}},9622:function(e){var t,n,i,r,s,o,a,l=9e4;t=function(e){return e*l},n=function(e,t){return e*t},i=function(e){return e/l},r=function(e,t){return e/t},s=function(e,n){return t(r(e,n))},o=function(e,t){return n(i(e),t)},a=function(e,t,n){return i(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:i,audioTsToSeconds:r,audioTsToVideoTs:s,videoTsToAudioTs:o,metadataTsToSeconds:a}},3626:function(e){var t=Math.pow(2,32);e.exports={getUint64:function(e){var n,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(n=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:i.getUint32(0)*t+i.getUint32(4)},MAX_UINT32:t}},8593:function(e,t,n){var i=n(6459);e.exports=t.default=function(e){if(0==e.indexOf("curl ")){var t=function(e){return e.reduce((function(e,t){return 0==t.indexOf("-X")?(e.push("-X"),e.push(t.slice(2))):e.push(t),e}),[])}(i.split(e)),n={method:"GET",header:{}},r="";return t.forEach((function(e){switch(!0){case function(e){return/^https?:\/\//.test(e)}(e):n.url=e;break;case"-A"==e||"--user-agent"==e:r="user-agent";break;case"-H"==e||"--header"==e:r="header";break;case"-d"==e||"--data"==e||"--data-ascii"==e:r="data";break;case"-u"==e||"--user"==e:r="user";break;case"-I"==e||"--head"==e:n.method="HEAD";break;case"-X"==e||"--request"==e:r="method";break;case"-b"==e||"--cookie"==e:r="cookie";break;case"--compressed"==e:n.header["Accept-Encoding"]=n.header["Accept-Encoding"]||"deflate, gzip";break;case!!e:switch(r){case"header":var t=function(e){return e.split(/: (.+)/)}(e);n.header[t[0]]=t[1],r="";break;case"user-agent":n.header["User-Agent"]=e,r="";break;case"data":"GET"!=n.method&&"HEAD"!=n.method||(n.method="POST"),n.header["Content-Type"]=n.header["Content-Type"]||"application/x-www-form-urlencoded",n.body=n.body?n.body+"&"+e:e,r="";break;case"user":n.header.Authorization="Basic "+btoa(e),r="";break;case"method":n.method=e,r="";break;case"cookie":n.header["Set-Cookie"]=e,r=""}}})),n}}},3668:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,i=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,a=new t(512),l=new t(512),u=new t(512);function c(e){return a.get(e)||a.set(e,A(e).map((function(e){return e.replace(o,"$2")})))}function A(e){return e.match(n)||[""]}function d(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function h(e){return!d(e)&&(function(e){return e.match(r)&&!e.match(i)}(e)||function(e){return s.test(e)}(e))}e.exports={Cache:t,split:A,normalizePath:c,setter:function(e){var t=c(e);return l.get(e)||l.set(e,(function(e,n){for(var i=0,r=t.length,s=e;i<r-1;){var o=t[i];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;s=s[t[i++]]}s[t[i]]=n}))},getter:function(e,t){var n=c(e);return u.get(e)||u.set(e,(function(e){for(var i=0,r=n.length;i<r;){if(null==e&&t)return;e=e[n[i++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(d(t)||i.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var i,r,s,o,a=e.length;for(r=0;r<a;r++)(i=e[r])&&(h(i)&&(i='"'+i+'"'),s=!(o=d(i))&&/^\d+$/.test(i),t.call(n,i,o,s,r,e))}(Array.isArray(e)?e:A(e),t,n)}}},9106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7193),r=n(8142);var s;!function(e){e.compose=function(e={},t={},n=!1){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});let r=i(t);n||(r=Object.keys(r).reduce(((e,t)=>(null!=r[t]&&(e[t]=r[t]),e)),{}));for(const n in e)void 0!==e[n]&&void 0===t[n]&&(r[n]=e[n]);return Object.keys(r).length>0?r:void 0},e.diff=function(e={},t={}){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});const n=Object.keys(e).concat(Object.keys(t)).reduce(((n,i)=>(r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n)),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e={},t={}){e=e||{};const n=Object.keys(t).reduce(((n,i)=>(t[i]!==e[i]&&void 0!==e[i]&&(n[i]=t[i]),n)),{});return Object.keys(e).reduce(((n,i)=>(e[i]!==t[i]&&void 0===t[i]&&(n[i]=null),n)),n)},e.transform=function(e,t,n=!1){if("object"!=typeof e)return t;if("object"!=typeof t)return;if(!n)return t;const i=Object.keys(t).reduce(((n,i)=>(void 0===e[i]&&(n[i]=t[i]),n)),{});return Object.keys(i).length>0?i:void 0}}(s||(s={})),t.default=s},2660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const i=n(5606),r=n(7193),s=n(8142),o=n(9106);t.AttributeMap=o.default;const a=n(5759);t.Op=a.default;const l=n(8317);t.OpIterator=l.default;const u=String.fromCharCode(0),c=(e,t)=>{if("object"!=typeof e||null===e)throw new Error("cannot retain a "+typeof e);if("object"!=typeof t||null===t)throw new Error("cannot retain a "+typeof t);const n=Object.keys(e)[0];if(!n||n!==Object.keys(t)[0])throw new Error(`embed types not matched: ${n} != ${Object.keys(t)[0]}`);return[n,e[n],t[n]]};class A{constructor(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}static registerEmbed(e,t){this.handlers[e]=t}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){const t=this.handlers[e];if(!t)throw new Error(`no handlers for embed type "${e}"`);return t}insert(e,t){const n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,t){if("number"==typeof e&&e<=0)return this;const n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)}push(e){let t=this.ops.length,n=this.ops[t-1];if(e=r(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,n=this.ops[t-1],"object"!=typeof n))return this.ops.unshift(e),this;if(s(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}chop(){const e=this.ops[this.ops.length-1];return e&&"number"==typeof e.retain&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){const t=[],n=[];return this.forEach((i=>{(e(i)?t:n).push(i)})),[t,n]}reduce(e,t){return this.ops.reduce(e,t)}changeLength(){return this.reduce(((e,t)=>t.insert?e+a.default.length(t):t.delete?e-t.delete:e),0)}length(){return this.reduce(((e,t)=>e+a.default.length(t)),0)}slice(e=0,t=1/0){const n=[],i=new l.default(this.ops);let r=0;for(;r<t&&i.hasNext();){let s;r<e?s=i.next(e-r):(s=i.next(t-r),n.push(s)),r+=a.default.length(s)}return new A(n)}compose(e){const t=new l.default(this.ops),n=new l.default(e.ops),i=[],r=n.peek();if(null!=r&&"number"==typeof r.retain&&null==r.attributes){let e=r.retain;for(;"insert"===t.peekType()&&t.peekLength()<=e;)e-=t.peekLength(),i.push(t.next());r.retain-e>0&&n.next(r.retain-e)}const a=new A(i);for(;t.hasNext()||n.hasNext();)if("insert"===n.peekType())a.push(n.next());else if("delete"===t.peekType())a.push(t.next());else{const e=Math.min(t.peekLength(),n.peekLength()),i=t.next(e),r=n.next(e);if(r.retain){const l={};if("number"==typeof i.retain)l.retain="number"==typeof r.retain?e:r.retain;else if("number"==typeof r.retain)null==i.retain?l.insert=i.insert:l.retain=i.retain;else{const e=null==i.retain?"insert":"retain",[t,n,s]=c(i[e],r.retain),o=A.getHandler(t);l[e]={[t]:o.compose(n,s,"retain"===e)}}const u=o.default.compose(i.attributes,r.attributes,"number"==typeof i.retain);if(u&&(l.attributes=u),a.push(l),!n.hasNext()&&s(a.ops[a.ops.length-1],l)){const e=new A(t.rest());return a.concat(e).chop()}}else"number"==typeof r.delete&&("number"==typeof i.retain||"object"==typeof i.retain&&null!==i.retain)&&a.push(r)}return a.chop()}concat(e){const t=new A(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t}diff(e,t){if(this.ops===e.ops)return new A;const n=[this,e].map((t=>t.map((n=>{if(null!=n.insert)return"string"==typeof n.insert?n.insert:u;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join(""))),r=new A,a=i(n[0],n[1],t,!0),c=new l.default(this.ops),d=new l.default(e.ops);return a.forEach((e=>{let t=e[1].length;for(;t>0;){let n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),r.push(d.next(n));break;case i.DELETE:n=Math.min(t,c.peekLength()),c.next(n),r.delete(n);break;case i.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);const e=c.next(n),a=d.next(n);s(e.insert,a.insert)?r.retain(n,o.default.diff(e.attributes,a.attributes)):r.push(a).delete(n)}t-=n}})),r.chop()}eachLine(e,t="\n"){const n=new l.default(this.ops);let i=new A,r=0;for(;n.hasNext();){if("insert"!==n.peekType())return;const s=n.peek(),o=a.default.length(s)-n.peekLength(),l="string"==typeof s.insert?s.insert.indexOf(t,o)-o:-1;if(l<0)i.push(n.next());else if(l>0)i.push(n.next(l));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new A}}i.length()>0&&e(i,{},r)}invert(e){const t=new A;return this.reduce(((n,i)=>{if(i.insert)t.delete(a.default.length(i));else{if("number"==typeof i.retain&&null==i.attributes)return t.retain(i.retain),n+i.retain;if(i.delete||"number"==typeof i.retain){const r=i.delete||i.retain;return e.slice(n,n+r).forEach((e=>{i.delete?t.push(e):i.retain&&i.attributes&&t.retain(a.default.length(e),o.default.invert(i.attributes,e.attributes))})),n+r}if("object"==typeof i.retain&&null!==i.retain){const r=e.slice(n,n+1),s=new l.default(r.ops).next(),[a,u,d]=c(i.retain,s.insert),h=A.getHandler(a);return t.retain({[a]:h.invert(u,d)},o.default.invert(i.attributes,s.attributes)),n+1}}return n}),0),t.chop()}transform(e,t=!1){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);const n=e,i=new l.default(this.ops),r=new l.default(n.ops),s=new A;for(;i.hasNext()||r.hasNext();)if("insert"!==i.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())s.push(r.next());else{const e=Math.min(i.peekLength(),r.peekLength()),n=i.next(e),a=r.next(e);if(n.delete)continue;if(a.delete)s.push(a);else{const i=n.retain,r=a.retain;let l="object"==typeof r&&null!==r?r:e;if("object"==typeof i&&null!==i&&"object"==typeof r&&null!==r){const e=Object.keys(i)[0];if(e===Object.keys(r)[0]){const n=A.getHandler(e);n&&(l={[e]:n.transform(i[e],r[e],t)})}}s.retain(l,o.default.transform(n.attributes,a.attributes,t))}}else s.retain(a.default.length(i.next()));return s.chop()}transformPosition(e,t=!1){t=!!t;const n=new l.default(this.ops);let i=0;for(;n.hasNext()&&i<=e;){const r=n.peekLength(),s=n.peekType();n.next(),"delete"!==s?("insert"===s&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e}}A.Op=a.default,A.OpIterator=l.default,A.AttributeMap=o.default,A.handlers={},t.default=A,e.exports=A,e.exports.default=A},5759:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"object"==typeof e.retain&&null!==e.retain?1:"string"==typeof e.insert?e.insert.length:1}}(n||(n={})),t.default=n},8317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5759);t.default=class{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const n=this.offset,r=i.default.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};{const i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"object"==typeof t.retain&&null!==t.retain?i.retain=t.retain:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?"number"==typeof e.delete?"delete":"number"==typeof e.retain||"object"==typeof e.retain&&null!==e.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}}return[]}}},1247:function(e,t,n){"use strict";var i=n(9982),r=n(6540),s=n(961);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(o(188))}function A(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=A(e)))return t;e=e.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var U=Symbol.for("react.client.reference");function F(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===U?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case B:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return F(e(t))}catch(e){}}return null}var D=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},M=[],j=-1;function R(e){return{current:e}}function Q(e){0>j||(e.current=M[j],M[j]=null,j--)}function P(e,t){j++,M[j]=e.current,e.current=t}var H=R(null),q=R(null),V=R(null),z=R(null);function K(e,t){switch(P(V,t),P(q,e),P(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rA(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sA(t=rA(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(H),P(H,e)}function G(){Q(H),Q(q),Q(V)}function W(e){null!==e.memoizedState&&P(z,e);var t=H.current,n=sA(t,e.type);t!==n&&(P(q,e),P(H,n))}function $(e){q.current===e&&(Q(H),Q(q)),z.current===e&&(Q(z),WA._currentValue=N)}var X=Object.prototype.hasOwnProperty,Y=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,se=i.unstable_NormalPriority,oe=i.unstable_LowPriority,ae=i.unstable_IdlePriority,le=i.log,ue=i.unstable_setDisableYieldValue,ce=null,Ae=null;function de(e){if("function"==typeof le&&ue(e),Ae&&"function"==typeof Ae.setStrictMode)try{Ae.setStrictMode(ce,e)}catch(e){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/fe|0)|0},pe=Math.log,fe=Math.LN2;var ge=256,me=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~s)?r=ve(i):0!==(o&=a)?r=ve(o):n||0!==(n=a&~e)&&(r=ve(n)):0!==(a=i&~s)?r=ve(a):0!==o?r=ve(o):n||0!==(n=i&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&!(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function be(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=ge;return!(4194048&(ge<<=1))&&(ge=256),e}function xe(){var e=me;return!(62914560&(me<<=1))&&(me=4194304),e}function Be(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-he(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-he(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ee(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ud(e.type)}var Ue=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Ue,De="__reactProps$"+Ue,Le="__reactContainer$"+Ue,Oe="__reactEvents$"+Ue,Ne="__reactListeners$"+Ue,Me="__reactHandles$"+Ue,je="__reactResources$"+Ue,Re="__reactMarker$"+Ue;function Qe(e){delete e[Fe],delete e[De],delete e[Oe],delete e[Ne],delete e[Me]}function Pe(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Le]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yA(e);null!==e;){if(n=e[Fe])return n;e=yA(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Fe]||e[Le]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ve(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ze(e){e[Re]=!0}var Ke=new Set,Ge={};function We(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,Ye,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(r=t,X.call(et,r)||!X.call(Ze,r)&&(Je.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function rt(e){if(void 0===Xe)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ye=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ye}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&i&&"string"==typeof e.stack)return[e.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),u=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==u[r]){var c="\n"+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=r);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function At(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ct(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ht(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function ft(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,i,r,s,o,a){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ut(t)):null!=n?vt(e,o,ut(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+ut(a):e.removeAttribute("name")}function mt(e,t,n,i,r,s,o,a){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!=typeof(i=null!=i?i:r)&&"symbol"!=typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(o(92));if(D(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!=typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Bt(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Bt(e,s,t[s])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ft=null,Dt=null;function Lt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[De]||null;if(!r)throw Error(o(90));gt(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&dt(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Nt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Ft||null!==Dt)&&(Pu(),Ft&&(t=Ft,e=Dt,Dt=Ft=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[De]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var jt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Rt=!1;if(jt)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch(e){Rt=!1}var Pt=null,Ht=null,qt=null;function Vt(){if(qt)return qt;var e,t,n=Ht,i=n.length,r="value"in Pt?Pt.value:Pt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return qt=r.slice(e,1<t?1-t:void 0)}function zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Wt(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var $t,Xt,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Wt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Wt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?($t=e.screenX-Yt.screenX,Xt=e.screenY-Yt.screenY):Xt=$t=0,Yt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Wt(nn),sn=Wt(d({},nn,{dataTransfer:0})),on=Wt(d({},en,{relatedTarget:0})),an=Wt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Wt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Wt(d({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return hn}var fn=Wt(d({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Wt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Wt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Wt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Wt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Wt(d({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Cn=jt&&"CompositionEvent"in window,xn=null;jt&&"documentMode"in document&&(xn=document.documentMode);var Bn=jt&&"TextEvent"in window&&!xn,Sn=jt&&(!Cn||xn&&8<xn&&11>=xn),_n=String.fromCharCode(32),kn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Dn(e,t,n,i){Ft?Dt?Dt.push(i):Dt=[i]:Ft=i,0<(t=Vc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ln=null,On=null;function Nn(e){Nc(e,0)}function Mn(e){if(dt(qe(e)))return e}function jn(e,t){if("change"===e)return t}var Rn=!1;if(jt){var Qn;if(jt){var Pn="oninput"in document;if(!Pn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Pn="function"==typeof Hn.oninput}Qn=Pn}else Qn=!1;Rn=Qn&&(!document.documentMode||9<document.documentMode)}function qn(){Ln&&(Ln.detachEvent("onpropertychange",Vn),On=Ln=null)}function Vn(e){if("value"===e.propertyName&&Mn(On)){var t=[];Dn(t,On,e,Ut(e)),Nt(Nn,t)}}function zn(e,t,n){"focusin"===e?(qn(),On=n,(Ln=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(On)}function Gn(e,t){if("click"===e)return Mn(t)}function Wn(e,t){if("input"===e||"change"===e)return Mn(t)}var $n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if($n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!X.call(t,r)||!$n(e[r],t[r]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,i=Yn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yn(i)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=jt&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,si=null,oi=!1;function ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oi||null==ii||ii!==ht(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},si&&Xn(si,i)||(si=i,0<(i=Vc(ri,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ui={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ci={},Ai={};function di(e){if(ci[e])return ci[e];if(!ui[e])return e;var t,n=ui[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ai)return ci[e]=n[t];return e}jt&&(Ai=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);var hi=di("animationend"),pi=di("animationiteration"),fi=di("animationstart"),gi=di("transitionrun"),mi=di("transitionstart"),vi=di("transitioncancel"),yi=di("transitionend"),bi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(e,t){bi.set(e,t),We(t,[e])}wi.push("scrollEnd");var xi=new WeakMap;function Bi(e,t){if("object"==typeof e&&null!==e){var n=xi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xi.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Si=[],_i=0,ki=0;function Ti(){for(var e=_i,t=ki=_i=0;t<e;){var n=Si[t];Si[t++]=null;var i=Si[t];Si[t++]=null;var r=Si[t];Si[t++]=null;var s=Si[t];if(Si[t++]=null,null!==i&&null!==r){var o=i.pending;null===o?r.next=r:(r.next=o.next,o.next=r),i.pending=r}0!==s&&Fi(n,r,s)}}function Ei(e,t,n,i){Si[_i++]=e,Si[_i++]=t,Si[_i++]=n,Si[_i++]=i,ki|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ii(e,t,n,i){return Ei(e,t,n,i),Di(e)}function Ui(e,t){return Ei(e,null,null,t),Di(e)}function Fi(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-he(n),null===(i=(e=s.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),s):null}function Di(e){if(50<Fu)throw Fu=0,Du=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Li={};function Oi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,t,n,i){return new Oi(e,t,n,i)}function Mi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ji(e,t){var n=e.alternate;return null===n?((n=Ni(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ri(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qi(e,t,n,i,r,s){var a=0;if(i=e,"function"==typeof e)Mi(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ni(31,n,t,r)).elementType=k,e.lanes=s,e;case g:return Pi(n.children,r,s,t);case m:a=8,r|=24;break;case v:return(e=Ni(12,n,t,2|r)).elementType=v,e.lanes=s,e;case x:return(e=Ni(13,n,t,r)).elementType=x,e.lanes=s,e;case B:return(e=Ni(19,n,t,r)).elementType=B,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case w:a=10;break e;case b:a=9;break e;case C:a=11;break e;case S:a=14;break e;case _:a=16,i=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Ni(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Pi(e,t,n,i){return(e=Ni(7,e,i,t)).lanes=n,e}function Hi(e,t,n){return(e=Ni(6,e,null,t)).lanes=n,e}function qi(e,t,n){return(t=Ni(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vi=[],zi=0,Ki=null,Gi=0,Wi=[],$i=0,Xi=null,Yi=1,Ji="";function Zi(e,t){Vi[zi++]=Gi,Vi[zi++]=Ki,Ki=e,Gi=t}function er(e,t,n){Wi[$i++]=Yi,Wi[$i++]=Ji,Wi[$i++]=Xi,Xi=e;var i=Yi;e=Ji;var r=32-he(i)-1;i&=~(1<<r),n+=1;var s=32-he(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Yi=1<<32-he(t)+r|n<<r|i,Ji=s+e}else Yi=1<<s|n<<r|i,Ji=e}function tr(e){null!==e.return&&(Zi(e,1),er(e,1,0))}function nr(e){for(;e===Ki;)Ki=Vi[--zi],Vi[zi]=null,Gi=Vi[--zi],Vi[zi]=null;for(;e===Xi;)Xi=Wi[--$i],Wi[$i]=null,Ji=Wi[--$i],Wi[$i]=null,Yi=Wi[--$i],Wi[$i]=null}var ir=null,rr=null,sr=!1,or=null,ar=!1,lr=Error(o(519));function ur(e){throw fr(Bi(Error(o(418,"")),e)),lr}function cr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Fe]=e,t[De]=i,n){case"dialog":Mc("cancel",t),Mc("close",t);break;case"iframe":case"object":case"embed":Mc("load",t);break;case"video":case"audio":for(n=0;n<Lc.length;n++)Mc(Lc[n],t);break;case"source":Mc("error",t);break;case"img":case"image":case"link":Mc("error",t),Mc("load",t);break;case"details":Mc("toggle",t);break;case"input":Mc("invalid",t),mt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),At(t);break;case"select":Mc("invalid",t);break;case"textarea":Mc("invalid",t),wt(t,i.value,i.defaultValue,i.children),At(t)}"string"!=typeof(n=i.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Xc(t.textContent,n)?(null!=i.popover&&(Mc("beforetoggle",t),Mc("toggle",t)),null!=i.onScroll&&Mc("scroll",t),null!=i.onScrollEnd&&Mc("scrollend",t),null!=i.onClick&&(t.onclick=Yc),t=!0):t=!1,t||ur(e)}function Ar(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(ar=!1);case 27:case 3:return void(ar=!0);default:ir=ir.return}}function dr(e){if(e!==ir)return!1;if(!sr)return Ar(e),sr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||oA(e.type,e.memoizedProps)),t=!t),t&&rr&&ur(e),Ar(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=mA(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,hA(e.type)?(e=vA,vA=null,rr=e):rr=n):rr=ir?mA(e.stateNode.nextSibling):null;return!0}function hr(){rr=ir=null,sr=!1}function pr(){var e=or;return null!==e&&(null===yu?yu=e:yu.push.apply(yu,e),or=null),e}function fr(e){null===or?or=[e]:or.push(e)}var gr=R(null),mr=null,vr=null;function yr(e,t,n){P(gr,t._currentValue),t._currentValue=n}function br(e){e._currentValue=gr.current,Q(gr)}function wr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var s=r.dependencies;if(null!==s){var a=r.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wr(s.return,n,e),i||(a=null);break e}s=l.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),wr(a,n,e),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===e){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function xr(e,t,n,i){e=null;for(var r=t,s=!1;null!==r;){if(!s)if(524288&r.flags)s=!0;else if(262144&r.flags)break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=r.type;$n(r.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(r===z.current){if(null===(a=r.alternate))throw Error(o(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(WA):e=[WA])}r=r.return}null!==e&&Cr(t,e,n,i),t.flags|=262144}function Br(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){mr=e,vr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _r(e){return Tr(mr,e)}function kr(e,t){return null===mr&&Sr(e),Tr(e,t)}function Tr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vr){if(null===e)throw Error(o(308));vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vr=vr.next=t;return n}var Er="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ir=i.unstable_scheduleCallback,Ur=i.unstable_NormalPriority,Fr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dr(){return{controller:new Er,data:new Map,refCount:0}}function Lr(e){e.refCount--,0===e.refCount&&Ir(Ur,(function(){e.controller.abort()}))}var Or=null,Nr=0,Mr=0,jr=null;function Rr(){if(0==--Nr&&null!==Or){null!==jr&&(jr.status="fulfilled");var e=Or;Or=null,Mr=0,jr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qr=L.S;L.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Or){var n=Or=[];Nr=0,Mr=Ec(),jr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Nr++,t.then(Rr,Rr)}(0,t),null!==Qr&&Qr(e,t)};var Pr=R(null);function Hr(){var e=Pr.current;return null!==e?e:iu.pooledCache}function qr(e,t){P(Pr,null===t?Pr.current:t.pool)}function Vr(){var e=Hr();return null===e?null:{parent:Fr._currentValue,pool:e}}var zr=Error(o(460)),Kr=Error(o(474)),Gr=Error(o(542)),Wr={then:function(){}};function $r(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xr(){}function Yr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xr,Xr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xr,Xr);else{if(null!==(e=iu)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Jr=t,zr}}var Jr=null;function Zr(){if(null===Jr)throw Error(o(459));var e=Jr;return Jr=null,e}function es(e){if(e===zr||e===Gr)throw Error(o(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&nu){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Di(e),Fi(e,null,n),t}return Ei(e,i,t,n),Di(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}function as(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function us(){if(ls){if(null!==jr)throw jr}}function cs(e,t,n,i){ls=!1;var r=e.updateQueue;ts=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var A=r.baseState;for(o=0,c=u=l=null,a=s;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(su&h)===h:(i&h)===h){0!==h&&h===Mr&&(ls=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var f=e,g=a;h=t;var m=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){A=f.call(m,A,h);break e}A=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=g.payload)?f.call(m,A,h):f))break e;A=d({},A,h);break e;case 2:ts=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=A):c=c.next=p,o|=h;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===c&&(l=A),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null===s&&(r.shared.lanes=0),hu|=o,e.lanes=o,e.memoizedState=A}}function As(e,t){if("function"!=typeof e)throw Error(o(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)As(n[e],t)}var hs=R(null),ps=R(0);function fs(e,t){P(ps,e=Au),P(hs,t),Au=e|t.baseLanes}function gs(){P(ps,Au),P(hs,hs.current)}function ms(){Au=ps.current,Q(hs),Q(ps)}var vs=0,ys=null,bs=null,ws=null,Cs=!1,xs=!1,Bs=!1,Ss=0,_s=0,ks=null,Ts=0;function Es(){throw Error(o(321))}function Is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function Us(e,t,n,i,r,s){return vs=s,ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?Ko:Go,Bs=!1,s=n(i,r),Bs=!1,xs&&(s=Ds(t,n,i,r)),Fs(e),s}function Fs(e){L.H=zo;var t=null!==bs&&null!==bs.next;if(vs=0,ws=bs=ys=null,Cs=!1,_s=0,ks=null,t)throw Error(o(300));null===e||ka||null!==(e=e.dependencies)&&Br(e)&&(ka=!0)}function Ds(e,t,n,i){ys=e;var r=0;do{if(xs&&(ks=null),_s=0,xs=!1,25<=r)throw Error(o(301));if(r+=1,ws=bs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}L.H=Wo,s=t(n,i)}while(xs);return s}function Ls(){var e=L.H,t=e.useState()[0];return t="function"==typeof t.then?Qs(t):t,e=e.useState()[0],(null!==bs?bs.memoizedState:null)!==e&&(ys.flags|=1024),t}function Os(){var e=0!==Ss;return Ss=0,e}function Ns(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ms(e){if(Cs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Cs=!1}vs=0,ws=bs=ys=null,xs=!1,_s=Ss=0,ks=null}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?ys.memoizedState=ws=e:ws=ws.next=e,ws}function Rs(){if(null===bs){var e=ys.alternate;e=null!==e?e.memoizedState:null}else e=bs.next;var t=null===ws?ys.memoizedState:ws.next;if(null!==t)ws=t,bs=e;else{if(null===e){if(null===ys.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(bs=e).memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null},null===ws?ys.memoizedState=ws=e:ws=ws.next=e}return ws}function Qs(e){var t=_s;return _s+=1,null===ks&&(ks=[]),e=Yr(ks,e,t),t=ys,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?Ko:Go),e}function Ps(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Qs(e);if(e.$$typeof===w)return _r(e)}throw Error(o(438,String(e)))}function Hs(e){var t=null,n=ys.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=ys.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=T;return t.index++,n}function qs(e,t){return"function"==typeof t?t(e):t}function Vs(e){return zs(Rs(),bs,e)}function zs(e,t,n){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{var l=a=null,u=null,c=t=r.next,A=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(su&d)===d:(vs&d)===d){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Mr&&(A=!0);else{if((vs&h)===h){c=c.next,h===Mr&&(A=!0);continue}d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=s):u=u.next=d,ys.lanes|=h,hu|=h}d=c.action,Bs&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,a=s):u=u.next=h,ys.lanes|=d,hu|=d;c=c.next}while(null!==c&&c!==t);if(null===u?a=s:u.next=l,!$n(s,e.memoizedState)&&(ka=!0,A&&null!==(n=jr)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ks(e){var t=Rs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=e(s,a.action),a=a.next}while(a!==r);$n(s,t.memoizedState)||(ka=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Gs(e,t,n){var i=ys,r=Rs(),s=sr;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!$n((bs||r).memoizedState,n);if(a&&(r.memoizedState=n,ka=!0),r=r.queue,mo(2048,8,Xs.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==ws&&1&ws.memoizedState.tag){if(i.flags|=2048,po(9,{destroy:void 0,resource:void 0},$s.bind(null,i,r,n,t),null),null===iu)throw Error(o(349));s||124&vs||Ws(i,t,n)}return n}function Ws(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ys.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $s(e,t,n,i){t.value=n,t.getSnapshot=i,Ys(t)&&Js(e)}function Xs(e,t,n){return n((function(){Ys(t)&&Js(e)}))}function Ys(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(e){return!0}}function Js(e){var t=Ui(e,2);null!==t&&Nu(t,e,2)}function Zs(e){var t=js();if("function"==typeof e){var n=e;if(e=n(),Bs){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t}function eo(e,t,n,i){return e.baseState=n,zs(e,bs,"function"==typeof i?i:qs)}function to(e,t,n,i,r){if(Ho(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==L.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=L.T,o={};L.T=o;try{var a=n(r,i),l=L.S;null!==l&&l(o,a),io(e,t,a)}catch(n){so(e,t,n)}finally{L.T=s}}else try{io(e,t,s=n(r,i))}catch(n){so(e,t,n)}}function io(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){ro(e,t,n)}),(function(n){return so(e,t,n)})):ro(e,t,n)}function ro(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function so(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==i)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function lo(e,t){if(sr){var n=iu.formState;if(null!==n){e:{var i=ys;if(sr){if(rr){t:{for(var r=rr,s=ar;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=mA(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){rr=mA(r.nextSibling),i="F!"===r.data;break e}}ur(i)}i=!1}i&&(t=n[0])}}return(n=js()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=i,n=Ro.bind(null,ys,i),i.dispatch=n,i=Zs(!1),s=Po.bind(null,ys,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=js()).queue=r,n=to.bind(null,ys,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function uo(e){return co(Rs(),bs,e)}function co(e,t,n){if(t=zs(e,t,ao)[0],e=Vs(qs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var i=Qs(t)}catch(e){if(e===zr)throw Gr;throw e}else i=t;var r=(t=Rs()).queue,s=r.dispatch;return n!==t.memoizedState&&(ys.flags|=2048,po(9,{destroy:void 0,resource:void 0},Ao.bind(null,r,n),null)),[i,s,e]}function Ao(e,t){e.action=t}function ho(e){var t=Rs(),n=bs;if(null!==n)return co(t,n,e);Rs(),t=t.memoizedState;var i=(n=Rs()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function po(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=ys.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function fo(){return Rs().memoizedState}function go(e,t,n,i){var r=js();i=void 0===i?null:i,ys.flags|=e,r.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,i)}function mo(e,t,n,i){var r=Rs();i=void 0===i?null:i;var s=r.memoizedState.inst;null!==bs&&null!==i&&Is(i,bs.memoizedState.deps)?r.memoizedState=po(t,s,n,i):(ys.flags|=e,r.memoizedState=po(1|t,s,n,i))}function vo(e,t){go(8390656,8,e,t)}function yo(e,t){mo(2048,8,e,t)}function bo(e,t){return mo(4,2,e,t)}function wo(e,t){return mo(4,4,e,t)}function Co(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function xo(e,t,n){n=null!=n?n.concat([e]):null,mo(4,4,Co.bind(null,t,e),n)}function Bo(){}function So(e,t){var n=Rs();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Is(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=Rs();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Is(t,i[1]))return i[0];if(i=e(),Bs){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[i,t],i}function ko(e,t,n){return void 0===n||1073741824&vs?e.memoizedState=t:(e.memoizedState=n,e=Ou(),ys.lanes|=e,hu|=e,n)}function To(e,t,n,i){return $n(n,t)?n:null!==hs.current?(e=ko(e,n,i),$n(e,t)||(ka=!0),e):42&vs?(e=Ou(),ys.lanes|=e,hu|=e,t):(ka=!0,e.memoizedState=n)}function Eo(e,t,n,i,r){var s=O.p;O.p=0!==s&&8>s?s:8;var o,a,l,u=L.T,c={};L.T=c,Po(e,!1,t,n);try{var A=r(),d=L.S;if(null!==d&&d(c,A),null!==A&&"object"==typeof A&&"function"==typeof A.then)Qo(e,t,(o=i,a=[],l={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},A.then((function(){l.status="fulfilled",l.value=o;for(var e=0;e<a.length;e++)(0,a[e])(o)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)})),l),Lu());else Qo(e,t,i,Lu())}catch(n){Qo(e,t,{then:function(){},status:"rejected",reason:n},Lu())}finally{O.p=s,L.T=u}}function Io(){}function Uo(e,t,n,i){if(5!==e.tag)throw Error(o(476));var r=Fo(e).queue;Eo(e,r,t,N,null===n?Io:function(){return Do(e),n(i)})}function Fo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:N},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Do(e){Qo(e,Fo(e).next.queue,{},Lu())}function Lo(){return _r(WA)}function Oo(){return Rs().memoizedState}function No(){return Rs().memoizedState}function Mo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Lu(),i=ss(t,e=rs(n),n);return null!==i&&(Nu(i,t,n),os(i,t,n)),t={cache:Dr()},void(e.payload=t)}t=t.return}}function jo(e,t,n){var i=Lu();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?qo(t,n):null!==(n=Ii(e,t,n,i))&&(Nu(n,e,i),Vo(n,t,i))}function Ro(e,t,n){Qo(e,t,n,Lu())}function Qo(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))qo(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,$n(a,o))return Ei(e,t,r,0),null===iu&&Ti(),!1}catch(e){}if(null!==(n=Ii(e,t,r,i)))return Nu(n,e,i),Vo(n,t,i),!0}return!1}function Po(e,t,n,i){if(i={lane:2,revertLane:Ec(),action:i,hasEagerState:!1,eagerState:null,next:null},Ho(e)){if(t)throw Error(o(479))}else null!==(t=Ii(e,n,i,2))&&Nu(t,e,2)}function Ho(e){var t=e.alternate;return e===ys||null!==t&&t===ys}function qo(e,t){xs=Cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vo(e,t,n){if(4194048&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}var zo={readContext:_r,use:Ps,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useLayoutEffect:Es,useInsertionEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useSyncExternalStore:Es,useId:Es,useHostTransitionStatus:Es,useFormState:Es,useActionState:Es,useOptimistic:Es,useMemoCache:Es,useCacheRefresh:Es},Ko={readContext:_r,use:Ps,useCallback:function(e,t){return js().memoizedState=[e,void 0===t?null:t],e},useContext:_r,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,go(4194308,4,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=js();t=void 0===t?null:t;var i=e();if(Bs){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=js();if(void 0!==n){var r=n(t);if(Bs){de(!0);try{n(t)}finally{de(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=jo.bind(null,ys,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},js().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Ro.bind(null,ys,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Bo,useDeferredValue:function(e,t){return ko(js(),e,t)},useTransition:function(){var e=Zs(!1);return e=Eo.bind(null,ys,e.queue,!0,!1),js().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ys,r=js();if(sr){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===iu)throw Error(o(349));124&su||Ws(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,vo(Xs.bind(null,i,s,e),[e]),i.flags|=2048,po(9,{destroy:void 0,resource:void 0},$s.bind(null,i,s,n,t),null),n},useId:function(){var e=js(),t=iu.identifierPrefix;if(sr){var n=Ji;t="«"+t+"R"+(n=(Yi&~(1<<32-he(Yi)-1)).toString(32)+n),0<(n=Ss++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Ts++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Lo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=js();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Po.bind(null,ys,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hs,useCacheRefresh:function(){return js().memoizedState=Mo.bind(null,ys)}},Go={readContext:_r,use:Ps,useCallback:So,useContext:_r,useEffect:yo,useImperativeHandle:xo,useInsertionEffect:bo,useLayoutEffect:wo,useMemo:_o,useReducer:Vs,useRef:fo,useState:function(){return Vs(qs)},useDebugValue:Bo,useDeferredValue:function(e,t){return To(Rs(),bs.memoizedState,e,t)},useTransition:function(){var e=Vs(qs)[0],t=Rs().memoizedState;return["boolean"==typeof e?e:Qs(e),t]},useSyncExternalStore:Gs,useId:Oo,useHostTransitionStatus:Lo,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){return eo(Rs(),0,e,t)},useMemoCache:Hs,useCacheRefresh:No},Wo={readContext:_r,use:Ps,useCallback:So,useContext:_r,useEffect:yo,useImperativeHandle:xo,useInsertionEffect:bo,useLayoutEffect:wo,useMemo:_o,useReducer:Ks,useRef:fo,useState:function(){return Ks(qs)},useDebugValue:Bo,useDeferredValue:function(e,t){var n=Rs();return null===bs?ko(n,e,t):To(n,bs.memoizedState,e,t)},useTransition:function(){var e=Ks(qs)[0],t=Rs().memoizedState;return["boolean"==typeof e?e:Qs(e),t]},useSyncExternalStore:Gs,useId:Oo,useHostTransitionStatus:Lo,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){var n=Rs();return null!==bs?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hs,useCacheRefresh:No},$o=null,Xo=0;function Yo(e){var t=Xo;return Xo+=1,null===$o&&($o=[]),Yr($o,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===h)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=ji(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Hi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var s=n.type;return s===g?A(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===_&&ea(s)===t.type)?(Jo(t=r(t,n.props),n),t.return=e,t):(Jo(t=Qi(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function A(e,t,n,i,s){return null===t||7!==t.tag?((t=Pi(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hi(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(n=Qi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=qi(t,e.mode,n)).return=e,t;case _:return d(e,t=(0,t._init)(t._payload),n)}if(D(t)||I(t))return(t=Pi(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,Yo(t),n);if(t.$$typeof===w)return d(e,kr(e,t),n);Zo(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?u(e,t,n,i):null;case f:return n.key===r?c(e,t,n,i):null;case _:return h(e,t,n=(r=n._init)(n._payload),i)}if(D(n)||I(n))return null!==r?null:A(e,t,n,i,null);if("function"==typeof n.then)return h(e,t,Yo(n),i);if(n.$$typeof===w)return h(e,t,kr(e,n),i);Zo(e,n)}return null}function m(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case p:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case f:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case _:return m(e,t,n,i=(0,i._init)(i._payload),r)}if(D(i)||I(i))return A(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return m(e,t,n,Yo(i),r);if(i.$$typeof===w)return m(e,t,n,kr(t,i),r);Zo(t,i)}return null}function v(l,u,c,A){if("object"==typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case p:e:{for(var y=c.key;null!==u;){if(u.key===y){if((y=c.type)===g){if(7===u.tag){n(l,u.sibling),(A=r(u,c.props.children)).return=l,l=A;break e}}else if(u.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===_&&ea(y)===u.type){n(l,u.sibling),Jo(A=r(u,c.props),c),A.return=l,l=A;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===g?((A=Pi(c.props.children,l.mode,A,c.key)).return=l,l=A):(Jo(A=Qi(c.type,c.key,c.props,null,l.mode,A),c),A.return=l,l=A)}return a(l);case f:e:{for(y=c.key;null!==u;){if(u.key===y){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(A=r(u,c.children||[])).return=l,l=A;break e}n(l,u);break}t(l,u),u=u.sibling}(A=qi(c,l.mode,A)).return=l,l=A}return a(l);case _:return v(l,u,c=(y=c._init)(c._payload),A)}if(D(c))return function(r,o,a,l){for(var u=null,c=null,A=o,p=o=0,f=null;null!==A&&p<a.length;p++){A.index>p?(f=A,A=null):f=A.sibling;var g=h(r,A,a[p],l);if(null===g){null===A&&(A=f);break}e&&A&&null===g.alternate&&t(r,A),o=s(g,o,p),null===c?u=g:c.sibling=g,c=g,A=f}if(p===a.length)return n(r,A),sr&&Zi(r,p),u;if(null===A){for(;p<a.length;p++)null!==(A=d(r,a[p],l))&&(o=s(A,o,p),null===c?u=A:c.sibling=A,c=A);return sr&&Zi(r,p),u}for(A=i(A);p<a.length;p++)null!==(f=m(A,r,p,a[p],l))&&(e&&null!==f.alternate&&A.delete(null===f.key?p:f.key),o=s(f,o,p),null===c?u=f:c.sibling=f,c=f);return e&&A.forEach((function(e){return t(r,e)})),sr&&Zi(r,p),u}(l,u,c,A);if(I(c)){if("function"!=typeof(y=I(c)))throw Error(o(150));return function(r,a,l,u){if(null==l)throw Error(o(151));for(var c=null,A=null,p=a,f=a=0,g=null,v=l.next();null!==p&&!v.done;f++,v=l.next()){p.index>f?(g=p,p=null):g=p.sibling;var y=h(r,p,v.value,u);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(r,p),a=s(y,a,f),null===A?c=y:A.sibling=y,A=y,p=g}if(v.done)return n(r,p),sr&&Zi(r,f),c;if(null===p){for(;!v.done;f++,v=l.next())null!==(v=d(r,v.value,u))&&(a=s(v,a,f),null===A?c=v:A.sibling=v,A=v);return sr&&Zi(r,f),c}for(p=i(p);!v.done;f++,v=l.next())null!==(v=m(p,r,f,v.value,u))&&(e&&null!==v.alternate&&p.delete(null===v.key?f:v.key),a=s(v,a,f),null===A?c=v:A.sibling=v,A=v);return e&&p.forEach((function(e){return t(r,e)})),sr&&Zi(r,f),c}(l,u,c=y.call(c),A)}if("function"==typeof c.then)return v(l,u,Yo(c),A);if(c.$$typeof===w)return v(l,u,kr(l,c),A);Zo(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(A=r(u,c)).return=l,l=A):(n(l,u),(A=Hi(c,l.mode,A)).return=l,l=A),a(l)):n(l,u)}return function(e,t,n,i){try{Xo=0;var r=v(e,t,n,i);return $o=null,r}catch(t){if(t===zr||t===Gr)throw t;var s=Ni(29,t,null,e.mode);return s.lanes=i,s.return=e,s}}}var na=ta(!0),ia=ta(!1),ra=R(null),sa=null;function oa(e){var t=e.alternate;P(ca,1&ca.current),P(ra,e),null===sa&&(null===t||null!==hs.current||null!==t.memoizedState)&&(sa=e)}function aa(e){if(22===e.tag){if(P(ca,ca.current),P(ra,e),null===sa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sa=e)}}else la()}function la(){P(ca,ca.current),P(ra,ra.current)}function ua(e){Q(ra),sa===e&&(sa=null),Q(ca)}var ca=R(0);function Aa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gA(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function da(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Lu(),r=rs(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=ss(e,r,i))&&(Nu(t,e,i),os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Lu(),r=rs(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=ss(e,r,i))&&(Nu(t,e,i),os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lu(),i=rs(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=ss(e,i,n))&&(Nu(t,e,n),os(t,e,n))}};function pa(e,t,n,i,r,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,i)||!Xn(r,s))}function fa(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=d({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var ma="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function va(e){ma(e)}function ya(e){}function ba(e){ma(e)}function wa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function Ca(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function xa(e,t,n){return(n=rs(n)).tag=3,n.payload={element:null},n.callback=function(){wa(e,t)},n}function Ba(e){return(e=rs(e)).tag=3,e}function Sa(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Ca(t,n,i)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Ca(t,n,i),"function"!=typeof r&&(null===Bu?Bu=new Set([this]):Bu.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var _a=Error(o(461)),ka=!1;function Ta(e,t,n,i){t.child=null===e?ia(t,null,n,i):na(t,e.child,n,i)}function Ea(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var o={};for(var a in i)"ref"!==a&&(o[a]=i[a])}else o=i;return Sr(t),i=Us(e,t,n,o,s,r),a=Os(),null===e||ka?(sr&&a&&tr(t),t.flags|=1,Ta(e,t,i,r),t.child):(Ns(e,t,r),$a(e,t,r))}function Ia(e,t,n,i,r){if(null===e){var s=n.type;return"function"!=typeof s||Mi(s)||void 0!==s.defaultProps||null!==n.compare?((e=Qi(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ua(e,t,s,i,r))}if(s=e.child,!Xa(e,r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(o,i)&&e.ref===t.ref)return $a(e,t,r)}return t.flags|=1,(e=ji(s,i)).ref=t.ref,e.return=t,t.child=e}function Ua(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(Xn(s,i)&&e.ref===t.ref){if(ka=!1,t.pendingProps=i=s,!Xa(e,r))return t.lanes=e.lanes,$a(e,t,r);131072&e.flags&&(ka=!0)}}return Oa(e,t,n,i,r)}function Fa(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(128&t.flags){if(i=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return Da(e,t,i,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Da(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qr(0,null!==s?s.cachePool:null),null!==s?fs(t,s):gs(),aa(t)}else null!==s?(qr(0,s.cachePool),fs(t,s),la(),t.memoizedState=null):(null!==e&&qr(0,null),gs(),la());return Ta(e,t,r,n),t.child}function Da(e,t,n,i){var r=Hr();return r=null===r?null:{parent:Fr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&qr(0,null),gs(),aa(t),null!==e&&xr(e,t,i,!0),null}function La(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oa(e,t,n,i,r){return Sr(t),n=Us(e,t,n,i,void 0,r),i=Os(),null===e||ka?(sr&&i&&tr(t),t.flags|=1,Ta(e,t,n,r),t.child):(Ns(e,t,r),$a(e,t,r))}function Na(e,t,n,i,r,s){return Sr(t),t.updateQueue=null,n=Ds(t,i,n,r),Fs(e),i=Os(),null===e||ka?(sr&&i&&tr(t),t.flags|=1,Ta(e,t,n,s),t.child):(Ns(e,t,s),$a(e,t,s))}function Ma(e,t,n,i,r){if(Sr(t),null===t.stateNode){var s=Li,o=n.contextType;"object"==typeof o&&null!==o&&(s=_r(o)),s=new n(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ha,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},ns(t),o=n.contextType,s.context="object"==typeof o&&null!==o?_r(o):Li,s.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(da(t,n,o,i),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(o=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&ha.enqueueReplaceState(s,s.state,null),cs(t,i,s,r),us(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=ga(n,a);s.props=l;var u=s.context,c=n.contextType;o=Li,"object"==typeof c&&null!==c&&(o=_r(c));var A=n.getDerivedStateFromProps;c="function"==typeof A||"function"==typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a||u!==o)&&fa(t,s,i,o),ts=!1;var d=t.memoizedState;s.state=d,cs(t,i,s,r),us(),u=t.memoizedState,a||d!==u||ts?("function"==typeof A&&(da(t,n,A,i),u=t.memoizedState),(l=ts||pa(t,n,l,i,d,u,o))?(c||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),s.props=i,s.state=u,s.context=o,i=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,is(e,t),c=ga(n,o=t.memoizedProps),s.props=c,A=t.pendingProps,d=s.context,u=n.contextType,l=Li,"object"==typeof u&&null!==u&&(l=_r(u)),(u="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==A||d!==l)&&fa(t,s,i,l),ts=!1,d=t.memoizedState,s.state=d,cs(t,i,s,r),us();var h=t.memoizedState;o!==A||d!==h||ts||null!==e&&null!==e.dependencies&&Br(e.dependencies)?("function"==typeof a&&(da(t,n,a,i),h=t.memoizedState),(c=ts||pa(t,n,c,i,d,h,l)||null!==e&&null!==e.dependencies&&Br(e.dependencies))?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,h,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,h,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,La(e,t),i=!!(128&t.flags),s||i?(s=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=na(t,e.child,null,r),t.child=na(t,null,n,r)):Ta(e,t,n,r),t.memoizedState=s.state,e=t.child):e=$a(e,t,r),e}function ja(e,t,n,i){return hr(),t.flags|=256,Ta(e,t,n,i),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(e){return{baseLanes:e,cachePool:Vr()}}function Pa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gu),e}function Ha(e,t,n){var i,r=t.pendingProps,s=!1,a=!!(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&!!(2&ca.current)),i&&(s=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(sr){if(s?oa(t):la(),sr){var l,u=rr;if(l=u){e:{for(l=u,u=ar;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=mA(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Xi?{id:Yi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},(l=Ni(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ir=t,rr=null,l=!0):l=!1}l||ur(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return gA(u)?t.lanes=32:t.lanes=536870912,null;ua(t)}return u=r.children,r=r.fallback,s?(la(),u=Va({mode:"hidden",children:u},s=t.mode),r=Pi(r,s,n,null),u.return=t,r.return=t,u.sibling=r,t.child=u,(s=t.child).memoizedState=Qa(n),s.childLanes=Pa(e,i,n),t.memoizedState=Ra,r):(oa(t),qa(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(a)256&t.flags?(oa(t),t.flags&=-257,t=za(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),s=r.fallback,u=t.mode,r=Va({mode:"visible",children:r.children},u),(s=Pi(s,u,n,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,na(t,e.child,null,n),(r=t.child).memoizedState=Qa(n),r.childLanes=Pa(e,i,n),t.memoizedState=Ra,t=s);else if(oa(t),gA(u)){if(i=u.nextSibling&&u.nextSibling.dataset)var c=i.dgst;i=c,(r=Error(o(419))).stack="",r.digest=i,fr({value:r,source:null,stack:null}),t=za(e,t,n)}else if(ka||xr(e,t,n,!1),i=!!(n&e.childLanes),ka||i){if(null!==(i=iu)&&(0!==(r=(r=42&(r=n&-n)?1:Te(r))&(i.suspendedLanes|n)?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ui(e,r),Nu(i,e,r),_a;"$?"===u.data||Gu(),t=za(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=mA(u.nextSibling),ir=t,sr=!0,or=null,ar=!1,null!==e&&(Wi[$i++]=Yi,Wi[$i++]=Ji,Wi[$i++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),(t=qa(t,r.children)).flags|=4096);return t}return s?(la(),s=r.fallback,u=t.mode,c=(l=e.child).sibling,(r=ji(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?s=ji(c,s):(s=Pi(s,u,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,null===(u=e.child.memoizedState)?u=Qa(n):(null!==(l=u.cachePool)?(c=Fr._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Vr(),u={baseLanes:u.baseLanes|n,cachePool:l}),s.memoizedState=u,s.childLanes=Pa(e,i,n),t.memoizedState=Ra,r):(oa(t),e=(n=e.child).sibling,(n=ji(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Va({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Va(e,t){return(e=Ni(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function za(e,t,n){return na(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),wr(e.return,t,n)}function Ga(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Wa(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Ta(e,t,i.children,n),2&(i=ca.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(P(ca,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Aa(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ga(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Aa(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ga(t,!0,n,null,s);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(xr(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ji(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ji(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!Br(e))}function Ya(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)ka=!0;else{if(!(Xa(e,n)||128&t.flags))return ka=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),yr(0,Fr,e.memoizedState.cache),hr();break;case 27:case 5:W(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:yr(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(oa(t),t.flags|=128,null):n&t.child.childLanes?Ha(e,t,n):(oa(t),null!==(e=$a(e,t,n))?e.sibling:null);oa(t);break;case 19:var r=!!(128&e.flags);if((i=!!(n&t.childLanes))||(xr(e,t,n,!1),i=!!(n&t.childLanes)),r){if(i)return Wa(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),P(ca,ca.current),i)break;return null;case 22:case 23:return t.lanes=0,Fa(e,t,n);case 24:yr(0,Fr,e.memoizedState.cache)}return $a(e,t,n)}(e,t,n);ka=!!(131072&e.flags)}else ka=!1,sr&&1048576&t.flags&&er(t,Gi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((r=i.$$typeof)===C){t.tag=11,t=Ea(null,t,i,e,n);break e}if(r===S){t.tag=14,t=Ia(null,t,i,e,n);break e}}throw t=F(i)||i,Error(o(306,t,""))}Mi(i)?(e=ga(i,e),t.tag=1,t=Ma(null,t,i,e,n)):(t.tag=0,t=Oa(null,t,i,e,n))}return t;case 0:return Oa(e,t,t.type,t.pendingProps,n);case 1:return Ma(e,t,i=t.type,r=ga(i,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,is(e,t),cs(t,i,null,n);var a=t.memoizedState;if(i=a.cache,yr(0,Fr,i),i!==s.cache&&Cr(t,[Fr],n,!0),us(),i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ja(e,t,i,n);break e}if(i!==r){fr(r=Bi(Error(o(424)),t)),t=ja(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=mA(e.firstChild),ir=t,sr=!0,or=null,ar=!0,n=ia(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),i===r){t=$a(e,t,n);break e}Ta(e,t,i,n)}t=t.child}return t;case 26:return La(e,t),null===e?(n=TA(t.type,null,t.pendingProps,null))?t.memoizedState=n:sr||(n=t.type,e=t.pendingProps,(i=iA(V.current).createElement(n))[Fe]=t,i[De]=e,eA(i,n,e),ze(i),t.stateNode=i):t.memoizedState=TA(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&sr&&(i=t.stateNode=bA(t.type,t.pendingProps,V.current),ir=t,ar=!0,r=rr,hA(t.type)?(vA=r,rr=mA(i.firstChild)):rr=r),Ta(e,t,t.pendingProps.children,n),La(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sr&&((r=i=rr)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Re])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=mA(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ar))?(t.stateNode=i,ir=t,rr=mA(i.firstChild),ar=!1,r=!0):r=!1),r||ur(t)),W(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,oA(r,s)?i=null:null!==a&&oA(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=Us(e,t,Ls,null,null,n),WA._currentValue=r),La(e,t),Ta(e,t,i,n),t.child;case 6:return null===e&&sr&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=mA(e.nextSibling)))return null}return e}(n,t.pendingProps,ar))?(t.stateNode=n,ir=t,rr=null,e=!0):e=!1),e||ur(t)),null;case 13:return Ha(e,t,n);case 4:return K(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=na(t,null,i,n):Ta(e,t,i,n),t.child;case 11:return Ea(e,t,t.type,t.pendingProps,n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,yr(0,t.type,i.value),Ta(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Sr(t),i=i(r=_r(r)),t.flags|=1,Ta(e,t,i,n),t.child;case 14:return Ia(e,t,t.type,t.pendingProps,n);case 15:return Ua(e,t,t.type,t.pendingProps,n);case 19:return Wa(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Va(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=ji(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Fa(e,t,n);case 24:return Sr(t),i=_r(Fr),null===e?(null===(r=Hr())&&(r=iu,s=Dr(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},ns(t),yr(0,Fr,r)):(!!(e.lanes&n)&&(is(e,t),cs(t,null,null,n),us()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),yr(0,Fr,i)):(i=s.cache,yr(0,Fr,i),i!==r.cache&&Cr(t,[Fr],n,!0))),Ta(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!PA(t)){if(null!==(t=ra.current)&&((4194048&su)===su?null!==sa:(62914560&su)!==su&&!(536870912&su)||t!==sa))throw Jr=Wr,Kr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,mu|=t)}function tl(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),br(Fr),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(dr(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,pr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:$(t),n=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Ja(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=H.current,dr(t)?cr(t):(e=bA(r,i,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if($(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Ja(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=H.current,dr(t))cr(t);else{switch(r=iA(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Fe]=t,e[De]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(eA(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Ja(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));if(e=V.current,dr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Xc(e.nodeValue,n)))||ur(t)}else(e=iA(e).createTextNode(i))[Fe]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=dr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[Fe]=t}else hr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=pr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(ua(t),t):(ua(t),null)}if(ua(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Qc(t.stateNode.containerInfo),nl(t),null;case 10:return br(t.type),nl(t),null;case 19:if(Q(ca),null===(r=t.memoizedState))return nl(t),null;if(i=!!(128&t.flags),null===(s=r.rendering))if(i)tl(r,!1);else{if(0!==du||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Aa(e))){for(t.flags|=128,tl(r,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ri(n,e),n=n.sibling;return P(ca,1&ca.current|2),t.child}e=e.sibling}null!==r.tail&&te()>Cu&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Aa(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!sr)return nl(t),null}else 2*te()-r.renderingStartTime>Cu&&536870912!==n&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ca.current,P(ca,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ua(t),ms(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&Q(Pr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),br(Fr),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(Fr),G(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(ca),null;case 4:return G(),null;case 10:return br(t.type),null;case 22:case 23:return ua(t),ms(),null!==e&&Q(Pr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return br(Fr),null;default:return null}}function sl(e,t){switch(nr(t),t.tag){case 3:br(Fr),G();break;case 26:case 27:case 5:$(t);break;case 4:G();break;case 13:ua(t);break;case 19:Q(ca);break;case 10:br(t.type);break;case 22:case 23:ua(t),ms(),null!==e&&Q(Pr);break;case 24:br(Fr)}}function ol(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,o=n.inst;i=s(),o.destroy=i}n=n.next}while(n!==r)}}catch(e){cc(t,t.return,e)}}function al(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var s=r.next;i=s;do{if((i.tag&e)===e){var o=i.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,r=t;var l=n,u=a;try{u()}catch(e){cc(r,l,e)}}}i=i.next}while(i!==s)}}catch(e){cc(t,t.return,e)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(t){cc(e,e.return,t)}}}function ul(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){cc(e,t,n)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"==typeof n?e.refCleanup=n(i):n.current=i}}catch(n){cc(e,t,n)}}function Al(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(n){cc(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){cc(e,t,n)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(t){cc(e,e.return,t)}}function hl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,A=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(p)||Jc(e,t,p,null,i,d)}}for(var h in i){var p=i[h];if(d=n[h],i.hasOwnProperty(h)&&(null!=p||null!=d))switch(h){case"type":s=p;break;case"name":r=p;break;case"checked":c=p;break;case"defaultChecked":A=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Jc(e,t,h,p,i,d)}}return void gt(e,a,l,u,c,A,s,r);case"select":for(s in p=a=l=h=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(s)||Jc(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(null!=s||null!=u))switch(r){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Jc(e,t,r,s,i,u)}return t=l,n=a,i=p,void(null!=h?yt(e,!!n,h,!1):!!i!=!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=h=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Jc(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(null!=r||null!=s))switch(a){case"value":h=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==s&&Jc(e,t,a,r,i,s)}return void bt(e,h,p);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!i.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Jc(e,t,f,null,i,h);for(u in i)if(h=i[u],p=n[u],i.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))if("selected"===u)e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h;else Jc(e,t,u,h,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!i.hasOwnProperty(g)&&Jc(e,t,g,null,i,h);for(c in i)if(h=i[c],p=n[c],i.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Jc(e,t,c,h,i,p)}return;default:if(_t(t)){for(var m in n)h=n[m],n.hasOwnProperty(m)&&void 0!==h&&!i.hasOwnProperty(m)&&Zc(e,t,m,void 0,i,h);for(A in i)h=i[A],p=n[A],!i.hasOwnProperty(A)||h===p||void 0===h&&void 0===p||Zc(e,t,A,h,i,p);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!i.hasOwnProperty(v)&&Jc(e,t,v,null,i,h);for(d in i)h=i[d],p=n[d],!i.hasOwnProperty(d)||h===p||null==h&&null==p||Jc(e,t,d,h,i,p)}(i,e.type,n,t),i[De]=t}catch(t){cc(e,e.return,t)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hA(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hA(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Yc));else if(4!==i&&(27===i&&hA(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function ml(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&hA(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eA(t,i,n),t[Fe]=e,t[De]=n}catch(t){cc(e,e.return,t)}}var yl=!1,bl=!1,wl=!1,Cl="function"==typeof WeakSet?WeakSet:Set,xl=null;function Bl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&i&&ol(5,n);break;case 1:if(Ml(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){cc(n,n.return,e)}else{var r=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){cc(n,n.return,e)}}64&i&&ll(n),512&i&&cl(n,n.return);break;case 3:if(Ml(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(e){cc(n,n.return,e)}}break;case 27:null===t&&4&i&&vl(n);case 26:case 5:Ml(e,n),null===t&&4&i&&dl(n),512&i&&cl(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&i&&Il(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=pc.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||bl,r=yl;var s=bl;yl=i,(bl=t)&&!s?Rl(e,n,!!(8772&n.subtreeFlags)):Ml(e,n),yl=r,bl=s}break;case 30:break;default:Ml(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,kl=!1;function Tl(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(Ae&&"function"==typeof Ae.onCommitFiberUnmount)try{Ae.onCommitFiberUnmount(ce,n)}catch(e){}switch(n.tag){case 26:bl||Al(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||Al(n,t);var i=_l,r=kl;hA(n.type)&&(_l=n.stateNode,kl=!1),Tl(e,t,n),wA(n.stateNode),_l=i,kl=r;break;case 5:bl||Al(n,t);case 6:if(i=_l,r=kl,_l=null,Tl(e,t,n),kl=r,null!==(_l=i))if(kl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(e){cc(n,t,e)}else try{_l.removeChild(n.stateNode)}catch(e){cc(n,t,e)}break;case 18:null!==_l&&(kl?(pA(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),kd(e)):pA(_l,n.stateNode));break;case 4:i=_l,r=kl,_l=n.stateNode.containerInfo,kl=!0,Tl(e,t,n),_l=i,kl=r;break;case 0:case 11:case 14:case 15:bl||al(2,n,t),bl||al(4,n,t),Tl(e,t,n);break;case 1:bl||(Al(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&ul(n,t,i)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:bl=(i=bl)||null!==n.memoizedState,Tl(e,t,n),bl=i;break;default:Tl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{kd(e)}catch(e){cc(t,t.return,e)}}function Ul(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Cl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Cl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var i=fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}function Fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(hA(l.type)){_l=l.stateNode,kl=!1;break e}break;case 5:_l=l.stateNode,kl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===_l)throw Error(o(160));El(s,a,r),_l=null,kl=!1,null!==(s=r.alternate)&&(s.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ll(t,e),t=t.sibling}var Dl=null;function Ll(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fl(t,e),Ol(e),4&i&&(al(3,e,e.return),ol(3,e),al(5,e,e.return));break;case 1:Fl(t,e),Ol(e),512&i&&(bl||null===n||Al(n,n.return)),64&i&&yl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Dl;if(Fl(t,e),Ol(e),512&i&&(bl||null===n||Al(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(s=r.getElementsByTagName("title")[0])||s[Re]||s[Fe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),eA(s,i,n),s[Fe]=e,ze(s),i=s;break e;case"link":var a=RA("link","href",r).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}eA(s=r.createElement(i),i,n),r.head.appendChild(s);break;case"meta":if(a=RA("meta","content",r).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}eA(s=r.createElement(i),i,n),r.head.appendChild(s);break;default:throw Error(o(468,i))}s[Fe]=e,ze(s),i=s}e.stateNode=i}else QA(r,e.type,e.stateNode);else e.stateNode=LA(r,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?QA(r,e.type,e.stateNode):LA(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Fl(t,e),Ol(e),512&i&&(bl||null===n||Al(n,n.return)),null!==n&&4&i&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Fl(t,e),Ol(e),512&i&&(bl||null===n||Al(n,n.return)),32&e.flags){r=e.stateNode;try{Ct(r,"")}catch(t){cc(e,e.return,t)}}4&i&&null!=e.stateNode&&hl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(wl=!0);break;case 6:if(Fl(t,e),Ol(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(t){cc(e,e.return,t)}}break;case 3:if(jA=null,r=Dl,Dl=BA(t.containerInfo),Fl(t,e),Dl=r,Ol(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{kd(t.containerInfo)}catch(t){cc(e,e.return,t)}wl&&(wl=!1,Nl(e));break;case 4:i=Dl,Dl=BA(e.stateNode.containerInfo),Fl(t,e),Ol(e),Dl=i;break;case 12:default:Fl(t,e),Ol(e);break;case 13:Fl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wu=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ul(e,i)));break;case 22:r=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=yl,A=bl;if(yl=c||r,bl=A||u,Fl(t,e),bl=A,yl=c,Ol(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||u||yl||bl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,r)"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,h=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(e){cc(u,u.return,e)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(e){cc(u,u.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Ul(e,n))));break;case 19:Fl(t,e),Ol(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ul(e,i)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(pl(i)){n=i;break}i=i.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode;ml(e,fl(e),r);break;case 5:var s=n.stateNode;32&n.flags&&(Ct(s,""),n.flags&=-33),ml(e,fl(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,fl(e),a);break;default:throw Error(o(161))}}catch(t){cc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Nl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Nl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Bl(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),jl(t);break;case 1:Al(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&ul(t,t.return,n),jl(t);break;case 27:wA(t.stateNode);case 26:case 5:Al(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function Rl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Rl(r,s,n),ol(4,s);break;case 1:if(Rl(r,s,n),"function"==typeof(r=(i=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){cc(i,i.return,e)}if(null!==(r=(i=s).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)As(l[r],a)}catch(e){cc(i,i.return,e)}}n&&64&o&&ll(s),cl(s,s.return);break;case 27:vl(s);case 26:case 5:Rl(r,s,n),n&&null===i&&4&o&&dl(s),cl(s,s.return);break;case 12:Rl(r,s,n);break;case 13:Rl(r,s,n),n&&4&o&&Il(r,s);break;case 22:null===s.memoizedState&&Rl(r,s,n),cl(s,s.return);break;case 30:break;default:Rl(r,s,n)}t=t.sibling}}function Ql(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Lr(n))}function Pl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lr(e))}function Hl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,i),t=t.sibling}function ql(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,i),2048&r&&ol(9,t);break;case 1:case 13:default:Hl(e,t,n,i);break;case 3:Hl(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Lr(e)));break;case 12:if(2048&r){Hl(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"==typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){cc(t,t.return,e)}}else Hl(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Hl(e,t,n,i):zl(e,t):2&s._visibility?Hl(e,t,n,i):(s._visibility|=2,Vl(e,t,n,i,!!(10256&t.subtreeFlags))),2048&r&&Ql(o,t);break;case 24:Hl(e,t,n,i),2048&r&&Pl(t.alternate,t)}}function Vl(e,t,n,i,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,l=i,u=o.flags;switch(o.tag){case 0:case 11:case 15:Vl(s,o,a,l,r),ol(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?Vl(s,o,a,l,r):zl(s,o):(c._visibility|=2,Vl(s,o,a,l,r)),r&&2048&u&&Ql(o.alternate,o);break;case 24:Vl(s,o,a,l,r),r&&2048&u&&Pl(o.alternate,o);break;default:Vl(s,o,a,l,r)}t=t.sibling}}function zl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:zl(n,i),2048&r&&Ql(i.alternate,i);break;case 24:zl(n,i),2048&r&&Pl(i.alternate,i);break;default:zl(n,i)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Wl(e),e=e.sibling}function Wl(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===HA)throw Error(o(475));var i=HA;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var r=EA(n.href),s=e.querySelector(IA(r));if(s)return null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=VA.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,void ze(s);s=e.ownerDocument||e,n=UA(n),(r=CA.get(r))&&NA(n,r),ze(s=s.createElement("link"));var a=s;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),eA(s,"link",n),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=VA.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Dl;Dl=BA(e.stateNode.containerInfo),Gl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];xl=i,Zl(i,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Xl(e)}}function Jl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];xl=i,Zl(i,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Lr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,xl=i;else e:for(n=e;null!==xl;){var r=(i=xl).sibling,s=i.return;if(Sl(i),i===n){xl=null;break e}if(null!==r){r.return=s,xl=r;break e}xl=s}}}var eu={getCacheForType:function(e){var t=_r(Fr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"==typeof WeakMap?WeakMap:Map,nu=0,iu=null,ru=null,su=0,ou=0,au=null,lu=!1,uu=!1,cu=!1,Au=0,du=0,hu=0,pu=0,fu=0,gu=0,mu=0,vu=null,yu=null,bu=!1,wu=0,Cu=1/0,xu=null,Bu=null,Su=0,_u=null,ku=null,Tu=0,Eu=0,Iu=null,Uu=null,Fu=0,Du=null;function Lu(){if(2&nu&&0!==su)return su&-su;if(null!==L.T){return 0!==Mr?Mr:Ec()}return Ie()}function Ou(){0===gu&&(gu=536870912&su&&!sr?536870912:Ce());var e=ra.current;return null!==e&&(e.flags|=32),gu}function Nu(e,t,n){(e!==iu||2!==ou&&9!==ou)&&null===e.cancelPendingCommit||(qu(e,0),Qu(e,su,gu,!1)),Se(e,n),2&nu&&e===iu||(e===iu&&(!(2&nu)&&(pu|=n),4===du&&Qu(e,su,gu,!1)),Cc(e))}function Mu(e,t,n){if(6&nu)throw Error(o(327));for(var i=!n&&!(124&t)&&!(t&e.expiredLanes)||be(e,t),r=i?function(e,t){var n=nu;nu|=2;var i=zu(),r=Ku();iu!==e||su!==t?(xu=null,Cu=te()+500,qu(e,t)):uu=be(e,t);e:for(;;)try{if(0!==ou&&null!==ru){t=ru;var s=au;t:switch(ou){case 1:ou=0,au=null,Zu(e,t,s,1);break;case 2:case 9:if($r(s)){ou=0,au=null,Ju(t);break}t=function(){2!==ou&&9!==ou||iu!==e||(ou=7),Cc(e)},s.then(t,t);break e;case 3:ou=7;break e;case 4:ou=5;break e;case 7:$r(s)?(ou=0,au=null,Ju(t)):(ou=0,au=null,Zu(e,t,s,7));break;case 5:var a=null;switch(ru.tag){case 26:a=ru.memoizedState;case 5:case 27:var l=ru;if(!a||PA(a)){ou=0,au=null;var u=l.sibling;if(null!==u)ru=u;else{var c=l.return;null!==c?(ru=c,ec(c)):ru=null}break t}}ou=0,au=null,Zu(e,t,s,5);break;case 6:ou=0,au=null,Zu(e,t,s,6);break;case 8:Hu(),du=6;break e;default:throw Error(o(462))}}Xu();break}catch(t){Vu(e,t)}return vr=mr=null,L.H=i,L.A=r,nu=n,null!==ru?0:(iu=null,su=0,Ti(),du)}(e,t):Wu(e,t,!0),s=i;;){if(0===r){uu&&!i&&Qu(e,t,0,!1);break}if(n=e.current.alternate,!s||Ru(n)){if(2===r){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;r=vu;var u=l.current.memoizedState.isDehydrated;if(u&&(qu(l,a).flags|=256),2!==(a=Wu(l,a,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=s,pu|=s,r=4;break e}s=yu,yu=r,null!==s&&(null===yu?yu=s:yu.push.apply(yu,s))}r=a}if(s=!1,2!==r)continue}}if(1===r){qu(e,0),Qu(e,t,0,!0);break}e:{switch(i=e,s=r){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Qu(i,t,gu,!lu);break e;case 2:yu=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(r=wu+300-te())){if(Qu(i,t,gu,!lu),0!==ye(i,0,!0))break e;i.timeoutHandle=lA(ju.bind(null,i,n,yu,xu,bu,t,gu,pu,mu,lu,s,2,-0,0),r)}else ju(i,n,yu,xu,bu,t,gu,pu,mu,lu,s,0,-0,0)}break}r=Wu(e,t,!1),s=!1}Cc(e)}function ju(e,t,n,i,r,s,a,l,u,c,A,d,h,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||!(16785408&~d))&&(HA={stylesheets:null,count:0,unsuspend:qA},Wl(t),null!==(d=function(){if(null===HA)throw Error(o(475));var e=HA;return e.stylesheets&&0===e.count&&KA(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&KA(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nc.bind(null,e,t,s,n,i,r,a,l,u,A,1,h,p)),void Qu(e,s,a,!c);nc(e,t,s,n,i,r,a,l,u)}function Ru(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!$n(s(),r))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qu(e,t,n,i){t&=~fu,t&=~pu,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-he(r),o=1<<s;i[s]=-1,r&=~o}0!==n&&_e(e,n,t)}function Pu(){return!!(6&nu)||(xc(0,!1),!1)}function Hu(){if(null!==ru){if(0===ou)var e=ru.return;else vr=mr=null,Ms(e=ru),$o=null,Xo=0,e=ru;for(;null!==e;)sl(e.alternate,e),e=e.return;ru=null}}function qu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,uA(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hu(),iu=e,ru=n=ji(e.current,null),su=t,ou=0,au=null,lu=!1,uu=be(e,t),cu=!1,mu=gu=fu=pu=hu=du=0,yu=vu=null,bu=!1,8&t&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-he(i),s=1<<r;t|=e[r],i&=~s}return Au=t,Ti(),n}function Vu(e,t){ys=null,L.H=zo,t===zr||t===Gr?(t=Zr(),ou=3):t===Kr?(t=Zr(),ou=4):ou=t===_a?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,au=t,null===ru&&(du=1,wa(e,Bi(t,e.current)))}function zu(){var e=L.H;return L.H=zo,null===e?zo:e}function Ku(){var e=L.A;return L.A=eu,e}function Gu(){du=4,lu||(4194048&su)!==su&&null!==ra.current||(uu=!0),!(134217727&hu)&&!(134217727&pu)||null===iu||Qu(iu,su,gu,!1)}function Wu(e,t,n){var i=nu;nu|=2;var r=zu(),s=Ku();iu===e&&su===t||(xu=null,qu(e,t)),t=!1;var o=du;e:for(;;)try{if(0!==ou&&null!==ru){var a=ru,l=au;switch(ou){case 8:Hu(),o=6;break e;case 3:case 2:case 9:case 6:null===ra.current&&(t=!0);var u=ou;if(ou=0,au=null,Zu(e,a,l,u),n&&uu){o=0;break e}break;default:u=ou,ou=0,au=null,Zu(e,a,l,u)}}$u(),o=du;break}catch(t){Vu(e,t)}return t&&e.shellSuspendCounter++,vr=mr=null,nu=i,L.H=r,L.A=s,null===ru&&(iu=null,su=0,Ti()),o}function $u(){for(;null!==ru;)Yu(ru)}function Xu(){for(;null!==ru&&!Z();)Yu(ru)}function Yu(e){var t=Ya(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?ec(e):ru=t}function Ju(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Na(n,t,t.pendingProps,t.type,void 0,su);break;case 11:t=Na(n,t,t.pendingProps,t.type.render,t.ref,su);break;case 5:Ms(t);default:sl(n,t),t=Ya(n,t=ru=Ri(t,Au),Au)}e.memoizedProps=e.pendingProps,null===t?ec(e):ru=t}function Zu(e,t,n,i){vr=mr=null,Ms(t),$o=null,Xo=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&xr(t,n,r,!0),null!==(n=ra.current)){switch(n.tag){case 13:return null===sa?Gu():null===n.alternate&&0===du&&(du=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Wr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Ac(e,i,r)),!1;case 22:return n.flags|=65536,i===Wr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Ac(e,i,r)),!1}throw Error(o(435,n.tag))}return Ac(e,i,r),Gu(),!1}if(sr)return null!==(t=ra.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lr&&fr(Bi(e=Error(o(422),{cause:i}),n))):(i!==lr&&fr(Bi(t=Error(o(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=Bi(i,n),as(e,r=xa(e.stateNode,i,r)),4!==du&&(du=2)),!1;var s=Error(o(520),{cause:i});if(s=Bi(s,n),null===vu?vu=[s]:vu.push(s),4!==du&&(du=2),null===t)return!0;i=Bi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,as(n,e=xa(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Bu&&Bu.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,Sa(r=Ba(r),e,n,i),as(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,su))return du=1,wa(e,Bi(n,e.current)),void(ru=null)}catch(t){if(null!==r)throw ru=r,t;return du=1,wa(e,Bi(n,e.current)),void(ru=null)}32768&t.flags?(sr||1===i?e=!0:uu||536870912&su?e=!1:(lu=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=ra.current)&&13===i.tag&&(i.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(32768&t.flags)return void tc(t,lu);e=t.return;var n=il(t.alternate,t,Au);if(null!==n)return void(ru=n);if(null!==(t=t.sibling))return void(ru=t);ru=t=e}while(null!==t);0===du&&(du=5)}function tc(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(ru=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ru=e);ru=e=n}while(null!==e);du=6,ru=null}function nc(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do{ac()}while(0!==Su);if(6&nu)throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,i,r,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-he(n),A=1<<c;a[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var h=d[c];null!==h&&(h.lane&=-536870913)}n&=~A}0!==i&&_e(e,i,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=ki,a,l,u),e===iu&&(ru=iu=null,su=0),ku=t,_u=e,Tu=n,Eu=s,Iu=r,Uu=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Y(se,(function(){return lc(),null}))):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=L.T,L.T=null,r=O.p,O.p=2,a=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,tA=nd,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,u=-1,c=0,A=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==s||0!==i&&3!==d.nodeType||(u=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===r&&(l=a),h===s&&++A===i&&(u=a),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nA={focusedElem:e,selectionRange:n},nd=!1,xl=t;null!==xl;)if(e=(t=xl).child,1024&t.subtreeFlags&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(s=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var f=ga(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(f,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(e){cc(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))fA(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fA(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nu=a,O.p=r,L.T=i}}Su=1,ic(),rc(),sc()}}function ic(){if(1===Su){Su=0;var e=_u,t=ku,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=L.T,L.T=null;var i=O.p;O.p=2;var r=nu;nu|=4;try{Ll(t,e);var s=nA,o=ei(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&ti(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var A=a.ownerDocument||document,d=A&&A.defaultView||window;if(d.getSelection){var h=d.getSelection(),p=a.textContent.length,f=Math.min(l.start,p),g=void 0===l.end?f:Math.min(l.end,p);!h.extend&&f>g&&(o=g,g=f,f=o);var m=Jn(a,f),v=Jn(a,g);if(m&&v&&(1!==h.rangeCount||h.anchorNode!==m.node||h.anchorOffset!==m.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var y=A.createRange();y.setStart(m.node,m.offset),h.removeAllRanges(),f>g?(h.addRange(y),h.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),h.addRange(y))}}}}for(A=[],h=a;h=h.parentNode;)1===h.nodeType&&A.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<A.length;a++){var b=A[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nd=!!tA,nA=tA=null}finally{nu=r,O.p=i,L.T=n}}e.current=t,Su=2}}function rc(){if(2===Su){Su=0;var e=_u,t=ku,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=L.T,L.T=null;var i=O.p;O.p=2;var r=nu;nu|=4;try{Bl(e,t.alternate,t)}finally{nu=r,O.p=i,L.T=n}}Su=3}}function sc(){if(4===Su||3===Su){Su=0,ee();var e=_u,t=ku,n=Tu,i=Uu;10256&t.subtreeFlags||10256&t.flags?Su=5:(Su=0,ku=_u=null,oc(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Bu=null),Ee(n),t=t.stateNode,Ae&&"function"==typeof Ae.onCommitFiberRoot)try{Ae.onCommitFiberRoot(ce,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==i){t=L.T,r=O.p,O.p=2,L.T=null;try{for(var s=e.onRecoverableError,o=0;o<i.length;o++){var a=i[o];s(a.value,{componentStack:a.stack})}}finally{L.T=t,O.p=r}}3&Tu&&ac(),Cc(e),r=e.pendingLanes,4194090&n&&42&r?e===Du?Fu++:(Fu=0,Du=e):Fu=0,xc(0,!1)}}function oc(e,t){0==(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Lr(t)))}function ac(e){return ic(),rc(),sc(),lc()}function lc(){if(5!==Su)return!1;var e=_u,t=Eu;Eu=0;var n=Ee(Tu),i=L.T,r=O.p;try{O.p=32>n?32:n,L.T=null,n=Iu,Iu=null;var s=_u,a=Tu;if(Su=0,ku=_u=null,Tu=0,6&nu)throw Error(o(331));var l=nu;if(nu|=4,Yl(s.current),ql(s,s.current,a,n),nu=l,xc(0,!1),Ae&&"function"==typeof Ae.onPostCommitFiberRoot)try{Ae.onPostCommitFiberRoot(ce,s)}catch(e){}return!0}finally{O.p=r,L.T=i,oc(e,t)}}function uc(e,t,n){t=Bi(n,t),null!==(e=ss(e,t=xa(e.stateNode,t,2),2))&&(Se(e,2),Cc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Bu||!Bu.has(i))){e=Bi(n,e),null!==(i=ss(t,n=Ba(2),2))&&(Sa(n,i,t,e),Se(i,2),Cc(i));break}}t=t.return}}function Ac(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tu;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(cu=!0,r.add(n),e=dc.bind(null,e,t,n),t.then(e,e))}function dc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,iu===e&&(su&n)===n&&(4===du||3===du&&(62914560&su)===su&&300>te()-wu?!(2&nu)&&qu(e,0):fu|=n,mu===su&&(mu=0)),Cc(e)}function hc(e,t){0===t&&(t=xe()),null!==(e=Ui(e,t))&&(Se(e,t),Cc(e))}function pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}function fc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),hc(e,n)}var gc=null,mc=null,vc=!1,yc=!1,bc=!1,wc=0;function Cc(e){e!==mc&&null===e.next&&(null===mc?gc=mc=e:mc=mc.next=e),yc=!0,vc||(vc=!0,AA((function(){6&nu?Y(ie,Bc):Sc()})))}function xc(e,t){if(!bc&&yc){bc=!0;do{for(var n=!1,i=gc;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var s=0;else{var o=i.suspendedLanes,a=i.pingedLanes;s=(1<<31-he(42|e)+1)-1,s=201326741&(s&=r&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Tc(i,s))}else s=su,!(3&(s=ye(i,i===iu?s:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||be(i,s)||(n=!0,Tc(i,s));i=i.next}}while(n);bc=!1}}function Bc(){Sc()}function Sc(){yc=vc=!1;var e=0;0!==wc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==aA&&(aA=e,!0);return aA=null,!1}()&&(e=wc),wc=0);for(var t=te(),n=null,i=gc;null!==i;){var r=i.next,s=_c(i,t);0===s?(i.next=null,null===n?gc=r:n.next=r,null===r&&(mc=n)):(n=i,(0!==e||3&s)&&(yc=!0)),i=r}xc(e,!1)}function _c(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-he(s),a=1<<o,l=r[o];-1===l?a&n&&!(a&i)||(r[o]=we(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=su,n=ye(e,e===(t=iu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===ou||9===ou)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&J(i),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&J(i),Ee(n)){case 2:case 8:n=re;break;case 32:default:n=se;break;case 268435456:n=ae}return i=kc.bind(null,e),n=Y(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&J(i),e.callbackPriority=2,e.callbackNode=null,2}function kc(e,t){if(0!==Su&&5!==Su)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ac()&&e.callbackNode!==n)return null;var i=su;return 0===(i=ye(e,e===iu?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mu(e,i,t),_c(e,te()),null!=e.callbackNode&&e.callbackNode===n?kc.bind(null,e):null)}function Tc(e,t){if(ac())return null;Mu(e,t,!0)}function Ec(){return 0===wc&&(wc=Ce()),wc}function Ic(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Et(""+e)}function Uc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Fc=0;Fc<wi.length;Fc++){var Dc=wi[Fc];Ci(Dc.toLowerCase(),"on"+(Dc[0].toUpperCase()+Dc.slice(1)))}Ci(hi,"onAnimationEnd"),Ci(pi,"onAnimationIteration"),Ci(fi,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(gi,"onTransitionRun"),Ci(mi,"onTransitionStart"),Ci(vi,"onTransitionCancel"),Ci(yi,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function Nc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;s=a,r.currentTarget=u;try{s(r)}catch(e){ma(e)}r.currentTarget=null,s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;s=a,r.currentTarget=u;try{s(r)}catch(e){ma(e)}r.currentTarget=null,s=l}}}}function Mc(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var i=e+"__bubble";n.has(i)||(Pc(t,e,2,!1),n.add(i))}function jc(e,t,n){var i=0;t&&(i|=4),Pc(n,e,i,t)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[Rc]){e[Rc]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Oc.has(t)||jc(t,!1,e),jc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rc]||(t[Rc]=!0,jc("selectionchange",!1,t))}}function Pc(e,t,n,i){switch(ud(t)){case 2:var r=id;break;case 8:r=rd;break;default:r=sd}n=r.bind(null,t,n,e),r=void 0,!Rt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hc(e,t,n,i,r){var s=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r)break;if(4===o)for(o=i.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==a;){if(null===(o=Pe(a)))return;if(5===(u=o.tag)||6===u||26===u||27===u){i=s=o;continue e}a=a.parentNode}}i=i.return}Nt((function(){var i=s,r=Ut(n),o=[];e:{var a=bi.get(e);if(void 0!==a){var u=Zt,c=e;switch(e){case"keypress":if(0===zt(n))break e;case"keydown":case"keyup":u=fn;break;case"focusin":c="focus",u=on;break;case"focusout":c="blur",u=on;break;case"beforeblur":case"afterblur":u=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=mn;break;case hi:case pi:case fi:u=an;break;case yi:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=yn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=bn}var A=!!(4&t),d=!A&&("scroll"===e||"scrollend"===e),h=A?null!==a?a+"Capture":null:a;A=[];for(var p,f=i;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=Mt(f,h))&&A.push(qc(f,g,p)),d)break;f=f.return}0<A.length&&(a=new u(a,c,null,n,r),o.push({event:a,listeners:A}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===It||!(c=n.relatedTarget||n.fromElement)||!Pe(c)&&!c[Le])&&(u||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=i,null!==(c=(c=n.relatedTarget||n.toElement)?Pe(c):null)&&(d=l(c),A=c.tag,c!==d||5!==A&&27!==A&&6!==A)&&(c=null)):(u=null,c=i),u!==c)){if(A=rn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(A=gn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==u?a:qe(u),p=null==c?a:qe(c),(a=new A(g,f+"leave",u,n,r)).target=d,a.relatedTarget=p,g=null,Pe(r)===i&&((A=new A(h,f+"enter",c,n,r)).target=p,A.relatedTarget=d,g=A),d=g,u&&c)e:{for(h=c,f=0,p=A=u;p;p=zc(p))f++;for(p=0,g=h;g;g=zc(g))p++;for(;0<f-p;)A=zc(A),f--;for(;0<p-f;)h=zc(h),p--;for(;f--;){if(A===h||null!==h&&A===h.alternate)break e;A=zc(A),h=zc(h)}A=null}else A=null;null!==u&&Kc(o,a,u,A,!1),null!==c&&null!==d&&Kc(o,d,c,A,!0)}if("select"===(u=(a=i?qe(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var m=jn;else if(Fn(a))if(Rn)m=Wn;else{m=Kn;var v=zn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&_t(i.elementType)&&(m=jn):m=Gn;switch(m&&(m=m(e,i))?Dn(o,m,n,r):(v&&v(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&vt(a,"number",a.value)),v=i?qe(i):window,e){case"focusin":(Fn(v)||"true"===v.contentEditable)&&(ii=v,ri=i,si=null);break;case"focusout":si=ri=ii=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,ai(o,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":ai(o,n,r)}var y;if(Cn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else In?Tn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Sn&&"ko"!==n.locale&&(In||"onCompositionStart"!==b?"onCompositionEnd"===b&&In&&(y=Vt()):(Ht="value"in(Pt=r)?Pt.value:Pt.textContent,In=!0)),0<(v=Vc(i,b)).length&&(b=new un(b,e,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=En(n))&&(b.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(kn=!0,_n);case"textInput":return(e=t.data)===_n&&kn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!Cn&&Tn(e,t)?(e=Vt(),qt=Ht=Pt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Vc(i,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,r),o.push({event:v,listeners:b}),v.data=y)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var s=Ic((r[De]||null).action),o=i.submitter;o&&null!==(t=(t=o[De]||null)?Ic(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,i,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==wc){var e=o?Uc(r,o):new FormData(r);Uo(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"==typeof s&&(a.preventDefault(),e=o?Uc(r,o):new FormData(r),Uo(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(o,e,i,n,r)}Nc(o,t)}))}function qc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vc(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=Mt(e,n))&&i.unshift(qc(e,r,s)),null!=(r=Mt(e,t))&&i.push(qc(e,r,s))),3===e.tag)return i;e=e.return}return[]}function zc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kc(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===u||(l=u,r?null!=(u=Mt(n,s))&&o.unshift(qc(n,u,l)):r||null!=(u=Mt(n,s))&&o.push(qc(n,u,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gc=/\r\n?/g,Wc=/\u0000|\uFFFD/g;function $c(e){return("string"==typeof e?e:""+e).replace(Gc,"\n").replace(Wc,"")}function Xc(e,t){return t=$c(t),$c(e)===t}function Yc(){}function Jc(e,t,n,i,r,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Ct(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Ct(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":St(e,i,s);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Et(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&Jc(e,t,"name",r.name,r,null),Jc(e,t,"formEncType",r.formEncType,r,null),Jc(e,t,"formMethod",r.formMethod,r,null),Jc(e,t,"formTarget",r.formTarget,r,null)):(Jc(e,t,"encType",r.encType,r,null),Jc(e,t,"method",r.method,r,null),Jc(e,t,"target",r.target,r,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Et(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Yc);break;case"onScroll":null!=i&&Mc("scroll",e);break;case"onScrollEnd":null!=i&&Mc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Et(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Mc("beforetoggle",e),Mc("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=kt.get(n)||n,i)}}function Zc(e,t,n,i,r,s){switch(n){case"style":St(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Ct(e,i):("number"==typeof i||"bigint"==typeof i)&&Ct(e,""+i);break;case"onScroll":null!=i&&Mc("scroll",e);break;case"onScrollEnd":null!=i&&Mc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(s=null!=(s=e[De]||null)?s[n]:null)&&e.removeEventListener(t,s,r),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function eA(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mc("error",e),Mc("load",e);var i,r=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Jc(e,t,i,a,n,null)}}return s&&Jc(e,t,"srcSet",n.srcSet,n,null),void(r&&Jc(e,t,"src",n.src,n,null));case"input":Mc("invalid",e);var l=i=a=s=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var A=n[r];if(null!=A)switch(r){case"name":s=A;break;case"type":a=A;break;case"checked":u=A;break;case"defaultChecked":c=A;break;case"value":i=A;break;case"defaultValue":l=A;break;case"children":case"dangerouslySetInnerHTML":if(null!=A)throw Error(o(137,t));break;default:Jc(e,t,r,A,n,null)}}return mt(e,i,l,u,c,a,s,!1),void At(e);case"select":for(s in Mc("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:Jc(e,t,s,l,n,null)}return t=i,n=a,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=n&&yt(e,!!r,n,!0));case"textarea":for(a in Mc("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Jc(e,t,a,l,n,null)}return wt(e,r,s,i),void At(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))if("selected"===u)e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r;else Jc(e,t,u,r,n,null);return;case"dialog":Mc("beforetoggle",e),Mc("toggle",e),Mc("cancel",e),Mc("close",e);break;case"iframe":case"object":Mc("load",e);break;case"video":case"audio":for(r=0;r<Lc.length;r++)Mc(Lc[r],e);break;case"image":Mc("error",e),Mc("load",e);break;case"details":Mc("toggle",e);break;case"embed":case"source":case"link":Mc("error",e),Mc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Jc(e,t,c,r,n,null)}return;default:if(_t(t)){for(A in n)n.hasOwnProperty(A)&&(void 0!==(r=n[A])&&Zc(e,t,A,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Jc(e,t,l,r,n,null))}var tA=null,nA=null;function iA(e){return 9===e.nodeType?e:e.ownerDocument}function rA(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sA(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function oA(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aA=null;var lA="function"==typeof setTimeout?setTimeout:void 0,uA="function"==typeof clearTimeout?clearTimeout:void 0,cA="function"==typeof Promise?Promise:void 0,AA="function"==typeof queueMicrotask?queueMicrotask:void 0!==cA?function(e){return cA.resolve(null).then(e).catch(dA)}:lA;function dA(e){setTimeout((function(){throw e}))}function hA(e){return"head"===e}function pA(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<i&&8>i){n=i;var o=e.ownerDocument;if(1&n&&wA(o.documentElement),2&n&&wA(o.body),4&n)for(wA(n=o.head),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Re]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}if(0===r)return e.removeChild(s),void kd(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);kd(t)}function fA(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fA(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gA(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function mA(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vA=null;function yA(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bA(e,t,n){switch(t=iA(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wA(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var CA=new Map,xA=new Set;function BA(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var SA=O.d;O.d={f:function(){var e=SA.f(),t=Pu();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Do(t):SA.r(e)},D:function(e){SA.D(e),kA("dns-prefetch",e,null)},C:function(e,t){SA.C(e,t),kA("preconnect",e,t)},L:function(e,t,n){SA.L(e,t,n);var i=_A;if(i&&e&&t){var r='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+ft(n.imageSizes)+'"]')):r+='[href="'+ft(e)+'"]';var s=r;switch(t){case"style":s=EA(e);break;case"script":s=FA(e)}CA.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),CA.set(s,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(IA(s))||"script"===t&&i.querySelector(DA(s))||(eA(t=i.createElement("link"),"link",e),ze(t),i.head.appendChild(t)))}},m:function(e,t){SA.m(e,t);var n=_A;if(n&&e){var i=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=FA(e)}if(!CA.has(s)&&(e=d({rel:"modulepreload",href:e},t),CA.set(s,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(DA(s)))return}eA(i=n.createElement("link"),"link",e),ze(i),n.head.appendChild(i)}}},X:function(e,t){SA.X(e,t);var n=_A;if(n&&e){var i=Ve(n).hoistableScripts,r=FA(e),s=i.get(r);s||((s=n.querySelector(DA(r)))||(e=d({src:e,async:!0},t),(t=CA.get(r))&&MA(e,t),ze(s=n.createElement("script")),eA(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}},S:function(e,t,n){SA.S(e,t,n);var i=_A;if(i&&e){var r=Ve(i).hoistableStyles,s=EA(e);t=t||"default";var o=r.get(s);if(!o){var a={loading:0,preload:null};if(o=i.querySelector(IA(s)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=CA.get(s))&&NA(e,n);var l=o=i.createElement("link");ze(l),eA(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,OA(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:a},r.set(s,o)}}},M:function(e,t){SA.M(e,t);var n=_A;if(n&&e){var i=Ve(n).hoistableScripts,r=FA(e),s=i.get(r);s||((s=n.querySelector(DA(r)))||(e=d({src:e,async:!0,type:"module"},t),(t=CA.get(r))&&MA(e,t),ze(s=n.createElement("script")),eA(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}};var _A="undefined"==typeof document?null:document;function kA(e,t,n){var i=_A;if(i&&"string"==typeof t&&t){var r=ft(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),xA.has(r)||(xA.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(eA(t=i.createElement("link"),"link",e),ze(t),i.head.appendChild(t)))}}function TA(e,t,n,i){var r,s,a,l,u=(u=V.current)?BA(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=EA(n.href),(i=(n=Ve(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=EA(n.href);var c=Ve(u).hoistableStyles,A=c.get(e);if(A||(u=u.ownerDocument||u,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,A),(c=u.querySelector(IA(e)))&&!c._p&&(A.instance=c,A.state.loading=5),CA.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},CA.set(e,n),c||(r=u,s=e,a=n,l=A.state,r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),eA(s,"link",a),ze(s),r.head.appendChild(s))))),t&&null===i)throw Error(o(528,""));return A}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=FA(n),(i=(n=Ve(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function EA(e){return'href="'+ft(e)+'"'}function IA(e){return'link[rel="stylesheet"]['+e+"]"}function UA(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function FA(e){return'[src="'+ft(e)+'"]'}function DA(e){return"script[async]"+e}function LA(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return t.instance=i,ze(i),i;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return ze(i=(e.ownerDocument||e).createElement("style")),eA(i,"style",r),OA(i,n.precedence,e),t.instance=i;case"stylesheet":r=EA(n.href);var s=e.querySelector(IA(r));if(s)return t.state.loading|=4,t.instance=s,ze(s),s;i=UA(n),(r=CA.get(r))&&NA(i,r),ze(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),eA(s,"link",i),t.state.loading|=4,OA(s,n.precedence,e),t.instance=s;case"script":return s=FA(n.src),(r=e.querySelector(DA(s)))?(t.instance=r,ze(r),r):(i=n,(r=CA.get(s))&&MA(i=d({},n),r),ze(r=(e=e.ownerDocument||e).createElement("script")),eA(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,OA(i,n.precedence,e));return t.instance}function OA(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,o=0;o<i.length;o++){var a=i[o];if(a.dataset.precedence===t)s=a;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function NA(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function MA(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jA=null;function RA(e,t,n){if(null===jA){var i=new Map,r=jA=new Map;r.set(n,i)}else(i=(r=jA).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Re]||s[Fe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=i.get(o);a?a.push(s):i.set(o,[s])}}return i}function QA(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function PA(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var HA=null;function qA(){}function VA(){if(this.count--,0===this.count)if(this.stylesheets)KA(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var zA=null;function KA(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,zA=new Map,t.forEach(GA,e),zA=null,VA.call(e))}function GA(e,t){if(!(4&t.state.loading)){var n=zA.get(e);if(n)var i=n.get(null);else{n=new Map,zA.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var o=r[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}o=(r=t.instance).getAttribute("data-precedence"),(s=n.get(o)||i)===i&&n.set(null,r),n.set(o,r),this.count++,i=VA.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var WA={$$typeof:w,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function $A(e,t,n,i,r,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function XA(e,t,n,i,r,s,o,a,l,u,c,A){return e=new $A(e,t,n,o,a,l,u,A),t=1,!0===s&&(t|=24),s=Ni(3,null,null,t),e.current=s,s.stateNode=e,(t=Dr()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},ns(s),e}function YA(e){return e?e=Li:Li}function JA(e,t,n,i,r,s){r=YA(r),null===i.context?i.context=r:i.pendingContext=r,(i=rs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(n=ss(e,i,t))&&(Nu(n,0,t),os(n,e,t))}function ZA(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){ZA(e,t),(e=e.alternate)&&ZA(e,t)}function td(e){if(13===e.tag){var t=Ui(e,67108864);null!==t&&Nu(t,0,67108864),ed(e,67108864)}}var nd=!0;function id(e,t,n,i){var r=L.T;L.T=null;var s=O.p;try{O.p=2,sd(e,t,n,i)}finally{O.p=s,L.T=r}}function rd(e,t,n,i){var r=L.T;L.T=null;var s=O.p;try{O.p=8,sd(e,t,n,i)}finally{O.p=s,L.T=r}}function sd(e,t,n,i){if(nd){var r=od(i);if(null===r)Hc(e,t,i,ad,n),vd(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Ad=yd(Ad,e,t,n,i,r),!0;case"dragenter":return dd=yd(dd,e,t,n,i,r),!0;case"mouseover":return hd=yd(hd,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return pd.set(s,yd(pd.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,fd.set(s,yd(fd.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(vd(e,i),4&t&&-1<md.indexOf(e)){for(;null!==r;){var s=He(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ve(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-he(o);a.entanglements[1]|=l,o&=~l}Cc(s),!(6&nu)&&(Cu=te()+500,xc(0,!1))}}break;case 13:null!==(a=Ui(s,2))&&Nu(a,0,2),Pu(),ed(s,2)}if(null===(s=od(i))&&Hc(e,t,i,ad,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Hc(e,t,i,null,n)}}function od(e){return ld(e=Ut(e))}var ad=null;function ld(e){if(ad=null,null!==(e=Pe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ad=e,null}function ud(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case re:return 8;case se:case oe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var cd=!1,Ad=null,dd=null,hd=null,pd=new Map,fd=new Map,gd=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":Ad=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":hd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(t.pointerId)}}function yd(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=He(t))&&td(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function bd(e){var t=Pe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,(function(){if(13===n.tag){var e=Lu();e=Te(e);var t=Ui(n,e);null!==t&&Nu(t,0,e),ed(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&td(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);It=i,n.target.dispatchEvent(i),It=null,t.shift()}return!0}function Cd(e,t,n){wd(e)&&n.delete(t)}function xd(){cd=!1,null!==Ad&&wd(Ad)&&(Ad=null),null!==dd&&wd(dd)&&(dd=null),null!==hd&&wd(hd)&&(hd=null),pd.forEach(Cd),fd.forEach(Cd)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xd)))}var Sd=null;function _d(e){Sd!==e&&(Sd=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){Sd===e&&(Sd=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!=typeof i){if(null===ld(i||n))continue;break}var s=He(n);null!==s&&(e.splice(t,3),t-=3,Uo(s,{pending:!0,data:r,method:n.method,action:i},i,r))}})))}function kd(e){function t(t){return Bd(t,e)}null!==Ad&&Bd(Ad,e),null!==dd&&Bd(dd,e),null!==hd&&Bd(hd,e),pd.forEach(t),fd.forEach(t);for(var n=0;n<gd.length;n++){var i=gd[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)bd(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],o=r[De]||null;if("function"==typeof s)o||_d(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(r=s,o=s[De]||null)a=o.formAction;else if(null!==ld(r))continue}else a=o.action;"function"==typeof a?n[i+1]=a:(n.splice(i,3),i-=3),_d(n)}}}function Td(e){this._internalRoot=e}function Ed(e){this._internalRoot=e}Ed.prototype.render=Td.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));JA(t.current,Lu(),e,t,null,null)},Ed.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;JA(e.current,2,null,e,null,null),Pu(),t[Le]=null}},Ed.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&bd(e)}};var Id=r.version;if("19.1.0"!==Id)throw Error(o(527,Id,"19.1.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return c(r),e;if(s===i)return c(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=s;break}if(u===i){a=!0,i=r,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,i=r;break}if(u===i){a=!0,i=s,n=r;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?A(e):null)?null:e.stateNode};var Ud={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{ce=Fd.inject(Ud),Ae=Fd}catch(e){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,i="",r=va,s=ya,l=ba;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=XA(e,1,!1,null,0,n,i,r,s,l,0,null),e[Le]=t.current,Qc(e),new Td(t)}},6221:function(e,t,n){"use strict";var i=n(6540);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=u(n,t.crossOrigin),r="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=u(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=u(t.as,t.crossOrigin);o.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},5338:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=n(1247)},961:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){}}(),e.exports=n(6221)},9698:function(e,t){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var s in i={},t)"key"!==s&&(i[s]=t[s]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=r,t.jsxs=r},9869:function(e,t){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,f(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function B(e,t,i,r,s,o){return i=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:o}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return i[e]}))):t.toString(36);var n,i}function T(){}function E(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case i:c=!0;break;case d:return E((c=e._init)(e._payload),t,r,s,o)}}if(c)return o=o(e),c=""===s?"."+k(e,0):s,w(o)?(r="",null!=c&&(r=c.replace(_,"$&/")+"/"),E(o,t,r,"",(function(e){return e}))):null!=o&&(S(o)&&(l=o,u=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+c,o=B(l.type,u,void 0,0,0,l.props)),t.push(o)),1;c=0;var A,p=""===s?".":s+":";if(w(e))for(var f=0;f<e.length;f++)c+=E(s=e[f],t,r,a=p+k(s,f),o);else if("function"==typeof(f=null===(A=e)||"object"!=typeof A?null:"function"==typeof(A=h&&A[h]||A["@@iterator"])?A:null))for(e=f.call(e),f=0;!(s=e.next()).done;)c+=E(s=s.value,t,r,a=p+k(s,f++),o);else if("object"===a){if("function"==typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function I(e,t,n){if(null==e)return e;var i=[],r=0;return E(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function U(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function D(){}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=o,t.PureComponent=y,t.StrictMode=s,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var i=f({},e.props),r=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!x.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];i.children=o}return B(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,r={},s=null;if(null!=t)for(i in void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===r[i]&&(r[i]=o[i]);return B(e,s,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:U}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var i=e(),r=C.S;null!==r&&r(n,i),"object"==typeof i&&null!==i&&"function"==typeof i.then&&i.then(D,F)}catch(e){F(e)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=C.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.0"},6540:function(e,t,n){"use strict";e.exports=n(9869)},4848:function(e,t,n){"use strict";e.exports=n(9698)},4477:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<r&&0>s(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[a]=n,i=a);else{if(!(u<r&&0>s(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],A=1,d=null,h=3,p=!1,f=!1,g=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function C(e){if(g=!1,w(e),!f)if(null!==i(u))f=!0,B||(B=!0,x());else{var t=i(c);null!==t&&F(C,t.startTime-e)}}var x,B=!1,S=-1,_=5,k=-1;function T(){return!!m||!(t.unstable_now()-k<_)}function E(){if(m=!1,B){var e=t.unstable_now();k=e;var n=!0;try{e:{f=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=h;try{t:{for(w(e),d=i(u);null!==d&&!(d.expirationTime>e&&T());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){d.callback=a,w(e),n=!0;break t}d===i(u)&&r(u),w(e)}else r(u);d=i(u)}if(null!==d)n=!0;else{var l=i(c);null!==l&&F(C,l.startTime-e),n=!1}}break e}finally{d=null,h=s,p=!1}n=void 0}}finally{n?x():B=!1}}}if("function"==typeof b)x=function(){b(E)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,U=I.port2;I.port1.onmessage=E,x=function(){U.postMessage(null)}}else x=function(){v(E,0)};function F(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e||(_=0<e?Math.floor(1e3/e):5)},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:A++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===i(u)&&e===i(c)&&(g?(y(S),S=-1):g=!0,F(C,s-o))):(e.sortIndex=a,n(u,e),f||p||(f=!0,B||(B=!0,x()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},9982:function(e,t,n){"use strict";e.exports=n(4477)},5192:function(e,t,n){"use strict";n(3940),t.parse=n(9563)},9563:function(e){"use strict";for(var t="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",n=new RegExp("^"+t+"$"),i="|&;()<> \\t",r=/^#$/,s="",o=0;o<4;o++)s+=(4294967296*Math.random()).toString(16);var a=new RegExp("^"+s);function l(e,o,a){a||(a={});var l=a.escape||"\\",u=new RegExp(["("+t+")","("+("(\\"+l+"['\""+i+"]|[^\\s'\""+i+"])+")+"|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')+"].join("|"),"g"),c=function(e,t){for(var n,i=t.lastIndex,r=[];n=t.exec(e);)r.push(n),t.lastIndex===n.index&&(t.lastIndex+=1);return t.lastIndex=i,r}(e,u);if(0===c.length)return[];o||(o={});var A=!1;return c.map((function(t){var i=t[0];if(i&&!A){if(n.test(i))return{op:i};var a,u=!1,c=!1,d="",h=!1;for(a=0;a<i.length;a++){var p=i.charAt(a);if(h=h||!u&&("*"===p||"?"===p),c)d+=p,c=!1;else if(u)p===u?u=!1:"'"==u?d+=p:p===l?(a+=1,d+='"'===(p=i.charAt(a))||p===l||"$"===p?p:l+p):d+="$"===p?g():p;else if('"'===p||"'"===p)u=p;else{if(n.test(p))return{op:i};if(r.test(p)){A=!0;var f={comment:e.slice(t.index+a+1)};return d.length?[d,f]:[f]}p===l?c=!0:d+="$"===p?g():p}}return h?{op:"glob",pattern:d}:d}function g(){var e,t;a+=1;var n=i.charAt(a);if("{"===n){if(a+=1,"}"===i.charAt(a))throw new Error("Bad substitution: "+i.slice(a-2,a+1));if((e=i.indexOf("}",a))<0)throw new Error("Bad substitution: "+i.slice(a));t=i.slice(a,e),a=e}else if(/[*@#?$!_-]/.test(n))t=n,a+=1;else{var r=i.slice(a);(e=r.match(/[^\w\d_]/))?(t=r.slice(0,e.index),a+=e.index-1):(t=r,a=i.length)}return function(e,t,n){var i="function"==typeof e?e(n):e[n];return void 0===i&&""!=n?i="":void 0===i&&(i="$"),"object"==typeof i?t+s+JSON.stringify(i)+s:t+i}(o,"",t)}})).reduce((function(e,t){return void 0===t?e:e.concat(t)}),[])}e.exports=function(e,t,n){var i=l(e,t,n);return"function"!=typeof t?i:i.reduce((function(e,t){if("object"==typeof t)return e.concat(t);var n=t.split(RegExp("("+s+".*?"+s+")","g"));return 1===n.length?e.concat(n[0]):e.concat(n.filter(Boolean).map((function(e){return a.test(e)?JSON.parse(e.split(s)[1]):e})))}),[])}},3940:function(e){"use strict";e.exports=function(e){return e.map((function(e){return""===e?"''":e&&"object"==typeof e?e.op.replace(/(.)/g,"\\$1"):/["\s]/.test(e)&&!/'/.test(e)?"'"+e.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(e)?'"'+e.replace(/(["\\$`!])/g,"\\$1")+'"':String(e).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")})).join(" ")}},6459:function(e,t){(function(){var e;e=function(e,t,n){var i,r;for(r="";e.length>0;)(i=e.match(t))?(r+=e.slice(0,i.index),r+=n(i),e=e.slice(i.index+i[0].length)):(r+=e,e="");return r},t.split=function(t){var n,i;return null==t&&(t=""),i=[],n="",e(t,/\s*(?:([^\s\\\'\"]+)|'((?:[^\'\\]|\\.)*)'|"((?:[^\"\\]|\\.)*)"|(\\.?)|(\S))(\s|$)?/,(function(e){var t,r,s,o,a,l;if(e[0],l=e[1],a=e[2],t=e[3],r=e[4],s=e[5],o=e[6],null!=s)throw new Error("Unmatched quote");if(n+=l||(a||t||r).replace(/\\(?=.)/,""),null!=o)return i.push(n),n=""})),n&&i.push(n),i},t.escape=function(e){return null==e&&(e=""),null==e?"''":e.replace(/([^A-Za-z0-9_\-.,:\/@\n])/g,"\\$1").replace(/\n/g,"'\n'")}}).call(this)},7604:function(e,t,n){var i;!function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(e){return function(e,t){var n,i,o,a,l,u,c,A,d,h=1,p=e.length,f="";for(i=0;i<p;i++)if("string"==typeof e[i])f+=e[i];else if("object"==typeof e[i]){if((a=e[i]).keys)for(n=t[h],o=0;o<a.keys.length;o++){if(null==n)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[o],a.keys[o-1]));n=n[a.keys[o]]}else n=a.param_no?t[a.param_no]:t[h++];if(r.not_type.test(a.type)&&r.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),r.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(s("[sprintf] expecting number but found %T",n));switch(r.number.test(a.type)&&(A=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}r.json.test(a.type)?f+=n:(!r.number.test(a.type)||A&&!a.sign?d="":(d=A?"+":"-",n=n.toString().replace(r.sign,"")),u=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",c=a.width-(d+n).length,l=a.width&&c>0?u.repeat(c):"",f+=a.align?d+n+l:"0"===u?d+l+n:l+d+n)}return f}(function(e){if(a[e])return a[e];var t,n=e,i=[],s=0;for(;n;){if(null!==(t=r.text.exec(n)))i.push(t[0]);else if(null!==(t=r.modulo.exec(n)))i.push("%");else{if(null===(t=r.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var o=[],l=t[2],u=[];if(null===(u=r.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=r.key_access.exec(l)))o.push(u[1]);else{if(null===(u=r.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(u[1])}t[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return a[e]=i}(e),arguments)}function o(e,t){return s.apply(null,[e].concat(t||[]))}var a=Object.create(null);t.sprintf=s,t.vsprintf=o,"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=o,void 0===(i=function(){return{sprintf:s,vsprintf:o}}.call(t,n,t,e))||(e.exports=i))}()},8649:function(e,t,n){"use strict";n.r(t);var i=n(5072),r=n.n(i),s=n(7825),o=n.n(s),a=n(7659),l=n.n(a),u=n(5056),c=n.n(u),A=n(540),d=n.n(A),h=n(1113),p=n.n(h),f=n(9752),g={};g.styleTagTransform=p(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d();r()(f.A,g);t.default=f.A&&f.A.locals?f.A.locals:void 0},5460:function(e,t,n){"use strict";n.r(t);var i=n(5072),r=n.n(i),s=n(7825),o=n.n(s),a=n(7659),l=n.n(a),u=n(5056),c=n.n(u),A=n(540),d=n.n(A),h=n(1113),p=n.n(h),f=n(547),g={};g.styleTagTransform=p(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d();r()(f.A,g);t.default=f.A&&f.A.locals?f.A.locals:void 0},5072:function(e){"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],u=i.base?l[0]+i.base:l[0],c=s[u]||0,A="".concat(u," ").concat(c);s[u]=c+1;var d=n(A),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var p=r(h,i);i.byIndex=a,t.splice(a,0,{identifier:A,updater:p,references:1})}o.push(A)}return o}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var l=i(e,r),u=0;u<s.length;u++){var c=n(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},7659:function(e){"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},5714:function(e){const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=e=>e.match(t)||[],i=e=>e[0].toUpperCase()+e.slice(1),r=(e,t)=>n(e).join(t).toLowerCase(),s=e=>n(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");e.exports={words:n,upperFirst:i,camelCase:s,pascalCase:e=>i(s(e)),snakeCase:e=>r(e,"_"),kebabCase:e=>r(e,"-"),sentenceCase:e=>i(r(e," ")),titleCase:e=>n(e).map(i).join(" ")}},9508:function(e,t,n){var i=n(4968);i&&i.__esModule&&(i=i.default),e.exports="string"==typeof i?i:i.toString()},2981:function(e){function t(e,t){var n=e.length,i=new Array(n),r={},s=n,o=function(e){for(var t=new Map,n=0,i=e.length;n<i;n++){var r=e[n];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}(t),a=function(e){for(var t=new Map,n=0,i=e.length;n<i;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!a.has(e[0])||!a.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));s--;)r[s]||l(e[s],s,new Set);return i;function l(e,t,s){if(s.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!a.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!r[t]){r[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){s.add(e);do{var A=c[--t];l(A,a.get(A),s)}while(t);s.delete(e)}i[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,i=e.length;n<i;n++){var r=e[n];t.add(r[0]),t.add(r[1])}return Array.from(t)}(e),e)},e.exports.array=t},5282:function(e,t,n){var i=n(8710),r=n(775);e.exports=function(e,t){return e=i(e).replace(/[-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),!0===t?r(e):e}},4172:function(e,t,n){var i=n(7730);e.exports=function(e,t){e=i(e);var n=t?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+n}},9633:function(e,t,n){var i=n(7730);e.exports=function(e){return i(e).split("")}},3590:function(e){e.exports=function(e,t){return null==e?[]:(e=String(e),(t=~~t)>0?e.match(new RegExp(".{1,"+t+"}","g")):[e])}},592:function(e,t,n){var i=n(4172),r=n(5282),s=n(7730);e.exports=function(e){return e=s(e),i(r(e.replace(/[\W_]/g," ")).replace(/\s/g,""))}},1133:function(e,t,n){var i=n(8710);e.exports=function(e){return i(e).replace(/\s\s+/g," ")}},4806:function(e,t,n){var i=n(7730),r="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",s="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";r+=r.toUpperCase(),s=(s+=s.toUpperCase()).split(""),r+="ß",s.push("ss"),e.exports=function(e){return i(e).replace(/.{1}/g,(function(e){var t=r.indexOf(e);return-1===t?e:s[t]}))}},9599:function(e,t,n){var i=n(7730);e.exports=function(e,t){return e=i(e),t=i(t),0===e.length||0===t.length?0:e.split(t).length-1}},3043:function(e,t,n){var i=n(8710);e.exports=function(e){return i(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},775:function(e,t,n){var i=n(7730);e.exports=function(e){return(e=i(e)).charAt(0).toLowerCase()+e.slice(1)}},9520:function(e,t,n){var i=n(7730);e.exports=function(e,t){var n,r=function(e){for(var t=e.match(/^[\s\\t]*/gm),n=t[0].length,i=1;i<t.length;i++)n=Math.min(t[i].length,n);return n}(e=i(e));return 0===r?e:(n="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+r+"}","gm"),e.replace(n,""))}},300:function(e,t,n){var i=n(7730),r=n(455);e.exports=function(e,t,n){return e=i(e),t=""+t,(n=void 0===n?e.length-t.length:Math.min(r(n),e.length)-t.length)>=0&&e.indexOf(t,n)===n}},7844:function(e,t,n){var i=n(7730),r=n(9269),s="[";for(var o in r)s+=o;s+="]";var a=new RegExp(s,"g");e.exports=function(e){return i(e).replace(a,(function(e){return"&"+r[e]+";"}))}},403:function(e){e.exports=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(e[t]=this[t]);return e}},9887:function(e,t,n){var i=n(7730);e.exports=function(e,t){return 0===(e=i(e)).length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+t)}},5520:function(e,t,n){var i=n(1871);e.exports=function(e){return null==e?"\\s":e.source?e.source:"["+i(e)+"]"}},9269:function(e){e.exports={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"}},1871:function(e,t,n){var i=n(7730);e.exports=function(e){return i(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},3491:function(e){e.exports={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"}},7730:function(e){e.exports=function(e){return null==e?"":""+e}},6565:function(e){e.exports=function(e,t){if(t<1)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n}},455:function(e){e.exports=function(e){return e<0?0:+e||0}},1375:function(e,t,n){var i=n(4172),r=n(3380),s=n(8710);e.exports=function(e){return i(s(r(e).replace(/_id$/,"").replace(/_/g," ")))}},2760:function(e,t,n){var i=n(7730);e.exports=function(e,t){return""===t||-1!==i(e).indexOf(t)}},9604:function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this._wrapped=e}function r(e,t){"function"==typeof t&&(i.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=t.apply(null,e);return"string"==typeof n?new i(n):n})}for(var s in i.VERSION="3.3.6",i.isBlank=n(478),i.stripTags=n(3655),i.capitalize=n(4172),i.decapitalize=n(775),i.chop=n(3590),i.trim=n(8710),i.clean=n(1133),i.cleanDiacritics=n(4806),i.count=n(9599),i.chars=n(9633),i.swapCase=n(3241),i.escapeHTML=n(7844),i.unescapeHTML=n(6891),i.splice=n(9146),i.insert=n(5883),i.replaceAll=n(6581),i.include=n(2760),i.join=n(6806),i.lines=n(9111),i.dedent=n(9520),i.reverse=n(714),i.startsWith=n(1591),i.endsWith=n(300),i.pred=n(5349),i.succ=n(9084),i.titleize=n(8174),i.camelize=n(5282),i.underscored=n(3380),i.dasherize=n(3043),i.classify=n(592),i.humanize=n(1375),i.ltrim=n(9436),i.rtrim=n(2918),i.truncate=n(200),i.prune=n(7672),i.words=n(2993),i.pad=n(7777),i.lpad=n(2231),i.rpad=n(865),i.lrpad=n(2215),i.sprintf=n(982),i.vsprintf=n(1138),i.toNumber=n(6074),i.numberFormat=n(4028),i.strRight=n(3433),i.strRightBack=n(4974),i.strLeft=n(2654),i.strLeftBack=n(157),i.toSentence=n(926),i.toSentenceSerial=n(9210),i.slugify=n(6323),i.surround=n(7540),i.quote=n(7656),i.unquote=n(9765),i.repeat=n(5537),i.naturalCmp=n(3609),i.levenshtein=n(6823),i.toBoolean=n(803),i.exports=n(403),i.escapeRegExp=n(1871),i.wrap=n(5882),i.map=n(6206),i.strip=i.trim,i.lstrip=i.ltrim,i.rstrip=i.rtrim,i.center=i.lrpad,i.rjust=i.lpad,i.ljust=i.rpad,i.contains=i.include,i.q=i.quote,i.toBool=i.toBoolean,i.camelcase=i.camelize,i.mapChars=i.map,i.prototype={value:function(){return this._wrapped}},i)r(s,i[s]);function o(e){r(e,(function(t){var n=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(t,n)}))}r("tap",(function(e,t){return t(e)}));var a=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var l in a)o(a[l]);e.exports=i},5883:function(e,t,n){var i=n(9146);e.exports=function(e,t,n){return i(e,t,0,n)}},478:function(e,t,n){var i=n(7730);e.exports=function(e){return/^\s*$/.test(i(e))}},6806:function(e,t,n){var i=n(7730),r=[].slice;e.exports=function(){var e=r.call(arguments),t=e.shift();return e.join(i(t))}},6823:function(e,t,n){var i=n(7730);e.exports=function(e,t){"use strict";if((e=i(e))===(t=i(t)))return 0;if(!e||!t)return Math.max(e.length,t.length);for(var n=new Array(t.length+1),r=0;r<n.length;++r)n[r]=r;for(r=0;r<e.length;++r){for(var s=r+1,o=0;o<t.length;++o){var a=s,l=a+1;(s=n[o]+(e.charAt(r)===t.charAt(o)?0:1))>l&&(s=l),s>(l=n[o+1]+1)&&(s=l),n[o]=a}n[o]=s}return s}},9111:function(e){e.exports=function(e){return null==e?[]:String(e).split(/\r\n?|\n/)}},2231:function(e,t,n){var i=n(7777);e.exports=function(e,t,n){return i(e,t,n)}},2215:function(e,t,n){var i=n(7777);e.exports=function(e,t,n){return i(e,t,n,"both")}},9436:function(e,t,n){var i=n(7730),r=n(5520),s=String.prototype.trimLeft;e.exports=function(e,t){return e=i(e),!t&&s?s.call(e):(t=r(t),e.replace(new RegExp("^"+t+"+"),""))}},6206:function(e,t,n){var i=n(7730);e.exports=function(e,t){return 0===(e=i(e)).length||"function"!=typeof t?e:e.replace(/./g,t)}},3609:function(e){e.exports=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=/(\.\d+|\d+|\D+)/g,i=String(e).match(n),r=String(t).match(n),s=Math.min(i.length,r.length),o=0;o<s;o++){var a=i[o],l=r[o];if(a!==l){var u=+a,c=+l;return u==u&&c==c?u>c?1:-1:a<l?-1:1}}return i.length!=r.length?i.length-r.length:e<t?-1:1}},4028:function(e){e.exports=function(e,t,n,i){if(isNaN(e)||null==e)return"";i="string"==typeof i?i:",";var r=(e=e.toFixed(~~t)).split("."),s=r[0],o=r[1]?(n||".")+r[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+o}},7777:function(e,t,n){var i=n(7730),r=n(6565);e.exports=function(e,t,n,s){e=i(e),t=~~t;var o=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",s){case"right":return o=t-e.length,e+r(n,o);case"both":return o=t-e.length,r(n,Math.ceil(o/2))+e+r(n,Math.floor(o/2));default:return o=t-e.length,r(n,o)+e}}},5349:function(e,t,n){var i=n(9887);e.exports=function(e){return i(e,-1)}},7672:function(e,t,n){var i=n(7730),r=n(2918);e.exports=function(e,t,n){if(e=i(e),t=~~t,n=null!=n?String(n):"...",e.length<=t)return e;var s=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,(function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "}));return((s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):r(s.slice(0,s.length-1)))+n).length>e.length?e:e.slice(0,s.length)+n}},7656:function(e,t,n){var i=n(7540);e.exports=function(e,t){return i(e,t||'"')}},5537:function(e,t,n){var i=n(7730),r=n(6565);e.exports=function(e,t,n){if(e=i(e),t=~~t,null==n)return r(e,t);for(var s=[];t>0;s[--t]=e);return s.join(n)}},6581:function(e,t,n){var i=n(7730);e.exports=function(e,t,n,r){var s=new RegExp(t,!0===r?"gi":"g");return i(e).replace(s,n)}},714:function(e,t,n){var i=n(9633);e.exports=function(e){return i(e).reverse().join("")}},865:function(e,t,n){var i=n(7777);e.exports=function(e,t,n){return i(e,t,n,"right")}},2918:function(e,t,n){var i=n(7730),r=n(5520),s=String.prototype.trimRight;e.exports=function(e,t){return e=i(e),!t&&s?s.call(e):(t=r(t),e.replace(new RegExp(t+"+$"),""))}},6323:function(e,t,n){var i=n(8710),r=n(3043),s=n(4806);e.exports=function(e){return i(r(s(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},9146:function(e,t,n){var i=n(9633);e.exports=function(e,t,n,r){var s=i(e);return s.splice(~~t,~~n,r),s.join("")}},982:function(e,t,n){var i=n(4643);e.exports=i(n(7604).sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},1591:function(e,t,n){var i=n(7730),r=n(455);e.exports=function(e,t,n){return e=i(e),t=""+t,n=null==n?0:Math.min(r(n),e.length),e.lastIndexOf(t,n)===n}},2654:function(e,t,n){var i=n(7730);e.exports=function(e,t){e=i(e);var n=(t=i(t))?e.indexOf(t):-1;return~n?e.slice(0,n):e}},157:function(e,t,n){var i=n(7730);e.exports=function(e,t){e=i(e),t=i(t);var n=e.lastIndexOf(t);return~n?e.slice(0,n):e}},3433:function(e,t,n){var i=n(7730);e.exports=function(e,t){e=i(e);var n=(t=i(t))?e.indexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},4974:function(e,t,n){var i=n(7730);e.exports=function(e,t){e=i(e);var n=(t=i(t))?e.lastIndexOf(t):-1;return~n?e.slice(n+t.length,e.length):e}},3655:function(e,t,n){var i=n(7730);e.exports=function(e){return i(e).replace(/<\/?[^>]+>/g,"")}},9084:function(e,t,n){var i=n(9887);e.exports=function(e){return i(e,1)}},7540:function(e){e.exports=function(e,t){return[t,e,t].join("")}},3241:function(e,t,n){var i=n(7730);e.exports=function(e){return i(e).replace(/\S/g,(function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()}))}},8174:function(e,t,n){var i=n(7730);e.exports=function(e){return i(e).toLowerCase().replace(/(?:^|\s|-)\S/g,(function(e){return e.toUpperCase()}))}},803:function(e,t,n){var i=n(8710);function r(e,t){var n,i,r=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(i=t[n]){if(i.test&&i.test(e))return!0;if(i.toLowerCase()===r)return!0}}e.exports=function(e,t,n){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:!!r(e=i(e),t||["true","1"])||!r(e,n||["false","0"])&&void 0}},6074:function(e){e.exports=function(e,t){if(null==e)return 0;var n=Math.pow(10,isFinite(t)?t:0);return Math.round(e*n)/n}},926:function(e,t,n){var i=n(2918);e.exports=function(e,t,n,r){t=t||", ",n=n||" and ";var s=e.slice(),o=s.pop();return e.length>2&&r&&(n=i(t)+n),s.length?s.join(t)+n+o:o}},9210:function(e,t,n){var i=n(926);e.exports=function(e,t,n){return i(e,t,n,!0)}},8710:function(e,t,n){var i=n(7730),r=n(5520),s=String.prototype.trim;e.exports=function(e,t){return e=i(e),!t&&s?s.call(e):(t=r(t),e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}},200:function(e,t,n){var i=n(7730);e.exports=function(e,t,n){return n=n||"...",t=~~t,(e=i(e)).length>t?e.slice(0,t)+n:e}},3380:function(e,t,n){var i=n(8710);e.exports=function(e){return i(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},6891:function(e,t,n){var i=n(7730),r=n(3491);e.exports=function(e){return i(e).replace(/\&([^;]{1,10});/g,(function(e,t){var n;return t in r?r[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e}))}},9765:function(e){e.exports=function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e}},1138:function(e,t,n){var i=n(4643);e.exports=i(n(7604).vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},2993:function(e,t,n){var i=n(478),r=n(8710);e.exports=function(e,t){return i(e)?[]:r(e,t).split(t||/\s+/)}},5882:function(e,t,n){var i=n(7730);e.exports=function(e,t){e=i(e);var n,r=(t=t||{}).width||75,s=t.seperator||"\n",o=t.cut||!1,a=t.preserveSpaces||!1,l=t.trailingSpaces||!1;if(r<=0)return e;if(o){var u=0;for(n="";u<e.length;)u%r==0&&u>0&&(n+=s),n+=e.charAt(u),u++;if(l)for(;u%r>0;)n+=" ",u++;return n}var c=e.split(" "),A=0;for(n="";c.length>0;){if(1+c[0].length+A>r&&A>0){if(a)n+=" ",A++;else if(l)for(;A<r;)n+=" ",A++;n+=s,A=0}A>0&&(n+=" ",A++),n+=c[0],A+=c[0].length,c.shift()}if(l)for(;A<r;)n+=" ",A++;return n}},7842:function(e){var t,n,i,r,s;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,A=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=s.normalizePath(A)}else u.path=a.path,o.params||(u.params=a.params,o.query||(u.query=a.query));return null===u.path&&(u.path=i.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(u)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},4643:function(e,t,n){function i(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation"),n=!0}return e.apply(this,arguments)}}},4784:function(e,t,n){var i=n(9840),r=e.exports={WebVTT:n(6311),VTTCue:n(184),VTTRegion:n(5891)};i.vttjs=r,i.WebVTT=r.WebVTT;var s=r.VTTCue,o=r.VTTRegion,a=i.VTTCue,l=i.VTTRegion;r.shim=function(){i.VTTCue=s,i.VTTRegion=o},r.restore=function(){i.VTTCue=a,i.VTTRegion=l},i.VTTCue||r.shim()},6311:function(e,t,n){var i=n(9697),r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function s(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function o(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=r(null)}function l(e,t,n,i){var r=i?e.split(i):[e];for(var s in r)if("string"==typeof r[s]){var o=r[s].split(n);if(2===o.length)t(o[0].trim(),o[1].trim())}}function u(e,t,n){var i=e;function r(){var t=o(e);if(null===t)throw new s(s.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=r(),u(),"--\x3e"!==e.substr(0,3))throw new s(s.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),u(),t.endTime=r(),u(),function(e,t){var i=new a;l(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var s=t.split(","),o=s[0];i.integer(e,o),i.percent(e,o)&&i.set("snapToLines",!1),i.alt(e,o,["auto"]),2===s.length&&i.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=t.split(","),i.percent(e,s[0]),2===s.length&&i.alt("positionAlign",s[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(e){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(e){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(e){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}s.prototype=r(Error.prototype),s.prototype.constructor=s,s.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var c=i.createElement&&i.createElement("textarea"),A={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},p={rt:"ruby"};function f(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e,t){return!p[t.localName]||p[t.localName]===e.localName}function r(t,n){var i=A[t];if(!i)return null;var r=e.document.createElement(i),s=h[t];return s&&n&&(r[s]=n.trim()),r}for(var s,a,l=e.document.createElement("div"),u=l,f=[];null!==(s=n());)if("<"!==s[0])u.appendChild(e.document.createTextNode((a=s,c.innerHTML=a,a=c.textContent,c.textContent="",a)));else{if("/"===s[1]){f.length&&f[f.length-1]===s.substr(2).replace(">","")&&(f.pop(),u=u.parentNode);continue}var g,m=o(s.substr(1,s.length-2));if(m){g=e.document.createProcessingInstruction("timestamp",m),u.appendChild(g);continue}var v=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=r(v[1],v[3])))continue;if(!i(u,g))continue;if(v[2]){var y=v[2].split(".");y.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(d.hasOwnProperty(n)){var i=t?"background-color":"color",r=d[n];g.style[i]=r}})),g.className=y.join(" ")}f.push(v[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function m(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function v(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var s=n.match(/^.*(\n|\r)/);return s?(e.length=0,s[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var s=0;s<n.length;s++)if(m(n.charCodeAt(s)))return"rtl";return"ltr"}function y(){}function b(e,t,n){y.call(this),this.cue=t,this.cueDiv=f(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:v(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":case"line-left":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":case"line-right":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var s=(s=e.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();e=e.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,e.height/s.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function C(e,t,n,i){var r=new w(t),s=t.cue,o=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(s),a=[];if(s.snapToLines){var l;switch(s.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var u=r.lineHeight,c=u*Math.round(o),A=n[l]+u,d=a[0];Math.abs(c)>A&&(c=c<0?-1:1,c*=Math.ceil(A/u)*u),o<0&&(c+=""===s.vertical?n.height:n.width,a=a.reverse()),r.move(d,c)}else{var h=r.lineHeight/n.height*100;switch(s.lineAlign){case"center":o-=h/2;break;case"end":o-=h}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}a=["+y","-x","+x","-y"],r=new w(t)}var p=function(e,t){for(var r,s=new w(e),o=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(i);)e.move(t[a]);if(e.within(n))return e;var l=e.intersectPercentage(n);o>l&&(r=new w(e),o=l),e=new w(s)}return r||s}(r,a);t.move(p.toCSSCompatValues(n))}function x(){}y.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},y.prototype.formatStyle=function(e,t){return 0===e?0:e+t},b.prototype=r(y.prototype),b.prototype.constructor=b,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},x.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},x.convertCueToDOMTree=function(e,t){return e&&t?f(e,t):null};x.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],s=w.getSimpleBoxPosition(i),o={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var n,a,l=0;l<t.length;l++)a=t[l],n=new b(e,a,o),i.appendChild(n.div),C(0,n,s,r),a.displayState=n.div,r.push(w.getSimpleBoxPosition(n))}()}else for(var a=0;a<t.length;a++)i.appendChild(t[a].displayState)},x.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},x.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof s))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var i=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?l(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new a;l(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",o(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):l(e,(function(e,n){if("Region"===e)!function(e){var n=new a;if(l(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var r=new a;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(e+"X",r.get("x")),n.set(e+"Y",r.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var i=new(t.vttjs.VTTRegion||t.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),t.onregion&&t.onregion(i),t.regionList.push({id:n.get("id"),region:i})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new s(s.Errors.BadSignature);t.state="HEADER"}for(var A=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(A?A=!1:r=n(),t.state){case"HEADER":/:/.test(r)?i(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{u(r,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var d=-1!==r.indexOf("--\x3e");if(!r||d&&(A=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new s(s.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=x},184:function(e){var t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function r(e,n,r){this.hasBeenReset=!1;var s="",o=!1,a=e,l=n,u=r,c=null,A="",d=!0,h="auto",p="start",f="auto",g="auto",m=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return s},set:function(e){s=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");a=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return A},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");A=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(e){var t=i(e);t&&(p=t,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");f=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=i(e);t&&(g=t,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=r},5891:function(e){var t={"":!0,up:!0};function n(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,i=3,r=0,s=100,o=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");s=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===n||(l=n)}}})}},9790:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwMCIgd2lkdGg9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkYXRhLW5hbWU9IkxheWVyIDEiIHZpZXdCb3g9IjAgMCA1MCA1MCI+PHBhdGggZD0iTTQ4LjcxIDQyLjkxIDM0LjA4IDI4LjI5IDQ0LjMzIDE4YTEgMSAwIDAgMC0uMzMtMS42MUwyLjM1IDEuMDZhMSAxIDAgMCAwLTEuMjkgMS4yOUwxNi4zOSA0NGExIDEgMCAwIDAgMS42NS4zNmwxMC4yNS0xMC4yOCAxNC42MiAxNC42M2ExIDEgMCAwIDAgMS40MSAwbDQuMzgtNC4zOGExIDEgMCAwIDAgLjAxLTEuNDJ6bS01LjA5IDMuNjdMMjkgMzJhMSAxIDAgMCAwLTEuNDEgMGwtOS44NSA5Ljg1TDMuNjkgMy42OWwzOC4xMiAxNEwzMiAyNy41OEExIDEgMCAwIDAgMzIgMjlsMTQuNTkgMTQuNjJ6Ii8+PC9zdmc+"},7422:function(e){"use strict";e.exports="data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABTsAAsAAAAAIpAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV32Y21hcAAAAYQAAAEJAAAD5p42+VxnbHlmAAACkAAADtIAABckI4l972hlYWQAABFkAAAAKwAAADYsvIjpaGhlYQAAEZAAAAAdAAAAJA+RCL1obXR4AAARsAAAABcAAAC8Q2YAAGxvY2EAABHIAAAAYAAAAGB7CIGGbWF4cAAAEigAAAAfAAAAIAFAAI9uYW1lAAASSAAAASUAAAIK1cf1oHBvc3QAABNwAAABfAAAAnXdFqh1eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGR7yDiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGPHcRdyA4RZgQRADaGCyYAAHic7dPXbcMwAEXRK1vuvffem749XAbKV3bjBA6fXsaIgMMLEWoQJaAEFKNnlELyQ4K27zib5PNF6vl8yld+TKr5kH0+cUw0xv00Hwvx2DResUyFKrV4XoMmLdp06NKjz4AhI8ZMmDJjzoIlK9Zs2LJjz4EjJ85cuHLjziPe/0UWL17mf2tqKLz/9jK9f8tXpGCoRdPKhtS0RqFkWvVQNtSKoVYNtWaoddPXEBqG2jQ9XWgZattQO4baNdSeofYNdWCoQ0MdGerYUCeGOjXUmaHODXVhqEtDXRnq2lA3hro11J2h7g31YKhHQz0Z6tlQL4Z6NdSbod4N9WGoT9MfHF6GmhnZLxyDcRMAAAB4nJ1YC1hU17U+a5/HMA4iA3NmVBDmoQwP5TFnHlFeA4gYiUFRQINoSCBAyK3G2yi+0aipYtFcHYo2xsb4NiY3+VrNxSaX5uvt495ozNdoYoxmem2/L8HGpLc+InB279pnhlGr5mvL4eyz99nrrL32eu1/DQcc/okdYgdHOA6MQKp4r9gx0EcMHMezOalVasW5BM7NcXoSb9fFgE6KtSSBxWz1FYDPG+vMBGcKb9cebu2VS5s2aaTkCvRSf6C7Y+Ppibm5E09v7IDs2/3uZQtbD0zIyppwoHXh/93ukmyYgdePNRp65p5v+3v/9otQl2O7wP34cT88p8Md2YxpYLQZoRcy6FlSBRnwnGAe6BPMSCZo+7NJVqS0cE4uHendzhSnbPH6TDqL1+Nme5LZXkCHnGyoH0kne30WH+gswhm3q+pt/mTas9NLS64GnjmSlTPw0wVQT/ewRaBgxtydy3cuUB9/6SW+vb5yRvr+t0eOfPKJZ/9t3+4tL7xj32Xd3thCxi+ge6ifdsAN+l5+wi5HQ/cCoeull1AszS7CUfEcJzK7sKWJAdJhCd0sPM4+EY7QDm5ov08hXRQXE5bf6PV5Q5+IjW7X7Nku92Ask4l2hCRRD6TPqISiCJeQna3SCFwrhrNzXHzo4yFevBwxpzxk8WCIIfkvVEKVy32SbT8n68gzgaslpaiO2zIGIyuSb7RNf9HSuN26y/7OC1tgEmpiyA6aD4qcgTOiLThwGG0eB694FI8NHLLN6OBlRVaMxNAFS4JdXUG6mW8PwpKuYLCLXKGbu8iwYNdgO06Sn3Th+/vyZAxs8Ro30DjHe9gy8Fywi24OMm7Qyzh3MTZVOMYhLBnoC+J79lpTUyQmorjhnMwlcQ5uPEYGpDjsOkkH49BjQLQBqs3jFtFdJNlksYmoQFDArLh8Xh+Qd6Ghcsb6FUuehDi+U/lqD71K/qiegeV1imcwjl7ExwiSrf4BZyCujV6cVcFo6VX+G9IcPyFjJnUufbU/jzrL1X99as36reXl8K32nFaOr+E8jWJEcJ55DpMVfSMe95/AJaOsGBH2GJCNpiRQbK4C8BjdmQA22QY2j03Em13i2YHqtNLU1NI04Yj2HJgA6fQc6VPNpA/D+Ryks554NnVy2mB72uRUfPLsqR4N0LOBQKArwJYO+5W2fgZX8oC1HR6HjNaQTVIG2FPwnTcXXGZZfNB7TE6pTKZUwaw91XWLAoFFGcnB5PHjsckgBjbWutrL+0h5Y1xw3DRGDumsnXb3MJwXrJIN5U7m0rgJ3yG5w4he5ckFG4pmNEkOm0/xOO4r4yL87wqtQM+hiJIVp+6iG2wPBKD35ElGkDx+UfC2v1mFG1o+M3AjNFty8biKMXwzyxnZLds8wYD2BxmCPHAldPOeLsy/0BugftYhVYFAhO8SqQ0j3oK7dHJZnI/jxmUS4onlxskSF8thmvNZjIrRZwEPxr0lBuLRuz3oy/FOHCsxwOPYh2M+e9u3J5pgPYz9gp6G7C9m0A11F9ddqKMfV+4sbq45/YspOysXvT+3pdFdYNg2fHbW8Dz301MqDVuGrz0Fuh0YMW8mddrpqzST7rV9BcvqPoNvadRndWp0p8HvbiqrFj5yFQ/vNFSXDpxpLEFWp+DcrF3FT1afWshFcmCfeAMjEvO65i0Y6XijQfSRPWx3TV/Df7Km3E1l+kLt56s/rwVzuRusNMhudznkwdLaS+QNdeal2jDPP4l9qHc98vTYZOSkxzD+njBWVWjFPKgipx6DkWvXQiW8OYcewVHE5yukinDMcfGgc0opDltYKDxIGBedkzc6jSfE7tlvESCDFUw0Hx0opS+U0lHCxNottbNWSxX9zZVvEhKWUSyBpaXwBc2a98M6UqPeXAs/GDon8Ax7hsthO8cM5HU7Ad0UvRR9lHmtyQKZ4MAe814X5h9MSUkQmhf96eVJ6p90OjIiqSIjvykvr2l5U55O/fPQKD+jIomYpNyGJQ25uQ2kIikRfAmuBHCPsWqkSDEqgZ5KDI2sifS/R43MbZg0idFHbCPNxXxZws1ACVE6hAhOdJwRkJLFBLPZpRGYJ50pko6XzMkgmSx40ljik6AQcKhFnLcQE6rF7PXFe1Ocoj0T3AXgSgJTDIhHRfHlYZKuSzc6uievOJGXY+i5GJkkTp7UM3y0LqATDbtFcbdBxO7o4T25JYlEjoH0uynUh8rapkxp62QN70svSF+hT4gGPlovlmcm/ComLi7mV4kTykV9NFWjE/QrwgQ4uIcAP0rQF4VZYRP2o3PhHHzfPMJj9Ir+uzKUlrH49ntT18AVvj1sc3YGjUT/Mt2Dxawa8ArcA7bCQIpvfwAYu22vEG/No/5RvPdA7g+AelLrPwzy+LtkLPhnpIxH14m4EYq8eeMHbPEPNm6G7Nv9B4jcFPZ8bJj0SEjP3MPgQdKTqqEoy2v6G32P/Y6dxOv04AxnoAeq+GILvUavtYCBXm+BaIhuodcfrN5B/V2EYMCPh+SxavjGyPwV0x4CJgUPGT0mQaODGBACIJZGsMXwAD0LGXx7l3CdAcKMIKI+f5CepWeD0BvyU/GcdBxPF8SwejC6LGZmAURFdsSWKR5HyHld2kbdIZO1Ixx+bnnzU7n5+blPNV9jnUDWhP2tC68tbN3PVIldsQPxSAcSpjOav7Q05uXn5zW2LLvDXn9B6syscPy9iDLEMmSrJz6nYuWMipukjM0AH8JkGS+XFyMRkzSCH7KD/hwm172SAyZYumHlefr5AddrtA0O0TnwaVZxcRY9Bfukn9Gf05N1r9DV9MoBsJ1f+ZrqUvtPHizJAntWybv7hmqLt6QLuK6ZS9Fqi1jO5rDoWPZXXII5Tgajg53cIXCjDCGIcYrRIY2n6+mXOa/W0bdhau3ryiEYe2FV/5oeaIYK/5w5frCyll6/cYO8DiNhw6t1MBWmznt91QX62UF1N7l0eHBZTRGpKaqpKVIPF9UcIzmReud9TSY75+K899GHbBu6wjoR7RKKZVYiYxSPf5/2wJT5e3NAhmUbVn5KLx1Ujg0+BGvpAIh0DezInTkzF37KVocxrKU3r1+XLtAe2lO3l66kfQfB/unKY+q8N375Ru8bc4pJXfEcESU95q+p8ZNZRTWH1d9FzvUdYXk5rLkcdkEisoKKVHQW/b3GEx6tPaYcoJfOr9wAbSBnv1IHpep0OExr4LPMkpJM+j7sly7UHkOzXjoAZljHCGiyegtNlwljM0v+c19ET9Pvst09a2Mtgcf5/ZSzYO5h1156+eyydfAsxGa9XAuF6vzjh6CssLq6ECysperXX0sX5h5ZdpZe3guxsGIPEtHk/aqXX1hVqP5HYVVVISkrrNqvXorIc+5Ou91Hnr/LcD2afi6eX7UBloOcs7cOpqgGaNfs1g7bNbs9z6wASaylN69d0/TFTIz6Ws8+oGV3mE2612wRTHKcVUbhjKadebloMc+dyXgMVtVK6BwMB/+mVW09igdRBWaRtNQX59d/VD//xdQ0TCiYNj1KT9sq6Wdu5WTbqk3qDXyDaLa1fv621LS01G3z61sD6lH8lAxDLicV921s6Bf92JOYvzNYCL1khbqBXEFUzC521N5NyzNaQIWhjyFyDoBIVrAjmv2UEaLlI+c6zw1jmVIPLLLZZUTj6GxGHW+mq1tgHXR2D85p4Q934+jLbtjVLcyCdS10NVzpHqxp4Q/hK7WopY/NRGx9HGsPGdFjOjcpjBnGYMVqY/4eqT5khWEHWUup2A/pTw7pdWgsWft7ETUERL96nRg0HNFPmCYba6pylECaExX89A9WLUOVB4oKLu/o1oqSYHCgLzBUlAz8hNFDRpeSU1XT+LRmDUgPaKbYdHDn9suF/tu13nHJij0N97LfS0QmqONuyONk7zvUI6Qa0pF9f2+oABL92AT6e0U//z9YqAiWtJLU1JK0gS+1aacwamiNqK067u9ZQ8f1d4qLodMzz3uL89Z68V/Hnr++hXWUuHgw8dfi972PeTyPefu3aNNucemQ74qFuIaJnVkOu4Q+yjuwmmC1FqZpl1i4uzoPxjkpPf3Xv545tl26Rr+dOvUd+omqJzch9dOeU7f10Y64nMcKK137DccIZq2WdXtdZjbEoLSzHwiMtrjYLDxpHQW8gjMX6XFYAE2zSWVD04EGYSs9MbO6sEo20BMEAB4mpvSypsKjZ4Stgzb+c3A9/MQT2+vrBy+qvyFxLUtLlSRF/Ri2wjfZ2dus2Q8lXx4608/jnqK5OOap6NY2PSjYYnECCjiEeLJll/pbmqfeIK+ps3+MxrlEhqmTPipVP7kqlF4VhpEb6r+Q7YOJg38kJ9SHBf3NBl6+9YchfbUjb5ahLSzUM3kPHmwFAsZ5rpai0S7E5xWzZ1j+fW7zsUWP2g5NXTw52ySCTrgG0+lbw60l2Y/CB185CoA8NK+tbRKxfjy6pm5hzQRRR+cMqv1Jbiw6STivtEvt3DRcy0QEh92JlUGo2PG4tSKHl00YD6xc8CK+YPYyy3io2lN8BcSjKRzrIV6ypOAobqxViJPaT9M9Hy5szY33mp7OX/Zu89L/7Ww5vqY2Y8b0pKgoiUhG5cPDPzq8qTV/WkzUOIvXVVA96kmjcBrr3HrYC/Wn+fYP6Z7T1rqy3zknbvqma/FvVk96fNXGkuaXrdHW5JGSxZT/2I/O73v+yNWafMdzc5NdxYurHs6h86e01sLKLz9EBrg+x36rxAaED7hRnAMx7Vzu+9wabh3zG8XLQjx0ablUJzmxdErxYT3kzQSd0SSafVqF5PXgpp0OyYJ1EyNHpGUZmvK575ySzd85JSqF7IBzSAbMM04+MbE58xF3/njXOGecSaermlw2y9PsSQdytLJVr8t+wg+rR8cZYoeNxVIzNdk3Bngi8U5LAlgTFoQnzJCa5EsCgYhCaGL+qPj7TdhG31p9tej3R04N//PXxNwJvyUqwaJqRPJY98TJ5TPndmflRAkAhBfe46sfKW5wizSge08Xb7Ca/GUVs55trngkKkrUS2WPzKttaaqq+idmahugkY+W6fN0I6i3gPt/x88U4wAAeJxjYGRgYADiGU9YXsXz23xl4GZnAIFH7fO+IdMc/WBxDgYmEAUASbMKwAB4nGNgZGBgZwABjj4Ghv//OfoZGBlQgT4ARicDZAAAAHicY2BgYGAfxJijD8Fmu4EqBwCSpgKpAAAAAAAADgBoAH4AzADgAQIBQgFsAZgB7gIuAooC0AL8A2IDjAOoA+AEMASwBNoFCAVaBcAGCAYuBnAGrAb2B04HigfSCCoIcAiGCJwIyAkkCVYJiAmsCfIKIApWCsQLknicY2BkYGDQZ2hmYGcAASYg5gJCBob/YD4DABqrAdAAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2ReVPbMBDF/ULi2EkDBFqO3gdHLxUzDB9IkdexBllydRD49ihO3Ckz7B/a31utZnafkkGyiXnyclxhgB0MMUKKMTLkmGCKV5hhF3vYxxwHOMRrvMERjnGCU7zFO7zHB3zEJ3zGF3zFN5zhHBe4xHf8wE/8wm8w/MEVimTYKv44XR9MSCsUjVoeHE3vjQoNsSZ4mmxZmVWPjSz7jlou6/0qKOWEJdKMtCe793/hQfqxa6XWZHMXFl56RS4TvPXSaDeoy0zUUZB109KstDK8lHo5q6Qi1hcOnqkImubPS6aqRq7mlnaEWabub4iYblba3SRmgldS0+FWdhNtt04F14JUaqkl7tcpOpJtErvNt3Bd9HRT5JWxK25Ldjvp6br4hzfFiIdSmlzTg2fSUzNrLd1LE1ynxq4OVaVoKLjzJ60UPtj1RKzHzsbjly6inVnFBS2MucviPncU7Rr7lfTxRepDs1A2j3ZHRc7PuzFYSfE3ZOd4kjwBy227hA=="},542:function(){},4634:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4523:function(e,t,n){"use strict";n.r(t),n.d(t,{VERSION:function(){return r},after:function(){return Lt},all:function(){return en},allKeys:function(){return ge},any:function(){return tn},assign:function(){return Le},before:function(){return Ot},bind:function(){return Ct},bindAll:function(){return St},chain:function(){return vt},chunk:function(){return jn},clone:function(){return je},collect:function(){return Wt},compact:function(){return kn},compose:function(){return Dt},constant:function(){return J},contains:function(){return nn},countBy:function(){return mn},create:function(){return Me},debounce:function(){return It},default:function(){return qn},defaults:function(){return Oe},defer:function(){return Tt},delay:function(){return kt},detect:function(){return zt},difference:function(){return En},drop:function(){return Sn},each:function(){return Gt},escape:function(){return ot},every:function(){return en},extend:function(){return De},extendOwn:function(){return Le},filter:function(){return Jt},find:function(){return zt},findIndex:function(){return Rt},findKey:function(){return Mt},findLastIndex:function(){return Qt},findWhere:function(){return Kt},first:function(){return Bn},flatten:function(){return Tn},foldl:function(){return Xt},foldr:function(){return Yt},forEach:function(){return Gt},functions:function(){return Ue},get:function(){return qe},groupBy:function(){return fn},has:function(){return Ve},head:function(){return Bn},identity:function(){return ze},include:function(){return nn},includes:function(){return nn},indexBy:function(){return gn},indexOf:function(){return qt},initial:function(){return xn},inject:function(){return Xt},intersection:function(){return Dn},invert:function(){return Ie},invoke:function(){return rn},isArguments:function(){return $},isArray:function(){return K},isArrayBuffer:function(){return M},isBoolean:function(){return T},isDataView:function(){return z},isDate:function(){return D},isElement:function(){return E},isEmpty:function(){return le},isEqual:function(){return fe},isError:function(){return O},isFinite:function(){return X},isFunction:function(){return Q},isMap:function(){return Be},isMatch:function(){return ue},isNaN:function(){return Y},isNull:function(){return _},isNumber:function(){return F},isObject:function(){return S},isRegExp:function(){return L},isSet:function(){return _e},isString:function(){return U},isSymbol:function(){return N},isTypedArray:function(){return re},isUndefined:function(){return k},isWeakMap:function(){return Se},isWeakSet:function(){return ke},iteratee:function(){return Xe},keys:function(){return ae},last:function(){return _n},lastIndexOf:function(){return Vt},map:function(){return Wt},mapObject:function(){return Je},matcher:function(){return Ke},matches:function(){return Ke},max:function(){return an},memoize:function(){return _t},methods:function(){return Ue},min:function(){return ln},mixin:function(){return Qn},negate:function(){return Ft},noop:function(){return Ze},now:function(){return it},object:function(){return Nn},omit:function(){return Cn},once:function(){return Nt},pairs:function(){return Ee},partial:function(){return wt},partition:function(){return vn},pick:function(){return wn},pluck:function(){return sn},property:function(){return Ge},propertyOf:function(){return et},random:function(){return nt},range:function(){return Mn},reduce:function(){return Xt},reduceRight:function(){return Yt},reject:function(){return Zt},rest:function(){return Sn},restArguments:function(){return B},result:function(){return ft},sample:function(){return An},select:function(){return Jt},shuffle:function(){return dn},size:function(){return yn},some:function(){return tn},sortBy:function(){return hn},sortedIndex:function(){return Pt},tail:function(){return Sn},take:function(){return Bn},tap:function(){return Re},template:function(){return pt},templateSettings:function(){return lt},throttle:function(){return Et},times:function(){return tt},toArray:function(){return cn},toPath:function(){return Qe},transpose:function(){return Ln},unescape:function(){return at},union:function(){return Fn},uniq:function(){return Un},unique:function(){return Un},uniqueId:function(){return mt},unzip:function(){return Ln},values:function(){return Te},where:function(){return on},without:function(){return In},wrap:function(){return Ut},zip:function(){return On}});var i={};n.r(i),n.d(i,{VERSION:function(){return r},after:function(){return Lt},all:function(){return en},allKeys:function(){return ge},any:function(){return tn},assign:function(){return Le},before:function(){return Ot},bind:function(){return Ct},bindAll:function(){return St},chain:function(){return vt},chunk:function(){return jn},clone:function(){return je},collect:function(){return Wt},compact:function(){return kn},compose:function(){return Dt},constant:function(){return J},contains:function(){return nn},countBy:function(){return mn},create:function(){return Me},debounce:function(){return It},default:function(){return Pn},defaults:function(){return Oe},defer:function(){return Tt},delay:function(){return kt},detect:function(){return zt},difference:function(){return En},drop:function(){return Sn},each:function(){return Gt},escape:function(){return ot},every:function(){return en},extend:function(){return De},extendOwn:function(){return Le},filter:function(){return Jt},find:function(){return zt},findIndex:function(){return Rt},findKey:function(){return Mt},findLastIndex:function(){return Qt},findWhere:function(){return Kt},first:function(){return Bn},flatten:function(){return Tn},foldl:function(){return Xt},foldr:function(){return Yt},forEach:function(){return Gt},functions:function(){return Ue},get:function(){return qe},groupBy:function(){return fn},has:function(){return Ve},head:function(){return Bn},identity:function(){return ze},include:function(){return nn},includes:function(){return nn},indexBy:function(){return gn},indexOf:function(){return qt},initial:function(){return xn},inject:function(){return Xt},intersection:function(){return Dn},invert:function(){return Ie},invoke:function(){return rn},isArguments:function(){return $},isArray:function(){return K},isArrayBuffer:function(){return M},isBoolean:function(){return T},isDataView:function(){return z},isDate:function(){return D},isElement:function(){return E},isEmpty:function(){return le},isEqual:function(){return fe},isError:function(){return O},isFinite:function(){return X},isFunction:function(){return Q},isMap:function(){return Be},isMatch:function(){return ue},isNaN:function(){return Y},isNull:function(){return _},isNumber:function(){return F},isObject:function(){return S},isRegExp:function(){return L},isSet:function(){return _e},isString:function(){return U},isSymbol:function(){return N},isTypedArray:function(){return re},isUndefined:function(){return k},isWeakMap:function(){return Se},isWeakSet:function(){return ke},iteratee:function(){return Xe},keys:function(){return ae},last:function(){return _n},lastIndexOf:function(){return Vt},map:function(){return Wt},mapObject:function(){return Je},matcher:function(){return Ke},matches:function(){return Ke},max:function(){return an},memoize:function(){return _t},methods:function(){return Ue},min:function(){return ln},mixin:function(){return Qn},negate:function(){return Ft},noop:function(){return Ze},now:function(){return it},object:function(){return Nn},omit:function(){return Cn},once:function(){return Nt},pairs:function(){return Ee},partial:function(){return wt},partition:function(){return vn},pick:function(){return wn},pluck:function(){return sn},property:function(){return Ge},propertyOf:function(){return et},random:function(){return nt},range:function(){return Mn},reduce:function(){return Xt},reduceRight:function(){return Yt},reject:function(){return Zt},rest:function(){return Sn},restArguments:function(){return B},result:function(){return ft},sample:function(){return An},select:function(){return Jt},shuffle:function(){return dn},size:function(){return yn},some:function(){return tn},sortBy:function(){return hn},sortedIndex:function(){return Pt},tail:function(){return Sn},take:function(){return Bn},tap:function(){return Re},template:function(){return pt},templateSettings:function(){return lt},throttle:function(){return Et},times:function(){return tt},toArray:function(){return cn},toPath:function(){return Qe},transpose:function(){return Ln},unescape:function(){return at},union:function(){return Fn},uniq:function(){return Un},unique:function(){return Un},uniqueId:function(){return mt},unzip:function(){return Ln},values:function(){return Te},where:function(){return on},without:function(){return In},wrap:function(){return Ut},zip:function(){return On}});var r="1.13.7",s="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},o=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=o.push,c=o.slice,A=a.toString,d=a.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,p="undefined"!=typeof DataView,f=Array.isArray,g=Object.keys,m=Object.create,v=h&&ArrayBuffer.isView,y=isNaN,b=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],x=Math.pow(2,53)-1;function B(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var s=Array(t+1);for(r=0;r<t;r++)s[r]=arguments[r];return s[t]=i,e.apply(this,s)}}function S(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function _(e){return null===e}function k(e){return void 0===e}function T(e){return!0===e||!1===e||"[object Boolean]"===A.call(e)}function E(e){return!(!e||1!==e.nodeType)}function I(e){var t="[object "+e+"]";return function(e){return A.call(e)===t}}var U=I("String"),F=I("Number"),D=I("Date"),L=I("RegExp"),O=I("Error"),N=I("Symbol"),M=I("ArrayBuffer"),j=I("Function"),R=s.document&&s.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof R&&(j=function(e){return"function"==typeof e||!1});var Q=j,P=I("Object"),H=p&&(!/\[native code\]/.test(String(DataView))||P(new DataView(new ArrayBuffer(8)))),q="undefined"!=typeof Map&&P(new Map),V=I("DataView");var z=H?function(e){return null!=e&&Q(e.getInt8)&&M(e.buffer)}:V,K=f||I("Array");function G(e,t){return null!=e&&d.call(e,t)}var W=I("Arguments");!function(){W(arguments)||(W=function(e){return G(e,"callee")})}();var $=W;function X(e){return!N(e)&&b(e)&&!isNaN(parseFloat(e))}function Y(e){return F(e)&&y(e)}function J(e){return function(){return e}}function Z(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=x}}function ee(e){return function(t){return null==t?void 0:t[e]}}var te=ee("byteLength"),ne=Z(te),ie=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var re=h?function(e){return v?v(e)&&!z(e):ne(e)&&ie.test(A.call(e))}:J(!1),se=ee("length");function oe(e,t){t=function(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=C.length,i=e.constructor,r=Q(i)&&i.prototype||a,s="constructor";for(G(e,s)&&!t.contains(s)&&t.push(s);n--;)(s=C[n])in e&&e[s]!==r[s]&&!t.contains(s)&&t.push(s)}function ae(e){if(!S(e))return[];if(g)return g(e);var t=[];for(var n in e)G(e,n)&&t.push(n);return w&&oe(e,t),t}function le(e){if(null==e)return!0;var t=se(e);return"number"==typeof t&&(K(e)||U(e)||$(e))?0===t:0===se(ae(e))}function ue(e,t){var n=ae(t),i=n.length;if(null==e)return!i;for(var r=Object(e),s=0;s<i;s++){var o=n[s];if(t[o]!==r[o]||!(o in r))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function Ae(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}ce.VERSION=r,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var de="[object DataView]";function he(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&pe(e,t,n,i)}function pe(e,t,n,i){e instanceof ce&&(e=e._wrapped),t instanceof ce&&(t=t._wrapped);var r=A.call(e);if(r!==A.call(t))return!1;if(H&&"[object Object]"==r&&z(e)){if(!z(t))return!1;r=de}switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t);case"[object ArrayBuffer]":case de:return pe(Ae(e),Ae(t),n,i)}var s="[object Array]"===r;if(!s&&re(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(Q(o)&&o instanceof o&&Q(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!he(e[u],t[u],n,i))return!1}else{var c,d=ae(e);if(u=d.length,ae(t).length!==u)return!1;for(;u--;)if(!G(t,c=d[u])||!he(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0}function fe(e,t){return he(e,t)}function ge(e){if(!S(e))return[];var t=[];for(var n in e)t.push(n);return w&&oe(e,t),t}function me(e){var t=se(e);return function(n){if(null==n)return!1;var i=ge(n);if(se(i))return!1;for(var r=0;r<t;r++)if(!Q(n[e[r]]))return!1;return e!==Ce||!Q(n[ve])}}var ve="forEach",ye=["clear","delete"],be=["get","has","set"],we=ye.concat(ve,be),Ce=ye.concat(be),xe=["add"].concat(ye,ve,"has"),Be=q?me(we):I("Map"),Se=q?me(Ce):I("WeakMap"),_e=q?me(xe):I("Set"),ke=I("WeakSet");function Te(e){for(var t=ae(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i}function Ee(e){for(var t=ae(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i}function Ie(e){for(var t={},n=ae(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t}function Ue(e){var t=[];for(var n in e)Q(e[n])&&t.push(n);return t.sort()}function Fe(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var s=arguments[r],o=e(s),a=o.length,l=0;l<a;l++){var u=o[l];t&&void 0!==n[u]||(n[u]=s[u])}return n}}var De=Fe(ge),Le=Fe(ae),Oe=Fe(ge,!0);function Ne(e){if(!S(e))return{};if(m)return m(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Me(e,t){var n=Ne(e);return t&&Le(n,t),n}function je(e){return S(e)?K(e)?e.slice():De({},e):e}function Re(e,t){return t(e),e}function Qe(e){return K(e)?e:[e]}function Pe(e){return ce.toPath(e)}function He(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function qe(e,t,n){var i=He(e,Pe(t));return k(i)?n:i}function Ve(e,t){for(var n=(t=Pe(t)).length,i=0;i<n;i++){var r=t[i];if(!G(e,r))return!1;e=e[r]}return!!n}function ze(e){return e}function Ke(e){return e=Le({},e),function(t){return ue(t,e)}}function Ge(e){return e=Pe(e),function(t){return He(t,e)}}function We(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)}}return function(){return e.apply(t,arguments)}}function $e(e,t,n){return null==e?ze:Q(e)?We(e,t,n):S(e)&&!K(e)?Ke(e):Ge(e)}function Xe(e,t){return $e(e,t,1/0)}function Ye(e,t,n){return ce.iteratee!==Xe?ce.iteratee(e,t):$e(e,t,n)}function Je(e,t,n){t=Ye(t,n);for(var i=ae(e),r=i.length,s={},o=0;o<r;o++){var a=i[o];s[a]=t(e[a],a,e)}return s}function Ze(){}function et(e){return null==e?Ze:function(t){return qe(e,t)}}function tt(e,t,n){var i=Array(Math.max(0,e));t=We(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ce.toPath=Qe,ce.iteratee=Xe;var it=Date.now||function(){return(new Date).getTime()};function rt(e){var t=function(t){return e[t]},n="(?:"+ae(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}}var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ot=rt(st),at=rt(Ie(st)),lt=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ut=/(.)^/,ct={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},At=/\\|'|\r|\n|\u2028|\u2029/g;function dt(e){return"\\"+ct[e]}var ht=/^\s*(\w|\$)+\s*$/;function pt(e,t,n){!t&&n&&(t=n),t=Oe({},t,ce.templateSettings);var i=RegExp([(t.escape||ut).source,(t.interpolate||ut).source,(t.evaluate||ut).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(i,(function(t,n,i,o,a){return s+=e.slice(r,a).replace(At,dt),r=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t})),s+="';\n";var o,a=t.variable;if(a){if(!ht.test(a))throw new Error("variable is not a bare identifier: "+a)}else s="with(obj||{}){\n"+s+"}\n",a="obj";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{o=new Function(a,"_",s)}catch(e){throw e.source=s,e}var l=function(e){return o.call(this,e,ce)};return l.source="function("+a+"){\n"+s+"}",l}function ft(e,t,n){var i=(t=Pe(t)).length;if(!i)return Q(n)?n.call(e):n;for(var r=0;r<i;r++){var s=null==e?void 0:e[t[r]];void 0===s&&(s=n,r=i),e=Q(s)?s.call(e):s}return e}var gt=0;function mt(e){var t=++gt+"";return e?e+t:t}function vt(e){var t=ce(e);return t._chain=!0,t}function yt(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var s=Ne(e.prototype),o=e.apply(s,r);return S(o)?o:s}var bt=B((function(e,t){var n=bt.placeholder,i=function(){for(var r=0,s=t.length,o=Array(s),a=0;a<s;a++)o[a]=t[a]===n?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return yt(e,i,this,this,o)};return i}));bt.placeholder=ce;var wt=bt,Ct=B((function(e,t,n){if(!Q(e))throw new TypeError("Bind must be called on a function");var i=B((function(r){return yt(e,i,t,this,n.concat(r))}));return i})),xt=Z(se);function Bt(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var r=i.length,s=0,o=se(e);s<o;s++){var a=e[s];if(xt(a)&&(K(a)||$(a)))if(t>1)Bt(a,t-1,n,i),r=i.length;else for(var l=0,u=a.length;l<u;)i[r++]=a[l++];else n||(i[r++]=a)}return i}var St=B((function(e,t){var n=(t=Bt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=Ct(e[i],e)}return e}));function _t(e,t){var n=function(i){var r=n.cache,s=""+(t?t.apply(this,arguments):i);return G(r,s)||(r[s]=e.apply(this,arguments)),r[s]};return n.cache={},n}var kt=B((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),Tt=wt(kt,ce,1);function Et(e,t,n){var i,r,s,o,a=0;n||(n={});var l=function(){a=!1===n.leading?0:it(),i=null,o=e.apply(r,s),i||(r=s=null)},u=function(){var u=it();a||!1!==n.leading||(a=u);var c=t-(u-a);return r=this,s=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),a=u,o=e.apply(r,s),i||(r=s=null)):i||!1===n.trailing||(i=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(i),a=0,i=r=s=null},u}function It(e,t,n){var i,r,s,o,a,l=function(){var u=it()-r;t>u?i=setTimeout(l,t-u):(i=null,n||(o=e.apply(a,s)),i||(s=a=null))},u=B((function(u){return a=this,s=u,r=it(),i||(i=setTimeout(l,t),n&&(o=e.apply(a,s))),o}));return u.cancel=function(){clearTimeout(i),i=s=a=null},u}function Ut(e,t){return wt(t,e)}function Ft(e){return function(){return!e.apply(this,arguments)}}function Dt(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function Lt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Ot(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var Nt=wt(Ot,2);function Mt(e,t,n){t=Ye(t,n);for(var i,r=ae(e),s=0,o=r.length;s<o;s++)if(t(e[i=r[s]],i,e))return i}function jt(e){return function(t,n,i){n=Ye(n,i);for(var r=se(t),s=e>0?0:r-1;s>=0&&s<r;s+=e)if(n(t[s],s,t))return s;return-1}}var Rt=jt(1),Qt=jt(-1);function Pt(e,t,n,i){for(var r=(n=Ye(n,i,1))(t),s=0,o=se(e);s<o;){var a=Math.floor((s+o)/2);n(e[a])<r?s=a+1:o=a}return s}function Ht(e,t,n){return function(i,r,s){var o=0,a=se(i);if("number"==typeof s)e>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return i[s=n(i,r)]===r?s:-1;if(r!=r)return(s=t(c.call(i,o,a),Y))>=0?s+o:-1;for(s=e>0?o:a-1;s>=0&&s<a;s+=e)if(i[s]===r)return s;return-1}}var qt=Ht(1,Rt,Pt),Vt=Ht(-1,Qt);function zt(e,t,n){var i=(xt(e)?Rt:Mt)(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function Kt(e,t){return zt(e,Ke(t))}function Gt(e,t,n){var i,r;if(t=We(t,n),xt(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var s=ae(e);for(i=0,r=s.length;i<r;i++)t(e[s[i]],s[i],e)}return e}function Wt(e,t,n){t=Ye(t,n);for(var i=!xt(e)&&ae(e),r=(i||e).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=t(e[a],a,e)}return s}function $t(e){return function(t,n,i,r){var s=arguments.length>=3;return function(t,n,i,r){var s=!xt(t)&&ae(t),o=(s||t).length,a=e>0?0:o-1;for(r||(i=t[s?s[a]:a],a+=e);a>=0&&a<o;a+=e){var l=s?s[a]:a;i=n(i,t[l],l,t)}return i}(t,We(n,r,4),i,s)}}var Xt=$t(1),Yt=$t(-1);function Jt(e,t,n){var i=[];return t=Ye(t,n),Gt(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i}function Zt(e,t,n){return Jt(e,Ft(Ye(t)),n)}function en(e,t,n){t=Ye(t,n);for(var i=!xt(e)&&ae(e),r=(i||e).length,s=0;s<r;s++){var o=i?i[s]:s;if(!t(e[o],o,e))return!1}return!0}function tn(e,t,n){t=Ye(t,n);for(var i=!xt(e)&&ae(e),r=(i||e).length,s=0;s<r;s++){var o=i?i[s]:s;if(t(e[o],o,e))return!0}return!1}function nn(e,t,n,i){return xt(e)||(e=Te(e)),("number"!=typeof n||i)&&(n=0),qt(e,t,n)>=0}var rn=B((function(e,t,n){var i,r;return Q(t)?r=t:(t=Pe(t),i=t.slice(0,-1),t=t[t.length-1]),Wt(e,(function(e){var s=r;if(!s){if(i&&i.length&&(e=He(e,i)),null==e)return;s=e[t]}return null==s?s:s.apply(e,n)}))}));function sn(e,t){return Wt(e,Ge(t))}function on(e,t){return Jt(e,Ke(t))}function an(e,t,n){var i,r,s=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=xt(e)?e:Te(e)).length;a<l;a++)null!=(i=e[a])&&i>s&&(s=i);else t=Ye(t,n),Gt(e,(function(e,n,i){((r=t(e,n,i))>o||r===-1/0&&s===-1/0)&&(s=e,o=r)}));return s}function ln(e,t,n){var i,r,s=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=xt(e)?e:Te(e)).length;a<l;a++)null!=(i=e[a])&&i<s&&(s=i);else t=Ye(t,n),Gt(e,(function(e,n,i){((r=t(e,n,i))<o||r===1/0&&s===1/0)&&(s=e,o=r)}));return s}var un=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cn(e){return e?K(e)?c.call(e):U(e)?e.match(un):xt(e)?Wt(e,ze):Te(e):[]}function An(e,t,n){if(null==t||n)return xt(e)||(e=Te(e)),e[nt(e.length-1)];var i=cn(e),r=se(i);t=Math.max(Math.min(t,r),0);for(var s=r-1,o=0;o<t;o++){var a=nt(o,s),l=i[o];i[o]=i[a],i[a]=l}return i.slice(0,t)}function dn(e){return An(e,1/0)}function hn(e,t,n){var i=0;return t=Ye(t,n),sn(Wt(e,(function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")}function pn(e,t){return function(n,i,r){var s=t?[[],[]]:{};return i=Ye(i,r),Gt(n,(function(t,r){var o=i(t,r,n);e(s,t,o)})),s}}var fn=pn((function(e,t,n){G(e,n)?e[n].push(t):e[n]=[t]})),gn=pn((function(e,t,n){e[n]=t})),mn=pn((function(e,t,n){G(e,n)?e[n]++:e[n]=1})),vn=pn((function(e,t,n){e[n?0:1].push(t)}),!0);function yn(e){return null==e?0:xt(e)?e.length:ae(e).length}function bn(e,t,n){return t in n}var wn=B((function(e,t){var n={},i=t[0];if(null==e)return n;Q(i)?(t.length>1&&(i=We(i,t[1])),t=ge(e)):(i=bn,t=Bt(t,!1,!1),e=Object(e));for(var r=0,s=t.length;r<s;r++){var o=t[r],a=e[o];i(a,o,e)&&(n[o]=a)}return n})),Cn=B((function(e,t){var n,i=t[0];return Q(i)?(i=Ft(i),t.length>1&&(n=t[1])):(t=Wt(Bt(t,!1,!1),String),i=function(e,n){return!nn(t,n)}),wn(e,i,n)}));function xn(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Bn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:xn(e,e.length-t)}function Sn(e,t,n){return c.call(e,null==t||n?1:t)}function _n(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Sn(e,Math.max(0,e.length-t))}function kn(e){return Jt(e,Boolean)}function Tn(e,t){return Bt(e,t,!1)}var En=B((function(e,t){return t=Bt(t,!0,!0),Jt(e,(function(e){return!nn(t,e)}))})),In=B((function(e,t){return En(e,t)}));function Un(e,t,n,i){T(t)||(i=n,n=t,t=!1),null!=n&&(n=Ye(n,i));for(var r=[],s=[],o=0,a=se(e);o<a;o++){var l=e[o],u=n?n(l,o,e):l;t&&!n?(o&&s===u||r.push(l),s=u):n?nn(s,u)||(s.push(u),r.push(l)):nn(r,l)||r.push(l)}return r}var Fn=B((function(e){return Un(Bt(e,!0,!0))}));function Dn(e){for(var t=[],n=arguments.length,i=0,r=se(e);i<r;i++){var s=e[i];if(!nn(t,s)){var o;for(o=1;o<n&&nn(arguments[o],s);o++);o===n&&t.push(s)}}return t}function Ln(e){for(var t=e&&an(e,se).length||0,n=Array(t),i=0;i<t;i++)n[i]=sn(e,i);return n}var On=B(Ln);function Nn(e,t){for(var n={},i=0,r=se(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n}function Mn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),s=0;s<i;s++,e+=n)r[s]=e;return r}function jn(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(c.call(e,i,i+=t));return n}function Rn(e,t){return e._chain?ce(t).chain():t}function Qn(e){return Gt(Ue(e),(function(t){var n=ce[t]=e[t];ce.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Rn(this,n.apply(ce,e))}})),ce}Gt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];ce.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Rn(this,n)}})),Gt(["concat","join","slice"],(function(e){var t=o[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Rn(this,e)}}));var Pn=ce,Hn=Qn(i);Hn._=Hn;var qn=Hn}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.b=document.baseURI||self.location.href,n.nc=void 0;var i={};return function(){"use strict";n.d(i,{default:function(){return DF}});var e={};n.r(e),n.d(e,{Attributor:function(){return Fd},AttributorStore:function(){return Qd},BlockBlot:function(){return Jd},ClassAttributor:function(){return Md},ContainerBlot:function(){return eh},EmbedBlot:function(){return th},InlineBlot:function(){return Xd},LeafBlot:function(){return Vd},ParentBlot:function(){return Wd},Registry:function(){return Od},Scope:function(){return Ud},ScrollBlot:function(){return rh},StyleAttributor:function(){return Rd},TextBlot:function(){return oh}});const t="betterbugs-sdk-main",r="betterbugs-message-listener",s="STEPS_FEATURE_CLICK_EVENT",o="STEPS_FEATURE_NAVIGATE_EVENT",a="STEPS_FEATURE_TYPED_EVENT",l="STEPS_FEATURE_PRESSED_EVENT";let u=!1;function c(e){u=e}function A(){return u}try{window.setBetterBugsLogging=c}catch(e){globalThis.setBetterBugsLogging=c}try{window.getBetterBugsLogging=A}catch(e){globalThis.getBetterBugsLogging=A}const d={sample(e,t,...n){if(h(n)){}},log:(...e)=>{h(e)},warn:(...e)=>{if(h(e)){}},error:(...e)=>{if(h(e)){}},info:(...e)=>{if(h(e)){}},debug:(...e)=>{h(e)},group:(...e)=>{h(e)},groupCollapsed:(...e)=>{h(e)},groupEnd:(...e)=>{h(e)}};function h(e){return u&&function(e){try{if(!("localStorage"in globalThis)||!globalThis.localStorage.debug)return!0}catch(e){return!0}if("string"!=typeof e[0]||"string"!=typeof globalThis.localStorage.debug)return!0;const t=e[0],n=globalThis.localStorage.debug.replace("*",".*");return new RegExp("^"+n).test(t)}(e)}var p,f="user-agent",g="",m="function",v="undefined",y="object",b="string",w="browser",C="cpu",x="device",B="engine",S="os",_="result",k="name",T="type",E="vendor",I="version",U="architecture",F="major",D="model",L="console",O="mobile",N="tablet",M="smarttv",j="wearable",R="xr",Q="embedded",P="inapp",H="brands",q="formFactors",V="fullVersionList",z="platform",K="platformVersion",G="bitness",W="sec-ch-ua",$=W+"-full-version-list",X=W+"-arch",Y=W+"-"+G,J=W+"-form-factors",Z=W+"-"+O,ee=W+"-"+D,te=W+"-"+z,ne=te+"-version",ie=[H,V,O,D,z,K,U,q,G],re="Amazon",se="Apple",oe="ASUS",ae="BlackBerry",le="Google",ue="Huawei",ce="Lenovo",Ae="Honor",de="LG",he="Microsoft",pe="Motorola",fe="Nvidia",ge="OnePlus",me="OPPO",ve="Samsung",ye="Sharp",be="Sony",we="Xiaomi",Ce="Zebra",xe="Chrome",Be="Chromium",Se="Chromecast",_e="Firefox",ke="Opera",Te="Facebook",Ee="Sogou",Ie="Mobile ",Ue=" Browser",Fe="Windows",De=typeof window!==v&&window.navigator?window.navigator:void 0,Le=De&&De.userAgentData?De.userAgentData:void 0,Oe=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Ne=function(e,t){if(typeof e===y&&e.length>0){for(var n in e)if(Qe(e[n])==Qe(t))return!0;return!1}return!!je(e)&&-1!==Qe(t).indexOf(Qe(e))},Me=function(e,t){for(var n in e)return/^(browser|cpu|device|engine|os)$/.test(n)||!!t&&Me(e[n])},je=function(e){return typeof e===b},Re=function(e){if(e){for(var t=[],n=qe(/\\?\"/g,e).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var r=ze(n[i]).split(";v=");t[i]={brand:r[0],version:r[1]}}else t[i]=ze(n[i]);return t}},Qe=function(e){return je(e)?e.toLowerCase():e},Pe=function(e){return je(e)?qe(/[^\d\.]/g,e).split(".")[0]:void 0},He=function(e){for(var t in e){var n=e[t];typeof n==y&&2==n.length?this[n[0]]=n[1]:this[n]=void 0}return this},qe=function(e,t){return je(t)?t.replace(e,g):t},Ve=function(e){return qe(/\\?\"/g,e)},ze=function(e,t){if(je(e))return e=qe(/^\s\s*/,e),typeof t===v?e:e.substring(0,500)},Ke=function(e,t){if(e&&t)for(var n,i,r,s,o,a,l=0;l<t.length&&!o;){var u=t[l],c=t[l+1];for(n=i=0;n<u.length&&!o&&u[n];)if(o=u[n++].exec(e))for(r=0;r<c.length;r++)a=o[++i],typeof(s=c[r])===y&&s.length>0?2===s.length?typeof s[1]==m?this[s[0]]=s[1].call(this,a):this[s[0]]=s[1]:3===s.length?typeof s[1]!==m||s[1].exec&&s[1].test?this[s[0]]=a?a.replace(s[1],s[2]):void 0:this[s[0]]=a?s[1].call(this,a,s[2]):void 0:4===s.length&&(this[s[0]]=a?s[3].call(this,a.replace(s[1],s[2])):void 0):this[s]=a||void 0;l+=2}},Ge=function(e,t){for(var n in t)if(typeof t[n]===y&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(Ne(t[n][i],e))return"?"===n?void 0:n}else if(Ne(t[n],e))return"?"===n?void 0:n;return t.hasOwnProperty("*")?t["*"]:e},We={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$e={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Xe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[I,[k,Ie+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[I,[k,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[k,I],[/opios[\/ ]+([\w\.]+)/i],[I,[k,ke+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[I,[k,ke+" GX"]],[/\bopr\/([\w\.]+)/i],[I,[k,ke]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[I,[k,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[I,[k,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[k,I],[/quark(?:pc)?\/([-\w\.]+)/i],[I,[k,"Quark"]],[/\bddg\/([\w\.]+)/i],[I,[k,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[I,[k,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[I,[k,"WeChat"]],[/konqueror\/([\w\.]+)/i],[I,[k,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[I,[k,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[I,[k,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[I,[k,"Smart "+ce+Ue]],[/(avast|avg)\/([\w\.]+)/i],[[k,/(.+)/,"$1 Secure"+Ue],I],[/\bfocus\/([\w\.]+)/i],[I,[k,_e+" Focus"]],[/\bopt\/([\w\.]+)/i],[I,[k,ke+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[I,[k,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[I,[k,"Dolphin"]],[/coast\/([\w\.]+)/i],[I,[k,ke+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[I,[k,"MIUI"+Ue]],[/fxios\/([\w\.-]+)/i],[I,[k,Ie+_e]],[/\bqihoobrowser\/?([\w\.]*)/i],[I,[k,"360"]],[/\b(qq)\/([\w\.]+)/i],[[k,/(.+)/,"$1Browser"],I],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[k,/(.+)/,"$1"+Ue],I],[/samsungbrowser\/([\w\.]+)/i],[I,[k,ve+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[I,[k,Ee+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[k,Ee+" Mobile"],I],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[k,I],[/(lbbrowser|rekonq)/i],[k],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[I,k],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[k,Te],I,[T,P]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[k,I,[T,P]],[/\bgsa\/([\w\.]+) .*safari\//i],[I,[k,"GSA"],[T,P]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[I,[k,"TikTok"],[T,P]],[/\[(linkedin)app\]/i],[k,[T,P]],[/(chromium)[\/ ]([-\w\.]+)/i],[k,I],[/headlesschrome(?:\/([\w\.]+)| )/i],[I,[k,xe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[k,xe+" WebView"],I],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[I,[k,"Android"+Ue]],[/chrome\/([\w\.]+) mobile/i],[I,[k,Ie+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[k,I],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[I,[k,Ie+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[k,Ie+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[I,k],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[k,[I,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[k,I],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[k,Ie+_e],I],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[k,"Netscape"],I],[/(wolvic|librewolf)\/([\w\.]+)/i],[k,I],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[I,[k,_e+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[k,[I,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[k,[I,/[^\d\.]+./,g]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[U,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[U,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[U,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[U,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[U,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[U,/ower/,g,Qe]],[/ sun4\w[;\)]/i],[[U,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[U,Qe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[D,[E,ve],[T,N]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[D,[E,ve],[T,O]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[D,[E,se],[T,O]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[D,[E,se],[T,N]],[/(macintosh);/i],[D,[E,se]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[D,[E,ye],[T,O]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[D,[E,Ae],[T,N]],[/honor([-\w ]+)[;\)]/i],[D,[E,Ae],[T,O]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[D,[E,ue],[T,N]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[D,[E,ue],[T,O]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[D,/_/g," "],[E,we],[T,N]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[D,/_/g," "],[E,we],[T,O]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[D,[E,me],[T,O]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[D,[E,Ge,{OnePlus:["304","403","203"],"*":me}],[T,N]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[D,[E,"BLU"],[T,O]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[D,[E,"Vivo"],[T,O]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[D,[E,"Realme"],[T,O]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[D,[E,pe],[T,O]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[D,[E,pe],[T,N]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[D,[E,de],[T,N]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[D,[E,de],[T,O]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[D,[E,ce],[T,N]],[/(nokia) (t[12][01])/i],[E,D,[T,N]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[D,/_/g," "],[T,O],[E,"Nokia"]],[/(pixel (c|tablet))\b/i],[D,[E,le],[T,N]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[D,[E,le],[T,O]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[D,[E,be],[T,O]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[D,"Xperia Tablet"],[E,be],[T,N]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[D,[E,ge],[T,O]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[D,[E,re],[T,N]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[D,/(.+)/g,"Fire Phone $1"],[E,re],[T,O]],[/(playbook);[-\w\),; ]+(rim)/i],[D,E,[T,N]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[D,[E,ae],[T,O]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[D,[E,oe],[T,N]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[D,[E,oe],[T,O]],[/(nexus 9)/i],[D,[E,"HTC"],[T,N]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[D,/_/g," "],[T,O]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[D,[E,"TCL"],[T,N]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[D,[E,"TCL"],[T,O]],[/(itel) ((\w+))/i],[[E,Qe],D,[T,Ge,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[D,[E,"Acer"],[T,N]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[D,[E,"Meizu"],[T,O]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[D,[E,"Ulefone"],[T,O]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[D,[E,"Energizer"],[T,O]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[D,[E,"Cat"],[T,O]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[D,[E,"Smartfren"],[T,O]],[/droid.+; (a(?:015|06[35]|142p?))/i],[D,[E,"Nothing"],[T,O]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[D,[E,"Archos"],[T,N]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[D,[E,"Archos"],[T,O]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[E,D,[T,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[E,D,[T,O]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[E,D,[T,N]],[/(surface duo)/i],[D,[E,he],[T,N]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[D,[E,"Fairphone"],[T,O]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[D,[E,fe],[T,N]],[/(sprint) (\w+)/i],[E,D,[T,O]],[/(kin\.[onetw]{3})/i],[[D,/\./g," "],[E,he],[T,O]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[D,[E,Ce],[T,N]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[D,[E,Ce],[T,O]],[/smart-tv.+(samsung)/i],[E,[T,M]],[/hbbtv.+maple;(\d+)/i],[[D,/^/,"SmartTV"],[E,ve],[T,M]],[/tcast.+(lg)e?. ([-\w]+)/i],[E,D,[T,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,de],[T,M]],[/(apple) ?tv/i],[E,[D,se+" TV"],[T,M]],[/crkey.*devicetype\/chromecast/i],[[D,Se+" Third Generation"],[E,le],[T,M]],[/crkey.*devicetype\/([^/]*)/i],[[D,/^/,"Chromecast "],[E,le],[T,M]],[/fuchsia.*crkey/i],[[D,Se+" Nest Hub"],[E,le],[T,M]],[/crkey/i],[[D,Se],[E,le],[T,M]],[/(portaltv)/i],[D,[E,Te],[T,M]],[/droid.+aft(\w+)( bui|\))/i],[D,[E,re],[T,M]],[/(shield \w+ tv)/i],[D,[E,fe],[T,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[D,[E,ye],[T,M]],[/(bravia[\w ]+)( bui|\))/i],[D,[E,be],[T,M]],[/(mi(tv|box)-?\w+) bui/i],[D,[E,we],[T,M]],[/Hbbtv.*(technisat) (.*);/i],[E,D,[T,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,ze],[D,ze],[T,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[D,[T,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[T,M]],[/(ouya)/i,/(nintendo) (\w+)/i],[E,D,[T,L]],[/droid.+; (shield)( bui|\))/i],[D,[E,fe],[T,L]],[/(playstation \w+)/i],[D,[E,be],[T,L]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[D,[E,he],[T,L]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[D,[E,ve],[T,j]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[E,D,[T,j]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[D,[E,me],[T,j]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[D,[E,se],[T,j]],[/(opwwe\d{3})/i],[D,[E,ge],[T,j]],[/(moto 360)/i],[D,[E,pe],[T,j]],[/(smartwatch 3)/i],[D,[E,be],[T,j]],[/(g watch r)/i],[D,[E,de],[T,j]],[/droid.+; (wt63?0{2,3})\)/i],[D,[E,Ce],[T,j]],[/droid.+; (glass) \d/i],[D,[E,le],[T,R]],[/(pico) (4|neo3(?: link|pro)?)/i],[E,D,[T,R]],[/(quest( \d| pro)?s?).+vr/i],[D,[E,Te],[T,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[T,Q]],[/(aeobc)\b/i],[D,[E,re],[T,Q]],[/(homepod).+mac os/i],[D,[E,se],[T,Q]],[/windows iot/i],[[T,Q]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[D,[T,Ge,{mobile:"Mobile",xr:"VR","*":N}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[T,N]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[T,O]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[D,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[I,[k,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[k,I],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[I,[k,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[k,I],[/ladybird\//i],[[k,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[I,k]],os:[[/microsoft (windows) (vista|xp)/i],[k,I],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[k,[I,Ge,We]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[I,Ge,We],[k,Fe]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[I,/_/g,"."],[k,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[k,"macOS"],[I,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[I,[k,Se+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[I,[k,Se+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[I,[k,Se+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[I,[k,Se+" Linux"]],[/crkey\/([\d\.]+)/i],[I,[k,Se]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[I,k],[/(ubuntu) ([\w\.]+) like android/i],[[k,/(.+)/,"$1 Touch"],I],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[k,I],[/\(bb(10);/i],[I,[k,ae]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[I,[k,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[I,[k,_e+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[I,[k,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[I,[k,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[k,"Chrome OS"],I],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[k,I],[/(sunos) ?([\w\.\d]*)/i],[[k,"Solaris"],I],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[k,I]]},Ye=(He.call((p={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}}).init,[[w,[k,I,F,T]],[C,[U]],[x,[T,D,E]],[B,[k,I]],[S,[k,I]]]),He.call(p.isIgnore,[[w,[I,F]],[B,[I]],[S,[I]]]),He.call(p.isIgnoreRgx,[[w,/ ?browser$/i],[S,/ ?os$/i]]),He.call(p.toString,[[w,[k,I]],[C,[U]],[x,[E,D]],[B,[k,I]],[S,[k,I]]]),p),Je=function(e,t){var n=Ye.init[t],i=Ye.isIgnore[t]||0,r=Ye.isIgnoreRgx[t]||0,s=Ye.toString[t]||0;function o(){He.call(this,n)}return o.prototype.getItem=function(){return e},o.prototype.withClientHints=function(){return Le?Le.getHighEntropyValues(ie).then((function(t){return e.setCH(new Ze(t,!1)).parseCH().get()})):e.parseCH().get()},o.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=_&&(o.prototype.is=function(e){var t=!1;for(var n in this)if(this.hasOwnProperty(n)&&!Ne(i,n)&&Qe(r?qe(r,this[n]):this[n])==Qe(r?qe(r,e):e)){if(t=!0,e!=v)break}else if(e==v&&t){t=!t;break}return t},o.prototype.toString=function(){var e=g;for(var t in s)typeof this[s[t]]!==v&&(e+=(e?" ":g)+this[s[t]]);return e||v}),Le||(o.prototype.then=function(e){var t=this,n=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};n.prototype={is:o.prototype.is,toString:o.prototype.toString};var i=new n;return e(i),i}),new o};function Ze(e,t){if(e=e||{},He.call(this,ie),t)He.call(this,[[H,Re(e[W])],[V,Re(e[$])],[O,/\?1/.test(e[Z])],[D,Ve(e[ee])],[z,Ve(e[te])],[K,Ve(e[ne])],[U,Ve(e[X])],[q,Re(e[J])],[G,Ve(e[Y])]]);else for(var n in e)this.hasOwnProperty(n)&&typeof e[n]!==v&&(this[n]=e[n])}function et(e,t,n,i){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(De&&De.userAgent==this.ua)switch(this.itemType){case w:De.brave&&typeof De.brave.isBrave==m&&this.set(k,"Brave");break;case x:!this.get(T)&&Le&&Le[O]&&this.set(T,O),"Macintosh"==this.get(D)&&De&&typeof De.standalone!==v&&De.maxTouchPoints&&De.maxTouchPoints>2&&this.set(D,"iPad").set(T,N);break;case S:!this.get(k)&&Le&&Le[z]&&this.set(k,Le[z]);break;case _:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(w,t(w)).set(C,t(C)).set(x,t(x)).set(B,t(B)).set(S,t(S))}return this},this.parseUA=function(){return this.itemType!=_&&Ke.call(this.data,this.ua,this.rgxMap),this.itemType==w&&this.set(F,Pe(this.get(I))),this},this.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case w:case B:var n,i=e[V]||e[H];if(i)for(var r in i){var s=i[r].brand||i[r],o=i[r].version;this.itemType!=w||/not.a.brand/i.test(s)||n&&(!/chrom/i.test(n)||s==Be)||(s=Ge(s,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(k,s).set(I,o).set(F,Pe(o)),n=s),this.itemType==B&&s==Be&&this.set(I,o)}break;case C:var a=e[U];a&&(a&&"64"==e[G]&&(a+="64"),Ke.call(this.data,a+";",t));break;case x:if(e[O]&&this.set(T,O),e[D]&&(this.set(D,e[D]),!this.get(T)||!this.get(E))){var l={};Ke.call(l,"droid 9; "+e[D]+")",t),!this.get(T)&&l.type&&this.set(T,l.type),!this.get(E)&&l.vendor&&this.set(E,l.vendor)}if(e[q]){var u;if("string"!=typeof e[q])for(var c=0;!u&&c<e[q].length;)u=Ge(e[q][c++],$e);else u=Ge(e[q],$e);this.set(T,u)}break;case S:var A=e[z];if(A){var d=e[K];A==Fe&&(d=parseInt(Pe(d),10)>=13?"11":"10"),this.set(k,A).set(I,d)}this.get(k)==Fe&&"Xbox"==e[D]&&this.set(k,"Xbox").set(I,void 0);break;case _:var h=this.data,p=function(t){return h[t].getItem().setCH(e).parseCH().get()};this.set(w,p(w)).set(C,p(C)).set(x,p(x)).set(B,p(B)).set(S,p(S))}return this},He.call(this,[["itemType",e],["ua",t],["uaCH",i],["rgxMap",n],["data",Je(this,e)]]),this}function tt(e,t,n){if(typeof e===y?(Me(e,!0)?(typeof t===y&&(n=t),t=e):(n=e,t=void 0),e=void 0):typeof e!==b||Me(t,!0)||(n=t,t=void 0),n&&typeof n.append===m){var i={};n.forEach((function(e,t){i[t]=e})),n=i}if(!(this instanceof tt))return new tt(e,t,n).getResult();var r=typeof e===b?e:n&&n[f]?n[f]:De&&De.userAgent?De.userAgent:g,s=new Ze(n,!0),o=t?function(e,t){var n={},i=t;if(!Me(t))for(var r in i={},t)for(var s in t[r])i[s]=t[r][s].concat(i[s]?i[s]:[]);for(var o in e)n[o]=i[o]&&i[o].length%2==0?i[o].concat(e[o]):e[o];return n}(Xe,t):Xe,a=function(e){return e==_?function(){return new et(e,r,o,s).set("ua",r).set(w,this.getBrowser()).set(C,this.getCPU()).set(x,this.getDevice()).set(B,this.getEngine()).set(S,this.getOS()).get()}:function(){return new et(e,r,o[e],s).parseUA().get()}};return He.call(this,[["getBrowser",a(w)],["getCPU",a(C)],["getDevice",a(x)],["getEngine",a(B)],["getOS",a(S)],["getResult",a(_)],["getUA",function(){return r}],["setUA",function(e){return je(e)&&(r=e.length>500?ze(e,500):e),this}]]).setUA(r),this}tt.VERSION="2.0.3",tt.BROWSER=Oe([k,I,F,T]),tt.CPU=Oe([U]),tt.DEVICE=Oe([D,E,T,L,O,M,N,j,Q]),tt.ENGINE=tt.OS=Oe([k,I]);var nt="0.0.1",it=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const rt=e=>it(void 0,void 0,void 0,(function*(){var t;try{const n=new URL(e.url,"https://butterfly-api.betterbugs.io");e.params&&Object.entries(e.params).forEach((([e,t])=>{n.searchParams.append(e,t)}));const i=yield window.fetch(n.toString(),{method:e.method||"GET",headers:Object.assign({"Content-Type":"application/json","bb-version":"8","bb-web-sdk-version":{NODE_ENV:"production",ENV:"butterfly",HOST:"https://app.betterbugs.io",PORT:"9000",API_URL:"https://butterfly-api.betterbugs.io",API_URL_WS:"https://butterfly-api.betterbugs.io",FILES_API_URL:"https://cdn.betterbugs.io",DASH_URL:"https://app.betterbugs.io",MESSAGE_LISTENER_URL:"https://recording.betterbugs.io/message-listener",INDEX_DB_VERSION:"1",LOGGER_DB_VERSION:"1",LOGS_VERSION:"2",BB_APPLICATION_HEADER:"web-sdk",BB_VERSION:"8",MARKERJS_LICENCE_KEY:"MJS2-F417-M314-9953",TEST_API_KEY:"de3a6ff1076a547e8e31c7cf86ae408b"}.PACKAGE_VERSION||""},e.headers),body:e.data?JSON.stringify(e.data):void 0});if(!i.ok){const e=new Error((null===(t=yield i.json())||void 0===t?void 0:t.message)||`HTTP error! status: ${i.status}`);throw e.status=i.status,e}return yield i.json()}catch(e){const t=(null==e?void 0:e.message)||"Bad response from server";throw d.log("errorMessage",t),e}})),st=e=>{try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},ot=()=>((new Date).getTime()/1e3|0).toString(16)+Math.floor(16777216*Math.random()).toString(16).padStart(6,"0")+Math.floor(65536*Math.random()).toString(16).padStart(4,"0")+Math.floor(16777216*Math.random()).toString(16).padStart(6,"0"),at=(e,t=60)=>e&&e.length>t?`${e.substring(0,t-1)}...`:e,lt=()=>it(void 0,void 0,void 0,(function*(){var e,t,n,i,r,s,o,a,l,u,c,A,h,p,f,g,m,v,y,b,w,C,x,B;const S={url:"",userAgent:"",browser:{name:"",version:""},engine:{name:"",version:""},os:{name:"",version:""},device:{type:"",model:"",vendor:""},windowOuterSize:{width:"",height:""},windowInnerSize:{width:"",height:""},scrollSize:{width:"",height:""},networkSpeed:"",batteryPercentage:"",isCharging:!1,sdkVersion:"",devicePixelRatio:0};let _=null,k="",T=!1;try{"getBattery"in navigator&&(_=yield navigator.getBattery(),k=`${Math.round(100*_.level)}%`,T=_.charging)}catch(e){d.log("Battery API not supported",e)}S.userAgent=window.navigator.userAgent,"userAgentData"in navigator&&(S.userAgentData=window.navigator.userAgentData),S.windowOuterSize={width:window.outerWidth.toString(),height:window.outerHeight.toString()},S.windowInnerSize={width:window.innerWidth.toString(),height:window.innerHeight.toString()},S.scrollSize={width:document.body.scrollWidth.toString(),height:document.body.scrollHeight.toString()},S.url=window.location.href,S.devicePixelRatio=window.devicePixelRatio,S.batteryPercentage=k,S.isCharging=T;const E=tt(S.userAgent);return{url:(null==S?void 0:S.url)||"",devicePixelRatio:null==S?void 0:S.devicePixelRatio,batteryPercentage:(null==S?void 0:S.batteryPercentage)||"",isCharging:null==S?void 0:S.isCharging,networkSpeed:(null==S?void 0:S.networkSpeed)||"",userAgent:(null==S?void 0:S.userAgent)||"",browser:{name:(null===(e=null==E?void 0:E.browser)||void 0===e?void 0:e.name)||"",version:(null===(t=null==E?void 0:E.browser)||void 0===t?void 0:t.version)||""},engine:{name:(null===(n=null==E?void 0:E.engine)||void 0===n?void 0:n.name)||"",version:(null===(i=null==E?void 0:E.engine)||void 0===i?void 0:i.version)||""},os:{name:(null===(r=null==E?void 0:E.os)||void 0===r?void 0:r.name)||"",version:(null===(s=null==E?void 0:E.os)||void 0===s?void 0:s.version)||""},device:{type:(null===(o=null==E?void 0:E.device)||void 0===o?void 0:o.type)?null===(a=null==E?void 0:E.device)||void 0===a?void 0:a.type.toString():"",model:(null===(l=null==E?void 0:E.device)||void 0===l?void 0:l.model)?null===(u=null==E?void 0:E.device)||void 0===u?void 0:u.model.toString():"",vendor:(null===(c=null==E?void 0:E.device)||void 0===c?void 0:c.vendor)?null===(A=null==E?void 0:E.device)||void 0===A?void 0:A.vendor.toString():""},windowOuterSize:{width:(null===(h=null==S?void 0:S.windowOuterSize)||void 0===h?void 0:h.width)?null===(p=null==S?void 0:S.windowOuterSize)||void 0===p?void 0:p.width.toString():"0",height:(null===(f=null==S?void 0:S.windowOuterSize)||void 0===f?void 0:f.height)?null===(g=null==S?void 0:S.windowOuterSize)||void 0===g?void 0:g.height.toString():"0"},windowInnerSize:{width:(null===(m=null==S?void 0:S.windowInnerSize)||void 0===m?void 0:m.width)?null===(v=null==S?void 0:S.windowInnerSize)||void 0===v?void 0:v.width.toString():"0",height:(null===(y=null==S?void 0:S.windowInnerSize)||void 0===y?void 0:y.height)?null===(b=null==S?void 0:S.windowInnerSize)||void 0===b?void 0:b.height.toString():"0"},scrollSize:{width:(null===(w=null==S?void 0:S.scrollSize)||void 0===w?void 0:w.width)?null===(C=null==S?void 0:S.scrollSize)||void 0===C?void 0:C.width.toString():"0",height:(null===(x=null==S?void 0:S.scrollSize)||void 0===x?void 0:x.height)?null===(B=null==S?void 0:S.scrollSize)||void 0===B?void 0:B.height.toString():"0"},sdkVersion:`v${nt}`}})),ut=e=>{const t=e.split(";base64,"),n=t[0].split(":")[1],i=window.atob(t[1]),r=i.length,s=new Uint8Array(r);for(let e=0;e<r;++e)s[e]=i.charCodeAt(e);return new Blob([s],{type:n})},ct=e=>{var t,n,i,r,s,o,u,c,A,d,h,p,f,g,m,v,y,b,w,C,x,B;const S=null==e?void 0:e.sort(((e,t)=>e.timestamp-t.timestamp)),_=[];for(let e=0;e<(null==S?void 0:S.length);e++){const k=S[e];if(!(e>0&&(null==k?void 0:k.eventData)===(null===(t=S[e-1])||void 0===t?void 0:t.eventData)&&(null==k?void 0:k.eventType)===(null===(n=S[e-1])||void 0===n?void 0:n.eventType)&&(null==k?void 0:k.timestamp)-2<(null===(i=S[e-1])||void 0===i?void 0:i.timestamp)&&(null===(r=S[e-1])||void 0===r?void 0:r.timestamp)<(null==k?void 0:k.timestamp)+2&&(null==k?void 0:k.eventElement)===(null===(s=S[e-1])||void 0===s?void 0:s.eventElement)))if(e>1&&(null==k?void 0:k.eventType)===l&&"Shift"===(null==k?void 0:k.eventData)&&(null===(o=S[e-1])||void 0===o?void 0:o.eventType)===a&&(null===(u=S[e+1])||void 0===u?void 0:u.eventType)===a)_.pop();else if(e>1&&(null==k?void 0:k.eventType)===l&&"32"===(null==k?void 0:k.eventData)&&(null===(c=S[e-1])||void 0===c?void 0:c.eventType)===a&&(null===(A=S[e+1])||void 0===A?void 0:A.eventType)===a)_.pop();else if(e>1&&(null==k?void 0:k.eventType)===a&&(null===(d=S[e-1])||void 0===d?void 0:d.eventType)===l&&("Backspace"===(null===(h=S[e-1])||void 0===h?void 0:h.eventData)||"Delete"===(null===(p=S[e-1])||void 0===p?void 0:p.eventData))&&(null==k?void 0:k.eventType)===(null===(f=S[e-2])||void 0===f?void 0:f.eventType))if((null===(g=_[_.length-1])||void 0===g?void 0:g.eventType)===a){const e=st(k),t=st(_);e.requestTime=null===(m=t[t.length-1])||void 0===m?void 0:m.requestTime,e.responseTime=null==k?void 0:k.timestamp,_[_.length-1]=e}else{const e=st(k);e.requestTime=e.timestamp,e.responseTime=0,_.push(e)}else if(e>0&&(null==k?void 0:k.eventType)===a&&(null==k?void 0:k.eventType)===(null===(v=S[e-1])||void 0===v?void 0:v.eventType)){const e=st(k),t=st(_);e.requestTime=null===(y=t[t.length-1])||void 0===y?void 0:y.requestTime,e.responseTime=null==k?void 0:k.timestamp,_[_.length-1]=e}else if(e>1&&(null==k?void 0:k.eventType)===l&&("Backspace"===(null==k?void 0:k.eventData)||"Delete"===(null==k?void 0:k.eventData))&&(null==k?void 0:k.eventType)===(null===(b=S[e-2])||void 0===b?void 0:b.eventType)&&(null==k?void 0:k.eventData)===S[e-2].eventData&&(null===(w=S[e-1])||void 0===w?void 0:w.eventType)===a){for(let e=_.length-1;e>=0;e--)if((null===(C=_[e])||void 0===C?void 0:C.eventType)===l&&_[e].eventData===(null==k?void 0:k.eventData)){void 0!==_[e].count&&(_[e].count=_[e].count+1),_[e].responseTime=null==k?void 0:k.timestamp;break}}else if(e>0&&(null==k?void 0:k.eventType)===l&&(null==k?void 0:k.eventType)===(null===(x=S[e-1])||void 0===x?void 0:x.eventType)&&(null==k?void 0:k.eventData)===(null===(B=S[e-1])||void 0===B?void 0:B.eventData))void 0!==_[_.length-1].count&&(_[_.length-1].count=_[_.length-1].count+1),_[_.length-1].responseTime=null==k?void 0:k.timestamp;else{const e=st(k);e.requestTime=e.timestamp,e.responseTime=0,_.push(e)}}return _};const At=()=>(sessionStorage.getItem("tabId")||sessionStorage.setItem("tabId",ot()),sessionStorage.getItem("tabId")||""),dt=(e,t,n)=>it(void 0,void 0,void 0,(function*(){const i=`${t}${JSON.stringify(e)}`,r=new TextEncoder,s=yield crypto.subtle.importKey("raw",r.encode(n),{name:"HMAC",hash:"SHA-512"},!1,["sign"]),o=yield crypto.subtle.sign("HMAC",s,r.encode(i));return btoa(String.fromCharCode(...new Uint8Array(o)))}));var ht;function pt(e){return e.nodeType===e.ELEMENT_NODE}function ft(e){const t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function gt(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function mt(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,vt).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function vt(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=mt(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(ht||(ht={}));class yt{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function bt({element:e,maskInputOptions:t,tagName:n,type:i,value:r,maskInputFn:s}){let o=r||"";const a=i&&wt(i);return(t[n.toLowerCase()]||a&&t[a])&&(o=s?s(o,e):"*".repeat(o.length)),o}function wt(e){return e.toLowerCase()}const Ct="__rrweb_original__";function xt(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?wt(t):null}function Bt(e,t){var n;let i;try{i=new URL(e,null!=t?t:window.location.href)}catch(e){return null}const r=i.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(n=null==r?void 0:r[1])&&void 0!==n?n:null}let St=1;const _t=new RegExp("[^a-z0-9-_:]");function kt(){return St++}let Tt,Et;const It=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ut=/^(?:[a-z+]+:)?\/\//i,Ft=/^www\..*/i,Dt=/^(data:)([^,]*),(.*)/i;function Lt(e,t){return(e||"").replace(It,((e,n,i,r,s,o)=>{const a=i||s||o,l=n||r||"";if(!a)return e;if(Ut.test(a)||Ft.test(a))return`url(${l}${a}${l})`;if(Dt.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${l})`;const u=t.split("/"),c=a.split("/");u.pop();for(const e of c)"."!==e&&(".."===e?u.pop():u.push(e));return`url(${l}${u.join("/")}${l})`}))}const Ot=/^[^ \t\n\r\u000c]+/,Nt=/^[, \t\n\r\u000c]+/;function Mt(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function jt(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Rt(){const e=document.createElement("a");return e.href="",e.href}function Qt(e,t,n,i){return i?"src"===n||"href"===n&&("use"!==t||"#"!==i[0])||"xlink:href"===n&&"#"!==i[0]?Mt(e,i):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function i(e){let i;const r=e.exec(t.substring(n));return r?(i=r[0],n+=i.length,i):""}const r=[];for(;i(Nt),!(n>=t.length);){let s=i(Ot);if(","===s.slice(-1))s=Mt(e,s.substring(0,s.length-1)),r.push(s);else{let i="";s=Mt(e,s);let o=!1;for(;;){const e=t.charAt(n);if(""===e){r.push((s+i).trim());break}if(o)")"===e&&(o=!1);else{if(","===e){n+=1,r.push((s+i).trim());break}"("===e&&(o=!0)}i+=e,n+=1}}}return r.join(", ")}(e,i):"style"===n?Lt(i,Rt()):"object"===t&&"data"===n?Mt(e,i):i:Mt(e,i):i}function Pt(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Ht(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&Ht(e.parentNode,t,n);for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}return!!n&&Ht(e.parentNode,t,n)}function qt(e,t,n,i){try{const r=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===r)return!1;if("string"==typeof t){if(i){if(r.closest(`.${t}`))return!0}else if(r.classList.contains(t))return!0}else if(Ht(r,t,i))return!0;if(n)if(i){if(r.closest(n))return!0}else if(r.matches(n))return!0}catch(e){}return!1}function Vt(e,t){const{doc:n,mirror:i,blockClass:r,blockSelector:s,needsMask:o,inlineStylesheet:a,maskInputOptions:l={},maskTextFn:u,maskInputFn:c,dataURLOptions:A={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:f=!1}=t,g=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,i);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:ht.Document,childNodes:[],compatMode:e.compatMode}:{type:ht.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ht.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:g};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:i,blockSelector:r,inlineStylesheet:s,maskInputOptions:o={},maskInputFn:a,dataURLOptions:l={},inlineImages:u,recordCanvas:c,keepIframeSrcFn:A,newlyAddedElement:d=!1,rootId:h}=t,p=function(e,t,n){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const i=e.classList[n];if(t.test(i))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,i,r),f=function(e){if(e instanceof HTMLFormElement)return"form";const t=wt(e.tagName);return _t.test(t)?"div":t}(e);let g={};const m=e.attributes.length;for(let t=0;t<m;t++){const i=e.attributes[t];Pt(f,i.name,i.value)||(g[i.name]=Qt(n,f,wt(i.name),i.value))}if("link"===f&&s){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let i=null;t&&(i=mt(t)),i&&(delete g.rel,delete g.href,g._cssText=Lt(i,t.href))}if("style"===f&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=mt(e.sheet);t&&(g._cssText=Lt(t,Rt()))}if("input"===f||"textarea"===f||"select"===f){const t=e.value,n=e.checked;"radio"!==g.type&&"checkbox"!==g.type&&"submit"!==g.type&&"button"!==g.type&&t?g.value=bt({element:e,type:xt(e),tagName:f,value:t,maskInputOptions:o,maskInputFn:a}):n&&(g.checked=n)}"option"===f&&(e.selected&&!o.select?g.selected=!0:delete g.selected);if("canvas"===f&&c)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let i=0;i<e.height;i+=50){const r=t.getImageData,s=Ct in r?r[Ct]:r;if(new Uint32Array(s.call(t,n,i,Math.min(50,e.width-n),Math.min(50,e.height-i)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(g.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const t=e.toDataURL(l.type,l.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(l.type,l.quality)&&(g.rr_dataURL=t)}if("img"===f&&u){Tt||(Tt=n.createElement("canvas"),Et=Tt.getContext("2d"));const t=e,i=t.crossOrigin;t.crossOrigin="anonymous";const r=()=>{t.removeEventListener("load",r);try{Tt.width=t.naturalWidth,Tt.height=t.naturalHeight,Et.drawImage(t,0,0),g.rr_dataURL=Tt.toDataURL(l.type,l.quality)}catch(e){}i?g.crossOrigin=i:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?r():t.addEventListener("load",r)}"audio"!==f&&"video"!==f||(g.rr_mediaState=e.paused?"paused":"played",g.rr_mediaCurrentTime=e.currentTime);d||(e.scrollLeft&&(g.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(g.rr_scrollTop=e.scrollTop));if(p){const{width:t,height:n}=e.getBoundingClientRect();g={class:g.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==f||A(g.src)||(e.contentDocument||(g.rr_src=g.src),delete g.src);let v;try{customElements.get(f)&&(v=!0)}catch(e){}return{type:ht.Element,tagName:f,attributes:g,childNodes:[],isSVG:jt(e)||void 0,needBlock:p,rootId:h,isCustom:v}}(e,{doc:n,blockClass:r,blockSelector:s,inlineStylesheet:a,maskInputOptions:l,maskInputFn:c,dataURLOptions:A,inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:f,rootId:g});case e.TEXT_NODE:return function(e,t){var n;const{needsMask:i,maskTextFn:r,rootId:s}=t,o=e.parentNode&&e.parentNode.tagName;let a=e.textContent;const l="STYLE"===o||void 0,u="SCRIPT"===o||void 0;if(l&&a){try{e.nextSibling||e.previousSibling||(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(a=mt(e.parentNode.sheet))}catch(e){}a=Lt(a,Rt())}u&&(a="SCRIPT_PLACEHOLDER");!l&&!u&&a&&i&&(a=r?r(a,e.parentElement):a.replace(/[\S]/g,"*"));return{type:ht.Text,textContent:a||"",isStyle:l,rootId:s}}(e,{needsMask:o,maskTextFn:u,rootId:g});case e.CDATA_SECTION_NODE:return{type:ht.CDATA,textContent:"",rootId:g};case e.COMMENT_NODE:return{type:ht.Comment,textContent:e.textContent||"",rootId:g};default:return!1}}function zt(e){return null==e?"":e.toLowerCase()}function Kt(e,t){const{doc:n,mirror:i,blockClass:r,blockSelector:s,maskTextClass:o,maskTextSelector:a,skipChild:l=!1,inlineStylesheet:u=!0,maskInputOptions:c={},maskTextFn:A,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p={},inlineImages:f=!1,recordCanvas:g=!1,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y=5e3,onStylesheetLoad:b,stylesheetLoadTimeout:w=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:x=!1}=t;let{needsMask:B}=t,{preserveWhiteSpace:S=!0}=t;if(!B&&e.childNodes){B=qt(e,o,a,void 0===B)}const _=Vt(e,{doc:n,mirror:i,blockClass:r,blockSelector:s,needsMask:B,inlineStylesheet:u,maskInputOptions:c,maskTextFn:A,maskInputFn:d,dataURLOptions:p,inlineImages:f,recordCanvas:g,keepIframeSrcFn:C,newlyAddedElement:x});if(!_)return null;let k;k=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===ht.Comment)return!0;if(e.type===ht.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===Bt(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(zt(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===zt(e.attributes.name)||"icon"===zt(e.attributes.rel)||"apple-touch-icon"===zt(e.attributes.rel)||"shortcut icon"===zt(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&zt(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(zt(e.attributes.property).match(/^(og|twitter|fb):/)||zt(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===zt(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===zt(e.attributes.name)||"googlebot"===zt(e.attributes.name)||"bingbot"===zt(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===zt(e.attributes.name)||"generator"===zt(e.attributes.name)||"framework"===zt(e.attributes.name)||"publisher"===zt(e.attributes.name)||"progid"===zt(e.attributes.name)||zt(e.attributes.property).match(/^article:/)||zt(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===zt(e.attributes.name)||"yandex-verification"===zt(e.attributes.name)||"csrf-token"===zt(e.attributes.name)||"p:domain_verify"===zt(e.attributes.name)||"verify-v1"===zt(e.attributes.name)||"verification"===zt(e.attributes.name)||"shopify-checkout-api-token"===zt(e.attributes.name)))return!0}}return!1}(_,h)&&(S||_.type!==ht.Text||_.isStyle||_.textContent.replace(/^\s+|\s+$/gm,"").length)?kt():-2;const T=Object.assign(_,{id:k});if(i.add(e,T),-2===k)return null;m&&m(e);let E=!l;if(T.type===ht.Element){E=E&&!T.needBlock,delete T.needBlock;const t=e.shadowRoot;t&&gt(t)&&(T.isShadowHost=!0)}if((T.type===ht.Document||T.type===ht.Element)&&E){h.headWhitespace&&T.type===ht.Element&&"head"===T.tagName&&(S=!1);const t={doc:n,mirror:i,blockClass:r,blockSelector:s,needsMask:B,maskTextClass:o,maskTextSelector:a,skipChild:l,inlineStylesheet:u,maskInputOptions:c,maskTextFn:A,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:f,recordCanvas:g,preserveWhiteSpace:S,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:C};if(T.type===ht.Element&&"textarea"===T.tagName&&void 0!==T.attributes.value);else for(const n of Array.from(e.childNodes)){const e=Kt(n,t);e&&T.childNodes.push(e)}if(pt(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const i=Kt(n,t);i&&(gt(e.shadowRoot)&&(i.isShadow=!0),T.childNodes.push(i))}}return e.parentNode&&ft(e.parentNode)&&gt(e.parentNode)&&(T.isShadow=!0),T.type===ht.Element&&"iframe"===T.tagName&&function(e,t,n){const i=e.contentWindow;if(!i)return;let r,s=!1;try{r=i.document.readyState}catch(e){return}if("complete"!==r){const i=setTimeout((()=>{s||(t(),s=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(i),s=!0,t()}))}const o="about:blank";if(i.location.href!==o||e.src===o||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&v){const n=Kt(t,{doc:t,mirror:i,blockClass:r,blockSelector:s,needsMask:B,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:A,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:f,recordCanvas:g,preserveWhiteSpace:S,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:C});n&&v(e,n)}}),y),T.type===ht.Element&&"link"===T.tagName&&"string"==typeof T.attributes.rel&&("stylesheet"===T.attributes.rel||"preload"===T.attributes.rel&&"string"==typeof T.attributes.href&&"css"===Bt(T.attributes.href))&&function(e,t,n){let i,r=!1;try{i=e.sheet}catch(e){return}if(i)return;const s=setTimeout((()=>{r||(t(),r=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(s),r=!0,t()}))}(e,(()=>{if(b){const t=Kt(e,{doc:n,mirror:i,blockClass:r,blockSelector:s,needsMask:B,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:A,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:f,recordCanvas:g,preserveWhiteSpace:S,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:C});t&&b(e,t)}}),w),T}const Gt=/(max|min)-device-(width|height)/,Wt=(new RegExp(Gt.source,"g"),/([^\\]):hover/);new RegExp(Wt.source,"g");function $t(e,t,n=document){const i={capture:!0,passive:!0};return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}let Xt={map:{},getId(){return-1},getNode(){return null},removeNodeFromMap(){},has(){return!1},reset(){}};function Yt(e,t,n={}){let i=null,r=0;return function(...s){const o=Date.now();r||!1!==n.leading||(r=o);const a=t-(o-r),l=this;a<=0||a>t?(i&&(clearTimeout(i),i=null),r=o,e.apply(l,s)):i||!1===n.trailing||(i=setTimeout((()=>{r=!1===n.leading?0:Date.now(),i=null,e.apply(l,s)}),a))}}function Jt(e,t,n,i,r=window){const s=r.Object.getOwnPropertyDescriptor(e,t);return r.Object.defineProperty(e,t,i?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>Jt(e,t,s||{},!0)}function Zt(e,t,n){try{if(!(t in e))return()=>{};const i=e[t],r=n(i);return"function"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=r,()=>{e[t]=i}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Xt=new Proxy(Xt,{get(e,t,n){return Reflect.get(e,t,n)}}));let en=Date.now;function tn(e){var t,n,i,r,s,o;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null===(n=null===(t=null==a?void 0:a.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(i=null==a?void 0:a.body)||void 0===i?void 0:i.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null===(s=null===(r=null==a?void 0:a.body)||void 0===r?void 0:r.parentElement)||void 0===s?void 0:s.scrollTop)||(null===(o=null==a?void 0:a.body)||void 0===o?void 0:o.scrollTop)||0}}function nn(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function rn(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function sn(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function on(e,t,n,i){if(!e)return!1;const r=sn(e);if(!r)return!1;try{if("string"==typeof t){if(r.classList.contains(t))return!0;if(i&&null!==r.closest("."+t))return!0}else if(Ht(r,t,i))return!0}catch(e){}if(n){if(r.matches(n))return!0;if(i&&null!==r.closest(n))return!0}return!1}function an(e,t){return-2===t.getId(e)}function ln(e,t){if(ft(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||ln(e.parentNode,t))}function un(e){return Boolean(e.changedTouches)}function cn(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function An(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function dn(e){return Boolean(null==e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(en=()=>(new Date).getTime());class hn{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function pn(e){var t,n;let i=null;return(null===(n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(i=e.getRootNode().host),i}function fn(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=pn(n);)n=t;return n}(e);return t.contains(n)}function gn(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||fn(e))}var mn=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(mn||{}),vn=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(vn||{}),yn=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(yn||{}),bn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(bn||{}),wn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(wn||{});function Cn(e){return"__ln"in e}class xn{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Cn(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Cn(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Bn=(e,t)=>`${e}@${t}`;class Sn{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new xn,i=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},r=r=>{if(!r.parentNode||!gn(r)||"TEXTAREA"===r.parentNode.tagName)return;const s=ft(r.parentNode)?this.mirror.getId(pn(r)):this.mirror.getId(r.parentNode),o=i(r);if(-1===s||-1===o)return n.addNode(r);const a=Kt(r,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{cn(e,this.mirror)&&this.iframeManager.addIframe(e),An(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),dn(r)&&this.shadowDomManager.addShadowRoot(r.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:s,nextId:o,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)kn(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||r(e);for(const e of this.addedSet)En(this.droppedSet,e)||kn(this.removes,e,this.mirror)?En(this.movedSet,e)?r(e):this.droppedSet.add(e):r(e);let s=null;for(;n.length;){let e=null;if(s){const t=this.mirror.getId(s.value.parentNode),n=i(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===i(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const i=t.parentNode.host;if(-1!==this.mirror.getId(i)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),r(e.value)}const o={texts:this.texts.map((e=>{const t=e.node;return"TEXTAREA"===t.parentNode.tagName&&this.genTextAreaValueMutation(t.parentNode),{id:this.mirror.getId(t),value:e.value}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+i).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.genTextAreaValueMutation=e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(e.childNodes,(e=>e.textContent||"")).join("")},this.processMutation=e=>{if(!an(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;on(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:qt(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,sn(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,i=e.target.getAttribute(n);if("value"===n){const e=xt(t);i=bt({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:e,value:i,maskInputFn:this.maskInputFn})}if(on(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue)return;let r=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(i)){if(t.contentDocument)return;n="rr_src"}if(r||(r={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(e.target,r)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!Pt(t.tagName,n)&&(r.attributes[n]=Qt(this.doc,wt(t.tagName),wt(n),i),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const i=t.style.getPropertyValue(e),s=t.style.getPropertyPriority(e);i!==n.style.getPropertyValue(e)||s!==n.style.getPropertyPriority(e)?r.styleDiff[e]=""===s?i:[i,s]:r._unchangedStyles[e]=[i,s]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(r.styleDiff[e]=!1)}break}case"childList":if(on(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),i=ft(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);on(e.target,this.blockClass,this.blockSelector,!1)||an(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(_n(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||ln(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Bn(n,i)]?_n(this.movedSet,t):this.removes.push({parentId:i,id:n,isShadow:!(!ft(e.target)||!gt(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(an(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Bn(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);on(e,this.blockClass,this.blockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),dn(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function _n(e,t){e.delete(t),t.childNodes.forEach((t=>_n(e,t)))}function kn(e,t,n){return 0!==e.length&&Tn(e,t,n)}function Tn(e,t,n){const{parentNode:i}=t;if(!i)return!1;const r=n.getId(i);return!!e.some((e=>e.id===r))||Tn(e,i,n)}function En(e,t){return 0!==e.size&&In(e,t)}function In(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||In(e,n))}let Un;function Fn(e){Un=e}function Dn(){Un=void 0}const Ln=e=>{if(!Un)return e;return(...t)=>{try{return e(...t)}catch(e){if(Un&&!0===Un(e))return;throw e}}},On=[];function Nn(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function Mn(e,t){var n,i;const r=new Sn;On.push(r),r.init(e);let s=window.MutationObserver||window.__rrMutationObserver;const o=null===(i=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===i?void 0:i.call(n,"MutationObserver");o&&window[o]&&(s=window[o]);const a=new s(Ln(r.processMutations.bind(r)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function jn({mouseInteractionCb:e,doc:t,mirror:n,blockClass:i,blockSelector:r,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const o=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,a=[];let l=null;return Object.keys(yn).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==o[e])).forEach((s=>{let o=wt(s);const u=(t=>s=>{const o=Nn(s);if(on(o,i,r,!0))return;let a=null,u=t;if("pointerType"in s){switch(s.pointerType){case"mouse":a=bn.Mouse;break;case"touch":a=bn.Touch;break;case"pen":a=bn.Pen}a===bn.Touch?yn[t]===yn.MouseDown?u="TouchStart":yn[t]===yn.MouseUp&&(u="TouchEnd"):bn.Pen}else un(s)&&(a=bn.Touch);null!==a?(l=a,(u.startsWith("Touch")&&a===bn.Touch||u.startsWith("Mouse")&&a===bn.Mouse)&&(a=null)):yn[t]===yn.Click&&(a=l,l=null);const c=un(s)?s.changedTouches[0]:s;if(!c)return;const A=n.getId(o),{clientX:d,clientY:h}=c;Ln(e)(Object.assign({type:yn[u],id:A,x:d,y:h},null!==a&&{pointerType:a}))})(s);if(window.PointerEvent)switch(yn[s]){case yn.MouseDown:case yn.MouseUp:o=o.replace("mouse","pointer");break;case yn.TouchStart:case yn.TouchEnd:return}a.push($t(o,u,t))})),Ln((()=>{a.forEach((e=>e()))}))}function Rn({scrollCb:e,doc:t,mirror:n,blockClass:i,blockSelector:r,sampling:s}){return $t("scroll",Ln(Yt(Ln((s=>{const o=Nn(s);if(!o||on(o,i,r,!0))return;const a=n.getId(o);if(o===t&&t.defaultView){const n=tn(t.defaultView);e({id:a,x:n.left,y:n.top})}else e({id:a,x:o.scrollLeft,y:o.scrollTop})})),s.scroll||100)),t)}const Qn=["INPUT","TEXTAREA","SELECT"],Pn=new WeakMap;function Hn(e){return function(e,t){if(Kn("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Kn("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Kn("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Kn("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function qn(e,t,n){let i,r;return e?(e.ownerNode?i=t.getId(e.ownerNode):r=n.getId(e),{styleId:r,id:i}):{}}function Vn({mirror:e,stylesheetManager:t},n){var i,r,s;let o=null;o="#document"===n.nodeName?e.getId(n):e.getId(n.host);const a="#document"===n.nodeName?null===(i=n.defaultView)||void 0===i?void 0:i.Document:null===(s=null===(r=n.ownerDocument)||void 0===r?void 0:r.defaultView)||void 0===s?void 0:s.ShadowRoot,l=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&a&&l?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var e;return null===(e=l.get)||void 0===e?void 0:e.call(this)},set(e){var n;const i=null===(n=l.set)||void 0===n?void 0:n.call(this,e);if(null!==o&&-1!==o)try{t.adoptStyleSheets(e,o)}catch(e){}return i}}),Ln((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))):()=>{}}function zn(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let i;!function(e,t){const{mutationCb:n,mousemoveCb:i,mouseInteractionCb:r,scrollCb:s,viewportResizeCb:o,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:A,fontCb:d,selectionCb:h,customElementCb:p}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),n(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),i(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),r(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),s(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),o(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),l(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),u(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),c(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),A(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),d(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),h(...e)},e.customElementCb=(...e)=>{t.customElement&&t.customElement(...e),p(...e)}}(e,t),e.recordDOM&&(i=Mn(e,e.doc));const r=function({mousemoveCb:e,sampling:t,doc:n,mirror:i}){if(!1===t.mousemove)return()=>{};const r="number"==typeof t.mousemove?t.mousemove:50,s="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let o,a=[];const l=Yt(Ln((t=>{const n=Date.now()-o;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],o=null})),s),u=Ln(Yt(Ln((e=>{const t=Nn(e),{clientX:n,clientY:r}=un(e)?e.changedTouches[0]:e;o||(o=en()),a.push({x:n,y:r,id:i.getId(t),timeOffset:en()-o}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?vn.Drag:e instanceof MouseEvent?vn.MouseMove:vn.TouchMove)})),r,{trailing:!1})),c=[$t("mousemove",u,n),$t("touchmove",u,n),$t("drag",u,n)];return Ln((()=>{c.forEach((e=>e()))}))}(e),s=jn(e),o=Rn(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,i=-1;return $t("resize",Ln(Yt(Ln((()=>{const t=nn(),r=rn();n===t&&i===r||(e({width:Number(r),height:Number(t)}),n=t,i=r)})),200)),t)}(e,{win:n}),l=function({inputCb:e,doc:t,mirror:n,blockClass:i,blockSelector:r,ignoreClass:s,ignoreSelector:o,maskInputOptions:a,maskInputFn:l,sampling:u,userTriggeredOnInput:c}){function A(e){let n=Nn(e);const u=e.isTrusted,A=n&&n.tagName;if(n&&"OPTION"===A&&(n=n.parentElement),!n||!A||Qn.indexOf(A)<0||on(n,i,r,!0))return;if(n.classList.contains(s)||o&&n.matches(o))return;let h=n.value,p=!1;const f=xt(n)||"";"radio"===f||"checkbox"===f?p=n.checked:(a[A.toLowerCase()]||a[f])&&(h=bt({element:n,maskInputOptions:a,tagName:A,type:f,value:h,maskInputFn:l})),d(n,c?{text:h,isChecked:p,userTriggered:u}:{text:h,isChecked:p});const g=n.name;"radio"===f&&g&&p&&t.querySelectorAll(`input[type="radio"][name="${g}"]`).forEach((e=>{if(e!==n){const t=e.value;d(e,c?{text:t,isChecked:!p,userTriggered:!1}:{text:t,isChecked:!p})}}))}function d(t,i){const r=Pn.get(t);if(!r||r.text!==i.text||r.isChecked!==i.isChecked){Pn.set(t,i);const r=n.getId(t);Ln(e)(Object.assign(Object.assign({},i),{id:r}))}}const h=("last"===u.input?["change"]:["input","change"]).map((e=>$t(e,Ln(A),t))),p=t.defaultView;if(!p)return()=>{h.forEach((e=>e()))};const f=p.Object.getOwnPropertyDescriptor(p.HTMLInputElement.prototype,"value"),g=[[p.HTMLInputElement.prototype,"value"],[p.HTMLInputElement.prototype,"checked"],[p.HTMLSelectElement.prototype,"value"],[p.HTMLTextAreaElement.prototype,"value"],[p.HTMLSelectElement.prototype,"selectedIndex"],[p.HTMLOptionElement.prototype,"selected"]];return f&&f.set&&h.push(...g.map((e=>Jt(e[0],e[1],{set(){Ln(A)({target:this,isTrusted:!1})}},!1,p)))),Ln((()=>{h.forEach((e=>e()))}))}(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:i,sampling:r,doc:s}){const o=Ln((s=>Yt(Ln((r=>{const o=Nn(r);if(!o||on(o,t,n,!0))return;const{currentTime:a,volume:l,muted:u,playbackRate:c}=o;e({type:s,id:i.getId(o),currentTime:a,volume:l,muted:u,playbackRate:c})})),r.media||500))),a=[$t("play",o(0),s),$t("pause",o(1),s),$t("seeked",o(2),s),$t("volumechange",o(3),s),$t("ratechange",o(4),s)];return Ln((()=>{a.forEach((e=>e()))}))}(e);let c=()=>{},A=()=>{},d=()=>{},h=()=>{};e.recordDOM&&(c=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:i}){if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const r=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(r,{apply:Ln(((i,r,s)=>{const[o,a]=s,{id:l,styleId:u}=qn(r,t,n.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:o,index:a}]}),i.apply(r,s)}))});const s=i.CSSStyleSheet.prototype.deleteRule;let o,a;i.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:Ln(((i,r,s)=>{const[o]=s,{id:a,styleId:l}=qn(r,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:o}]}),i.apply(r,s)}))}),i.CSSStyleSheet.prototype.replace&&(o=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Ln(((i,r,s)=>{const[o]=s,{id:a,styleId:l}=qn(r,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:o}),i.apply(r,s)}))})),i.CSSStyleSheet.prototype.replaceSync&&(a=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Ln(((i,r,s)=>{const[o]=s,{id:a,styleId:l}=qn(r,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:o}),i.apply(r,s)}))}));const l={};Gn("CSSGroupingRule")?l.CSSGroupingRule=i.CSSGroupingRule:(Gn("CSSMediaRule")&&(l.CSSMediaRule=i.CSSMediaRule),Gn("CSSConditionRule")&&(l.CSSConditionRule=i.CSSConditionRule),Gn("CSSSupportsRule")&&(l.CSSSupportsRule=i.CSSSupportsRule));const u={};return Object.entries(l).forEach((([i,r])=>{u[i]={insertRule:r.prototype.insertRule,deleteRule:r.prototype.deleteRule},r.prototype.insertRule=new Proxy(u[i].insertRule,{apply:Ln(((i,r,s)=>{const[o,a]=s,{id:l,styleId:u}=qn(r.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:o,index:[...Hn(r),a||0]}]}),i.apply(r,s)}))}),r.prototype.deleteRule=new Proxy(u[i].deleteRule,{apply:Ln(((i,r,s)=>{const[o]=s,{id:a,styleId:l}=qn(r.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...Hn(r),o]}]}),i.apply(r,s)}))})})),Ln((()=>{i.CSSStyleSheet.prototype.insertRule=r,i.CSSStyleSheet.prototype.deleteRule=s,o&&(i.CSSStyleSheet.prototype.replace=o),a&&(i.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach((([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule}))}))}(e,{win:n}),A=Vn(e,e.doc),d=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:i},{win:r}){const s=r.CSSStyleDeclaration.prototype.setProperty;r.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Ln(((r,o,a)=>{var l;const[u,c,A]=a;if(n.has(u))return s.apply(o,[u,c,A]);const{id:d,styleId:h}=qn(null===(l=o.parentRule)||void 0===l?void 0:l.parentStyleSheet,t,i.styleMirror);return(d&&-1!==d||h&&-1!==h)&&e({id:d,styleId:h,set:{property:u,value:c,priority:A},index:Hn(o.parentRule)}),r.apply(o,a)}))});const o=r.CSSStyleDeclaration.prototype.removeProperty;return r.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Ln(((r,s,a)=>{var l;const[u]=a;if(n.has(u))return o.apply(s,[u]);const{id:c,styleId:A}=qn(null===(l=s.parentRule)||void 0===l?void 0:l.parentStyleSheet,t,i.styleMirror);return(c&&-1!==c||A&&-1!==A)&&e({id:c,styleId:A,remove:{property:u},index:Hn(s.parentRule)}),r.apply(s,a)}))}),Ln((()=>{r.CSSStyleDeclaration.prototype.setProperty=s,r.CSSStyleDeclaration.prototype.removeProperty=o}))}(e,{win:n}),e.collectFonts&&(h=function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const i=[],r=new WeakMap,s=n.FontFace;n.FontFace=function(e,t,n){const i=new s(e,t,n);return r.set(i,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),i};const o=Zt(t.fonts,"add",(function(t){return function(n){return setTimeout(Ln((()=>{const t=r.get(n);t&&(e(t),r.delete(n))})),0),t.apply(this,[n])}}));return i.push((()=>{n.FontFace=s})),i.push(o),Ln((()=>{i.forEach((e=>e()))}))}(e)));const p=function(e){const{doc:t,mirror:n,blockClass:i,blockSelector:r,selectionCb:s}=e;let o=!0;const a=Ln((()=>{const e=t.getSelection();if(!e||o&&(null==e?void 0:e.isCollapsed))return;o=e.isCollapsed||!1;const a=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const s=e.getRangeAt(t),{startContainer:o,startOffset:l,endContainer:u,endOffset:c}=s;on(o,i,r,!0)||on(u,i,r,!0)||a.push({start:n.getId(o),startOffset:l,end:n.getId(u),endOffset:c})}s({ranges:a})}));return a(),$t("selectionchange",a)}(e),f=function({doc:e,customElementCb:t}){const n=e.defaultView;if(!n||!n.customElements)return()=>{};const i=Zt(n.customElements,"define",(function(e){return function(n,i,r){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,i,r])}}));return i}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return Ln((()=>{On.forEach((e=>e.reset())),null==i||i.disconnect(),r(),s(),o(),a(),l(),u(),c(),A(),d(),h(),p(),f(),g.forEach((e=>e()))}))}function Kn(e){return void 0!==window[e]}function Gn(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Wn{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,i){const r=n||this.getIdToRemoteIdMap(e),s=i||this.getRemoteIdToIdMap(e);let o=r.get(t);return o||(o=this.generateIdFn(),r.set(t,o),s.set(o,t)),o}getIds(e,t){const n=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,i)))}getRemoteId(e,t,n){const i=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const r=i.get(t);return r||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class $n{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Wn(kt),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Wn(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const i=this.transformCrossOriginEvent(n,t.data.event);i&&this.wrappedEmit(i,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case mn.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:mn.IncrementalSnapshot,data:{source:vn.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case mn.Meta:case mn.Load:case mn.DomContentLoaded:return!1;case mn.Plugin:return t;case mn.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case mn.IncrementalSnapshot:switch(t.data.source){case vn.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case vn.Drag:case vn.TouchMove:case vn.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case vn.ViewportResize:return!1;case vn.MediaInteraction:case vn.MouseInteraction:case vn.Scroll:case vn.CanvasMutation:case vn.Input:return this.replaceIds(t.data,e,["id"]),t;case vn.StyleSheetRule:case vn.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case vn.Font:return t;case vn.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case vn.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,n,i){for(const r of i)(Array.isArray(t[r])||"number"==typeof t[r])&&(Array.isArray(t[r])?t[r]=e.getIds(n,t[r]):t[r]=e.getId(n,t[r]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===ht.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Xn{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!gt(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Mn(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Rn(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Vn({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Zt(e.prototype,"attachShadow",(function(e){return function(i){const r=e.call(this,i);return this.shadowRoot&&gn(this)&&n.addShadowRoot(this.shadowRoot,t),r}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}function Yn(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}for(var Jn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ei=0;ei<64;ei++)Zn[Jn.charCodeAt(ei)]=ei;const ti=new Map;const ni=(e,t,n)=>{if(!e||!si(e,t)&&"object"!=typeof e)return;const i=function(e,t){let n=ti.get(e);return n||(n=new Map,ti.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let r=i.indexOf(e);return-1===r&&(r=i.length,i.push(e)),r};function ii(e,t,n){if(e instanceof Array)return e.map((e=>ii(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),i=n.length,r="";for(t=0;t<i;t+=3)r+=Jn[n[t]>>2],r+=Jn[(3&n[t])<<4|n[t+1]>>4],r+=Jn[(15&n[t+1])<<2|n[t+2]>>6],r+=Jn[63&n[t+2]];return i%3==2?r=r.substring(0,r.length-1)+"=":i%3==1&&(r=r.substring(0,r.length-2)+"=="),r}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[ii(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[ii(e.data,t,n),e.width,e.height]}}if(si(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:ni(e,t,n)}}return e}const ri=(e,t,n)=>e.map((e=>ii(e,t,n))),si=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function oi(e,t,n,i){const r=[];try{const s=Zt(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(r,...s){if(!on(this,t,n,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(r);if("__context"in this||(this.__context=e),i&&["webgl","webgl2"].includes(e))if(s[0]&&"object"==typeof s[0]){const e=s[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else s.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[r,...s])}}));r.push(s)}catch(e){}return()=>{r.forEach((e=>e()))}}function ai(e,t,n,i,r,s,o){const a=[],l=Object.getOwnPropertyNames(e);for(const s of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(s))try{if("function"!=typeof e[s])continue;const l=Zt(e,s,(function(e){return function(...a){const l=e.apply(this,a);if(ni(l,o,this),"tagName"in this.canvas&&!on(this.canvas,i,r,!0)){const e=ri(a,o,this),i={type:t,property:s,args:e};n(this.canvas,i)}return l}}));a.push(l)}catch(i){const r=Jt(e,s,{set(e){n(this.canvas,{type:t,property:s,args:[e],setter:!0})}});a.push(r)}return a}var li=function(e,t){var n;return function(i){return n=n||function(e,t){var n=function(e,t){var n=void 0===t?null:t,i=e.toString().split("\n");i.pop(),i.shift();for(var r=i[0].search(/\S/),s=/(['"])__worker_loader_strict__(['"])/g,o=0,a=i.length;o<a;++o)i[o]=i[o].substring(r).replace(s,"$1use strict$2")+"\n";return n&&i.push("//# sourceMappingURL="+n+"\n"),i}(e,t),i=new Blob(n,{type:"application/javascript"});return URL.createObjectURL(i)}(e,t),new Worker(n,i)}}((function(){!function(){function e(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<64;i++)n[t.charCodeAt(i)]=i;var r=function(e){var n,i=new Uint8Array(e),r=i.length,s="";for(n=0;n<r;n+=3)s+=t[i[n]>>2],s+=t[(3&i[n])<<4|i[n+1]>>4],s+=t[(15&i[n+1])<<2|i[n+2]>>6],s+=t[63&i[n+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const s=new Map,o=new Map;const a=self;a.onmessage=function(t){return e(this,void 0,void 0,(function*(){if(!("OffscreenCanvas"in globalThis))return a.postMessage({id:t.data.id});{const{id:n,bitmap:i,width:l,height:u,dataURLOptions:c}=t.data,A=function(t,n,i){return e(this,void 0,void 0,(function*(){const e=`${t}-${n}`;if("OffscreenCanvas"in globalThis){if(o.has(e))return o.get(e);const s=new OffscreenCanvas(t,n);s.getContext("2d");const a=yield s.convertToBlob(i),l=yield a.arrayBuffer(),u=r(l);return o.set(e,u),u}return""}))}(l,u,c),d=new OffscreenCanvas(l,u);d.getContext("2d").drawImage(i,0,0),i.close();const h=yield d.convertToBlob(c),p=h.type,f=yield h.arrayBuffer(),g=r(f);if(!s.has(n)&&(yield A)===g)return s.set(n,g),a.postMessage({id:n});if(s.get(n)===g)return a.postMessage({id:n});a.postMessage({id:n,type:p,base64:g,width:l,height:u}),s.set(n,g)}}))}}()}),null);class ui{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:i,blockSelector:r,recordCanvas:s,dataURLOptions:o}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,s&&"all"===t&&this.initCanvasMutationObserver(n,i,r),s&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,i,r,{dataURLOptions:o})}initCanvasFPSObserver(e,t,n,i,r){const s=oi(t,n,i,!0),o=new Map,a=new li;a.onmessage=e=>{const{id:t}=e.data;if(o.set(t,!1),!("base64"in e.data))return;const{base64:n,type:i,width:r,height:s}=e.data;this.mutationCb({id:t,type:wn["2D"],commands:[{property:"clearRect",args:[0,0,r,s]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:i}]},0,0]}]})};const l=1e3/e;let u,c=0;const A=e=>{c&&e-c<l||(c=e,(()=>{const e=[];return t.document.querySelectorAll("canvas").forEach((t=>{on(t,n,i,!0)||e.push(t)})),e})().forEach((e=>Yn(this,void 0,void 0,(function*(){var t;const n=this.mirror.getId(e);if(o.get(n))return;if(o.set(n,!0),["webgl","webgl2"].includes(e.__context)){const n=e.getContext(e.__context);!1===(null===(t=null==n?void 0:n.getContextAttributes())||void 0===t?void 0:t.preserveDrawingBuffer)&&n.clear(n.COLOR_BUFFER_BIT)}const i=yield createImageBitmap(e);a.postMessage({id:n,bitmap:i,width:e.width,height:e.height,dataURLOptions:r.dataURLOptions},[i])}))))),u=requestAnimationFrame(A)};u=requestAnimationFrame(A),this.resetObservers=()=>{s(),cancelAnimationFrame(u)}}initCanvasMutationObserver(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=oi(e,t,n,!1),r=function(e,t,n,i){const r=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const o of s)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[o])continue;const s=Zt(t.CanvasRenderingContext2D.prototype,o,(function(r){return function(...s){return on(this.canvas,n,i,!0)||setTimeout((()=>{const n=ri(s,t,this);e(this.canvas,{type:wn["2D"],property:o,args:n})}),0),r.apply(this,s)}}));r.push(s)}catch(n){const i=Jt(t.CanvasRenderingContext2D.prototype,o,{set(t){e(this.canvas,{type:wn["2D"],property:o,args:[t],setter:!0})}});r.push(i)}return()=>{r.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n),s=function(e,t,n,i){const r=[];return r.push(...ai(t.WebGLRenderingContext.prototype,wn.WebGL,e,n,i,0,t)),void 0!==t.WebGL2RenderingContext&&r.push(...ai(t.WebGL2RenderingContext.prototype,wn.WebGL2,e,n,i,0,t)),()=>{r.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,this.mirror);this.resetObservers=()=>{i(),r(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const i=n.map((e=>{const t=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["type"]);return t})),{type:r}=n[0];this.mutationCb({id:t,type:r,commands:i}),this.pendingCanvasMutations.delete(e)}}class ci{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new hn,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},i=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),i.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:vt(e),index:t})))})),n.styleIds.push(e)}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Ai{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function di(e){return Object.assign(Object.assign({},e),{timestamp:en()})}let hi,pi,fi,gi=!1;const mi=new yt;function vi(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:i,blockClass:r="rr-block",blockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:a=null,maskTextClass:l="rr-mask",maskTextSelector:u=null,inlineStylesheet:c=!0,maskAllInputs:A,maskInputOptions:d,slimDOMOptions:h,maskInputFn:p,maskTextFn:f,hooks:g,packFn:m,sampling:v={},dataURLOptions:y={},mousemoveWait:b,recordDOM:w=!0,recordCanvas:C=!1,recordCrossOriginIframes:x=!1,recordAfter:B=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:S=!1,collectFonts:_=!1,inlineImages:k=!1,plugins:T,keepIframeSrcFn:E=()=>!1,ignoreCSSAttributes:I=new Set([]),errorHandler:U}=e;Fn(U);const F=!x||window.parent===window;let D=!1;if(!F)try{window.parent.document&&(D=!1)}catch(e){D=!0}if(F&&!t)throw new Error("emit function is required");void 0!==b&&void 0===v.mousemove&&(v.mousemove=b),mi.reset();const L=!0===A?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==d?d:{password:!0},O=!0===h||"all"===h?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===h,headMetaDescKeywords:"all"===h}:h||{};let N;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let M=0;const j=e=>{for(const t of T||[])t.eventProcessor&&(e=t.eventProcessor(e));return m&&!D&&(e=m(e)),e};hi=(e,r)=>{var s;if(!(null===(s=On[0])||void 0===s?void 0:s.isFrozen())||e.type===mn.FullSnapshot||e.type===mn.IncrementalSnapshot&&e.data.source===vn.Mutation||On.forEach((e=>e.unfreeze())),F)null==t||t(j(e),r);else if(D){const t={type:"rrweb",event:j(e),origin:window.location.origin,isCheckout:r};window.parent.postMessage(t,"*")}if(e.type===mn.FullSnapshot)N=e,M=0;else if(e.type===mn.IncrementalSnapshot){if(e.data.source===vn.Mutation&&e.data.isAttachIframe)return;M++;const t=i&&M>=i,r=n&&e.timestamp-N.timestamp>n;(t||r)&&pi(!0)}};const R=e=>{hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.Mutation},e)}))},Q=e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.Scroll},e)})),P=e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.CanvasMutation},e)})),H=new ci({mutationCb:R,adoptedStyleSheetCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.AdoptedStyleSheet},e)}))}),q=new $n({mirror:mi,mutationCb:R,stylesheetManager:H,recordCrossOriginIframes:x,wrappedEmit:hi});for(const e of T||[])e.getMirror&&e.getMirror({nodeMirror:mi,crossOriginIframeMirror:q.crossOriginIframeMirror,crossOriginIframeStyleMirror:q.crossOriginIframeStyleMirror});const V=new Ai;fi=new ui({recordCanvas:C,mutationCb:P,win:window,blockClass:r,blockSelector:s,mirror:mi,sampling:v.canvas,dataURLOptions:y});const z=new Xn({mutationCb:R,scrollCb:Q,bypassOptions:{blockClass:r,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskInputOptions:L,dataURLOptions:y,maskTextFn:f,maskInputFn:p,recordCanvas:C,inlineImages:k,sampling:v,slimDOMOptions:O,iframeManager:q,stylesheetManager:H,canvasManager:fi,keepIframeSrcFn:E,processedNodeManager:V},mirror:mi});pi=(e=!1)=>{if(!w)return;hi(di({type:mn.Meta,data:{href:window.location.href,width:rn(),height:nn()}}),e),H.reset(),z.init(),On.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new yt,blockClass:i="rr-block",blockSelector:r=null,maskTextClass:s="rr-mask",maskTextSelector:o=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:u=!1,maskAllInputs:c=!1,maskTextFn:A,maskInputFn:d,slimDOM:h=!1,dataURLOptions:p,preserveWhiteSpace:f,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:v,onStylesheetLoad:y,stylesheetLoadTimeout:b,keepIframeSrcFn:w=()=>!1}=t||{};return Kt(e,{doc:e,mirror:n,blockClass:i,blockSelector:r,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===c?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===c?{password:!0}:c,maskTextFn:A,maskInputFn:d,slimDOMOptions:!0===h||"all"===h?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===h,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===h?{}:h,dataURLOptions:p,inlineImages:l,recordCanvas:u,preserveWhiteSpace:f,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:v,onStylesheetLoad:y,stylesheetLoadTimeout:b,keepIframeSrcFn:w,newlyAddedElement:!1})}(document,{mirror:mi,blockClass:r,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskAllInputs:L,maskTextFn:f,slimDOM:O,dataURLOptions:y,recordCanvas:C,inlineImages:k,onSerialize:e=>{cn(e,mi)&&q.addIframe(e),An(e,mi)&&H.trackLinkElement(e),dn(e)&&z.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{q.attachIframe(e,t),z.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{H.attachLinkElement(e,t)},keepIframeSrcFn:E});t&&(hi(di({type:mn.FullSnapshot,data:{node:t,initialOffset:tn(window)}}),e),On.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&H.adoptStyleSheets(document.adoptedStyleSheets,mi.getId(document)))};try{const e=[],t=e=>{var t;return Ln(zn)({mutationCb:R,mousemoveCb:(e,t)=>hi(di({type:mn.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.MouseInteraction},e)})),scrollCb:Q,viewportResizeCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.ViewportResize},e)})),inputCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.Input},e)})),mediaInteractionCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.MediaInteraction},e)})),styleSheetRuleCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.StyleSheetRule},e)})),styleDeclarationCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.StyleDeclaration},e)})),canvasMutationCb:P,fontCb:e=>hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.Font},e)})),selectionCb:e=>{hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.Selection},e)}))},customElementCb:e=>{hi(di({type:mn.IncrementalSnapshot,data:Object.assign({source:vn.CustomElement},e)}))},blockClass:r,ignoreClass:o,ignoreSelector:a,maskTextClass:l,maskTextSelector:u,maskInputOptions:L,inlineStylesheet:c,sampling:v,recordDOM:w,recordCanvas:C,inlineImages:k,userTriggeredOnInput:S,collectFonts:_,doc:e,maskInputFn:p,maskTextFn:f,keepIframeSrcFn:E,blockSelector:s,slimDOMOptions:O,dataURLOptions:y,mirror:mi,iframeManager:q,stylesheetManager:H,shadowDomManager:z,processedNodeManager:V,canvasManager:fi,ignoreCSSAttributes:I,plugins:(null===(t=null==T?void 0:T.filter((e=>e.observer)))||void 0===t?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>hi(di({type:mn.Plugin,data:{plugin:e.name,payload:t}}))}))))||[]},g)};q.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){}}));const n=()=>{pi(),e.push(t(document)),gi=!0};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push($t("DOMContentLoaded",(()=>{hi(di({type:mn.DomContentLoaded,data:{}})),"DOMContentLoaded"===B&&n()}))),e.push($t("load",(()=>{hi(di({type:mn.Load,data:{}})),"load"===B&&n()}),window))),()=>{e.forEach((e=>e())),V.destroy(),gi=!1,Dn()}}catch(e){}}vi.addCustomEvent=(e,t)=>{if(!gi)throw new Error("please add custom event after start recording");hi(di({type:mn.Custom,data:{tag:e,payload:t}}))},vi.freezePage=()=>{On.forEach((e=>e.freeze()))},vi.takeFullSnapshot=e=>{if(!gi)throw new Error("please take full snapshot after start recording");pi(e)},vi.mirror=mi;class yi{constructor(e){this.fileName=e.fileName||"",this.functionName=e.functionName||"",this.lineNumber=e.lineNumber,this.columnNumber=e.columnNumber}toString(){const e=this.lineNumber||"",t=this.columnNumber||"";return this.functionName?`${this.functionName} (${this.fileName}:${e}:${t})`:`${this.fileName}:${e}:${t}`}}const bi=/(^|@)\S+:\d+/,wi=/^\s*at .*(\S+:\d+|\(native\))/m,Ci=/^(eval@)?(\[native code])?$/,xi={parse:function(e){return e?void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(wi)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):[]:[]},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));if(!t)throw new Error(`Cannot parse given url: ${e}`);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(wi)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(");const n=t.match(/ (\((.+):(\d+):(\d+)\)$)/);t=n?t.replace(n[0],""):t;const i=t.split(/\s+/).slice(1),r=this.extractLocation(n?n[1]:i.pop()),s=i.join(" ")||void 0,o=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new yi({functionName:s,fileName:o,lineNumber:r[1],columnNumber:r[2]})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(Ci)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new yi({functionName:e});{const t=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=e.match(t),i=n&&n[1]?n[1]:void 0,r=this.extractLocation(e.replace(t,""));return new yi({functionName:i,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){const t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),i=[];for(let e=2,r=n.length;e<r;e+=2){const r=t.exec(n[e]);r&&i.push(new yi({fileName:r[2],lineNumber:parseFloat(r[1])}))}return i},parseOpera10:function(e){const t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),i=[];for(let e=0,r=n.length;e<r;e+=2){const r=t.exec(n[e]);r&&i.push(new yi({functionName:r[3]||void 0,fileName:r[2],lineNumber:parseFloat(r[1])}))}return i},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(bi)&&!e.match(/^Error created at/)}),this).map((function(e){const t=e.split("@"),n=this.extractLocation(t.pop()),i=(t.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new yi({functionName:i,fileName:n[0],lineNumber:n[1],columnNumber:n[2]})}),this)}};function Bi(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();const i=e.parentElement,r=[];if(i.children&&i.children.length>0)for(let e=0;e<i.children.length;e++){const t=i.children[e];t.localName&&t.localName.toLowerCase&&t.localName.toLowerCase()===n&&r.push(t)}r.length>1&&(n+=`:eq(${r.indexOf(e)})`),t=n+(t?">"+t:""),e=i}return t}function Si(e){return"[object Object]"===Object.prototype.toString.call(e)}function _i(e,t){if(0===t)return!0;const n=Object.keys(e);for(const i of n)if(Si(e[i])&&_i(e[i],t-1))return!0;return!1}function ki(e,t){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);const i=[],r=[];return JSON.stringify(e,(function(e,t){if(i.length>0){const n=i.indexOf(this);~n?i.splice(n+1):i.push(this),~n?r.splice(n,1/0,e):r.push(e),~i.indexOf(t)&&(t=i[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(t)).join(".")+"]")}else i.push(t);if(null===t)return t;if(void 0===t)return"undefined";if(function(e){if(Si(e)&&Object.keys(e).length>n.numOfKeysLimit)return!0;if("function"==typeof e)return!0;if(Si(e)&&_i(e,n.depthOfLimit))return!0;return!1}(t))return function(e){let t=e.toString();n.stringLengthLimit&&t.length>n.stringLengthLimit&&(t=`${t.slice(0,n.stringLengthLimit)}...`);return t}(t);if("bigint"==typeof t)return t.toString()+"n";if(t instanceof Event){const e={};for(const n in t){const i=t[n];Array.isArray(i)?e[n]=Bi(i.length?i[0]:null):e[n]=i}return e}return t instanceof Node?t instanceof HTMLElement?t?t.outerHTML:"":t.nodeName:t instanceof Error?t.stack?t.stack+"\nEnd of stack for Error object":t.name+": "+t.message:t}))}const Ti={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function Ei(e,t,n){const i=n?Object.assign({},Ti,n):Ti,r=i.logger;if(!r)return()=>{};let s;s="string"==typeof r?t[r]:r;let o=0,a=!1;const l=[];if(i.level.includes("error")){const n=t=>{const n=t.message,r=t.error,s=xi.parse(r).map((e=>e.toString())),o=[ki(n,i.stringifyOptions)];e({level:"error",trace:s,payload:o})};t.addEventListener("error",n),l.push((()=>{t.removeEventListener("error",n)}));const r=t=>{let n,r;t.reason instanceof Error?(n=t.reason,r=[ki(`Uncaught (in promise) ${n.name}: ${n.message}`,i.stringifyOptions)]):(n=new Error,r=[ki("Uncaught (in promise)",i.stringifyOptions),ki(t.reason,i.stringifyOptions)]);const s=xi.parse(n).map((e=>e.toString()));e({level:"error",trace:s,payload:r})};t.addEventListener("unhandledrejection",r),l.push((()=>{t.removeEventListener("unhandledrejection",r)}))}for(const e of i.level)l.push(u(s,e));return()=>{l.forEach((e=>e()))};function u(t,n){return t[n]?Zt(t,n,(t=>(...r)=>{if(t.apply(this,r),!a){a=!0;try{const t=xi.parse(new Error).map((e=>e.toString())).splice(1),s=r.map((e=>ki(e,i.stringifyOptions)));o++,o<i.lengthThreshold?e({level:n,trace:t,payload:s}):o===i.lengthThreshold&&e({level:"warn",trace:[],payload:[ki("The number of log records reached the threshold.")]})}catch(e){t("rrweb logger error:",e,...r)}finally{a=!1}}})):()=>{}}}const Ii=e=>({name:"rrweb/console@1",observer:Ei,options:e});var Ui=n(3744);const Fi=Symbol.for("Dexie"),Di=globalThis[Fi]||(globalThis[Fi]=Ui);if(Ui.semVer!==Di.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ui.semVer} and ${Di.semVer}`);const{liveQuery:Li,mergeRanges:Oi,rangesOverlap:Ni,RangeSet:Mi,cmp:ji,Entity:Ri,PropModification:Qi,replacePrefix:Pi,add:Hi,remove:qi}=Di;var Vi=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class zi{constructor(e){this.batchQueue=[],this.rewindBatchQueue=[],this.processingBatch=!1,this.processingRewindBatch=!1,this.BATCH_SIZE=15,this.BATCH_INTERVAL=2e3,this.lastBatch=0,this.requests=new Map,this.CLEAN_UP_INTERVAL=3e4,this.lastCleanup=0,this.isDestroyed=!1,this.minutesToKeepData=10,this.__init(e)}__init(e){if(zi._instance)return zi._instance;zi._instance=this,this.db=new Di("logger-DB"),this.isDestroyed=!1,this.initDB(),this.batchQueue=[],this.rewindBatchQueue=[],this.processingBatch=!1,this.processingRewindBatch=!1,this.BATCH_SIZE=15,this.BATCH_INTERVAL=2e3,this.CLEAN_UP_INTERVAL=3e4,this.startPeriodicBatchProcess(),this.minutesToKeepData=e.maxRecordingMinutes||10}createIframe(){var e;this.iframeRef=null===document||void 0===document?void 0:document.getElementById(r),this.iframeRef||(this.iframeRef=document.createElement("iframe"),this.iframeRef.src="https://recording.betterbugs.io/message-listener",this.iframeRef.id=r,this.iframeRef.hidden=!0,null===(e=null===document||void 0===document?void 0:document.body)||void 0===e||e.append(this.iframeRef))}sendMessageToIframe(e){var t,n,i,r;return Vi(this,void 0,void 0,(function*(){"hidden"!==document.visibilityState&&(null===(n=null===(t=this.iframeRef)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage({type:"application",data:e,timestamp:Date.now()},"*"),null===(r=null===(i=this.iframeRef)||void 0===i?void 0:i.contentWindow)||void 0===r||r.postMessage({type:"urlInfo",domain:window.location.hostname,pageTitle:document.title,url:window.location.href},"*"))}))}cleanUpdata(){return Vi(this,void 0,void 0,(function*(){const e=Date.now();if(e-parseInt(localStorage.getItem("lastCleanup")||"0")>=this.CLEAN_UP_INTERVAL){const t=60*this.minutesToKeepData*1e3;this.deleteRewindDataOnTabReload(t),yield this.db.logs.where("timestamp").between(0,Date.now()-t,!0,!0).delete(),localStorage.setItem("lastCleanup",e.toString())}}))}deleteRewindDataOnTabReload(e){return Vi(this,void 0,void 0,(function*(){try{return yield this.db.rewind.where("timestamp").between(0,Date.now()-e,!0,!0).delete(),!0}catch(e){return d.log("🚀 ~ deleteRewindDataOnTabReload ~ error:",e),!1}}))}startPeriodicBatchProcess(){this.interval=setInterval((()=>{var e;this.batchQueue.length>0&&this.processBatch(),(null===(e=this.rewindBatchQueue)||void 0===e?void 0:e.length)>0&&this.processRewindBatch(),this.cleanUpdata()}),this.BATCH_INTERVAL)}initDB(){var e,t;null===(e=null==this?void 0:this.db)||void 0===e||e.version(parseInt("1")).stores({logs:"++id,tabId,timestamp,type,[tabId+timestamp]",rewind:"++id,tabId,timestamp,[tabId+timestamp]"}),null===(t=null==this?void 0:this.db)||void 0===t||t.open(),d.log("this.db",this.db)}addToBatch(e){return Vi(this,void 0,void 0,(function*(){try{this.iframeRef||this.createIframe();if(!"https://recording.betterbugs.io/message-listener")return void d.error("MESSAGE_LISTENER_URL is not defined");if(this.iframeRef&&this.iframeRef.contentWindow&&"visible"===document.visibilityState)try{this.iframeRef.contentWindow.postMessage(e,"*")}catch(e){d.error("Failed to post message to iframe:",e)}this.batchQueue.push(Object.assign({},e)),this.batchQueue.length>=this.BATCH_SIZE&&(yield this.processBatch())}catch(e){d.error("Error in addToBatch:",e)}}))}addRewindDataToBatch(e){return Vi(this,void 0,void 0,(function*(){this.rewindBatchQueue.push(e),this.rewindBatchQueue.length>=this.BATCH_SIZE&&(yield this.processRewindBatch())}))}processRewindBatch(){var e,t,n,i,r,s;return Vi(this,void 0,void 0,(function*(){if(this.processingRewindBatch||0===this.rewindBatchQueue.length)return;let o=[];try{this.processingRewindBatch=!0,o=this.rewindBatchQueue.splice(0,this.BATCH_SIZE);const n=o.filter((e=>!!e)).map((e=>Object.assign(Object.assign({},e),{event:this.sanitizeForIndexedDB(e.event),events:Array.isArray(e.events)?e.events.map((e=>this.sanitizeForIndexedDB(e))):e.events})));yield null===(t=null===(e=null==this?void 0:this.db)||void 0===e?void 0:e.rewind)||void 0===t?void 0:t.bulkAdd(n)}catch(e){d.error("Error processing rewind batch:",e);for(const e of o)try{const t=Object.assign(Object.assign({},e),{event:this.sanitizeForIndexedDB(e.event),events:Array.isArray(e.events)?e.events.map((e=>this.sanitizeForIndexedDB(e))):e.events});yield null===(i=null===(n=null==this?void 0:this.db)||void 0===n?void 0:n.rewind)||void 0===i?void 0:i.put(t)}catch(t){d.error("Failed to save individual rewind log:",t,e);const n=t;if("DataCloneError"===n.name||"ConstraintError"===n.name)try{const t={id:e.id||Date.now().toString(),type:"rewind",timestamp:e.timestamp||Date.now(),tabId:e.tabId||At(),createdAt:e.createdAt||(new Date).toISOString(),event:{error:"Original rewind data could not be stored",errorType:n.name,originalEventType:typeof e.event}};yield null===(s=null===(r=null==this?void 0:this.db)||void 0===r?void 0:r.rewind)||void 0===s?void 0:s.put(t)}catch(e){d.error("Failed to save even minimal rewind log version:",e)}}}finally{this.processingRewindBatch=!1}}))}sanitizeForIndexedDB(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return d.error("Failed to sanitize data for IndexedDB:",t),{error:"Data sanitization failed",originalType:typeof e,timestamp:Date.now()}}}processBatch(){var e,t,n,i,r,s;return Vi(this,void 0,void 0,(function*(){if(this.processingBatch||0===this.batchQueue.length)return;let o=[];try{this.processingBatch=!0,o=this.batchQueue.splice(0,this.BATCH_SIZE);const n=o.filter((e=>!!e)).map((e=>Object.assign(Object.assign({},e),{data:this.sanitizeForIndexedDB(e.data)})));yield null===(t=null===(e=null==this?void 0:this.db)||void 0===e?void 0:e.logs)||void 0===t?void 0:t.bulkAdd(n)}catch(e){d.error("Error processing batch:",e);for(const e of o)try{const t=Object.assign(Object.assign({},e),{data:this.sanitizeForIndexedDB(e.data)});yield null===(i=null===(n=null==this?void 0:this.db)||void 0===n?void 0:n.logs)||void 0===i?void 0:i.put(t)}catch(t){d.error("Failed to save individual log:",t,e);const n=t;if("DataCloneError"===n.name||"ConstraintError"===n.name)try{const t={type:e.type||"unknown",timestamp:e.timestamp||Date.now(),tabId:e.tabId||At(),data:{error:"Original data could not be stored",errorType:n.name,originalDataType:typeof e.data}};yield null===(s=null===(r=null==this?void 0:this.db)||void 0===r?void 0:r.logs)||void 0===s?void 0:s.put(t)}catch(e){d.error("Failed to save even minimal log version:",e)}}}finally{this.processingBatch=!1}}))}saveNetworkRequest(e){return Vi(this,void 0,void 0,(function*(){if(e)try{yield this.addToBatch({type:"network",timestamp:e.timestamp||Date.now(),data:e,tabId:At()})}catch(e){d.error("Error handling network response:",e)}}))}saveConsoleLog(e){return Vi(this,void 0,void 0,(function*(){if(e)try{yield this.addToBatch({type:"console",timestamp:e.timestamp||Date.now(),data:e,tabId:At()})}catch(e){d.error("Error handling console logs",e)}}))}saveSteps(e){return Vi(this,void 0,void 0,(function*(){if(e)try{yield this.addToBatch({type:"step",timestamp:e.timestamp?Number(e.timestamp):Date.now(),data:e,tabId:At()})}catch(e){d.error("Error handling steps data",e)}}))}saveApplicationData(e){return Vi(this,void 0,void 0,(function*(){if(e)try{yield this.addToBatch({type:"application",timestamp:e.timestamp||Date.now(),data:e.data,tabId:At()})}catch(e){d.error("Error handling steps data",e)}}))}saveRewindData(e){return Vi(this,void 0,void 0,(function*(){if(e)try{yield this.addRewindDataToBatch(Object.assign(Object.assign({},e),{type:"rewind",tabId:At()}))}catch(e){d.error("Error handling rewind data",e)}}))}handleSuspend(){return Vi(this,void 0,void 0,(function*(){d.log("Extension suspending, performing cleanup..."),yield this.destroy()}))}destroy(){var e;return Vi(this,void 0,void 0,(function*(){this.isDestroyed||(this.isDestroyed=!0,clearInterval(this.interval),yield this.processBatch(),yield this.processRewindBatch(),yield null===(e=null==this?void 0:this.db)||void 0===e?void 0:e.close())}))}getLogsByStackTrace(e,t=!1){return Vi(this,void 0,void 0,(function*(){const n=this.batchQueue;return[...yield this.queryLogs(e,!1,t),...n]}))}queryLogs(e,t=!1,n=!1){var i,r,s;return Vi(this,void 0,void 0,(function*(){if(!e||0===e.length)return[];d.log("stackTrace",e,t,n);const o=e.reduce(((e,t)=>({startTime:Math.min(e.startTime,t.startTime||0),endTime:Math.max(e.endTime,t.endTime||Date.now())})),{startTime:1/0,endTime:-1/0});n&&(o.startTime-=12e4);try{if(t)return yield null===(i=null==this?void 0:this.db)||void 0===i?void 0:i.rewind.where(["tabId","timestamp"]).between([At(),o.startTime],[At(),o.endTime],!0,!0).toArray();{const t=(null===(r=e[0])||void 0===r?void 0:r.type)?t=>t.type===e[0].type:()=>!0;return yield null===(s=null==this?void 0:this.db)||void 0===s?void 0:s.logs.where(["tabId","timestamp"]).between([At(),o.startTime],[At(),o.endTime],!0,!0).filter(t).reverse().toArray()}}catch(e){return d.error("Error querying logs:",e),[]}}))}}zi._instance=null;var Ki=zi,Gi=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const Wi=[8,9,13,16,17,18,19,20,27,33,32,34,35,36,37,38,39,40,45,46],$i=/(^|@)\S+:\d+/,Xi=/^\s*at .*(\S+:\d+|\(native\))/m,Yi=/^(eval@)?(\[native code])?$/;class Ji{constructor(e){this.fileName=e.fileName||"",this.functionName=e.functionName||"",this.lineNumber=e.lineNumber,this.columnNumber=e.columnNumber}toString(){const e=this.lineNumber||"",t=this.columnNumber||"";return this.functionName?this.functionName+" ("+this.fileName+":"+e+":"+t+")":this.fileName+":"+e+":"+t}}const Zi={parse:function(e){if(!e)return[];if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(Xi))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e,void 0,void 0];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));if(!t)throw new Error(`Cannot parse given url: ${e}`);return[t[1],t[2]?parseInt(t[2]):void 0,t[3]?parseInt(t[3]):void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(Xi)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(");const n=t.match(/ (\((.+):(\d+):(\d+)\)$)/);t=n?t.replace(n[0],""):t;const i=t.split(/\s+/).slice(1),r=this.extractLocation(n?n[1]:i.pop()),s=i.join(" ")||void 0,o=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new Ji({functionName:s,fileName:o,lineNumber:r[1],columnNumber:r[2]})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(Yi)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new Ji({functionName:e});{const t=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=e.match(t),i=n&&n[1]?n[1]:void 0,r=this.extractLocation(e.replace(t,""));return new Ji({functionName:i,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){const t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),i=[];for(let e=2,r=n.length;e<r;e+=2){const r=t.exec(n[e]);r&&i.push(new Ji({fileName:r[2],lineNumber:parseFloat(r[1])}))}return i},parseOpera10:function(e){const t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),i=[];for(let e=0,r=n.length;e<r;e+=2){const r=t.exec(n[e]);r&&i.push(new Ji({functionName:r[3]||void 0,fileName:r[2],lineNumber:parseFloat(r[1])}))}return i},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match($i)&&!e.match(/^Error created at/)}),this).map((function(e){const t=e.split("@"),n=this.extractLocation(t.pop()),i=(t.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new Ji({functionName:i,fileName:n[0],lineNumber:n[1],columnNumber:n[2]})}),this)}};class er{constructor(e){this.handleKeyUpEvent=e=>{var n,i;(null===document||void 0===document?void 0:document.getElementById(t))&&(null===(n=null===document||void 0===document?void 0:document.getElementById(t))||void 0===n?void 0:n.contains(document.activeElement))||(null==Wi?void 0:Wi.includes(e.keyCode))&&this.onSteps({id:ot(),eventType:l,eventData:32!==e.keyCode?e.key:e.keyCode.toString(),count:0,eventElement:at((null===(i=document.activeElement)||void 0===i?void 0:i.outerHTML)||"",200),url:window.location.href,timestamp:Date.now(),createdAt:(new Date).toDateString()})},window.stopRRweb=void 0,this.dbLogger=new Ki({maxRecordingMinutes:e.maxRecordingMinutes}),this.maxRecordingMinutes=e.maxRecordingMinutes,window.addEventListener("visibilitychange",(()=>Gi(this,void 0,void 0,(function*(){var e;if("visible"===document.visibilityState){const t=yield this.getApplicationData();null===(e=this.dbLogger)||void 0===e||e.sendMessageToIframe(t)}})))),(()=>{Gi(this,void 0,void 0,(function*(){var e;const t=yield this.getApplicationData();null===(e=this.dbLogger)||void 0===e||e.sendMessageToIframe(t)}))})()}static getInstance(e){return er.instance||(er.instance=new er({maxRecordingMinutes:e.maxRecordingMinutes})),er.instance}listenConsoleEvents(){if(window.location.href.includes("https://challenges.cloudflare.com"))return;let e;const t={},n=[],i=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];e=[];const s={};let o;const a=new Set,l=function(){let t,r;try{r=function(){return i},window.console?(window.console.isToastLogConsole?(o=Object.assign({},window.console.toastLogOldConsole),delete window.console.toastLogOldConsole,delete window.console.isToastLogConsole,window.console=o):o=Object.assign({},window.console),t=function(t){let o;return t in console&&(o=console[t])&&(console[t]=function(...r){var l,u,c,A;let d,h,p;const f=null===(l=null==n?void 0:n.slice)||void 0===l?void 0:l.call(r,0);for(h=0,p=Math.min(s[t].handlers.length,10);h<p;h++)a.has(s[t].handlers[h])&&(null===(u=null==i?void 0:i.apply)||void 0===u||u.call(s[t].handlers[h],console,f));for(h=0,p=Math.min(e.length,10);h<p;h++)a.has(e[h])&&(d=[t],n.push.apply(d,f),null===(c=null==i?void 0:i.apply)||void 0===c||c.call(e[h],console,d));null===(A=null==i?void 0:i.apply)||void 0===A||A.call(o,console,f)}),console[t]||r}):t=r}catch(e){d.error(e)}return t}();!function(){let e,t,n;for(e=0,t=r.length;e<t;e++)n=r[e],s[n]={handlers:[]},"function"==typeof l&&l(n)}();const u=function(){e=[];for(const e in s)s[e].handlers=[];a.clear(),window.console=o};window.realConsoleListener=window.console,window.ConsoleListener={on:function(n,i){var r;try{let o,l;if("[object Object]"===(null===(r=t.toString)||void 0===r?void 0:r.call(n)))for(o in n)l=n[o],"all"===o?e.length<10&&(e.push(l),a.add(l)):o in s&&s[o].handlers.length<10&&(s[o].handlers.push(l),a.add(l));else"function"==typeof n?e.length<10&&(e.push(n),a.add(n)):n in s&&s[n].handlers.length<10&&(s[n].handlers.push(i),a.add(i))}catch(e){d.error(e)}},close:u};const c={};r.forEach((e=>{c[e]=(t,...n)=>{const i=Zi.parse(new Error(void 0));this.onConsoleEvent("custom",{type:e,extra:void 0,fileUrl:i,e:t,more:n})}})),window.ConsoleListener.on(c),window.addEventListener("unload",u),window.onerror=(e,t="",n,i,r)=>{const s={msg:e,url:t,lineNo:n,columnNo:i,error:r},o=new Ji({columnNumber:i,fileName:t,lineNumber:n});this.onConsoleEvent("custom",{type:"error",extra:s,e:s.msg,fileUrl:o})};const A=e=>{const t=Zi.parse(new Error("0"));let n,i;try{n=null==e?void 0:e.reason}catch(e){n=void 0}try{i=null==e?void 0:e.detail,!n&&i&&(n=null==i?void 0:i.reason)}catch(e){}n||(n="[unhandledrejection] error getting `reason` from event"),this.onConsoleEvent("custom",{type:"error",e:`Uncaught (in promise) ${n}`,fileUrl:t,extra:void 0})};window.addEventListener("unhandledrejection",A),window.addEventListener("unload",(()=>{window.removeEventListener("unhandledrejection",A)}))}ListenNetworkEvents(){const e=window.fetch,t=this,n=e=>{if(!e)return!1;const t=e.toLowerCase();return t.includes("application/json")||t.includes("text/")||t.includes("application/xml")||t.includes("application/x-www-form-urlencoded")};window.fetch=function(...i){var r;return Gi(this,void 0,void 0,(function*(){const s=Date.now(),o=i[0]instanceof Request?i[0]:new Request(i[0].toString(),i[1]),a=o.url;let l;try{if(!(null===(r=o.signal)||void 0===r?void 0:r.aborted)){const e=o.headers.get("content-type");n(e)&&(l=yield o.clone().text())}}catch(e){d.error("Error reading request body:",e)}return new Promise(((r,u)=>{e.apply(window,i).then((e=>Gi(this,void 0,void 0,(function*(){var i,u;try{if(e&&!(null===(i=o.signal)||void 0===i?void 0:i.aborted)){const i=e.clone(),r=e.headers.get("content-type"),c=o.method,A=Object.fromEntries(o.headers),h=Object.fromEntries(e.headers),p=Date.now();let f;try{n(r)&&(f=(null==r?void 0:r.toLowerCase().includes("json"))?JSON.stringify(yield i.json()):yield i.text())}catch(e){if(d.error("Error parsing response:",e),n(r))try{f=yield i.text()}catch(e){d.error("Error parsing response as text:",e)}}"true"!==A["ignore-bb-capture"]&&(null===(u=t.dbLogger)||void 0===u||u.saveNetworkRequest({id:ot(),method:c,response:f,requestBody:l,requestHeaders:Object.entries(A).map((([e,t])=>({name:e,value:t}))),responseHeaders:Object.entries(h).map((([e,t])=>({name:e,value:t}))),url:a||e.url,statusCode:e.status,isError:e.status>=400,type:"xmlhttprequest",createdAt:(new Date).toDateString(),timestamp:Date.now(),startTime:s,endTime:p,initiator:window.location.origin}))}}catch(e){d.error("Error processing fetch response:",e)}r(e)})))).catch((e=>{d.error("Fetch request failed:",e),u(e)}))}))}))},function(){const e=XMLHttpRequest.prototype,i=e.open,r=e.send,s=e.setRequestHeader;e.open=function(e,t){try{this._startTime=Date.now(),this._method=e,this._url=(e=>{try{return new URL(e,window.location.origin).toString()}catch(t){return d.error("Error getting absolute URL:",t),e}})(t),this._requestHeaders={}}catch(e){d.error("Error in XHR open:",e)}return i.apply(this,[e,t,!0,null,null])},e.setRequestHeader=function(e,t){try{this._requestHeaders&&(this._requestHeaders[e]=t)}catch(e){d.error("Error in XHR setRequestHeader:",e)}return s.apply(this,[e,t])},e.send=function(e){var i,s;try{const r=(null===(i=this._requestHeaders)||void 0===i?void 0:i["content-type"])||(null===(s=this._requestHeaders)||void 0===s?void 0:s["Content-Type"]);n(r||null)&&(this._requestBody=e),this.addEventListener("load",(function(){var e;try{const i=this._method||"GET",r=this._requestHeaders||{},s=this._url||this.responseURL,o=this.status,a=this._startTime||Date.now(),l=this.getAllResponseHeaders().split("\r\n").reduce(((e,t)=>{const[n,i]=t.split(": ");return n&&i&&(e[n]=i),e}),{}),u=Date.now(),c=this.getResponseHeader("content-type");let A;n(c)&&(A=this.response),"true"!==r["ignore-bb-capture"]&&(null===(e=t.dbLogger)||void 0===e||e.saveNetworkRequest({id:ot(),method:i,response:A,requestBody:this._requestBody,requestHeaders:Object.entries(r).map((([e,t])=>({name:e,value:t}))),responseHeaders:Object.entries(l).map((([e,t])=>({name:e,value:t}))),url:s,isError:o>=400,statusCode:o,type:"xmlhttprequest",createdAt:(new Date).toDateString(),timestamp:Date.now(),startTime:a,endTime:u,initiator:window.location.origin}))}catch(e){d.error("Error processing XHR response:",e)}}))}catch(e){d.error("Error in XHR send:",e)}return r.apply(this,[e])}}()}initializeRecording(){try{window.stopRRweb&&window.stopRRweb(),window.stopRRweb=vi({emit:(e,t)=>{const n=st(e);switch(n.isCheckout=t,this.onRRwebEvent(n),n.type){case mn.IncrementalSnapshot:n.data.source===vn.MouseInteraction&&n.data.type===yn.Click?((e,t)=>{let n=null;return(...i)=>{n&&clearTimeout(n),n=setTimeout((()=>{e(...i)}),t)}})((e=>this.handleClickEvent(e)),100)(n):n.data.source===vn.Input&&this.handleInputEvent(n);break;case mn.Meta&&!t:this.handleNavigationEvent(n)}},errorHandler:e=>(d.log("🚀 ~ error:",e),!0),inlineStylesheet:!0,maskInputOptions:{email:!0,password:!0,number:!0,tel:!0},blockSelector:`#${t}`,maskTextSelector:'[data-betterbugs="ignore"]',slimDOMOptions:{comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0},checkoutEveryNms:2e3,plugins:[Ii({level:["info","log","warn","error"],logger:window.console})]})}catch(e){d.log("error: ",e)}window.addEventListener("keyup",this.handleKeyUpEvent)}handleNavigationEvent(e){this.onSteps({id:ot(),eventType:o,eventData:e.data.href,eventElement:null,url:window.location.href,timestamp:Date.now(),createdAt:(new Date).toDateString()})}handleInputEvent(e){var n,i,r;(null===document||void 0===document?void 0:document.getElementById(t))&&(null===(n=null===document||void 0===document?void 0:document.getElementById(t))||void 0===n?void 0:n.contains(document.activeElement))||"BODY"===(null===(i=document.activeElement)||void 0===i?void 0:i.tagName)||this.onSteps({id:ot(),eventType:a,eventData:e.data.text,eventElement:at((null===(r=null===document||void 0===document?void 0:document.activeElement)||void 0===r?void 0:r.outerHTML)||"",200),url:window.location.href,timestamp:Date.now(),createdAt:(new Date).toDateString()})}handleClickEvent(e){var n,i,r,o,a,l;(null===document||void 0===document?void 0:document.getElementById(t))&&(null===(n=null===document||void 0===document?void 0:document.getElementById(t))||void 0===n?void 0:n.contains(document.elementFromPoint(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.x,null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.y)))||this.onSteps({id:ot(),eventType:s,eventData:(null===(o=document.elementFromPoint(e.data.x,e.data.y))||void 0===o?void 0:o.innerText)?null===(a=document.elementFromPoint(e.data.x,e.data.y))||void 0===a?void 0:a.innerText:"",eventElement:at((null===(l=null===document||void 0===document?void 0:document.elementFromPoint(e.data.x,e.data.y))||void 0===l?void 0:l.outerHTML)||"",200),url:window.location.href,timestamp:Date.now(),createdAt:(new Date).toDateString()})}onConsoleEvent(e,t){var n,i,r;"rrweb"===e&&"data"in t?null===(n=this.dbLogger)||void 0===n||n.saveConsoleLog({id:ot(),args:null===(i=t.data.payload.payload)||void 0===i?void 0:i.map((e=>{try{return JSON.parse(e)}catch(t){return e}})),file:t.data.payload.trace,timestamp:Date.now(),url:window.location.href,type:t.data.payload.level,createdAt:(new Date).toDateString()}):"type"in t&&(null===(r=this.dbLogger)||void 0===r||r.saveConsoleLog({type:t.type,args:[t.e,...(null==t?void 0:t.more)||[]],timestamp:Date.now(),url:window.location.href,file:t.fileUrl,id:ot(),createdAt:(new Date).toDateString()}))}onRRwebEvent(e){var t;return Gi(this,void 0,void 0,(function*(){null===(t=this.dbLogger)||void 0===t||t.saveRewindData({id:ot(),event:e,createdAt:(new Date).toDateString(),timestamp:Date.now(),url:window.location.href})}))}onSteps(e){var t;return Gi(this,void 0,void 0,(function*(){null===(t=this.dbLogger)||void 0===t||t.saveSteps(e)}))}getApplicationData(){var e,t;return Gi(this,void 0,void 0,(function*(){const n=[],i=null===window||void 0===window?void 0:window.localStorage,r=null===window||void 0===window?void 0:window.sessionStorage,s=document.cookie.split(";").map((e=>{const[t,n]=e.trim().split("=");return{args:{name:t,value:decodeURIComponent(n),domain:window.location.hostname,path:"/",secure:"https:"===window.location.protocol,httpOnly:!1,sameSite:"lax",hostOnly:!1,session:!0,storeId:"0",expirationDate:null},type:"cookie",url:window.location.href,timestamp:Date.now()}}));if(n.push(...s),i)for(const t in i)if(null===(e=Object.prototype.hasOwnProperty)||void 0===e?void 0:e.call(i,t)){const e=i[t];if("function"==typeof e)continue;const r={args:{key:t,value:e},type:"local",url:window.location.href,timestamp:Date.now()};n.push(r)}for(const e in r)if(null===(t=Object.prototype.hasOwnProperty)||void 0===t?void 0:t.call(r,e)){const t=r[e];if("function"==typeof t)continue;const i={args:{key:e,value:t},type:"session",url:window.location.href,timestamp:Date.now()};n.push(i)}return n}))}startRecording(){return Gi(this,void 0,void 0,(function*(){er.getInstance({maxRecordingMinutes:this.maxRecordingMinutes}).ListenNetworkEvents(),er.getInstance({maxRecordingMinutes:this.maxRecordingMinutes}).listenConsoleEvents(),er.getInstance({maxRecordingMinutes:this.maxRecordingMinutes}).initializeRecording()}))}getAllData(e,t=!1){var n,i;return Gi(this,void 0,void 0,(function*(){const[r,s]=yield Promise.all([t?null===(n=this.dbLogger)||void 0===n?void 0:n.queryLogs(e,!0):Promise.resolve([]),null===(i=this.dbLogger)||void 0===i?void 0:i.queryLogs(e,!1,!0)]);return{rewindData:r,logsData:s}}))}captureScreenshot(){return Gi(this,void 0,void 0,(function*(){const e=new CustomEvent("betterbugs:captureScreenshot");document.dispatchEvent(e)}))}submitBug(e){return Gi(this,void 0,void 0,(function*(){const t=new CustomEvent("betterbugs:submitBug",{detail:e});document.dispatchEvent(t)}))}stopRecording(){var e;return Gi(this,void 0,void 0,(function*(){window.stopRRweb&&window.stopRRweb(),this.dbLogger&&(null===(e=this.dbLogger)||void 0===e||e.destroy(),this.dbLogger=void 0),er.instance=void 0}))}}var tr=n(4848),nr=n(6540);var ir=e=>(0,tr.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none"},e,{children:[(0,tr.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 7.4a3.3 3.3 0 1 0 0 6.6 3.3 3.3 0 0 0 0-6.6Zm-2.3 3.3a2.3 2.3 0 1 1 4.6 0 2.3 2.3 0 0 1-4.6 0Z",clipRule:"evenodd"}),(0,tr.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.26 3a.92.92 0 0 0-.736.368L5.97 5.44a.9.9 0 0 1-.72.36H4.9A1.9 1.9 0 0 0 3 7.7v7.55c0 .533.22.985.586 1.296.357.304.828.454 1.314.454h11.2c.486 0 .957-.15 1.314-.454.365-.311.586-.763.586-1.296V7.7a1.9 1.9 0 0 0-1.9-1.9h-.35a.9.9 0 0 1-.72-.36l-1.554-2.072A.92.92 0 0 0 12.74 3H8.26ZM6.77 6.04 8.3 4h4.4l1.53 2.04a1.9 1.9 0 0 0 1.52.76h.35a.9.9 0 0 1 .9.9v7.55a.67.67 0 0 1-.234.534c-.15.128-.38.216-.666.216H4.9c-.287 0-.516-.088-.666-.216A.67.67 0 0 1 4 15.25V7.7a.9.9 0 0 1 .9-.9h.35a1.9 1.9 0 0 0 1.52-.76Z",clipRule:"evenodd"})]}));var rr=e=>(0,tr.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none"},e,{children:(0,tr.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.5 6.332a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v2.6l3.36-2.8a1 1 0 0 1 1.64.768v6.198a1 1 0 0 1-1.64.768l-3.36-2.8v2.6a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V6.331Zm11.281 3.667 3.719 3.099V6.9l-3.719 3.099ZM12.5 6.332h-9v7.333h9V6.332Z",clipRule:"evenodd"})}));var sr=e=>(0,tr.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e.width||8,height:e.height||8,viewBox:"0 0 8 8",fill:"none"},e,{children:(0,tr.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M.223.222a.4.4 0 0 1 .565 0l3.213 3.212L7.213.222a.4.4 0 1 1 .565.565L4.566 4l3.212 3.212a.4.4 0 1 1-.565.565L4 4.565.788 7.777a.4.4 0 0 1-.565-.565L3.435 4 .223.787a.4.4 0 0 1 0-.565Z",clipRule:"evenodd"})}));function or(e,t){const n=(0,nr.useRef)(!0);(0,nr.useEffect)((()=>{n.current?n.current=!1:e()}),t)}const ar="bb-DB",lr=parseInt("1")||0,ur=()=>{try{const e=new Di(ar);return e.version(lr).stores({sessions:"id",screenshots:"sessionId",rewind:"sessionId",videos:"sessionId",consoleLogs:"id, sessionId",applicationData:"id, sessionId",steps:"id, sessionId",networkLogs:"id, sessionId",tempChunks:"id, videoUniqueId, sessionId, index, isUploaded"}),e.open(),e}catch(e){d.log("🚀 ~ createDB ~ error:",e)}},cr=()=>ur();var Ar=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const dr=(e,t)=>Ar(void 0,void 0,void 0,(function*(){const n=yield cr();return!(!e||!t)&&(yield n.sessions.update(e,t))}));var hr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};var pr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};var fr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const gr=e=>fr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.consoleLogs.where("sessionId").equals(e).toArray()}catch(e){d.log("🚀 ~ getDBConsoleLogsBySessionID ~ error:",e)}return[]}));var mr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const vr=e=>mr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.applicationData.where("sessionId").equals(e).toArray()}catch(e){d.log("🚀 ~ getDBApplicationDataBySessionID ~ error:",e)}return[]}));var yr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const br=e=>yr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.steps.where("sessionId").equals(e).toArray(e)}catch(e){d.log("🚀 ~ getDBStepsBySessionID ~ error:",e)}return[]}));var wr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const Cr=e=>wr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.networkLogs.where("sessionId").equals(e).toArray()}catch(e){d.log("🚀 ~ getDBNetworkLogsBySessionID ~ error:",e)}return[]}));var xr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const Br=(e,t)=>xr(void 0,void 0,void 0,(function*(){const n=yield cr();return e&&t?yield n.transaction("rw",n.videos,(()=>xr(void 0,void 0,void 0,(function*(){return yield n.videos.update(e,t)})))):null}));var Sr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class _r{constructor(){this.db=ur()}__createSession(e,t){return Sr(this,void 0,void 0,(function*(){const n=st(e);d.log("__createSession",n);try{const e=yield(e=>Ar(void 0,void 0,void 0,(function*(){const t=yield cr();return!!e&&(yield t.sessions.add(e))})))({id:n.id,type:n.type,sessionType:n.sessionType,tabTitle:n.tabTitle,systemInfo:n.systemInfo,metaData:n.metaData}),i={id:n.id,type:n.type,sessionType:n.sessionType,tabTitle:n.tabTitle,systemInfo:n.systemInfo};if(d.log("createdSessionId",e),e)return n.sessionId=e,"screenshot"===n.type?(yield this.__createScreenShot(n),i.sessionHasScreenShot={id:ot(),file:n.file,events:n.events,status:n.status,clickTimestamp:n.clickTimestamp,clickDateTime:n.clickDateTime,startTimestamp:n.startTimestamp,startDateTime:n.startDateTime,endTimestamp:n.endTimestamp,endDateTime:n.endDateTime,createdAt:(new Date).toISOString()}):"rewind"===n.type?(yield this.__createRewind(n),i.sessionHasRewind={id:ot(),events:n.events,file:n.file,status:n.status,clickTimestamp:n.clickTimestamp,clickDateTime:n.clickDateTime,startTimestamp:n.startTimestamp,startDateTime:n.startDateTime,endTimestamp:n.endTimestamp,endDateTime:n.endDateTime,createdAt:(new Date).toISOString()}):"screenRecording"===n.type&&(yield this.__createVideo(n),i.sessionHasVideo={id:ot(),file:n.file,sessionId:n.sessionId,videoUniqueId:n.videoUniqueId,chunkDate:n.chunkDate,uploadError:!0,status:"completed",clickTimestamp:n.clickTimestamp,clickDateTime:n.clickDateTime,startTimestamp:n.startTimestamp,startDateTime:n.startDateTime,endTimestamp:n.endTimestamp,endDateTime:n.endDateTime,timeout:n.startTimestamp,createdAt:(new Date).toISOString()}),"function"==typeof t&&t(i),i;this.deleteOldSessions()}catch(e){d.log("__createSession err: ",e),"function"==typeof t&&t(e)}}))}__createScreenShot(e){return Sr(this,void 0,void 0,(function*(){if(null==e?void 0:e.sessionId){const t=e.file;yield(e=>hr(void 0,void 0,void 0,(function*(){const t=yield cr();return!!e&&(yield t.screenshots.add(e))})))({id:ot(),sessionId:null==e?void 0:e.sessionId,file:t,events:e.events,status:e.status,clickTimestamp:e.clickTimestamp,clickDateTime:e.clickDateTime,startTimestamp:e.startTimestamp,startDateTime:e.startDateTime,endTimestamp:e.endTimestamp,endDateTime:e.endDateTime,createdAt:(new Date).toISOString()})}}))}__createVideo(e){return Sr(this,void 0,void 0,(function*(){(null==e?void 0:e.sessionId)&&(yield(e=>xr(void 0,void 0,void 0,(function*(){const t=yield cr();return e?yield t.transaction("rw",t.videos,(()=>xr(void 0,void 0,void 0,(function*(){const n=yield t.videos.add(e);return yield t.videos.get(n)})))):null})))({file:null==e?void 0:e.file,id:ot(),sessionId:null==e?void 0:e.sessionId,videoUniqueId:null==e?void 0:e.videoUniqueId,chunkDate:null==e?void 0:e.chunkDate,uploadError:!0,status:"completed",clickTimestamp:null==e?void 0:e.clickTimestamp,clickDateTime:null==e?void 0:e.clickDateTime,startTimestamp:null==e?void 0:e.startTimestamp,startDateTime:null==e?void 0:e.startDateTime,endTimestamp:null==e?void 0:e.endTimestamp,endDateTime:null==e?void 0:e.endDateTime,timeout:null==e?void 0:e.startTimestamp,createdAt:(new Date).toISOString()}))}))}__createRewind(e){return Sr(this,void 0,void 0,(function*(){(null==e?void 0:e.sessionId)&&(yield(e=>pr(void 0,void 0,void 0,(function*(){const t=yield cr();return!!e&&(yield t.rewind.add(e))})))({id:ot(),sessionId:null==e?void 0:e.sessionId,events:e.events,file:e.file,status:e.status,clickTimestamp:e.clickTimestamp,clickDateTime:e.clickDateTime,startTimestamp:e.startTimestamp,startDateTime:e.startDateTime,endTimestamp:e.endTimestamp,endDateTime:e.endDateTime,createdAt:(new Date).toISOString()}))}))}__createConsoleLogs(e,t){return Sr(this,void 0,void 0,(function*(){t&&(yield(e=>fr(void 0,void 0,void 0,(function*(){const t=yield cr();if((null==e?void 0:e.length)>0)try{return yield t.consoleLogs.bulkAdd(e)}catch(e){d.log("🚀 ~ getDBConsoleLogsBySessionID ~ error:",e)}return!1})))(e))}))}__createSteps(e,t){return Sr(this,void 0,void 0,(function*(){t&&(yield(e=>yr(void 0,void 0,void 0,(function*(){const t=yield cr();if((null==e?void 0:e.length)>0)try{yield t.steps.bulkAdd(e)}catch(e){d.log("🚀 ~ getDBStepsBySessionID ~ error:",e)}return!1})))(e))}))}__createNetworkLogs(e,t){return Sr(this,void 0,void 0,(function*(){t&&(yield(e=>wr(void 0,void 0,void 0,(function*(){const t=yield cr();if((null==e?void 0:e.length)>0)try{return yield t.networkLogs.bulkAdd(e)}catch(e){d.log("🚀 ~ getDBNetworkLogsBySessionID ~ error:",e)}return!1})))(e||[]))}))}__createApplicationData(e,t){return Sr(this,void 0,void 0,(function*(){t&&(yield(e=>mr(void 0,void 0,void 0,(function*(){const t=yield cr();if((null==e?void 0:e.length)>0)try{return yield t.applicationData.bulkAdd(e)}catch(e){d.log("🚀 ~ createDBApplicationData ~ error:",e)}return!1})))(Array.isArray(e)?e:[]))}))}deleteOldSessions(){return Sr(this,void 0,void 0,(function*(){const e=(yield Ar(void 0,void 0,void 0,(function*(){const e=yield cr();return yield e.sessions.reverse().toArray()}))).slice(1);yield Promise.all(e.map((e=>this.handleDeleteSession(e))))}))}handleDeleteSession(e){return Sr(this,void 0,void 0,(function*(){const t=null==e?void 0:e.id;try{if(null==e?void 0:e.id){yield(e=>fr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.consoleLogs.where("sessionId").equals(e).delete(),!0}catch(e){d.log("🚀 ~ getDBConsoleLogsBySessionID ~ error:",e)}return!1})))(t),yield(e=>mr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.applicationData.where("sessionId").equals(e).delete(),!0}catch(e){d.log("🚀 ~ createDBApplicationData ~ error:",e)}return!1})))(t),yield(e=>yr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.steps.where("sessionId").equals(e).delete(),!0}catch(e){d.log("🚀 ~ getDBStepsBySessionID ~ error:",e)}return!1})))(t),yield(e=>wr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)try{return yield t.networkLogs.where("sessionId").equals(e).delete(),!0}catch(e){d.log("🚀 ~ getDBNetworkLogsBySessionID ~ error:",e)}return!1})))(t),"screenshot"===(null==e?void 0:e.type)?yield(e=>hr(void 0,void 0,void 0,(function*(){const t=yield cr();return!!e&&(yield t.screenshots.delete(e),!0)})))(t):"rewind"===(null==e?void 0:e.type)&&(yield(e=>pr(void 0,void 0,void 0,(function*(){const t=yield cr();return!!e&&(yield t.rewind.delete(e),!0)})))(t));const n=yield(e=>Ar(void 0,void 0,void 0,(function*(){const t=yield cr();return!!e&&(yield t.sessions.delete(e),!0)})))(t);return n}}catch(e){d.log(e)}return!1}))}handleUpdateSession(e,t){var n,i;return Sr(this,void 0,void 0,(function*(){return t&&(yield dr(t,{[null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.name]:null===(i=null==e?void 0:e.target)||void 0===i?void 0:i.value})),!1}))}}var kr=n(354),Tr=n.n(kr),Er=n(6678),Ir=n(137),Ur=n(9338),Fr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const Dr=({apiKey:e})=>Fr(void 0,void 0,void 0,(function*(){const t=Date.now(),n=yield dt("betterbugs",t,e);return rt({url:"/sdk/auth/verify-api-key",method:"GET",headers:{"x-api-key":`${e}`,"x-timestamp":`${t}`,"x-signature":`${n}`,"ignore-bb-capture":"true"}})})),Lr=({apiKey:e})=>Fr(void 0,void 0,void 0,(function*(){const t=Date.now(),n=yield dt("betterbugs",t,e);return rt({url:"/sdk/user",method:"GET",headers:{"x-api-key":`${e}`,"x-timestamp":`${t}`,"x-signature":`${n}`,"ignore-bb-capture":"true"}})})),Or=(0,nr.createContext)(void 0),Nr=({children:e})=>{const[t,n]=(0,nr.useState)([]),i=(0,nr.useCallback)(((e,t,i=3e3)=>{const r=Math.random().toString(36).substr(2,9),s={id:r,message:e,type:t,duration:i};n((e=>[...e,s])),setTimeout((()=>{n((e=>e.filter((e=>e.id!==r))))}),i)}),[]),r=(0,nr.useCallback)((e=>{n((t=>t.filter((t=>t.id!==e))))}),[]);return(0,tr.jsxs)(Or.Provider,{value:{showToast:i},children:[e,(0,tr.jsx)("div",{className:"toaster-container",children:t.map((e=>(0,tr.jsxs)("div",{className:`toast toast-${e.type}`,onClick:()=>r(e.id),children:[(0,tr.jsxs)("div",{className:"toast-content",children:["success"===e.type&&(0,tr.jsx)("span",{className:"toast-icon",children:"✓"}),"error"===e.type&&(0,tr.jsx)("span",{className:"toast-icon",children:"✕"}),"warning"===e.type&&(0,tr.jsx)("span",{className:"toast-icon",children:"⚠"}),"info"===e.type&&(0,tr.jsx)("span",{className:"toast-icon",children:"ℹ"}),(0,tr.jsx)("span",{className:"toast-message",children:e.message})]}),(0,tr.jsx)("div",{className:"toast-progress",style:{animationDuration:`${e.duration}ms`}})]},e.id)))})]})};var Mr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const jr=({videoUniqueId:e,sessionId:t,isUploaded:n})=>Mr(void 0,void 0,void 0,(function*(){let i=(yield cr()).tempChunks.toCollection();e&&(i=i.filter((t=>t.videoUniqueId===e))),t&&(i=i.filter((e=>e.sessionId===t))),(!0===n||!1===n)&&(i=i.filter((e=>e.isUploaded)));return yield i.toArray()})),Rr=(e,t)=>Mr(void 0,void 0,void 0,(function*(){const n=yield cr();if(e)try{return yield n.tempChunks.update(e,t)}catch(e){d.log("🚀 ~ getDBTempChunksBySessionID ~ error:",e)}return!1}));var Qr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class Pr{constructor(){this.mediaRecorder=null,this.recordedChunks=[],this.stream=null,this.desktopStream=null,this.micStream=null,this.audioContext=null,this.finalVideo=null,this.finalAudio=null}static getInstance(){return Pr.instance||(Pr.instance=new Pr),Pr.instance}uploadChunk(e,t,n,i){return Qr(this,void 0,void 0,(function*(){const r=new FormData;return r.append("file",e),r.append("uniqueId",t),r.append("chunkDate",n),r.append("chunkNumber",i),yield window.fetch("https://butterfly-api.betterbugs.io/upload/upload-chunk",{method:"POST",body:r,headers:{"ignore-bb-capture":"true"}}),Rr(t+"_"+i,{isUploaded:!0})}))}mergeStreams(){var e,t,n,i,r,s,o,a,l;return Qr(this,void 0,void 0,(function*(){if(this.stream=new MediaStream,this.audioContext=new AudioContext,this.finalAudio=null,this.finalVideo=(null===(e=this.desktopStream)||void 0===e?void 0:e.getVideoTracks()[0])||null,this.micStream){const e=[],u=this.desktopStream&&(null===(t=this.desktopStream)||void 0===t?void 0:t.getAudioTracks()[0]),c=this.micStream&&(null===(n=this.micStream)||void 0===n?void 0:n.getAudioTracks()[0]);u&&e.push(null===(i=this.audioContext)||void 0===i?void 0:i.createMediaStreamSource(new MediaStream([u]))),c&&e.push(null===(r=this.audioContext)||void 0===r?void 0:r.createMediaStreamSource(new MediaStream([c])));const A=null===(s=this.audioContext)||void 0===s?void 0:s.createMediaStreamDestination();null==e||e.forEach((function(e){null==e||e.connect(A)})),this.finalAudio=null===(o=null==A?void 0:A.stream)||void 0===o?void 0:o.getAudioTracks()[0],this.finalVideo&&(null===(a=this.stream)||void 0===a||a.addTrack(this.finalVideo)),this.finalAudio&&(null===(l=this.stream)||void 0===l||l.addTrack(this.finalAudio))}else this.stream&&(this.stream=this.desktopStream)}))}startRecording(){return Qr(this,void 0,void 0,(function*(){try{if(this.desktopStream=yield navigator.mediaDevices.getDisplayMedia({video:{cursor:"never",displaySurface:"browser"},preferCurrentTab:!0,surfaceSwitching:"exclude"}),yield this.mergeStreams(),!this.stream)throw new Error("No stream found");this.stream.onremovetrack=()=>{const e=new CustomEvent("betterbugs:stopRecording",{detail:{isRecording:!1}});document.dispatchEvent(e)},this.stream.getTracks().forEach((e=>{e.onended=()=>{const e=new CustomEvent("betterbugs:stopRecording",{detail:{isRecording:!1}});document.dispatchEvent(e)}}));let e={mimeType:"video/webm"};if(navigator.userAgent.toLowerCase().includes("firefox")?MediaRecorder.isTypeSupported("video/webm")&&(e={mimeType:"video/webm",videoBitsPerSecond:25e5}):MediaRecorder.isTypeSupported("video/webm; codecs=vp8,opus")?e={mimeType:"video/webm; codecs=vp8,opus",videoBitsPerSecond:25e5}:MediaRecorder.isTypeSupported("video/webm; codecs=vp9,opus")?e={mimeType:"video/webm; codecs=vp9,opus",videoBitsPerSecond:25e5}:MediaRecorder.isTypeSupported("video/webm")?e={mimeType:"video/webm",videoBitsPerSecond:25e5}:MediaRecorder.isTypeSupported("video/mp4")&&(e={mimeType:"video/mp4",videoBitsPerSecond:25e5}),!e.mimeType)throw d.error("No suitable mimetype found for this device"),new Error("No suitable mimetype found for this device");if(d.log("Using recorder options:",e),(null==this?void 0:this.stream)instanceof MediaStream&&((null==e?void 0:e.mimeType)?this.mediaRecorder=new MediaRecorder(null==this?void 0:this.stream,e):this.mediaRecorder=new MediaRecorder(null==this?void 0:this.stream)),this.recordedChunks=[],!this.mediaRecorder)throw new Error("No media recorder found");this.chunkNumber=0,this.chunkDate=(new Date).toLocaleDateString("en-CA"),this.uniqueId=ot(),this.mediaRecorder.ondataavailable=e=>{if(e.data.size>0){this.recordedChunks.push(e.data),this.chunkNumber=(null==this?void 0:this.chunkNumber)+1,t={id:this.uniqueId+"_"+this.chunkNumber,index:this.chunkNumber,videoUniqueId:this.uniqueId,chunkDate:this.chunkDate,createdAt:(new Date).toISOString(),chunk:e.data,isUploaded:!1},Mr(void 0,void 0,void 0,(function*(){const e=yield cr();if(t)try{return yield e.tempChunks.add(t)}catch(e){d.log("🚀 ~ getDBTempChunksBySessionID ~ error:",e)}return!1}));try{this.uploadChunk(e.data,this.uniqueId,this.chunkDate,this.chunkNumber.toString())}catch(e){d.log("error",e)}}var t},this.mediaRecorder.onerror=e=>{d.error("Error recording screen:",e),null==this||this.stopRecording()},this.mediaRecorder.start(5e3);const t=new CustomEvent("betterbugs:recordingStateChange",{detail:{isRecording:!0}});document.dispatchEvent(t),window.onbeforeunload=e=>(e.preventDefault(),e.returnValue="Your recording will be lost if you leave this page. Are you sure you want to exit?",e.returnValue)}catch(e){}}))}stopRecording(){return new Promise(((e,t)=>{if(!this.mediaRecorder)return void t(new Error("No active recording"));this.mediaRecorder.onstop=()=>{const t=new Blob(this.recordedChunks,{type:"video/webm"});this.cleanup(),e(t)},this.mediaRecorder.stop();const n=new CustomEvent("betterbugs:recordingStateChange",{detail:{isRecording:!1}});document.dispatchEvent(n)}))}pauseRecording(){return Qr(this,void 0,void 0,(function*(){this.mediaRecorder&&this.mediaRecorder.pause()}))}resumeRecording(){return Qr(this,void 0,void 0,(function*(){this.mediaRecorder&&this.mediaRecorder.resume()}))}cleanup(){this.stream&&(this.stream.getTracks().forEach((e=>e.stop())),this.stream=null),this.desktopStream&&(this.desktopStream.getTracks().forEach((e=>e.stop())),this.desktopStream=null),this.micStream&&(this.micStream.getTracks().forEach((e=>e.stop())),this.micStream=null),this.audioContext&&(this.audioContext.close(),this.audioContext=null),window.onbeforeunload=null,this.mediaRecorder=null,this.recordedChunks=[]}isRecording(){var e;return"recording"===(null===(e=this.mediaRecorder)||void 0===e?void 0:e.state)}}var Hr=Pr,qr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};var Vr=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const zr={isUpdatingVideo:!1,setIsUpdatingVideo:()=>{},cleanUp:()=>{},loginUser:null,setLoginUser:()=>{},apiKey:"",setApiKey:()=>{},metaData:{},setMetaData:()=>{},accessToken:"",setAccessToken:()=>{},widgetOpen:!1,setWidgetOpen:()=>{},clickScreenShot:()=>{},startScreenRecord:()=>{},stopScreenRecord:()=>Vr(void 0,void 0,void 0,(function*(){})),dataController:null,setDataController:()=>{},isRecording:!1,setIsRecording:()=>{},recordingStackTrace:[],setRecordingStackTrace:()=>{},openRecordingPreview:!1,setOpenRecordingPreview:()=>{},rrwebRePlayer:null,setRRwebRePlayer:()=>{},isRewindPlaying:!1,setIsRewindPlaying:()=>{},totalVideoSec:0,setTotalVideoSec:()=>{},updateTrimDuration:()=>{},openBugReportForm:!1,setOpenBugReportForm:()=>{},captureRewindOnScreenshot:!1,setCaptureRewindOnScreenshot:()=>{},recordType:"rrweb",setRecordType:()=>{},position:{top:"10px",left:"10px"},setPosition:()=>{},mode:"development",setMode:()=>{},enableRewind:!1,setEnableRewind:()=>{},enableAnnotation:!0,setEnableAnnotation:()=>{},showActionButton:!0,setShowActionButton:()=>{},activeTab:"screenshot",setActiveTab:()=>{},activeSession:null,setActiveSession:()=>{},handleBugSubmit:()=>Vr(void 0,void 0,void 0,(function*(){})),isBugCreating:!1,setIsBugCreating:()=>{},maxRecordingMinutes:10,setMaxRecordingMinutes:()=>{},processChunks:()=>Vr(void 0,void 0,void 0,(function*(){return!1})),submitBtnText:"Submit",setSubmitBtnText:()=>{},bugCreated:!1,setBugCreated:()=>{}},Kr=(0,nr.createContext)(zr),Gr=({children:e,options:n})=>{const{showToast:i}=(()=>{const e=(0,nr.useContext)(Or);if(!e)throw new Error("useToaster must be used within a ToasterProvider");return e})(),r=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),[s,o]=(0,nr.useState)(!1),[a,l]=(0,nr.useState)("Submit report"),[u,c]=(0,nr.useState)(null),[A,h]=(0,nr.useState)(null),[p,f]=(0,nr.useState)(null),[g,m]=(0,nr.useState)(!1),[v,y]=(0,nr.useState)(null),[b,w]=(0,nr.useState)(n.maxRecordingMinutes||10),[C,x]=(0,nr.useState)(!1),[B,S]=(0,nr.useState)([]),[_,k]=(0,nr.useState)(!1),[T,E]=(0,nr.useState)(0),[I,U]=(0,nr.useState)(null),[F,D]=(0,nr.useState)(!1),[L,O]=(0,nr.useState)(!1),[N,M]=(0,nr.useState)(!1),[j,R]=(0,nr.useState)("screenshot"),[Q,P]=(0,nr.useState)(n.accessToken||""),[H,q]=(0,nr.useState)(n.apiKey),[V,z]=(0,nr.useState)(null),[K,G]=(0,nr.useState)("boolean"==typeof n.widgetOpen&&n.widgetOpen),[W,$]=(0,nr.useState)("boolean"!=typeof n.showActionButton||n.showActionButton),[X,Y]=(0,nr.useState)(n.position||{top:"10px",left:"10px"}),[J,Z]=(0,nr.useState)(n.mode||"development"),[ee,te]=(0,nr.useState)(n.recordType||"rrweb"),[ne,ie]=(0,nr.useState)("boolean"==typeof n.enableRewind&&n.enableRewind),[re,se]=(0,nr.useState)("boolean"!=typeof n.enableAnnotation||n.enableAnnotation),[oe,ae]=(0,nr.useState)("boolean"==typeof n.captureRewindOnScreenshot&&n.captureRewindOnScreenshot),[le,ue]=(0,nr.useState)(n.metaData||{});or((()=>{var e;null===(e=n.triggerEvent)||void 0===e||e.call(n,K?"widgetOpen":"widgetClose",{detail:{widgetOpen:K}})}),[K,n]);const ce=(0,nr.useCallback)((e=>{var t;const{widgetOpen:i}=e.detail;G(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"widgetOpen",{detail:{widgetOpen:i}})}),[n,G]),Ae=(0,nr.useCallback)((e=>{$(e.detail.showActionButton)}),[$]),de=(0,nr.useCallback)((e=>{$(e.detail.showActionButton)}),[$]),he=(0,nr.useCallback)((()=>{ke()}),[G,n,le,p,oe,A,c,E]),pe=(0,nr.useCallback)((()=>{Te()}),[ee,v,x,S,n]),fe=(0,nr.useCallback)((()=>{Ie()}),[C,ee,v,B,p,u,le,A,n,x,S,k,m,c,E]),ge=(0,nr.useCallback)((e=>{var t;const{apiKey:i}=e.detail;q(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"apiKeyUpdate",{detail:{apiKey:i}})}),[n,q]),me=(0,nr.useCallback)((e=>{var t;const{metaData:i}=e.detail;ue(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"metaDataUpdate",{detail:{metaData:i}})}),[n,ue]),ve=(0,nr.useCallback)((e=>{var t;const{captureRewindOnScreenshot:i}=e.detail;ae(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"captureRewindOnScreenshotUpdate",{detail:{captureRewindOnScreenshot:i}})}),[n,ae]),ye=(0,nr.useCallback)((e=>{var t;const{recordType:i}=e.detail;te(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"recordTypeUpdate",{detail:{recordType:i}})}),[n,te]),be=(0,nr.useCallback)((e=>{var t;const{position:i}=e.detail;Y(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"positionUpdate",{detail:{position:i}})}),[n,Y]),we=(0,nr.useCallback)((e=>{var t;const{mode:i}=e.detail;Z(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"modeUpdate",{detail:{mode:i}})}),[n,Z]),Ce=(0,nr.useCallback)((e=>{var t;const{enableRewind:i}=e.detail;ie(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"enableRewind",{detail:{enableRewind:i}})}),[n,ie]),xe=(0,nr.useCallback)((e=>{var t;const{enableAnnotation:i}=e.detail;se(i),null===(t=n.triggerEvent)||void 0===t||t.call(n,"enableAnnotation",{detail:{enableAnnotation:i}})}),[n,se]),Be=(0,nr.useCallback)((e=>{x(e.detail.isRecording)}),[x]),Se=(0,nr.useCallback)((e=>{e.metaKey&&e.altKey&&"KeyS"===e.code&&(e.preventDefault(),he()),e.metaKey&&e.altKey&&"KeyR"===e.code&&(e.preventDefault(),C?fe():pe()),e.metaKey&&e.altKey&&"KeyO"===e.code&&(e.preventDefault(),G(!0)),e.metaKey&&e.altKey&&"KeyC"===e.code&&(e.preventDefault(),G(!1)),e.ctrlKey&&e.altKey&&"KeyS"===e.code&&(e.preventDefault(),he()),e.ctrlKey&&e.altKey&&"KeyR"===e.code&&(e.preventDefault(),C?fe():pe()),e.ctrlKey&&e.altKey&&"KeyO"===e.code&&(e.preventDefault(),G(!0)),e.ctrlKey&&e.altKey&&"KeyC"===e.code&&(e.preventDefault(),G(!1))}),[he,pe,fe,C,K,G]),_e=(0,nr.useCallback)((()=>{u&&(null==A||A.handleDeleteSession(u)),O(!1),M(!1),k(!1),x(!1),c(null),U(null),D(!1),E(0)}),[u,A,O,M,k,x,c,U,D,E]);(0,nr.useEffect)((()=>(document.addEventListener("keydown",Se),document.addEventListener("betterbugs:recordingStateChange",Be),document.addEventListener("betterbugs:widgetOpen",ce),document.addEventListener("betterbugs:showActionButton",Ae),document.addEventListener("betterbugs:hideActionButton",de),document.addEventListener("betterbugs:captureScreenshot",he),document.addEventListener("betterbugs:startRecording",pe),document.addEventListener("betterbugs:stopRecording",fe),document.addEventListener("betterbugs:apiKeyUpdate",ge),document.addEventListener("betterbugs:metaDataUpdate",me),document.addEventListener("betterbugs:captureRewindOnScreenshotUpdate",ve),document.addEventListener("betterbugs:recordTypeUpdate",ye),document.addEventListener("betterbugs:positionUpdate",be),document.addEventListener("betterbugs:modeUpdate",we),document.addEventListener("betterbugs:enableRewind",Ce),document.addEventListener("betterbugs:enableAnnotation",xe),document.addEventListener("betterbugs:destroy",_e),()=>{document.removeEventListener("keydown",Se),document.removeEventListener("betterbugs:recordingStateChange",Be),document.removeEventListener("betterbugs:widgetOpen",ce),document.removeEventListener("betterbugs:showActionButton",Ae),document.removeEventListener("betterbugs:hideActionButton",de),document.removeEventListener("betterbugs:captureScreenshot",he),document.removeEventListener("betterbugs:startRecording",pe),document.removeEventListener("betterbugs:stopRecording",fe),document.removeEventListener("betterbugs:apiKeyUpdate",ge),document.removeEventListener("betterbugs:metaDataUpdate",me),document.removeEventListener("betterbugs:captureRewindOnScreenshotUpdate",ve),document.removeEventListener("betterbugs:recordTypeUpdate",ye),document.removeEventListener("betterbugs:positionUpdate",be),document.removeEventListener("betterbugs:modeUpdate",we),document.removeEventListener("betterbugs:enableRewind",Ce),document.removeEventListener("betterbugs:enableAnnotation",xe),document.removeEventListener("betterbugs:destroy",_e)})),[ce,Ae,de,he,pe,fe,ge,me,ve,ye,be,we,Ce,xe,_e]),(0,nr.useEffect)((()=>{const e=sessionStorage.getItem("recordingStackTrace");e&&S(JSON.parse(e));const t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if("getDisplayMedia"!==ee||t){const e=sessionStorage.getItem("isRecording");e&&x("true"===e)}const n=sessionStorage.getItem("widgetOpen");n&&G("true"===n);const i=sessionStorage.getItem("openRecordingPreview");i&&k("true"===i)}),[]),or((()=>{V?sessionStorage.setItem("loginUser",JSON.stringify(V)):sessionStorage.removeItem("loginUser")}),[V]),or((()=>{var e,t;_?(sessionStorage.setItem("openRecordingPreview",_.toString()),null===(e=n.triggerEvent)||void 0===e||e.call(n,"recordingPreviewOpen",{detail:{openRecordingPreview:_}})):(U(null),sessionStorage.removeItem("openRecordingPreview"),null===(t=n.triggerEvent)||void 0===t||t.call(n,"recordingPreviewClose",{detail:{openRecordingPreview:_}}))}),[_]),or((()=>{sessionStorage.setItem("recordingStackTrace",JSON.stringify(B))}),[B]),or((()=>{const e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);("getDisplayMedia"!==ee||e)&&sessionStorage.setItem("isRecording",C.toString())}),[C]),or((()=>{(null==u?void 0:u.id)?sessionStorage.setItem("widgetOpen",K.toString()):sessionStorage.removeItem("widgetOpen"),K||o(!1)}),[K,null==u?void 0:u.id]),(0,nr.useEffect)((()=>{f(er.getInstance({maxRecordingMinutes:b}))}),[]),(0,nr.useEffect)((()=>{y("getDisplayMedia"!==ee||r?null:Hr.getInstance())}),[ee]),(0,nr.useEffect)((()=>{h(new _r)}),[]),or((()=>{sessionStorage.getItem("sessionId")&&De(sessionStorage.getItem("sessionId"))}),[]),(0,nr.useEffect)((()=>{(null==u?void 0:u.id)&&dr(null==u?void 0:u.id,{id:null==u?void 0:u.id,type:null==u?void 0:u.type,markerOpened:null==u?void 0:u.markerOpened,reporter:null==u?void 0:u.reporter,title:null==u?void 0:u.title,description:null==u?void 0:u.description,assignee:null==u?void 0:u.assignee,email:null==u?void 0:u.email})}),[u]),(0,nr.useEffect)((()=>{(null==u?void 0:u.id)&&"screenRecording"===(null==u?void 0:u.type)&&"getDisplayMedia"===ee&&!r&&setTimeout((()=>{Fe(null==u?void 0:u.id)}),2e3)}),[null==u?void 0:u.id]);const ke=()=>Vr(void 0,void 0,void 0,(function*(){var e,t,i,r,s;G(!1),yield new Promise((e=>setTimeout(e,100)));const o=document.getElementById("betterbugs-sdk-main");let a="";o&&(a=o.style.display,o.style.display="none");const l=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let u="";if(l)yield Tr()(document.documentElement,{useCORS:!0,scale:1,width:window.innerWidth,height:window.innerHeight}).then((e=>Vr(void 0,void 0,void 0,(function*(){u=e.toDataURL("image/png")}))));else{const e=/Firefox/.test(navigator.userAgent);let t={video:{cursor:"never",displaySurface:"browser"},preferCurrentTab:!0,surfaceSwitching:"exclude"};(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||e)&&(t={video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!1});let n=null;try{if(n=yield navigator.mediaDevices.getDisplayMedia(t),!n)return void(o&&(o.style.display=a))}catch(e){return d.error("Error creating session:",e),void(o&&(o.style.display=a))}const i=document.createElement("video");i.srcObject=n,yield i.play();const r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight;const s=r.getContext("2d");null==s||s.drawImage(i,0,0);n.getTracks().forEach((e=>e.stop())),i.remove(),u=r.toDataURL("image/png")}o&&(o.style.display=a),G(!0),null===(e=n.triggerEvent)||void 0===e||e.call(n,"screenshot",{detail:{screenshot:u}});const h=yield lt(),f={id:ot(),type:"screenshot",sessionType:"visible",tabTitle:document.title,systemInfo:h,file:u,metaData:le,clickTimestamp:Date.now(),clickDateTime:(new Date).toISOString(),startTimestamp:Date.now(),startDateTime:(new Date).toISOString(),endTimestamp:Date.now(),endDateTime:(new Date).toISOString()},g={id:f.id,type:f.type,sessionType:f.sessionType,tabTitle:f.tabTitle,systemInfo:f.systemInfo,metaData:le};let m;g.sessionHasScreenShot={id:ot(),file:f.file,events:f.events,status:f.status,clickTimestamp:f.clickTimestamp,clickDateTime:f.clickDateTime,startTimestamp:f.startTimestamp,startDateTime:f.startDateTime,endTimestamp:f.endTimestamp,endDateTime:f.endDateTime,createdAt:(new Date).toISOString()},c(g),oe&&(m=yield null==p?void 0:p.getAllData([{startTime:Math.max(0,Date.now()-12e4),endTime:Date.now()}],oe),f.events=null===(t=null==m?void 0:m.rewindData)||void 0===t?void 0:t.map((e=>e.event)));const v=(null===(i=null==f?void 0:f.events)||void 0===i?void 0:i.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))))||[],y=null===(r=v[v.length-1])||void 0===r?void 0:r.timestamp,b=null===(s=v[0])||void 0===s?void 0:s.timestamp;E(((y||0)-(b||0))/1e3),yield null==A?void 0:A.__createSession(f,(e=>Vr(void 0,void 0,void 0,(function*(){var t;e&&(e instanceof Error||(null===(t=n.triggerEvent)||void 0===t||t.call(n,"sessionCreated",{detail:f}),yield Ee(f,(null==m?void 0:m.logsData)||[],!1),sessionStorage.setItem("sessionId",e.id||"")))}))))})),Te=()=>Vr(void 0,void 0,void 0,(function*(){var e;const t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);"getDisplayMedia"!==ee||t?x(!0):null==v||v.startRecording(),S([{startTime:Date.now(),endTime:0}]),null===(e=n.triggerEvent)||void 0===e||e.call(n,"recordingStart",{detail:{recordingStackTrace:B}})})),Ee=(e,t,n=!1)=>Vr(void 0,void 0,void 0,(function*(){var i,r,s,o,a,l,u,c;const d=Object.assign({},st(e));let[h,f,g,m]=[[],[],[],[]];if(n){[h,f,g,m]=yield Promise.all([gr(null==d?void 0:d.id),vr(null==d?void 0:d.id),br(null==d?void 0:d.id),Cr(null==d?void 0:d.id)]),h=null==h?void 0:h.sort(((e,t)=>e.timestamp-t.timestamp)),g=null==g?void 0:g.sort(((e,t)=>e.timestamp-t.timestamp)),m=null==m?void 0:m.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0)));const e=f.reduce(((e,t)=>{const n=e.some((e=>{var n,i,r,s,o,a;return"cookie"===(null==t?void 0:t.type)&&(null==e?void 0:e.url)===(null==t?void 0:t.url)&&"cookie"===(null==e?void 0:e.type)&&(null===(n=null==e?void 0:e.args)||void 0===n?void 0:n.name)===(null===(i=null==t?void 0:t.args)||void 0===i?void 0:i.name)&&(null===(r=null==e?void 0:e.args)||void 0===r?void 0:r.domain)===(null===(s=null==t?void 0:t.args)||void 0===s?void 0:s.domain)||"cookie"!==(null==t?void 0:t.type)&&"cookie"!==(null==e?void 0:e.type)&&(null===(o=null==e?void 0:e.args)||void 0===o?void 0:o.key)===(null===(a=null==t?void 0:t.args)||void 0===a?void 0:a.key)}));return n?e:[...e,t]}),[]);f=e.sort(((e,t)=>e.timestamp-t.timestamp))}else{const e=yield null==p?void 0:p.getApplicationData(),n=[...t,{type:"application",data:e,timestamp:Date.now()}].reduce(((e,t)=>{if(!(null==t?void 0:t.type)||!(null==t?void 0:t.data))return e;const n=Object.assign(Object.assign({},t.data),{id:ot(),sessionId:null==d?void 0:d.id,createdAt:(new Date).toISOString()});switch(t.type){case"network":e.networkLogs.push(n);break;case"console":e.consoleLogs.push(n);break;case"step":e.steps.push(n);break;case"application":e.applicationData.push(...(Array.isArray(t.data)?t.data:[t.data]).map((e=>Object.assign(Object.assign({},e),{id:ot(),sessionId:null==d?void 0:d.id,createdAt:(new Date).toISOString()}))))}return e}),{networkLogs:[],consoleLogs:[],steps:[],applicationData:[]});m=null===(r=null===(i=n.networkLogs)||void 0===i?void 0:i.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))))||void 0===r?void 0:r.slice(-1e4),h=null===(o=null===(s=n.consoleLogs)||void 0===s?void 0:s.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))))||void 0===o?void 0:o.slice(-3e3),g=null===(l=null===(a=n.steps)||void 0===a?void 0:a.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))))||void 0===l?void 0:l.slice(-3e3),f=null===(c=null===(u=n.applicationData.reduce(((e,t)=>{const n=e.some((e=>{var n,i,r,s,o,a;return"cookie"===(null==t?void 0:t.type)&&(null==e?void 0:e.url)===(null==t?void 0:t.url)&&"cookie"===(null==e?void 0:e.type)&&(null===(n=null==e?void 0:e.args)||void 0===n?void 0:n.name)===(null===(i=null==t?void 0:t.args)||void 0===i?void 0:i.name)&&(null===(r=null==e?void 0:e.args)||void 0===r?void 0:r.domain)===(null===(s=null==t?void 0:t.args)||void 0===s?void 0:s.domain)||"cookie"!==(null==t?void 0:t.type)&&"cookie"!==(null==e?void 0:e.type)&&(null===(o=null==e?void 0:e.args)||void 0===o?void 0:o.key)===(null===(a=null==t?void 0:t.args)||void 0===a?void 0:a.key)}));return n?e:[...e,t]}),[]))||void 0===u?void 0:u.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))))||void 0===c?void 0:c.slice(-3e3),yield Promise.all([(null==h?void 0:h.length)&&(null==A?void 0:A.__createConsoleLogs(h,null==d?void 0:d.id)),(null==g?void 0:g.length)&&(null==A?void 0:A.__createSteps(g,null==d?void 0:d.id)),(null==m?void 0:m.length)&&(null==A?void 0:A.__createNetworkLogs(m,null==d?void 0:d.id)),(null==f?void 0:f.length)&&(null==A?void 0:A.__createApplicationData(f,null==d?void 0:d.id))])}})),Ie=()=>Vr(void 0,void 0,void 0,(function*(){var e,i,r,s,o,a;const l=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(C&&("getDisplayMedia"!==ee||l)){S((e=>((e=st(e))[e.length-1].endTime=Date.now(),e)));const a=st(B);a[a.length-1].endTime=Date.now(),null===(e=n.triggerEvent)||void 0===e||e.call(n,"recordingStop",{detail:{recordingStackTrace:a}});const l=yield null==p?void 0:p.getAllData(B,!0),u=(yield Tr()(document.documentElement,{useCORS:!0,imageTimeout:15e3,width:window.innerWidth,height:window.innerHeight,windowWidth:window.innerWidth,windowHeight:window.innerHeight,scrollX:0,scrollY:0,ignoreElements:e=>e.id===t})).toDataURL("image/png"),d=(null===(r=null===(i=null==l?void 0:l.rewindData)||void 0===i?void 0:i.map((e=>e.event)))||void 0===r?void 0:r.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))))||[],h=(((null===(s=d[d.length-1])||void 0===s?void 0:s.timestamp)||0)-((null===(o=d[0])||void 0===o?void 0:o.timestamp)||0))/1e3;E(h),k(!0),x(!1);const f={id:ot(),type:"rewind",sessionType:"visible",tabTitle:document.title,systemInfo:yield lt(),events:d,file:u,metaData:le,clickTimestamp:Date.now(),clickDateTime:(new Date).toISOString(),startTimestamp:a[0].startTime,startDateTime:new Date(a[0].startTime).toISOString(),endTimestamp:a[a.length-1].endTime,endDateTime:new Date(a[a.length-1].endTime).toISOString(),trim:{minVal:0,maxVal:h}},g={id:f.id,type:f.type,sessionType:f.sessionType,tabTitle:f.tabTitle,systemInfo:f.systemInfo,metaData:f.metaData,trim:{minVal:0,maxVal:h}};g.sessionHasRewind={id:ot(),events:d,file:f.file,status:f.status,duration:h,size:d.length,clickTimestamp:f.clickTimestamp,clickDateTime:f.clickDateTime,startTimestamp:f.startTimestamp,startDateTime:f.startDateTime,endTimestamp:f.endTimestamp,endDateTime:f.endDateTime,createdAt:(new Date).toISOString()},c(g),yield null==A?void 0:A.__createSession(f,(e=>Vr(void 0,void 0,void 0,(function*(){var t;e&&(e instanceof Error||(null===(t=n.triggerEvent)||void 0===t||t.call(n,"sessionCreated",{detail:f}),yield Ee(f,(null==l?void 0:l.logsData)||[],!1),sessionStorage.setItem("sessionId",e.id||"")))}))))}else if(C&&"getDisplayMedia"===ee&&!l){m(!0),yield null==v?void 0:v.stopRecording(),S((e=>((e=st(e))[e.length-1].endTime=Date.now(),e)));const e=st(B);e[e.length-1].endTime=Date.now(),null===(a=n.triggerEvent)||void 0===a||a.call(n,"recordingStop",{detail:{recordingStackTrace:e}});const t=yield null==p?void 0:p.getAllData(B,!1);k(!0),x(!1);const i={id:ot(),type:"screenRecording",videoUniqueId:null==v?void 0:v.uniqueId,chunkDate:null==v?void 0:v.chunkDate,sessionType:"visible",tabTitle:document.title,systemInfo:yield lt(),metaData:le,clickTimestamp:Date.now(),clickDateTime:(new Date).toISOString(),startTimestamp:e[0].startTime,startDateTime:new Date(e[0].startTime).toISOString(),endTimestamp:e[e.length-1].endTime,endDateTime:new Date(e[e.length-1].endTime).toISOString()},r={id:i.id,type:i.type,sessionType:i.sessionType,tabTitle:i.tabTitle,systemInfo:i.systemInfo,metaData:i.metaData};r.sessionHasVideo={id:ot(),sessionId:i.id,videoUniqueId:null==v?void 0:v.uniqueId,chunkDate:null==v?void 0:v.chunkDate,uploadError:!0,status:"completed",clickTimestamp:i.clickTimestamp,clickDateTime:i.clickDateTime,startTimestamp:i.startTimestamp,startDateTime:i.startDateTime,endTimestamp:i.endTimestamp,endDateTime:i.endDateTime,timeout:i.startTimestamp,createdAt:(new Date).toISOString()},c(r),yield null==A?void 0:A.__createSession(i,(e=>Vr(void 0,void 0,void 0,(function*(){var r;e&&(e instanceof Error||(null===(r=n.triggerEvent)||void 0===r||r.call(n,"sessionCreated",{detail:i}),yield Ee(i,(null==t?void 0:t.logsData)||[],!1),sessionStorage.setItem("sessionId",e.id||"")))}))))}})),Ue=e=>new Promise((t=>{const n=new FileReader;n.onloadend=()=>{const e=null==n?void 0:n.result;t(e)},n.readAsDataURL(e)})),Fe=e=>Vr(void 0,void 0,void 0,(function*(){const n=st(u),i=yield(e=>xr(void 0,void 0,void 0,(function*(){const t=yield cr();return e?yield t.videos.get(e):null})))(e);if(i&&(n.sessionHasVideo=Object.assign(Object.assign({},i),{id:i.id||ot(),uploadError:!1}),(null==i?void 0:i.videoUniqueId)&&!(null==i?void 0:i.url))){let o=yield jr({videoUniqueId:i.videoUniqueId});if(!(null==o?void 0:o.length))return;let a=o.sort(((e,t)=>e.index-t.index));o=null;let l=new Blob(a.map((e=>e.chunk)),{type:"video/webm"});a=null;const u=yield(s=l,qr(void 0,void 0,void 0,(function*(){const e=document.createElement("video"),t=new Promise(((t,n)=>{let i=!1,r=5;const s=setInterval((()=>{i&&clearInterval(s),0===r&&(clearInterval(s),t(0)),r-=1}),1e3);e.addEventListener("loadedmetadata",(()=>{i=!0,clearInterval(s),e.duration===1/0?(e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=()=>{e.ontimeupdate=null,t(e.duration),e.currentTime=0}):t(e.duration)})),e.onerror=e=>n(e instanceof Error?e.message:e)}));return e.src="string"==typeof s||s instanceof String?String(s):window.URL.createObjectURL(s),t}))),A=l.size,h=URL.createObjectURL(l),p=yield(r=h,Vr(void 0,void 0,void 0,(function*(){d.log("url: ",r);let e=null;try{const t=yield fetch(r);e=yield t.blob()}catch(e){d.error("error: ",e)}return e?yield Ue(e):null}))).catch((()=>l?Ue(l):null));URL.revokeObjectURL(h);let f=yield((e,t=2)=>it(void 0,void 0,void 0,(function*(){try{const n=document.createElement("video");n.src=e,n.style.objectFit="cover",n.hidden=!0,document.body.appendChild(n),yield new Promise(((e,t)=>{n.onloadeddata=e,n.onerror=t,n.load()})),n.currentTime=t,yield new Promise((e=>{n.onseeked=e}));const i=document.createElement("canvas"),r=i.getContext("2d");if(!r)throw new Error("Failed to get canvas context");const s=n.videoWidth/n.videoHeight,o=720;let a=1280,l=a/s;l>o&&(l=o,a=l*s),i.width=a,i.height=l,r.drawImage(n,0,0,a,l);const u=i.toDataURL("image/png",.8);return document.body.removeChild(n),u}catch(e){return void d.log("Error generating thumbnail:",e)}})))(p||"",u>5?5:2);if(!f){f=(yield Tr()(document.documentElement,{useCORS:!0,imageTimeout:15e3,width:window.innerWidth,height:window.innerHeight,windowWidth:window.innerWidth,windowHeight:window.innerHeight,scrollX:0,scrollY:0,ignoreElements:e=>e.id===t})).toDataURL("image/png")}l=null;const g=Object.assign(Object.assign({},i),{duration:u,url:p,file:f,size:A});n.sessionHasVideo=g,c(n),yield Br(e,{url:p||"",file:f||""})}var r,s;m(!1)})),De=e=>Vr(void 0,void 0,void 0,(function*(){var t,n,i;const r=yield(e=>Ar(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)return yield t.sessions.get(e)})))(e);if(r){const s=st(r);if("screenshot"===(null==r?void 0:r.type)){const t=yield(e=>hr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)return yield t.screenshots.get(e)})))(e);t&&(s.sessionHasScreenShot=t)}if("rewind"===(null==s?void 0:s.type)){const r=yield(e=>pr(void 0,void 0,void 0,(function*(){const t=yield cr();if(e)return yield t.rewind.get(e)})))(e),o=(null===(t=null==r?void 0:r.events)||void 0===t?void 0:t.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))))||[],a=(null===(n=null==o?void 0:o[0])||void 0===n?void 0:n.timestamp)||0,l=((null===(i=null==o?void 0:o[o.length-1])||void 0===i?void 0:i.timestamp)-a)/1e3;E(l),(null==o?void 0:o.length)>0&&(s.sessionHasRewind=Object.assign(Object.assign({},r),{events:o}))}c(s),sessionStorage.setItem("sessionId",s.id||"")}})),Le=()=>{u&&(null==A||A.handleDeleteSession(u)),O(!1),M(!1),k(!1),x(!1),c(null),k(!1),M(!1),O(!1),x(!1),c(null),U(null),D(!1),E(0)},Oe=e=>Vr(void 0,void 0,void 0,(function*(){try{const t=yield jr({videoUniqueId:e});let n=null==t?void 0:t.filter((e=>!e.isUploaded));return(null==n?void 0:n.length)&&(yield Promise.all(n.map((e=>((e,t,n,i)=>Vr(void 0,void 0,void 0,(function*(){const r=new FormData;r.append("file",e),r.append("uniqueId",t),r.append("chunkDate",n),r.append("chunkNumber",i),yield window.fetch("https://butterfly-api.betterbugs.io/upload/upload-chunk",{method:"POST",body:r,headers:{"ignore-bb-capture":"true"}}),Rr(t+"_"+i,{isUploaded:!0})})))(e.chunk,e.videoUniqueId,e.chunkDate,String(e.index)))))),n=null,!0}catch(e){return d.log(e),!1}})),Ne=(e,t)=>Vr(void 0,void 0,void 0,(function*(){var n,i,r,s,o;const a={uploadError:null===(n=null==e?void 0:e.sessionHasVideo)||void 0===n?void 0:n.uploadError,videoUniqueId:null===(i=null==e?void 0:e.sessionHasVideo)||void 0===i?void 0:i.videoUniqueId,chunkDate:null===(r=null==e?void 0:e.sessionHasVideo)||void 0===r?void 0:r.chunkDate};if(!(null==a?void 0:a.uploadError))return!0;if(0===t)return!1;try{if(!(yield Oe(a.videoUniqueId||"")))throw new Error("Failed to upload chunks");yield(({payload:e})=>Fr(void 0,void 0,void 0,(function*(){return rt({url:"/upload/merge-chunk",method:"POST",headers:{"ignore-bb-capture":"true"},data:e})})))({payload:{uniqueId:a.videoUniqueId||"",chunkDate:a.chunkDate||""}}),e=Object.assign(Object.assign({},e),{sessionHasVideo:Object.assign(Object.assign({},null==e?void 0:e.sessionHasVideo),{id:(null===(s=null==e?void 0:e.sessionHasVideo)||void 0===s?void 0:s.id)||ot(),uploadError:!1})}),c((t=>{var n;return t?Object.assign(Object.assign({},t),{sessionHasVideo:Object.assign(Object.assign({},null==t?void 0:t.sessionHasVideo),{id:(null===(n=null==e?void 0:e.sessionHasVideo)||void 0===n?void 0:n.id)||ot(),uploadError:!1})}):t}));try{yield Br((null==e?void 0:e.id)||"",Object.assign(Object.assign({},null==e?void 0:e.sessionHasVideo),{uploadError:!1})),yield(l=(null==a?void 0:a.videoUniqueId)||"",Mr(void 0,void 0,void 0,(function*(){const e=yield cr();if(d.log("videoUniqueId",l),l)try{return yield e.tempChunks.where("videoUniqueId").equals(l).delete(),!0}catch(e){d.log("🚀 ~ deleteDBTempChunksByVideoUniqueId ~ error:",e)}return!1})))}catch(e){}return!0}catch(n){return e=Object.assign(Object.assign({},e),{sessionHasVideo:Object.assign(Object.assign({},null==e?void 0:e.sessionHasVideo),{id:(null===(o=null==e?void 0:e.sessionHasVideo)||void 0===o?void 0:o.id)||ot(),uploadError:!0})}),c((t=>{var n;return t?Object.assign(Object.assign({},t),{sessionHasVideo:Object.assign(Object.assign({},null==t?void 0:t.sessionHasVideo),{id:(null===(n=null==e?void 0:e.sessionHasVideo)||void 0===n?void 0:n.id)||ot(),uploadError:!0})}):t})),yield Br((null==e?void 0:e.id)||"",{uploadError:!0}),d.error("merge chunk error: ",n),Ne(e,t-1)}var l}));return(0,tr.jsx)(Kr.Provider,{value:{bugCreated:s,setBugCreated:o,setSubmitBtnText:l,submitBtnText:a,processChunks:Ne,isUpdatingVideo:g,setIsUpdatingVideo:m,maxRecordingMinutes:b,setMaxRecordingMinutes:w,cleanUp:Le,isBugCreating:L,setIsBugCreating:O,handleBugSubmit:e=>Vr(void 0,void 0,void 0,(function*(){var t,n,r,s,a,c,A,h,p,f,g,m,v,y,b,w,C,x,B,S,_,k,T,E,I,U,F,D,L,N,M,j,R,Q,P,q,V,z,K,G,W,$,X,Y,Z,ee,te,ne,ie,re,se,oe,ae,le,ue,ce,Ae,de,he,pe,fe,ge,me,ve,ye,be,we,Ce,xe,Be,Se;try{O(!0),l("Creating bug...");const i=[],{description:_e,email:ke,assignee:Te,reporter:Ee,title:Ie}=e,Ue=st(u),[Fe,De,Oe,Me]=yield Promise.all([gr((null==u?void 0:u.id)||""),vr((null==u?void 0:u.id)||""),br((null==u?void 0:u.id)||""),Cr((null==u?void 0:u.id)||"")]);i.push((({sessionHasConsoleLogs:e,sessionHasApplicationData:t,sessionHasNetworkLogs:n,sessionHasSteps:i})=>Vr(void 0,void 0,void 0,(function*(){var r,s,o,a,l,c,A,h;const p=null==e?void 0:e.map((e=>({type:(null==e?void 0:e.type)||"",args:(null==e?void 0:e.args)||{},timestamp:(null==e?void 0:e.timestamp)?null==e?void 0:e.timestamp.toString():"",dateTime:(null==e?void 0:e.createdAt)||"",url:(null==e?void 0:e.url)||"",file:(null==e?void 0:e.file)||[],id:(null==e?void 0:e.id)||""}))),f=null==t?void 0:t.map((e=>{var t;return{type:(null==e?void 0:e.type)||"",args:(null==e?void 0:e.args)||{},url:(null==e?void 0:e.url)||"",timestamp:(null===(t=null==e?void 0:e.timestamp)||void 0===t?void 0:t.toString())||"",dateTime:(null==e?void 0:e.createdAt)||"",id:(null==e?void 0:e.id)||""}})),g=null==n?void 0:n.map((e=>{var t,n,i,r,s,o;let a=[],l=[];(null==e?void 0:e.requestHeaders)&&(null===(t=null==e?void 0:e.requestHeaders)||void 0===t?void 0:t.length)>0&&(a=null==e?void 0:e.requestHeaders.map((e=>{var t,n;return{name:(null==e?void 0:e.name)?null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.toString():"",value:(null==e?void 0:e.value)?null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.toString():""}}))),(null==e?void 0:e.responseHeaders)&&(null===(n=null==e?void 0:e.responseHeaders)||void 0===n?void 0:n.length)>0&&(l=null==e?void 0:e.responseHeaders.map((e=>{var t,n;return{name:(null==e?void 0:e.name)?null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.toString():"",value:(null==e?void 0:e.value)?null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.toString():""}})));const u={};null===(i=null==e?void 0:e.requestHeaders)||void 0===i||i.forEach((e=>{u[(null==e?void 0:e.name)||""]=(null==e?void 0:e.value)||""}));const c=(0,Ur.Ay)({url:null==e?void 0:e.url,method:null==e?void 0:e.method,headers:u,body:null==e?void 0:e.requestBody})||"";let A="",h="";try{A=Er(c)||"",h=Ir(c)?JSON.stringify(Ir(c)):""}catch(e){d.error("error: ",e)}return{id:(null==e?void 0:e.id)||"",initiator:(null==e?void 0:e.initiator)||"",method:(null==e?void 0:e.method)||"",requestTime:(null==e?void 0:e.requestTime)?null==e?void 0:e.requestTime.toString():"",requestBody:null!==(r=null==e?void 0:e.requestBody)&&void 0!==r?r:null,requestHeaders:a,responseHeaders:l,cURL:c,fetchString:A,HARString:h,isError:!!(null==e?void 0:e.isError),responseTime:(null==e?void 0:e.responseTime)?null==e?void 0:e.responseTime.toString():"",statusCode:(null==e?void 0:e.statusCode)?null==e?void 0:e.statusCode.toString():"",statusLine:(null==e?void 0:e.statusLine)?null==e?void 0:e.statusLine.toString():"",type:(null===(s=null==e?void 0:e.type)||void 0===s?void 0:s.toString())||"",url:(null===(o=null==e?void 0:e.url)||void 0===o?void 0:o.toString())||"",timestamp:(null==e?void 0:e.timestamp)?null==e?void 0:e.timestamp.toString():"",startTime:(null==e?void 0:e.startTime)?null==e?void 0:e.startTime.toString():"",endTime:(null==e?void 0:e.endTime)?null==e?void 0:e.endTime.toString():"",response:(null==e?void 0:e.response)||null}}));let m={version:"2",console:p,network:g,applicationData:f,steps:ct(i).map((e=>{var t,n,i,r;return e.timestamp=null===(t=null==e?void 0:e.timestamp)||void 0===t?void 0:t.toString(),e.responseTime=null===(n=null==e?void 0:e.responseTime)||void 0===n?void 0:n.toString(),e.requestTime=null===(i=null==e?void 0:e.requestTime)||void 0===i?void 0:i.toString(),e.count=null===(r=null==e?void 0:e.count)||void 0===r?void 0:r.toString(),delete e.sessionId,e}))};if("rewind"===(null==u?void 0:u.type)){const e=(null===(o=null===(s=null===(r=null==u?void 0:u.sessionHasRewind)||void 0===r?void 0:r.events)||void 0===s?void 0:s[0])||void 0===o?void 0:o.timestamp)||0,t=e+1e3*((null===(l=null===(a=null==u?void 0:u.sessionHasRewind)||void 0===a?void 0:a.trim)||void 0===l?void 0:l.minVal)||0)-1e3,n=e+1e3*((null===(A=null===(c=null==u?void 0:u.sessionHasRewind)||void 0===c?void 0:c.trim)||void 0===A?void 0:A.maxVal)||0)+1e3;m={version:"2",console:null==p?void 0:p.filter((e=>e.timestamp>t&&e.timestamp<n)),network:null==g?void 0:g.filter((e=>e.timestamp>t&&e.timestamp<n)),applicationData:f,steps:null===(h=ct(i).map((e=>{var t,n,i,r;return e.timestamp=null===(t=null==e?void 0:e.timestamp)||void 0===t?void 0:t.toString(),e.responseTime=null===(n=null==e?void 0:e.responseTime)||void 0===n?void 0:n.toString(),e.requestTime=null===(i=null==e?void 0:e.requestTime)||void 0===i?void 0:i.toString(),e.count=null===(r=null==e?void 0:e.count)||void 0===r?void 0:r.toString(),delete e.sessionId,e})))||void 0===h?void 0:h.filter((e=>e.timestamp>t&&e.timestamp<n))}}const v=JSON.stringify(m),y=new FormData;let b;try{const e=new Blob([v],{type:"application/text"});y.append("file",e,"logs.json");const t=yield window.fetch("https://butterfly-api.betterbugs.io/upload/uploadFile",{method:"POST",body:y});b=yield t.json()}catch(e){d.error("error: ",e)}return b})))({sessionHasConsoleLogs:Fe,sessionHasApplicationData:De,sessionHasNetworkLogs:Me,sessionHasSteps:Oe}));let je=null===(t=null==Ue?void 0:Ue.sessionHasVideo)||void 0===t?void 0:t.uploadError;if("screenshot"===(null==Ue?void 0:Ue.type)){const e=null===(n=null==u?void 0:u.sessionHasScreenShot)||void 0===n?void 0:n.file;if(e&&(null==e?void 0:e.includes("base64"))){const t=new FormData;t.append("file",ut(e),"screenshot.png"),t&&i.push(Vr(void 0,void 0,void 0,(function*(){const e=yield window.fetch("https://butterfly-api.betterbugs.io/upload/uploadFile",{method:"POST",body:t});return yield e.json()})))}}else if("rewind"===(null==Ue?void 0:Ue.type)){if((null===(r=null==Ue?void 0:Ue.sessionHasRewind)||void 0===r?void 0:r.events)&&(null===(a=null===(s=null==Ue?void 0:Ue.sessionHasRewind)||void 0===s?void 0:s.events)||void 0===a?void 0:a.length)){const e=null===(c=null==Ue?void 0:Ue.sessionHasRewind)||void 0===c?void 0:c.events[0].timestamp,t=e+1e3*(null===(h=null===(A=null==Ue?void 0:Ue.sessionHasRewind)||void 0===A?void 0:A.trim)||void 0===h?void 0:h.minVal)-1e3,n=e+1e3*(null===(f=null===(p=null==Ue?void 0:Ue.sessionHasRewind)||void 0===p?void 0:p.trim)||void 0===f?void 0:f.maxVal)+1e3,r=null===(m=null===(g=null==Ue?void 0:Ue.sessionHasRewind)||void 0===g?void 0:g.events)||void 0===m?void 0:m.filter((e=>e.timestamp>t&&e.timestamp<n)),s=new FormData;s.append("file",new Blob([JSON.stringify(r)],{type:"application/json"}),"rewind.json"),s&&i.push(Vr(void 0,void 0,void 0,(function*(){const e=yield window.fetch("https://butterfly-api.betterbugs.io/upload/uploadFile",{method:"POST",body:s});return yield e.json()})))}if((null===(v=null==Ue?void 0:Ue.sessionHasRewind)||void 0===v?void 0:v.file)&&(null===(b=null===(y=null==Ue?void 0:Ue.sessionHasRewind)||void 0===y?void 0:y.file)||void 0===b?void 0:b.includes("base64"))){const e=new FormData;e.append("file",ut(null===(w=null==Ue?void 0:Ue.sessionHasRewind)||void 0===w?void 0:w.file),`rewind-thumbnail-${null==Ue?void 0:Ue.id}.png`),e&&i.push(Vr(void 0,void 0,void 0,(function*(){const t=yield window.fetch("https://butterfly-api.betterbugs.io/upload/uploadFile",{method:"POST",body:e});return yield t.json()})))}}else if("screenRecording"===(null==Ue?void 0:Ue.type)){if(je&&(je=!(yield Ne(Ue,3))),je&&(null===(C=null==Ue?void 0:Ue.sessionHasVideo)||void 0===C?void 0:C.url)&&(null===(B=null===(x=null==Ue?void 0:Ue.sessionHasVideo)||void 0===x?void 0:x.url)||void 0===B?void 0:B.includes("base64"))){const e=new FormData;e.append("file",ut(null===(S=null==Ue?void 0:Ue.sessionHasVideo)||void 0===S?void 0:S.url),`screenshot-${null==Ue?void 0:Ue.id}.webm`),e&&i.push(window.fetch("https://butterfly-api.betterbugs.io/upload/uploadFile",{method:"POST",body:e}))}if((null===(_=null==Ue?void 0:Ue.sessionHasVideo)||void 0===_?void 0:_.file)&&(null===(T=null===(k=null==Ue?void 0:Ue.sessionHasVideo)||void 0===k?void 0:k.file)||void 0===T?void 0:T.includes("base64"))){const e=new FormData;e.append("file",ut(null===(E=null==Ue?void 0:Ue.sessionHasVideo)||void 0===E?void 0:E.file),`video-thumbnail-${null==Ue?void 0:Ue.id}.png`),e&&i.push(Vr(void 0,void 0,void 0,(function*(){const t=yield window.fetch("https://butterfly-api.betterbugs.io/upload/uploadFile",{method:"POST",body:e});return yield t.json()})))}}"development"===J&&l("Uploading files...");const Re=yield Promise.all(i),Qe={reporterEmail:"production"===J?ke:void 0,userId:"development"===J?Ee:void 0,assignees:Te?[Te]:[],title:Ie,description:_e,metaData:Object.entries(null==Ue?void 0:Ue.metaData).map((([e,t])=>({title:e,value:t}))),tags:null==Ue?void 0:Ue.tags,type:null==Ue?void 0:Ue.type,sessionType:null==Ue?void 0:Ue.sessionType,systemInfo:null==Ue?void 0:Ue.systemInfo,pageInfo:{domain:null===(I=null==Ue?void 0:Ue.systemInfo)||void 0===I?void 0:I.domain,pageTitle:null===(U=null==Ue?void 0:Ue.systemInfo)||void 0===U?void 0:U.docTitle,url:null===(F=null==Ue?void 0:Ue.systemInfo)||void 0===F?void 0:F.url},status:null==Ue?void 0:Ue.status,timeout:null==Ue?void 0:Ue.timeout,evidence:null===(D=Re[0])||void 0===D?void 0:D.key};"screenshot"===(null==Ue?void 0:Ue.type)?Qe.screenshot={file:null===(L=Re[1])||void 0===L?void 0:L.key,clickTimestamp:(null===(N=null==Ue?void 0:Ue.sessionHasScreenShot)||void 0===N?void 0:N.clickTimestamp)?null==Ue?void 0:Ue.sessionHasScreenShot.clickTimestamp.toString():"",clickDateTime:(null===(M=null==Ue?void 0:Ue.sessionHasScreenShot)||void 0===M?void 0:M.clickDateTime)?null==Ue?void 0:Ue.sessionHasScreenShot.clickDateTime.toString():"",startTimestamp:(null===(j=null==Ue?void 0:Ue.sessionHasScreenShot)||void 0===j?void 0:j.startTimestamp)?null==Ue?void 0:Ue.sessionHasScreenShot.startTimestamp.toString():"",startDateTime:(null===(R=null==Ue?void 0:Ue.sessionHasScreenShot)||void 0===R?void 0:R.startDateTime)?null==Ue?void 0:Ue.sessionHasScreenShot.startDateTime.toString():"",endTimestamp:(null===(Q=null==Ue?void 0:Ue.sessionHasScreenShot)||void 0===Q?void 0:Q.endTimestamp)?null==Ue?void 0:Ue.sessionHasScreenShot.endTimestamp.toString():"",endDateTime:(null===(P=null==Ue?void 0:Ue.sessionHasScreenShot)||void 0===P?void 0:P.endDateTime)?null==Ue?void 0:Ue.sessionHasScreenShot.endDateTime.toString():""}:"rewind"===(null==Ue?void 0:Ue.type)?Qe.rewind={url:(null===(q=Re[1])||void 0===q?void 0:q.key)||"",file:null===(V=Re[2])||void 0===V?void 0:V.key,duration:null===(K=null===(z=null==Ue?void 0:Ue.sessionHasRewind)||void 0===z?void 0:z.duration)||void 0===K?void 0:K.toString(),size:null===(W=null===(G=null==Ue?void 0:Ue.sessionHasRewind)||void 0===G?void 0:G.size)||void 0===W?void 0:W.toString(),clickTimestamp:(null===($=null==Ue?void 0:Ue.sessionHasRewind)||void 0===$?void 0:$.clickTimestamp)?null===(X=null==Ue?void 0:Ue.sessionHasRewind.clickTimestamp)||void 0===X?void 0:X.toString():"",clickDateTime:(null===(Y=null==Ue?void 0:Ue.sessionHasRewind)||void 0===Y?void 0:Y.clickDateTime)?null===(Z=null==Ue?void 0:Ue.sessionHasRewind.clickDateTime)||void 0===Z?void 0:Z.toString():"",startTimestamp:(null===(ee=null==Ue?void 0:Ue.sessionHasRewind)||void 0===ee?void 0:ee.startTimestamp)?null===(te=null==Ue?void 0:Ue.sessionHasRewind.startTimestamp)||void 0===te?void 0:te.toString():"",startDateTime:(null===(ne=null==Ue?void 0:Ue.sessionHasRewind)||void 0===ne?void 0:ne.startDateTime)?null===(ie=null==Ue?void 0:Ue.sessionHasRewind.startDateTime)||void 0===ie?void 0:ie.toString():"",endTimestamp:(null===(re=null==Ue?void 0:Ue.sessionHasRewind)||void 0===re?void 0:re.endTimestamp)?null===(se=null==Ue?void 0:Ue.sessionHasRewind.endTimestamp)||void 0===se?void 0:se.toString():"",endDateTime:(null===(oe=null==Ue?void 0:Ue.sessionHasRewind)||void 0===oe?void 0:oe.endDateTime)?null===(ae=null==Ue?void 0:Ue.sessionHasRewind.endDateTime)||void 0===ae?void 0:ae.toString():""}:"screenRecording"===(null==Ue?void 0:Ue.type)&&(Qe.screenRecording={duration:null===(le=null==Ue?void 0:Ue.sessionHasVideo)||void 0===le?void 0:le.duration.toString(),size:null===(ue=null==Ue?void 0:Ue.sessionHasVideo)||void 0===ue?void 0:ue.size.toString(),clickTimestamp:(null===(ce=null==Ue?void 0:Ue.sessionHasVideo)||void 0===ce?void 0:ce.clickTimestamp)?null==Ue?void 0:Ue.sessionHasVideo.clickTimestamp.toString():"",clickDateTime:(null===(Ae=null==Ue?void 0:Ue.sessionHasVideo)||void 0===Ae?void 0:Ae.clickDateTime)?null===(de=null==Ue?void 0:Ue.sessionHasVideo)||void 0===de?void 0:de.clickDateTime.toString():"",startTimestamp:(null===(he=null==Ue?void 0:Ue.sessionHasVideo)||void 0===he?void 0:he.startTimestamp)?null===(pe=null==Ue?void 0:Ue.sessionHasVideo)||void 0===pe?void 0:pe.startTimestamp.toString():"",startDateTime:(null===(fe=null==Ue?void 0:Ue.sessionHasVideo)||void 0===fe?void 0:fe.startDateTime)?null===(ge=null==Ue?void 0:Ue.sessionHasVideo)||void 0===ge?void 0:ge.startDateTime.toString():"",endTimestamp:(null===(me=null==Ue?void 0:Ue.sessionHasVideo)||void 0===me?void 0:me.endTimestamp)?null===(ve=null==Ue?void 0:Ue.sessionHasVideo)||void 0===ve?void 0:ve.endTimestamp.toString():"",endDateTime:(null===(ye=null==Ue?void 0:Ue.sessionHasVideo)||void 0===ye?void 0:ye.endDateTime)?null===(be=null==Ue?void 0:Ue.sessionHasVideo)||void 0===be?void 0:be.endDateTime.toString():""},je?(Qe.screenRecording.url=null===(Be=Re[1])||void 0===Be?void 0:Be.key,Qe.screenRecording.file=null===(Se=Re[2])||void 0===Se?void 0:Se.key):(Qe.screenRecording.file=null===(we=Re[1])||void 0===we?void 0:we.key,Qe.videoUniqueId=null===(Ce=null==Ue?void 0:Ue.sessionHasVideo)||void 0===Ce?void 0:Ce.videoUniqueId,Qe.videoChunkDate=null===(xe=null==Ue?void 0:Ue.sessionHasVideo)||void 0===xe?void 0:xe.chunkDate)),"development"===J&&l("Generating link...");const Pe=yield(({apiKey:e,payload:t})=>Fr(void 0,void 0,void 0,(function*(){const n=Date.now(),i=yield dt(t,n,e);return rt({url:"/sdk/web/bug",method:"POST",headers:{"x-api-key":`${e}`,"x-timestamp":`${n}`,"x-signature":`${i}`,"ignore-bb-capture":"true"},data:t})})))({apiKey:H,payload:Qe});d.info("bugSession: ",Pe),O(!1),l("Submit report"),o(!0),Le()}catch(e){e instanceof Error?i(e.message,"error",5e3):i("An unknown error occurred","error",5e3),O(!1),l("Submit report")}})),activeSession:u,setActiveSession:c,activeTab:j,setActiveTab:R,showActionButton:W,setShowActionButton:$,captureRewindOnScreenshot:oe,setCaptureRewindOnScreenshot:ae,recordType:ee,setRecordType:te,position:X,setPosition:Y,mode:J,setMode:Z,enableRewind:ne,setEnableRewind:ie,enableAnnotation:re,setEnableAnnotation:se,updateTrimDuration:(e,t)=>Vr(void 0,void 0,void 0,(function*(){var n,i,r,s;c((n=>n?Object.assign(Object.assign({},n),{sessionHasRewind:n.sessionHasRewind?Object.assign(Object.assign({},n.sessionHasRewind),{trim:{minVal:e,maxVal:t}}):void 0}):n)),yield(r=(null==u?void 0:u.id)||"",s={id:(null===(n=null==u?void 0:u.sessionHasRewind)||void 0===n?void 0:n.id)||ot(),trim:{minVal:e,maxVal:t},createdAt:(null===(i=null==u?void 0:u.sessionHasRewind)||void 0===i?void 0:i.createdAt)||(new Date).toISOString()},pr(void 0,void 0,void 0,(function*(){const e=yield cr();return!(!r||!s)&&(yield e.rewind.update(r,s))})))})),totalVideoSec:T,setTotalVideoSec:E,rrwebRePlayer:I,setRRwebRePlayer:U,isRewindPlaying:F,setIsRewindPlaying:D,openRecordingPreview:_,setOpenRecordingPreview:k,isRecording:C,setIsRecording:x,recordingStackTrace:B,setRecordingStackTrace:S,dataController:p,setDataController:f,stopScreenRecord:Ie,clickScreenShot:ke,startScreenRecord:Te,widgetOpen:K,setWidgetOpen:G,accessToken:Q,setAccessToken:P,apiKey:H,setApiKey:q,metaData:le,setMetaData:ue,loginUser:V,setLoginUser:z,openBugReportForm:N,setOpenBugReportForm:M},children:e})};var Wr=e=>(0,tr.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 16 16"},e,{children:[(0,tr.jsx)("path",{fill:"currentColor",d:"M7.884 0a7.995 7.995 0 0 0-6.653 3.534c-1.405 2.084.021 2.934 3.026 3.011C.484 6.448-.419 8.078.161 10.156c.842 3.013 3.616 5.562 7.069 5.84V4.427c0-1.172 0-2.353.656-3.008V0h-.002ZM5.772 14.07c-2.074-.619-3.93-2.723-3.93-4.815 0-1.481 1.935-2.038 3.93-2.038v6.853Zm0-9.743v1.597c-1.911 0-3.975-.515-3.45-1.52a6.08 6.08 0 0 1 4.06-2.984c-.62.62-.61 1.379-.61 2.907Z"}),(0,tr.jsx)("path",{fill:"currentColor",d:"M7.885 0v1.42c.66.655.66 1.836.66 3.008V16c3.448-.277 6.223-2.826 7.063-5.844.582-2.083-.322-3.708-4.096-3.616 3.005-.077 4.433-.927 3.027-3.011A7.999 7.999 0 0 0 7.886 0Zm2.11 7.217c2.004 0 3.93.557 3.93 2.038 0 2.096-1.855 4.191-3.93 4.815V7.217Zm-.609-5.803a6.076 6.076 0 0 1 4.062 2.99c.526 1.005-1.538 1.52-3.451 1.52V4.327c-.002-1.528.01-2.288-.61-2.907l-.001-.006Z"})]}));var $r=()=>{const{clickScreenShot:e,startScreenRecord:t,bugCreated:n,setWidgetOpen:i}=(0,nr.useContext)(Kr),[r,s]=(0,nr.useState)(""),[o,a]=(0,nr.useState)("");return(0,nr.useEffect)((()=>{"mac"===(()=>{const e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase();return e.includes("mac")||t.includes("mac")?"mac":e.includes("win")||t.includes("win")?"windows":"other"})()?(s("⌘ + ⌥ + S"),a("⌘ + ⌥ + R")):(s("Ctrl + Alt + S"),a("Ctrl + Alt + R"))}),[]),n?(0,tr.jsxs)("div",{className:"p-4 bg-[#1E1E1E] rounded-2xl w-[320px] shadow-xl",children:[(0,tr.jsxs)("div",{className:"bg-[#1A1A1A] rounded-2xl shadow-lg p-4 w-full max-w-md flex flex-col items-center relative",children:[(0,tr.jsx)("button",{onClick:()=>i(!1),className:"absolute top-px right-px text-gray-400 hover:text-white transition-colors duration-200 p-1 rounded-md hover:bg-white/10",type:"button","aria-label":"Close",children:(0,tr.jsx)(sr,{className:"w-3 h-3"})}),(0,tr.jsx)("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-gray-800 mb-6",children:(0,tr.jsx)("span",{className:"text-3xl text-gray-400",children:"👍"})}),(0,tr.jsx)("h1",{className:"text-xl font-semibold text-white/60 mb-2 text-center",children:"Bug created successfully!"}),(0,tr.jsx)("p",{className:"text-gray-400 text-center mb-2",children:"We saved your bug report."})]}),(0,tr.jsx)("div",{className:"pb-3 text-center",children:(0,tr.jsxs)("span",{className:"text-xs text-gray-500 flex items-center justify-center gap-1",children:["Powered by"," ",(0,tr.jsxs)("a",{href:"https://betterbugs.io",target:"_blank",rel:"noopener noreferrer",className:"!hover:text-success/80 flex items-center gap-1",children:[(0,tr.jsx)(Wr,{className:"w-4 h-4 inline-block text-success/80",fill:"currentColor"}),"Betterbugs"]})]})})]}):(0,tr.jsxs)("div",{className:"p-4 bg-[#1E1E1E] rounded-2xl w-[320px] shadow-xl relative",children:[(0,tr.jsx)("button",{onClick:()=>i(!1),className:"absolute top-2.5 right-2.5 text-gray-400 hover:text-white transition-colors duration-200 p-1 rounded-md hover:bg-white/10",type:"button","aria-label":"Close",children:(0,tr.jsx)(sr,{className:"w-3 h-3"})}),(0,tr.jsx)("h2",{className:"text-xl font-semibold text-white mb-4 px-2",children:"Report Bug"}),(0,tr.jsxs)("div",{className:"space-y-2",children:[(0,tr.jsxs)("button",{onClick:e,className:"flex items-center w-full px-4 py-3 rounded-xl text-white bg-[#2A2A2A] hover:bg-[#333333] active:bg-[#383838] transition-all duration-200 group",type:"button",children:[(0,tr.jsxs)("div",{className:"flex items-center flex-1",children:[(0,tr.jsx)(ir,{className:"text-[#4ADE80] w-6 h-6 group-hover:scale-110 transition-transform duration-200"}),(0,tr.jsx)("span",{className:"text-base ml-3 font-medium",children:"Screenshot"})]}),(0,tr.jsx)("div",{className:"text-[#666666] text-sm",children:r})]}),(0,tr.jsxs)("button",{onClick:t,className:"flex items-center w-full px-4 py-3 rounded-xl text-white bg-[#2A2A2A] hover:bg-[#333333] active:bg-[#383838] transition-all duration-200 group",type:"button",children:[(0,tr.jsxs)("div",{className:"flex items-center flex-1",children:[(0,tr.jsx)(rr,{className:"text-[#4ADE80] w-6 h-6 group-hover:scale-110 transition-transform duration-200"}),(0,tr.jsx)("span",{className:"text-base ml-3 font-medium",children:"Screen record"})]}),(0,tr.jsx)("div",{className:"text-[#666666] text-sm",children:o})]})]}),(0,tr.jsx)("div",{className:"pb-3 text-center mt-4",children:(0,tr.jsxs)("span",{className:"text-xs text-gray-500 flex items-center justify-center gap-1",children:["Powered by"," ",(0,tr.jsxs)("a",{href:"https://betterbugs.io",target:"_blank",rel:"noopener noreferrer",className:"!hover:text-success/80 flex items-center gap-1",children:[(0,tr.jsx)(Wr,{className:"w-4 h-4 inline-block text-success/80",fill:"currentColor"}),"Betterbugs"]})]})})]})};const Xr="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent);var Yr=({children:e,content:t,open:n,onOpenChange:i,className:r="",style:s={},contentClassName:o="",activeSession:a})=>{const l=(0,nr.useRef)(null),u=(0,nr.useRef)(null),c=(0,nr.useRef)(null),[A,d]=(0,nr.useState)({top:0,left:0,opacity:0});(0,nr.useEffect)((()=>{requestAnimationFrame((()=>{h()}))}),[a]);const h=()=>{if(!u.current||!c.current)return;const e=u.current.getBoundingClientRect(),t=c.current.getBoundingClientRect(),n=window.innerHeight,i=Xr&&window.visualViewport?window.visualViewport.height:n,r=window.innerWidth,s=Xr&&window.visualViewport?window.visualViewport.offsetTop:0;let o={top:Xr?Math.min(e.bottom+8,.4*i):e.bottom+8,left:e.left,opacity:1};if(Xr&&i<.8*n){const e=.7*i;o.top=Math.min(o.top,e-t.height),o.top=Math.max(s+20,o.top)}else o.top+t.height>i&&e.top-t.height>0&&(o={top:e.top-t.height,left:e.left,opacity:1});o.left+t.width>r&&(o.left=Math.max(0,r-t.width-20)),o.left<0&&(o.left=0),d(o)};return(0,nr.useEffect)((()=>{var e,t;if(!Xr||!n)return;const i=()=>{window.visualViewport&&requestAnimationFrame((()=>{h()}))};return null===(e=window.visualViewport)||void 0===e||e.addEventListener("resize",i),null===(t=window.visualViewport)||void 0===t||t.addEventListener("scroll",i),window.addEventListener("orientationchange",i),()=>{var e,t;null===(e=window.visualViewport)||void 0===e||e.removeEventListener("resize",i),null===(t=window.visualViewport)||void 0===t||t.removeEventListener("scroll",i),window.removeEventListener("orientationchange",i)}}),[n]),(0,nr.useEffect)((()=>{if(!n)return;requestAnimationFrame((()=>{h()}));const e=()=>{h()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[n]),(0,nr.useEffect)((()=>{requestAnimationFrame((()=>{h()}))}),[]),(0,tr.jsxs)("div",{ref:l,className:`relative inline-block ${r}`,children:[(0,tr.jsx)("div",{ref:u,onClick:()=>i(!n),children:e}),(0,tr.jsx)("div",{ref:c,className:`fixed z-50 transition-opacity duration-200 ease-out ${o}`,style:Object.assign(Object.assign({},s),{top:`${A.top}px`,left:`${A.left}px`,opacity:n?A.opacity:0,visibility:n?"visible":"hidden",pointerEvents:n?"auto":"none"}),children:t})]})},Jr=function(e,t){return(Jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Zr(e,t){function n(){this.constructor=e}Jr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function es(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}function ts(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function ns(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var is=function(){function e(){}return e.createDefs=function(){return document.createElementNS("http://www.w3.org/2000/svg","defs")},e.setAttributes=function(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n],s=r[0],o=r[1];e.setAttribute(s,o)}},e.createRect=function(t,n,i){var r=document.createElementNS("http://www.w3.org/2000/svg","rect");return r.setAttribute("width",t.toString()),r.setAttribute("height",n.toString()),i&&e.setAttributes(r,i),r},e.createLine=function(t,n,i,r,s){var o=document.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1",t.toString()),o.setAttribute("y1",n.toString()),o.setAttribute("x2",i.toString()),o.setAttribute("y2",r.toString()),s&&e.setAttributes(o,s),o},e.createPolygon=function(t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","polygon");return i.setAttribute("points",t),n&&e.setAttributes(i,n),i},e.createCircle=function(t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("cx",(t/2).toString()),i.setAttribute("cy",(t/2).toString()),i.setAttribute("r",t.toString()),n&&e.setAttributes(i,n),i},e.createEllipse=function(t,n,i){var r=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return r.setAttribute("cx",(t/2).toString()),r.setAttribute("cy",(n/2).toString()),r.setAttribute("rx",(t/2).toString()),r.setAttribute("ry",(n/2).toString()),i&&e.setAttributes(r,i),r},e.createGroup=function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","g");return t&&e.setAttributes(n,t),n},e.createTransform=function(){return document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGTransform()},e.createMarker=function(t,n,i,r,s,o,a){var l=document.createElementNS("http://www.w3.org/2000/svg","marker");return e.setAttributes(l,[["id",t],["orient",n],["markerWidth",i.toString()],["markerHeight",r.toString()],["refX",s.toString()],["refY",o.toString()]]),l.appendChild(a),l},e.createText=function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","text");return n.setAttribute("x","0"),n.setAttribute("y","0"),t&&e.setAttributes(n,t),n},e.createTSpan=function(t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","tspan");return i.textContent=t,n&&e.setAttributes(i,n),i},e.createImage=function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","image");return t&&e.setAttributes(n,t),n},e.createPoint=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGPoint();return n.x=e,n.y=t,n},e.createPath=function(t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t),n&&e.setAttributes(i,n),i},e}(),rs=function(){function e(){}return e.addKey=function(t){e.key=t},Object.defineProperty(e,"isLicensed",{get:function(){return!!e.key&&new RegExp(/^MJS2-[A-Z][0-9]{3}-[A-Z][0-9]{3}-[0-9]{4}$/,"i").test(e.key)},enumerable:!1,configurable:!0}),e}(),ss=function(){function e(){this.naturalSize=!1,this.imageType="image/png",this.markersOnly=!1}return e.prototype.rasterize=function(e,t,n){var i=this;return new Promise((function(r){var s=void 0!==n?n:document.createElement("canvas");null===e&&(i.markersOnly=!0,i.naturalSize=!1);var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("width",t.width.baseVal.valueAsString),o.setAttribute("height",t.height.baseVal.valueAsString),o.setAttribute("viewBox","0 0 "+t.viewBox.baseVal.width.toString()+" "+t.viewBox.baseVal.height.toString()),o.innerHTML=t.innerHTML,!0===i.naturalSize?(o.width.baseVal.value=e.naturalWidth,o.height.baseVal.value=e.naturalHeight):void 0!==i.width&&void 0!==i.height&&(o.width.baseVal.value=i.width,o.height.baseVal.value=i.height),s.width=o.width.baseVal.value,s.height=o.height.baseVal.value;var a=o.outerHTML,l=s.getContext("2d");!0!==i.markersOnly&&l.drawImage(e,0,0,s.width,s.height);var u=window.URL,c=new Image(s.width,s.height);c.setAttribute("crossOrigin","anonymous");var A=new Blob([a],{type:"image/svg+xml"}),d=u.createObjectURL(A);c.onload=function(){l.drawImage(c,0,0),u.revokeObjectURL(d);var e=s.toDataURL(i.imageType,i.imageQuality);r(e)},c.src=d}))},e}(),os=function(){},as=function(){function e(e){this._classNamePrefixBase="__markerjs2_",this.classes=[],this.rules=[],this.settings=this.defaultSettings,this._classNamePrefix=this._classNamePrefixBase+"_"+e+"_"}return Object.defineProperty(e.prototype,"classNamePrefixBase",{get:function(){return this._classNamePrefixBase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNamePrefix",{get:function(){return this._classNamePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultSettings",{get:function(){return{canvasBackgroundColor:"#ffffff",toolbarBackgroundColor:"#111111",toolbarBackgroundHoverColor:"#333333",toolbarColor:"#eeeeee",toolbarHeight:40,toolboxColor:"#eeeeee",toolboxAccentColor:"#3080c3",undoButtonVisible:!0,redoButtonVisible:!1,zoomButtonVisible:!1,zoomOutButtonVisible:!1,clearButtonVisible:!1,resultButtonBlockVisible:!0,logoPosition:"left"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fadeInAnimationClassName",{get:function(){return this.classNamePrefix+"fade_in"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fadeOutAnimationClassName",{get:function(){return this.classNamePrefix+"fade_out"},enumerable:!1,configurable:!0}),e.prototype.addClass=function(e){return void 0===this.styleSheet&&this.addStyleSheet(),e.name=""+this.classNamePrefix+e.localName,this.classes.push(e),this.styleSheet.sheet.insertRule("."+e.name+" {"+e.style+"}",this.styleSheet.sheet.cssRules.length),e},e.prototype.addRule=function(e){void 0===this.styleSheet&&this.addStyleSheet(),this.rules.push(e),this.styleSheet.sheet.insertRule(e.selector+" {"+e.style+"}",this.styleSheet.sheet.cssRules.length)},e.prototype.addStyleSheet=function(){var e;this.styleSheet=document.createElement("style"),(null!==(e=this.styleSheetRoot)&&void 0!==e?e:document.head).appendChild(this.styleSheet),this.addRule(new ls("."+this.classNamePrefix+" h3","font-family: sans-serif")),this.addRule(new ls("@keyframes "+this.classNamePrefix+"_fade_in_animation_frames","\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n    ")),this.addRule(new ls("@keyframes "+this.classNamePrefix+"_fade_out_animation_frames","\n        from {\n          opacity: 1;\n        }\n        to {\n          opacity: 0;\n        }\n    ")),this.addClass(new us("fade_in","\n      animation-duration: 0.3s;\n      animation-name: "+this.classNamePrefix+"_fade_in_animation_frames;\n    ")),this.addClass(new us("fade_out","\n      animation-duration: 0.3s;\n      animation-name: "+this.classNamePrefix+"_fade_out_animation_frames;\n    "))},e.prototype.removeStyleSheet=function(){var e;this.styleSheet&&((null!==(e=this.styleSheetRoot)&&void 0!==e?e:document.head).removeChild(this.styleSheet),this.styleSheet=void 0)},e}(),ls=function(e,t){this.selector=e,this.style=t},us=function(e,t){this.localName=e,this.style=t},cs=function(){function e(e,t,n,i,r){this.buttons=[],this.markerButtons=[],this.buttonClickListeners=[],this.markerjsContainer=e,this.displayMode=t,this.markerItems=n,this.uiStyleSettings=i,this.styles=r,this.addStyles(),this.adjustLayout=this.adjustLayout.bind(this),this.overflowButtonClicked=this.overflowButtonClicked.bind(this),this.setCurrentMarker=this.setCurrentMarker.bind(this)}return e.prototype.show=function(e){var t=this;this.uiContainer=document.createElement("div"),this.uiContainer.style.visibility=e,this.uiContainer.className=this.toolbarStyleClass.name+" "+this.styles.fadeInAnimationClassName+" "+(this.uiStyleSettings.toolbarStyleColorsClassName?this.uiStyleSettings.toolbarStyleColorsClassName:this.toolbarStyleColorsClass.name);var n=document.createElement("div");n.className=this.toolbarBlockStyleClass.name,n.style.whiteSpace="nowrap",this.uiContainer.appendChild(n),this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M10.07 14.27a.997.997 0 011.33.48l2.3 4.99 1.8-.85-2.31-4.98c-.24-.5-.02-1.1.48-1.33l.28-.08 2.3-.45L8 5.12V15.9l1.82-1.47.25-.16m3.57 7.7a.99.99 0 01-1.33-.47l-2.18-4.74-2.51 2.02c-.17.14-.38.22-.62.22a1 1 0 01-1-1V3a1 1 0 011-1c.24 0 .47.09.64.23l.01-.01 11.49 9.64a1.001 1.001 0 01-.44 1.75l-3.16.62 2.2 4.73c.26.5.02 1.09-.48 1.32l-3.62 1.69z"/></svg>',"select","Select mode"),this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M9 3v1H4v2h1v13a2 2 0 002 2h10a2 2 0 002-2V6h1V4h-5V3H9M7 6h10v13H7V6m2 2v9h2V8H9m4 0v9h2V8h-2z"/></svg>',"delete","Delete marker"),this.uiStyleSettings.clearButtonVisible&&this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M19.36 2.72l1.42 1.42-5.72 5.71c1.07 1.54 1.22 3.39.32 4.59L9.06 8.12c1.2-.9 3.05-.75 4.59.32l5.71-5.72M5.93 17.57c-2.01-2.01-3.24-4.41-3.58-6.65l4.88-2.09 7.44 7.44-2.09 4.88c-2.24-.34-4.64-1.57-6.65-3.58z"/></svg>',"clear","Delete all markers"),this.uiStyleSettings.undoButtonVisible&&this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M12.5 8c-2.65 0-5.05 1-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>',"undo","Undo"),this.uiStyleSettings.redoButtonVisible&&this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M18.4 10.6C16.55 9 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 017.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/></svg>',"redo","Redo"),this.uiStyleSettings.zoomButtonVisible&&this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M15.5 14l5 5-1.5 1.5-5-5v-.79l-.27-.28A6.471 6.471 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3 6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.57 4.23l.28.27h.79m-6 0C12 14 14 12 14 9.5S12 5 9.5 5 5 7 5 9.5 7 14 9.5 14m2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"/></svg>',"zoom","Zoom in"),this.uiStyleSettings.zoomButtonVisible&&this.uiStyleSettings.zoomOutButtonVisible&&this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 009.5 3 6.5 6.5 0 003 9.5 6.5 6.5 0 009.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 5 1.5-1.5-5-5m-6 0C7 14 5 12 5 9.5S7 5 9.5 5 14 7 14 9.5 12 14 9.5 14M7 9h5v1H7V9z"/></svg>',"zoom-out","Zoom out"),this.uiStyleSettings.notesButtonVisible&&this.addActionButton(n,'<svg viewBox="0 0 24 24"><path d="M18.13 12l1.26-1.26c.44-.44 1-.68 1.61-.74V9l-6-6H5c-1.11 0-2 .89-2 2v14a2 2 0 002 2h6v-1.87l.13-.13H5V5h7v7h6.13M14 4.5l5.5 5.5H14V4.5m5.13 9.33l2.04 2.04L15.04 22H13v-2.04l6.13-6.13m3.72.36l-.98.98-2.04-2.04.98-.98c.19-.2.52-.2.72 0l1.32 1.32c.2.2.2.53 0 .72z"/></svg>',"notes","Notes"),this.markerButtonBlock=document.createElement("div"),this.markerButtonBlock.className=this.toolbarBlockStyleClass.name,this.markerButtonBlock.style.flexGrow="2",this.markerButtonBlock.style.textAlign="center",this.uiContainer.appendChild(this.markerButtonBlock),this.markerButtonOverflowBlock=document.createElement("div"),this.markerButtonOverflowBlock.className=this.toolbarOverflowBlockStyleClass.name+" "+(this.uiStyleSettings.toolbarOverflowBlockStyleColorsClassName?this.uiStyleSettings.toolbarOverflowBlockStyleColorsClassName:this.toolbarOverflowBlockStyleColorsClass.name),this.markerButtonOverflowBlock.style.display="none",this.uiContainer.appendChild(this.markerButtonOverflowBlock),this.markerItems&&(this.markerItems.forEach((function(e){var n=document.createElement("div");n.className=""+t.toolbarButtonStyleClass.name,n.setAttribute("data-type-name",e.typeName),n.setAttribute("aria-label",e.title),n.setAttribute("title",e.title),n.innerHTML=e.icon,n.addEventListener("click",(function(){t.markerToolbarButtonClicked(n,e)})),t.buttons.push(n),t.markerButtons.push(n)})),this.overflowButton=document.createElement("div"),this.overflowButton.className=this.toolbarButtonStyleClass.name+" "+(this.uiStyleSettings.toolbarButtonStyleColorsClassName?this.uiStyleSettings.toolbarButtonStyleColorsClassName:this.toolbarButtonStyleColorsClass.name),this.overflowButton.innerHTML='<svg viewBox="0 0 24 24"><path d="M12 16a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2z"/></svg>',this.overflowButton.addEventListener("click",this.overflowButtonClicked),this.markerButtonBlock.appendChild(this.overflowButton));var i=document.createElement("div");i.className=this.toolbarBlockStyleClass.name,i.style.whiteSpace="nowrap",i.style.display=!1!==this.uiStyleSettings.resultButtonBlockVisible?"":"none",this.uiContainer.appendChild(i),this.addActionButton(i,'<svg viewBox="0 0 24 24"><path d="M9 20.42l-6.21-6.21 2.83-2.83L9 14.77l9.88-9.89 2.83 2.83L9 20.42z"/></svg>',"render","Save and close"),this.addActionButton(i,'<svg viewBox="0 0 24 24"><path d="M20 6.91L17.09 4 12 9.09 6.91 4 4 6.91 9.09 12 4 17.09 6.91 20 12 14.91 17.09 20 20 17.09 14.91 12 20 6.91z"/></svg>',"close","Close"),this.markerjsContainer.appendChild(this.uiContainer),this.setSelectMode(),this.setCurrentMarker(),this.adjustLayout()},e.prototype.addButtonClickListener=function(e){this.buttonClickListeners.push(e)},e.prototype.removeButtonClickListener=function(e){this.buttonClickListeners.indexOf(e)>-1&&this.buttonClickListeners.splice(this.buttonClickListeners.indexOf(e),1)},e.prototype.setSelectMode=function(){this.resetButtonStyles(),this.setActiveButton(this.buttons[0])},e.prototype.adjustLayout=function(){if(this.markerButtons&&this.markerButtons.length>0){var e=Math.floor(this.markerButtonBlock.clientWidth/this.uiStyleSettings.toolbarHeight)-1;this.markerButtonBlock.innerHTML="",this.markerButtonOverflowBlock.innerHTML="";for(var t=0;t<this.markerButtons.length;t++)t<e||t===e&&this.markerButtons.length-1===e?this.markerButtonBlock.appendChild(this.markerButtons[t]):(t===e&&this.markerButtonBlock.appendChild(this.overflowButton),this.markerButtonOverflowBlock.appendChild(this.markerButtons[t]))}},e.prototype.overflowButtonClicked=function(){"none"!==this.markerButtonOverflowBlock.style.display?(this.markerButtonOverflowBlock.className=this.markerButtonOverflowBlock.className.replace(this.styles.fadeInAnimationClassName,""),this.markerButtonOverflowBlock.style.display="none"):(this.markerButtonOverflowBlock.className+=" "+this.styles.fadeInAnimationClassName,this.markerButtonOverflowBlock.style.top=this.uiContainer.offsetTop+this.overflowButton.offsetHeight+"px",this.markerButtonOverflowBlock.style.right=this.uiContainer.offsetWidth-this.overflowButton.offsetLeft-this.overflowButton.offsetWidth+2*this.uiContainer.offsetLeft+"px",this.markerButtonOverflowBlock.style.display="inline-block")},e.prototype.resetButtonStyles=function(){var e=this;this.buttons.forEach((function(t){t.className=t.className.replace(e.uiStyleSettings.toolbarButtonStyleColorsClassName?e.uiStyleSettings.toolbarButtonStyleColorsClassName:e.toolbarButtonStyleColorsClass.name,"").trim(),t.className=t.className.replace(e.uiStyleSettings.toolbarActiveButtonStyleColorsClassName?e.uiStyleSettings.toolbarActiveButtonStyleColorsClassName:e.toolbarActiveButtonStyleColorsClass.name,"").trim(),t.className+=" "+(e.uiStyleSettings.toolbarButtonStyleColorsClassName?e.uiStyleSettings.toolbarButtonStyleColorsClassName:e.toolbarButtonStyleColorsClass.name)}))},e.prototype.addActionButton=function(e,t,n,i){var r=this,s=document.createElement("div");switch(s.className=""+this.toolbarButtonStyleClass.name,s.innerHTML=t,s.setAttribute("role","button"),s.setAttribute("data-action",n),s.title=i,s.setAttribute("aria-label",i),s.addEventListener("click",(function(){r.actionToolbarButtonClicked(s,n)})),n){case"select":case"undo":case"redo":s.style.fill=this.uiStyleSettings.selectButtonColor;break;case"delete":case"clear":s.style.fill=this.uiStyleSettings.deleteButtonColor;break;case"render":s.style.fill=this.uiStyleSettings.okButtonColor;break;case"close":s.style.fill=this.uiStyleSettings.closeButtonColor}e.appendChild(s),this.buttons.push(s)},e.prototype.addStyles=function(){this.toolbarStyleClass=this.styles.addClass(new us("toolbar","\n      width: 100%;\n      flex-shrink: 0;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;      \n      height: "+this.uiStyleSettings.toolbarHeight+"px;\n      box-sizing: content-box;\n      "+("inline"===this.displayMode?"border-top-left-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+"\n      "+("inline"===this.displayMode?"border-top-right-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+"\n      overflow: hidden;\n    ")),this.toolbarStyleColorsClass=this.styles.addClass(new us("toolbar_colors","\n      background-color: "+this.uiStyleSettings.toolbarBackgroundColor+";\n      box-shadow: 0px 3px rgba(33, 33, 33, 0.1);\n    ")),this.toolbarBlockStyleClass=this.styles.addClass(new us("toolbar-block","\n        display: inline-block;\n        box-sizing: content-box;\n    ")),this.toolbarOverflowBlockStyleClass=this.styles.addClass(new us("toolbar-overflow-block","\n        position: absolute;\n        top: "+this.uiStyleSettings.toolbarHeight+"px;\n        max-width: "+2*this.uiStyleSettings.toolbarHeight+"px;\n        z-index: 10;\n        box-sizing: content-box;\n      ")),this.toolbarOverflowBlockStyleColorsClass=this.styles.addClass(new us("toolbar-overflow-block_colors","\n        background-color: "+this.uiStyleSettings.toolbarBackgroundColor+";\n      "));var e=this.uiStyleSettings.toolbarHeight/4;this.toolbarButtonStyleClass=this.styles.addClass(new us("toolbar_button","\n      display: inline-block;\n      width: "+(this.uiStyleSettings.toolbarHeight-2*e)+"px;\n      height: "+(this.uiStyleSettings.toolbarHeight-2*e)+"px;\n      padding: "+e+"px;\n      box-sizing: content-box;\n    ")),this.toolbarButtonStyleColorsClass=this.styles.addClass(new us("toolbar_button_colors","\n      fill: "+this.uiStyleSettings.toolbarColor+";\n    ")),this.toolbarActiveButtonStyleColorsClass=this.styles.addClass(new us("toolbar_active_button","\n      fill: "+this.uiStyleSettings.toolbarColor+";\n      background-color: "+this.uiStyleSettings.toolbarBackgroundHoverColor+"\n    ")),this.styles.addRule(new ls("."+this.toolbarButtonStyleClass.name+" svg","\n      height: "+this.uiStyleSettings.toolbarHeight/2+"px;\n    ")),this.styles.addRule(new ls("."+this.toolbarButtonStyleColorsClass.name+":hover","\n        background-color: "+this.uiStyleSettings.toolbarBackgroundHoverColor+"\n    "))},e.prototype.markerToolbarButtonClicked=function(e,t){this.setActiveButton(e),this.buttonClickListeners&&this.buttonClickListeners.length>0&&this.buttonClickListeners.forEach((function(e){return e("marker",t)})),this.markerButtonOverflowBlock.style.display="none"},e.prototype.actionToolbarButtonClicked=function(e,t){this.buttonClickListeners&&this.buttonClickListeners.length>0&&this.buttonClickListeners.forEach((function(e){return e("action",t)})),this.markerButtonOverflowBlock.style.display="none",this.setActiveButton(this.buttons[0])},e.prototype.setActiveButton=function(e){this.resetButtonStyles(),e.className=e.className.replace(this.uiStyleSettings.toolbarButtonStyleColorsClassName?this.uiStyleSettings.toolbarButtonStyleColorsClassName:this.toolbarButtonStyleColorsClass.name,"").trim(),e.className+=" "+(this.uiStyleSettings.toolbarActiveButtonStyleColorsClassName?this.uiStyleSettings.toolbarActiveButtonStyleColorsClassName:this.toolbarActiveButtonStyleColorsClass.name)},e.prototype.setActiveMarkerButton=function(e){var t=this.markerButtons.find((function(t){return t.getAttribute("data-type-name")===e}));t&&this.setActiveButton(t)},e.prototype.setCurrentMarker=function(e){var t=this;this.currentMarker=e,this.buttons.filter((function(e){return/delete|notes/.test(e.getAttribute("data-action"))})).forEach((function(e){void 0===t.currentMarker?(e.style.fillOpacity="0.4",e.style.pointerEvents="none"):(e.style.fillOpacity="1",e.style.pointerEvents="all")}))},e}(),As=function(){function e(e,t,n,i){this.panels=[],this.panelButtons=[],this.markerjsContainer=e,this.displayMode=t,this.uiStyleSettings=n,this.styles=i,this.panelButtonClick=this.panelButtonClick.bind(this),this.addStyles()}return e.prototype.addStyles=function(){var e;this.toolboxStyleClass=this.styles.addClass(new us("toolbox","\n      width: 100%;\n      flex-shrink: 0;\n      display: flex;\n      flex-direction: column;\n      font-family: sans-serif;\n      "+("popup"===this.displayMode?"height:"+2.5*this.uiStyleSettings.toolbarHeight+"px;":"")+"\n      box-sizing: content-box;\n      "+("popup"===this.displayMode?"background-color: "+this.uiStyleSettings.canvasBackgroundColor+";":"")+"\n      "+("inline"===this.displayMode?"border-bottom-left-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+"\n      "+("inline"===this.displayMode?"border-bottom-right-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+"\n      overflow: hidden;\n    ")),this.toolboxStyleColorsClass=this.styles.addClass(new us("toolbox_colors","\n      color: "+this.uiStyleSettings.toolboxColor+";\n    "));var t=this.uiStyleSettings.toolbarHeight/4;this.toolboxButtonRowStyleClass=this.styles.addClass(new us("toolbox-button-row","\n      display: flex;\n      cursor: default;\n      box-sizing: content-box;\n    ")),this.toolboxButtonRowStyleColorsClass=this.styles.addClass(new us("toolbox-button-row_colors","\n      background-color: "+this.uiStyleSettings.toolbarBackgroundColor+";\n    ")),this.toolboxPanelRowStyleClass=this.styles.addClass(new us("toolbox-panel-row","\n      display: flex;\n      "+("inline"===this.displayMode?"position: absolute;":"")+"\n      "+("inline"===this.displayMode?"bottom: "+this.uiStyleSettings.toolbarHeight+"px;":"")+"\n      cursor: default;\n      height: "+1.5*this.uiStyleSettings.toolbarHeight+"px;\n      "+("inline"===this.displayMode?"width: 100%;":"")+"\n      box-sizing: content-box;\n    ")),this.toolboxPanelRowStyleColorsClass=this.styles.addClass(new us("toolbox-panel-row_colors","\n      background-color: "+(null!==(e=this.uiStyleSettings.toolboxBackgroundColor)&&void 0!==e?e:this.uiStyleSettings.toolbarBackgroundHoverColor)+";\n    ")),this.toolboxButtonStyleClass=this.styles.addClass(new us("toolbox_button","\n      display: inline-block;\n      width: "+(this.uiStyleSettings.toolbarHeight-2*t)+"px;\n      height: "+(this.uiStyleSettings.toolbarHeight-2*t)+"px;\n      padding: "+t+"px;\n      box-sizing: content-box;\n    ")),this.toolboxButtonStyleColorsClass=this.styles.addClass(new us("toolbox-button_colors","\n      fill: "+this.uiStyleSettings.toolbarColor+";\n    ")),this.toolboxActiveButtonStyleColorsClass=this.styles.addClass(new us("toolbox-active-button_colors","\n      background-color: "+this.uiStyleSettings.toolbarBackgroundHoverColor+";\n      fill: "+this.uiStyleSettings.toolbarColor+";\n    ")),this.styles.addRule(new ls("."+this.toolboxButtonStyleColorsClass.name+":hover","\n        background-color: "+this.uiStyleSettings.toolbarBackgroundHoverColor+"\n    ")),this.styles.addRule(new ls("."+this.toolboxButtonStyleClass.name+" svg","\n      height: "+this.uiStyleSettings.toolbarHeight/2+"px;\n    ")),this.styles.addRule(new ls("."+this.toolboxPanelRowStyleClass.name+" > div","\n        scrollbar-width: thin;\n        ")),this.styles.addRule(new ls("."+this.toolboxPanelRowStyleClass.name+" > div::-webkit-scrollbar","\n      height: 10px;\n      width: 10px;\n    ")),this.styles.addRule(new ls("."+this.toolboxPanelRowStyleClass.name+" > div::-webkit-scrollbar-track","\n        background-color: transparent;\n        ")),this.styles.addRule(new ls("."+this.toolboxPanelRowStyleClass.name+" > div::-webkit-scrollbar-thumb","\n        background-color: #444;\n        border-radius: 20px;\n        border: 2px solid #aaa;\n        "))},e.prototype.show=function(e){var t;this.uiContainer=document.createElement("div"),this.uiContainer.style.visibility=e,this.uiContainer.className=this.toolboxStyleClass.name+" "+(null!==(t=this.uiStyleSettings.toolboxStyleColorsClassName)&&void 0!==t?t:this.toolboxStyleColorsClass.name),this.markerjsContainer.appendChild(this.uiContainer)},e.prototype.setPanelButtons=function(e){var t,n,i=this;this.panels=e,void 0!==this.uiContainer&&(this.uiContainer.innerHTML="",this.panelRow=document.createElement("div"),this.panelRow.className=this.toolboxPanelRowStyleClass.name+" "+(null!==(t=this.uiStyleSettings.toolboxPanelRowStyleColorsClassName)&&void 0!==t?t:this.toolboxPanelRowStyleColorsClass.name),this.uiContainer.appendChild(this.panelRow),this.buttonRow=document.createElement("div"),this.buttonRow.className=this.toolboxButtonRowStyleClass.name+" "+(null!==(n=this.uiStyleSettings.toolboxButtonRowStyleColorsClassName)&&void 0!==n?n:this.toolboxButtonRowStyleColorsClass.name)+" ",this.uiContainer.appendChild(this.buttonRow),this.panelButtons.splice(0),this.panels.forEach((function(e){var t;e.uiStyleSettings=i.uiStyleSettings;var n=document.createElement("div");n.className=i.toolboxButtonStyleClass.name+" "+(null!==(t=i.uiStyleSettings.toolboxButtonStyleColorsClassName)&&void 0!==t?t:i.toolboxButtonStyleColorsClass.name),n.innerHTML=e.icon,n.title=e.title,n.setAttribute("role","button"),n.setAttribute("aria-label",e.title),e.id&&n.setAttribute("data-action",e.id),n.addEventListener("click",(function(){i.panelButtonClick(e)})),i.panelButtons.push(n),i.buttonRow.appendChild(n)})),"inline"===this.displayMode?this.panelRow.style.display="none":this.panelRow.style.visibility="hidden")},e.prototype.panelButtonClick=function(e){var t=this,n=-1;if(e!==this.activePanel){n=this.panels.indexOf(e),this.panelRow.innerHTML="";var i=e.getUi();i.style.margin=this.uiStyleSettings.toolbarHeight/4+"px",this.panelRow.appendChild(i),this.panelRow.style.display="flex",this.panelRow.style.visibility="visible",this.panelRow.className=this.panelRow.className.replace(this.styles.fadeOutAnimationClassName,""),this.panelRow.className+=" "+this.styles.fadeInAnimationClassName,this.activePanel=e}else this.activePanel=void 0,this.panelRow.className=this.panelRow.className.replace(this.styles.fadeInAnimationClassName,""),this.panelRow.className+=" "+this.styles.fadeOutAnimationClassName,setTimeout((function(){"inline"===t.displayMode?t.panelRow.style.display="none":t.panelRow.style.visibility="hidden"}),200);this.panelButtons.forEach((function(e,i){var r,s;e.className=t.toolboxButtonStyleClass.name+" "+(i===n?""+(null!==(r=t.uiStyleSettings.toolboxActiveButtonStyleColorsClassName)&&void 0!==r?r:t.toolboxActiveButtonStyleColorsClass.name):""+(null!==(s=t.uiStyleSettings.toolboxButtonStyleColorsClassName)&&void 0!==s?s:t.toolboxButtonStyleColorsClass.name))}))},e}(),ds=function(){function e(e,t,n){this.title=e,this.icon=t,this._id=n}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e}(),hs=function(e){function t(t,n,i,r,s){var o=e.call(this,t,r||'<svg viewBox="0 0 24 24"><path d="M17.5 12a1.5 1.5 0 01-1.5-1.5A1.5 1.5 0 0117.5 9a1.5 1.5 0 011.5 1.5 1.5 1.5 0 01-1.5 1.5m-3-4A1.5 1.5 0 0113 6.5 1.5 1.5 0 0114.5 5 1.5 1.5 0 0116 6.5 1.5 1.5 0 0114.5 8m-5 0A1.5 1.5 0 018 6.5 1.5 1.5 0 019.5 5 1.5 1.5 0 0111 6.5 1.5 1.5 0 019.5 8m-3 4A1.5 1.5 0 015 10.5 1.5 1.5 0 016.5 9 1.5 1.5 0 018 10.5 1.5 1.5 0 016.5 12M12 3a9 9 0 00-9 9 9 9 0 009 9 1.5 1.5 0 001.5-1.5c0-.39-.15-.74-.39-1-.23-.27-.38-.62-.38-1a1.5 1.5 0 011.5-1.5H16a5 5 0 005-5c0-4.42-4.03-8-9-8z"/></svg>',s||"color-picker-panel")||this;return o.colors=[],o.addTransparent=!1,o.colorBoxes=[],o.colors=n,o.currentColor=i,o.setCurrentColor=o.setCurrentColor.bind(o),o.getColorBox=o.getColorBox.bind(o),o}return Zr(t,e),t.prototype.getUi=function(){var e=this,t=document.createElement("div");return t.style.overflow="hidden",t.style.overflowX="auto",t.style.whiteSpace="nowrap",this.colors.forEach((function(n){var i=e.getColorBox(n);t.appendChild(i),e.colorBoxes.push(i)})),t},t.prototype.getColorBox=function(e){var t=this,n=this.uiStyleSettings.toolbarHeight/4,i=this.uiStyleSettings.toolbarHeight-n,r=document.createElement("div");r.style.display="inline-block",r.style.boxSizing="content-box",r.style.width=i-2+"px",r.style.height=i-2+"px",r.style.padding="1px",r.style.marginRight="2px",r.style.marginBottom="2px",r.style.borderWidth="2px",r.style.borderStyle="solid",r.style.borderRadius=(i+2)/2+"px",r.style.borderColor=e===this.currentColor?this.uiStyleSettings.toolboxAccentColor:"transparent",r.addEventListener("click",(function(){t.setCurrentColor(e,r)}));var s=document.createElement("div");return s.style.display="inline-block",s.style.width=i-2+"px",s.style.height=i-2+"px",s.style.backgroundColor=e,s.style.borderRadius=i/2+"px","transparent"===e&&(s.style.fill=this.uiStyleSettings.toolboxAccentColor,s.innerHTML='<svg viewBox="0 0 24 24">\n        <path d="M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z" />\n      </svg>'),r.appendChild(s),r},t.prototype.setCurrentColor=function(e,t){var n=this;this.currentColor=e,this.colorBoxes.forEach((function(e){e.style.borderColor=e===t?n.uiStyleSettings.toolboxAccentColor:"transparent"})),this.onColorChanged&&this.onColorChanged(e)},t}(ds),ps=function(){function e(e,t,n){this._state="new",this._isSelected=!1,this._container=e,this._overlayContainer=t,this.globalSettings=n,this.stateChanged=this.stateChanged.bind(this),this.colorChanged=this.colorChanged.bind(this),this.fillColorChanged=this.fillColorChanged.bind(this)}return Object.defineProperty(e.prototype,"typeName",{get:function(){return Object.getPrototypeOf(this).constructor.typeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlayContainer",{get:function(){return this._overlayContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.ownsTarget=function(e){return!1},Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected},enumerable:!1,configurable:!0}),e.prototype.select=function(){this.container.style.cursor="move",this._isSelected=!0,this.manipulationStartState=this.getState()},e.prototype.deselect=function(){this.container.style.cursor="default",this._isSelected=!1,this.stateChanged()},e.prototype.pointerDown=function(e,t){},e.prototype.dblClick=function(e,t){},e.prototype.manipulate=function(e){},e.prototype.pointerUp=function(e){this.stateChanged()},e.prototype.dispose=function(){},e.prototype.addMarkerVisualToContainer=function(e){this.container.childNodes.length>0?this.container.insertBefore(e,this.container.childNodes[0]):this.container.appendChild(e)},e.prototype.getState=function(){return{typeName:e.typeName,state:this.state,notes:this.notes}},e.prototype.restoreState=function(e){this._state=e.state,this.notes=e.notes},e.prototype.scale=function(e,t){},e.prototype.colorChanged=function(e){this.onColorChanged&&this.onColorChanged(e),this.stateChanged()},e.prototype.fillColorChanged=function(e){this.onFillColorChanged&&this.onFillColorChanged(e),this.stateChanged()},e.prototype.stateChanged=function(){if(this.onStateChanged&&"creating"!==this.state&&"new"!==this.state){var e=this.getState();void 0!==this.manipulationStartState&&(this.manipulationStartState.state="select"),e.state="select",JSON.stringify(this.manipulationStartState)!=JSON.stringify(e)&&this.onStateChanged(this)}},e.typeName="MarkerBase",e}(),fs=function(){function e(){this.findGripByVisual=this.findGripByVisual.bind(this)}return e.prototype.findGripByVisual=function(e){return this.topLeft.ownsTarget(e)?this.topLeft:this.topCenter.ownsTarget(e)?this.topCenter:this.topRight.ownsTarget(e)?this.topRight:this.centerLeft.ownsTarget(e)?this.centerLeft:this.centerRight.ownsTarget(e)?this.centerRight:this.bottomLeft.ownsTarget(e)?this.bottomLeft:this.bottomCenter.ownsTarget(e)?this.bottomCenter:this.bottomRight.ownsTarget(e)?this.bottomRight:void 0},e}(),gs=function(){function e(){this.GRIP_SIZE=10,this.visual=is.createGroup(),this.visual.appendChild(is.createCircle(1.5*this.GRIP_SIZE,[["fill","transparent"]])),this.visual.appendChild(is.createCircle(this.GRIP_SIZE,[["fill","#cccccc"],["fill-opacity","0.7"],["stroke","#333333"],["stroke-width","2"],["stroke-opacity","0.7"]]))}return e.prototype.ownsTarget=function(e){return e===this.visual||e===this.visual.childNodes[0]||e===this.visual.childNodes[1]},e}(),ms=function(){function e(){}return e.toITransformMatrix=function(e){return{a:e.a,b:e.b,c:e.c,d:e.d,e:e.e,f:e.f}},e.toSVGMatrix=function(e,t){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e},e}(),vs=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.left=0,r.top=0,r.width=0,r.height=0,r.defaultSize={x:50,y:20},r.offsetX=0,r.offsetY=0,r.rotationAngle=0,r.CB_DISTANCE=10,r._suppressMarkerCreateEvent=!1,r.container.transform.baseVal.appendItem(is.createTransform()),r.setupControlBox(),r}return Zr(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this.left+this.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this.top+this.height/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visual",{get:function(){return this._visual},set:function(e){this._visual=e;var t=is.createTransform();this._visual.transform.baseVal.appendItem(t)},enumerable:!1,configurable:!0}),t.prototype.ownsTarget=function(t){return!!e.prototype.ownsTarget.call(this,t)||!!(void 0!==this.controlGrips.findGripByVisual(t)||void 0!==this.rotatorGrip&&this.rotatorGrip.ownsTarget(t))},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),"new"===this.state&&(this.left=t.x,this.top=t.y),this.manipulationStartLeft=this.left,this.manipulationStartTop=this.top,this.manipulationStartWidth=this.width,this.manipulationStartHeight=this.height;var i=this.unrotatePoint(t);if(this.manipulationStartX=i.x,this.manipulationStartY=i.y,this.offsetX=i.x-this.left,this.offsetY=i.y-this.top,"new"!==this.state)if(this.select(),this.activeGrip=this.controlGrips.findGripByVisual(n),void 0!==this.activeGrip)this._state="resize";else if(void 0!==this.rotatorGrip&&this.rotatorGrip.ownsTarget(n)){this.activeGrip=this.rotatorGrip;var r=this.rotatePoint({x:this.centerX,y:this.centerY});this.left=r.x-this.width/2,this.top=r.y-this.height/2,this.moveVisual({x:this.left,y:this.top});var s=this.container.transform.baseVal.getItem(0);s.setRotate(this.rotationAngle,this.centerX,this.centerY),this.container.transform.baseVal.replaceItem(s,0),this.adjustControlBox(),this._state="rotate"}else this._state="move"},t.prototype.pointerUp=function(t){var n=this.state;e.prototype.pointerUp.call(this,t),"creating"===this.state&&this.width<10&&this.height<10?(this.width=this.defaultSize.x,this.height=this.defaultSize.y):this.manipulate(t),this._state="select","creating"===n&&this.onMarkerCreated&&!1===this._suppressMarkerCreateEvent&&this.onMarkerCreated(this)},t.prototype.moveVisual=function(e){this.visual.style.transform="translate("+e.x+"px, "+e.y+"px)"},t.prototype.manipulate=function(e){var t=this.unrotatePoint(e);"creating"===this.state?this.resize(e):"move"===this.state?(this.left=this.manipulationStartLeft+(t.x-this.manipulationStartLeft)-this.offsetX,this.top=this.manipulationStartTop+(t.y-this.manipulationStartTop)-this.offsetY,this.moveVisual({x:this.left,y:this.top}),this.adjustControlBox()):"resize"===this.state?this.resize(t):"rotate"===this.state&&this.rotate(e)},t.prototype.resize=function(e){var t=this.manipulationStartLeft,n=this.manipulationStartWidth,i=this.manipulationStartTop,r=this.manipulationStartHeight;switch(this.activeGrip){case this.controlGrips.bottomLeft:case this.controlGrips.centerLeft:case this.controlGrips.topLeft:t=this.manipulationStartLeft+e.x-this.manipulationStartX,n=this.manipulationStartWidth+this.manipulationStartLeft-t;break;case this.controlGrips.bottomRight:case this.controlGrips.centerRight:case this.controlGrips.topRight:case void 0:n=this.manipulationStartWidth+e.x-this.manipulationStartX}switch(this.activeGrip){case this.controlGrips.topCenter:case this.controlGrips.topLeft:case this.controlGrips.topRight:i=this.manipulationStartTop+e.y-this.manipulationStartY,r=this.manipulationStartHeight+this.manipulationStartTop-i;break;case this.controlGrips.bottomCenter:case this.controlGrips.bottomLeft:case this.controlGrips.bottomRight:case void 0:r=this.manipulationStartHeight+e.y-this.manipulationStartY}n>=0?(this.left=t,this.width=n):(this.left=t+n,this.width=-n),r>=0?(this.top=i,this.height=r):(this.top=i+r,this.height=-r),this.setSize()},t.prototype.setSize=function(){this.moveVisual({x:this.left,y:this.top}),this.adjustControlBox()},t.prototype.rotate=function(e){if(Math.abs(e.x-this.centerX)>.1){var t=Math.sign(e.x-this.centerX);this.rotationAngle=180*Math.atan((e.y-this.centerY)/(e.x-this.centerX))/Math.PI+90*t,this.applyRotation()}},t.prototype.applyRotation=function(){var e=this.container.transform.baseVal.getItem(0);e.setRotate(this.rotationAngle,this.centerX,this.centerY),this.container.transform.baseVal.replaceItem(e,0)},t.prototype.rotatePoint=function(e){if(0===this.rotationAngle)return e;var t=this.container.getCTM(),n=is.createPoint(e.x,e.y);return{x:(n=n.matrixTransform(t)).x,y:n.y}},t.prototype.unrotatePoint=function(e){if(0===this.rotationAngle)return e;var t=this.container.getCTM();t=t.inverse();var n=is.createPoint(e.x,e.y);return{x:(n=n.matrixTransform(t)).x,y:n.y}},t.prototype.select=function(){e.prototype.select.call(this),this.adjustControlBox(),this.controlBox.style.display=""},t.prototype.deselect=function(){e.prototype.deselect.call(this),this.controlBox.style.display="none"},t.prototype.setupControlBox=function(){this.controlBox=is.createGroup();var e=is.createTransform();e.setTranslate(-this.CB_DISTANCE/2,-this.CB_DISTANCE/2),this.controlBox.transform.baseVal.appendItem(e),this.container.appendChild(this.controlBox),this.controlRect=is.createRect(this.width+this.CB_DISTANCE,this.height+this.CB_DISTANCE,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"],["fill","transparent"],["pointer-events","none"]]),this.controlBox.appendChild(this.controlRect),!0!==this.globalSettings.disableRotation&&(this.rotatorGripLine=is.createLine((this.width+2*this.CB_DISTANCE)/2,this.top-this.CB_DISTANCE,(this.width+2*this.CB_DISTANCE)/2,this.top-3*this.CB_DISTANCE,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"]]),this.controlBox.appendChild(this.rotatorGripLine)),this.controlGrips=new fs,this.addControlGrips(),this.controlBox.style.display="none"},t.prototype.adjustControlBox=function(){var e=this.controlBox.transform.baseVal.getItem(0);e.setTranslate(this.left-this.CB_DISTANCE/2,this.top-this.CB_DISTANCE/2),this.controlBox.transform.baseVal.replaceItem(e,0),this.controlRect.setAttribute("width",(this.width+this.CB_DISTANCE).toString()),this.controlRect.setAttribute("height",(this.height+this.CB_DISTANCE).toString()),void 0!==this.rotatorGripLine&&(this.rotatorGripLine.setAttribute("x1",((this.width+this.CB_DISTANCE)/2).toString()),this.rotatorGripLine.setAttribute("y1",(-this.CB_DISTANCE/2).toString()),this.rotatorGripLine.setAttribute("x2",((this.width+this.CB_DISTANCE)/2).toString()),this.rotatorGripLine.setAttribute("y2",(3*-this.CB_DISTANCE).toString())),this.positionGrips()},t.prototype.addControlGrips=function(){this.controlGrips.topLeft=this.createGrip(),this.controlGrips.topCenter=this.createGrip(),this.controlGrips.topRight=this.createGrip(),this.controlGrips.centerLeft=this.createGrip(),this.controlGrips.centerRight=this.createGrip(),this.controlGrips.bottomLeft=this.createGrip(),this.controlGrips.bottomCenter=this.createGrip(),this.controlGrips.bottomRight=this.createGrip(),!0!==this.globalSettings.disableRotation&&(this.rotatorGrip=this.createGrip()),this.positionGrips()},t.prototype.createGrip=function(){var e=new gs;return e.visual.transform.baseVal.appendItem(is.createTransform()),this.controlBox.appendChild(e.visual),e},t.prototype.positionGrips=function(){var e=this.controlGrips.topLeft.GRIP_SIZE,t=-e/2,n=t,i=(this.width+this.CB_DISTANCE)/2-e/2,r=(this.height+this.CB_DISTANCE)/2-e/2,s=this.height+this.CB_DISTANCE-e/2,o=this.width+this.CB_DISTANCE-e/2;this.positionGrip(this.controlGrips.topLeft.visual,t,n),this.positionGrip(this.controlGrips.topCenter.visual,i,n),this.positionGrip(this.controlGrips.topRight.visual,o,n),this.positionGrip(this.controlGrips.centerLeft.visual,t,r),this.positionGrip(this.controlGrips.centerRight.visual,o,r),this.positionGrip(this.controlGrips.bottomLeft.visual,t,s),this.positionGrip(this.controlGrips.bottomCenter.visual,i,s),this.positionGrip(this.controlGrips.bottomRight.visual,o,s),void 0!==this.rotatorGrip&&this.positionGrip(this.rotatorGrip.visual,i,n-3*this.CB_DISTANCE)},t.prototype.positionGrip=function(e,t,n){var i=e.transform.baseVal.getItem(0);i.setTranslate(t,n),e.transform.baseVal.replaceItem(i,0)},t.prototype.hideControlBox=function(){this.controlBox.style.display="none"},t.prototype.showControlBox=function(){this.controlBox.style.display=""},t.prototype.getState=function(){return Object.assign({left:this.left,top:this.top,width:this.width,height:this.height,rotationAngle:this.rotationAngle,visualTransformMatrix:ms.toITransformMatrix(this.visual.transform.baseVal.getItem(0).matrix),containerTransformMatrix:ms.toITransformMatrix(this.container.transform.baseVal.getItem(0).matrix)},e.prototype.getState.call(this))},t.prototype.restoreState=function(t){e.prototype.restoreState.call(this,t);var n=t;this.left=n.left,this.top=n.top,this.width=n.width,this.height=n.height,this.rotationAngle=n.rotationAngle,this.visual.transform.baseVal.getItem(0).setMatrix(ms.toSVGMatrix(this.visual.transform.baseVal.getItem(0).matrix,n.visualTransformMatrix)),this.container.transform.baseVal.getItem(0).setMatrix(ms.toSVGMatrix(this.container.transform.baseVal.getItem(0).matrix,n.containerTransformMatrix))},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n);var i=this.rotatePoint({x:this.left,y:this.top}),r=this.unrotatePoint({x:i.x*t,y:i.y*n});this.left=r.x,this.top=r.y,this.width=this.width*t,this.height=this.height*n,this.adjustControlBox()},t}(ps),ys=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.fillColor="transparent",r.strokeColor="transparent",r.strokeWidth=0,r.strokeDasharray="",r.opacity=1,r.setStrokeColor=r.setStrokeColor.bind(r),r.setFillColor=r.setFillColor.bind(r),r.setStrokeWidth=r.setStrokeWidth.bind(r),r.setStrokeDasharray=r.setStrokeDasharray.bind(r),r.createVisual=r.createVisual.bind(r),r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.visual)},t.prototype.createVisual=function(){this.visual=is.createRect(1,1,[["fill",this.fillColor],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()],["stroke-dasharray",this.strokeDasharray],["opacity",this.opacity.toString()]]),this.addMarkerVisualToContainer(this.visual)},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),"new"===this.state&&(this.createVisual(),this.moveVisual(t),this._state="creating")},t.prototype.manipulate=function(t){e.prototype.manipulate.call(this,t)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this.setSize()},t.prototype.setSize=function(){e.prototype.setSize.call(this),is.setAttributes(this.visual,[["width",this.width.toString()],["height",this.height.toString()]])},t.prototype.pointerUp=function(t){e.prototype.pointerUp.call(this,t),this.setSize()},t.prototype.setStrokeColor=function(e){this.strokeColor=e,this.visual&&is.setAttributes(this.visual,[["stroke",this.strokeColor]]),this.colorChanged(e),this.stateChanged()},t.prototype.setFillColor=function(e){this.fillColor=e,this.visual&&is.setAttributes(this.visual,[["fill",this.fillColor]]),this.stateChanged()},t.prototype.setStrokeWidth=function(e){this.strokeWidth=e,this.visual&&is.setAttributes(this.visual,[["stroke-width",this.strokeWidth.toString()]]),this.stateChanged()},t.prototype.setStrokeDasharray=function(e){this.strokeDasharray=e,this.visual&&is.setAttributes(this.visual,[["stroke-dasharray",this.strokeDasharray]]),this.stateChanged()},t.prototype.getState=function(){return Object.assign({fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray,opacity:this.opacity},e.prototype.getState.call(this))},t.prototype.restoreState=function(t){var n=t;this.fillColor=n.fillColor,this.strokeColor=n.strokeColor,this.strokeWidth=n.strokeWidth,this.strokeDasharray=n.strokeDasharray,this.opacity=n.opacity,this.createVisual(),e.prototype.restoreState.call(this,t),this.setSize()},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n),this.setSize()},t.title="Rectangle marker",t}(vs),bs=function(e){function t(t,n,i,r,s){var o=e.call(this,t,r||'<svg viewBox="0 0 24 24"><path d="M3 17h18v-2H3v2m0 3h18v-1H3v1m0-7h18v-3H3v3m0-9v4h18V4H3z"/></svg>',s||"line-width-panel")||this;return o.widths=[],o.widthBoxes=[],o.widths=n,o.currentWidth=i,o.setCurrentWidth=o.setCurrentWidth.bind(o),o}return Zr(t,e),t.prototype.getUi=function(){var e=this,t=document.createElement("div");return t.style.display="flex",t.style.overflow="hidden",t.style.flexGrow="2",this.widths.forEach((function(n){var i=document.createElement("div");i.style.display="flex",i.style.flexGrow="2",i.style.alignItems="center",i.style.justifyContent="space-between",i.style.padding="5px",i.style.borderWidth="2px",i.style.borderStyle="solid",i.style.borderColor=n===e.currentWidth?e.uiStyleSettings.toolboxAccentColor:"transparent",i.addEventListener("click",(function(){e.setCurrentWidth(n,i)})),t.appendChild(i);var r=document.createElement("div");r.innerText=n.toString(),r.style.marginRight="5px",i.appendChild(r);var s=document.createElement("div");s.style.minHeight="20px",s.style.flexGrow="2",s.style.display="flex",s.style.alignItems="center";var o=document.createElement("hr");o.style.minWidth="20px",o.style.border="0px",o.style.borderTop=n+"px solid "+e.uiStyleSettings.toolboxColor,o.style.flexGrow="2",s.appendChild(o),i.appendChild(s),e.widthBoxes.push(i)})),t},t.prototype.setCurrentWidth=function(e,t){var n=this;this.currentWidth=e,this.widthBoxes.forEach((function(e){e.style.borderColor=e===t?n.uiStyleSettings.toolboxAccentColor:"transparent"})),this.onWidthChanged&&this.onWidthChanged(this.currentWidth)},t}(ds),ws=function(e){function t(t,n,i,r,s){var o=e.call(this,t,r||'<svg viewBox="0 0 24 24"><path d="M3 16h5v-2H3v2m6.5 0h5v-2h-5v2m6.5 0h5v-2h-5v2M3 20h2v-2H3v2m4 0h2v-2H7v2m4 0h2v-2h-2v2m4 0h2v-2h-2v2m4 0h2v-2h-2v2M3 12h8v-2H3v2m10 0h8v-2h-8v2M3 4v4h18V4H3z"/></svg>',s||"line-style-panel")||this;return o.styles=[],o.styleBoxes=[],o.styles=n,o.currentStyle=i,o.setCurrentStyle=o.setCurrentStyle.bind(o),o}return Zr(t,e),t.prototype.getUi=function(){var e=this,t=document.createElement("div");return t.style.display="flex",t.style.overflow="hidden",t.style.flexGrow="2",this.styles.forEach((function(n){var i=document.createElement("div");i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="space-between",i.style.padding="5px",i.style.borderWidth="2px",i.style.borderStyle="solid",i.style.overflow="hidden",i.style.maxWidth=100/e.styles.length-5+"%",i.style.borderColor=n===e.currentStyle?e.uiStyleSettings.toolboxAccentColor:"transparent",i.addEventListener("click",(function(){e.setCurrentStyle(n,i)})),t.appendChild(i);var r=document.createElement("div");r.style.minHeight="20px",r.style.flexGrow="2",r.style.overflow="hidden";var s='<svg width="100" height="20">\n      <line x1="0" y1="10" x2="100" y2="10" stroke="'+e.uiStyleSettings.toolboxColor+'" stroke-width="3" '+(""!==n?'stroke-dasharray="'+n+'"':"")+" />\n  </svg>";r.innerHTML=s,i.appendChild(r),e.styleBoxes.push(i)})),t},t.prototype.setCurrentStyle=function(e,t){var n=this;this.currentStyle=e,this.styleBoxes.forEach((function(e){e.style.borderColor=e===t?n.uiStyleSettings.toolboxAccentColor:"transparent"})),this.onStyleChanged&&this.onStyleChanged(this.currentStyle)},t}(ds),Cs=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.strokeColor=i.defaultColor,r.strokeWidth=i.defaultStrokeWidth,r.strokeDasharray=i.defaultStrokeDasharray,r.strokePanel=new hs("Line color",i.defaultColorSet,i.defaultColor),r.strokePanel.onColorChanged=r.setStrokeColor,r.strokeWidthPanel=new bs("Line width",i.defaultStrokeWidths,i.defaultStrokeWidth),r.strokeWidthPanel.onWidthChanged=r.setStrokeWidth,r.strokeStylePanel=new ws("Line style",i.defaultStrokeDasharrays,i.defaultStrokeDasharray),r.strokeStylePanel.onStyleChanged=r.setStrokeDasharray,r}return Zr(t,e),Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=e.prototype.getState.call(this);return n.typeName=t.typeName,n},t.typeName="FrameMarker",t.title="Frame marker",t.icon='<svg viewBox="0 0 24 24"><path d="M4 6v13h16V6H4m14 11H6V8h12v9z"/></svg>',t}(ys),xs=function(){this.defaultColorSet=["#EF4444","#10B981","#2563EB","#FFFF00","#7C3AED","#F472B6","#000000","#FFFFFF"],this.defaultColor=this.defaultColorSet[0],this.defaultFillColor=this.defaultColorSet[0],this.defaultStrokeColor=this.defaultColorSet[7],this.defaultHighlightColor=this.defaultColorSet[3],this.defaultStrokeWidth=3,this.defaultStrokeDasharray="",this.defaultHighlightOpacity=.5,this.defaultFontFamily="Helvetica, Arial, sans-serif",this.defaultStrokeWidths=[1,2,3,5,10],this.defaultStrokeDasharrays=["","3","12 3","9 6 3 6"],this.defaultOpacitySteps=[.1,.25,.5,.75,1],this.displayMode="inline",this.defaultFontFamilies=['Times, "Times New Roman", serif',"Helvetica, Arial, sans-serif",'Courier, "Courier New", monospace',"cursive","fantasy"],this.popupMargin=30,this.newFreehandMarkerOnPointerUp=!1,this.defaultColorsFollowCurrentColors=!1,this.freehandPixelRatio=1,this.disableRotation=!1,this.defaultCaptionFontSize="1rem",this.defaultCaptionText="Text",this.wrapText=!1,this.defaultText="Your text here"},Bs=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.x1=0,r.y1=0,r.x2=0,r.y2=0,r.defaultLength=50,r.manipulationStartX=0,r.manipulationStartY=0,r.manipulationStartX1=0,r.manipulationStartY1=0,r.manipulationStartX2=0,r.manipulationStartY2=0,r.setupControlBox(),r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!!e.prototype.ownsTarget.call(this,t)||!(!this.grip1.ownsTarget(t)&&!this.grip2.ownsTarget(t))},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),this.manipulationStartX=t.x,this.manipulationStartY=t.y,"new"===this.state&&(this.x1=t.x,this.y1=t.y,this.x2=t.x,this.y2=t.y),this.manipulationStartX1=this.x1,this.manipulationStartY1=this.y1,this.manipulationStartX2=this.x2,this.manipulationStartY2=this.y2,"new"!==this.state&&(this.select(),this.grip1.ownsTarget(n)?this.activeGrip=this.grip1:this.grip2.ownsTarget(n)?this.activeGrip=this.grip2:this.activeGrip=void 0,this.activeGrip?this._state="resize":this._state="move")},t.prototype.pointerUp=function(t){var n=this.state;e.prototype.pointerUp.call(this,t),"creating"===this.state&&Math.abs(this.x1-this.x2)<10&&Math.abs(this.y1-this.y2)<10?(this.x2=this.x1+this.defaultLength,this.adjustVisual(),this.adjustControlBox()):this.manipulate(t),this._state="select","creating"===n&&this.onMarkerCreated&&this.onMarkerCreated(this)},t.prototype.adjustVisual=function(){},t.prototype.manipulate=function(e){"creating"===this.state?this.resize(e):"move"===this.state?(this.x1=this.manipulationStartX1+e.x-this.manipulationStartX,this.y1=this.manipulationStartY1+e.y-this.manipulationStartY,this.x2=this.manipulationStartX2+e.x-this.manipulationStartX,this.y2=this.manipulationStartY2+e.y-this.manipulationStartY,this.adjustVisual(),this.adjustControlBox()):"resize"===this.state&&this.resize(e)},t.prototype.resize=function(e){switch(this.activeGrip){case this.grip1:this.x1=e.x,this.y1=e.y;break;case this.grip2:case void 0:this.x2=e.x,this.y2=e.y}this.adjustVisual(),this.adjustControlBox()},t.prototype.select=function(){e.prototype.select.call(this),this.adjustControlBox(),this.controlBox.style.display=""},t.prototype.deselect=function(){e.prototype.deselect.call(this),this.controlBox.style.display="none"},t.prototype.setupControlBox=function(){this.controlBox=is.createGroup(),this.container.appendChild(this.controlBox),this.addControlGrips(),this.controlBox.style.display="none"},t.prototype.adjustControlBox=function(){this.positionGrips()},t.prototype.addControlGrips=function(){this.grip1=this.createGrip(),this.grip2=this.createGrip(),this.positionGrips()},t.prototype.createGrip=function(){var e=new gs;return e.visual.transform.baseVal.appendItem(is.createTransform()),this.controlBox.appendChild(e.visual),e},t.prototype.positionGrips=function(){var e=this.grip1.GRIP_SIZE;this.positionGrip(this.grip1.visual,this.x1-e/2,this.y1-e/2),this.positionGrip(this.grip2.visual,this.x2-e/2,this.y2-e/2)},t.prototype.positionGrip=function(e,t,n){var i=e.transform.baseVal.getItem(0);i.setTranslate(t,n),e.transform.baseVal.replaceItem(i,0)},t.prototype.getState=function(){return Object.assign({x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2},e.prototype.getState.call(this))},t.prototype.restoreState=function(t){e.prototype.restoreState.call(this,t);var n=t;this.x1=n.x1,this.y1=n.y1,this.x2=n.x2,this.y2=n.y2},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n),this.x1=this.x1*t,this.y1=this.y1*n,this.x2=this.x2*t,this.y2=this.y2*n,this.adjustVisual(),this.adjustControlBox()},t}(ps),Ss=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.strokeColor="transparent",r.strokeWidth=0,r.strokeDasharray="",r.setStrokeColor=r.setStrokeColor.bind(r),r.setStrokeWidth=r.setStrokeWidth.bind(r),r.setStrokeDasharray=r.setStrokeDasharray.bind(r),r.strokeColor=i.defaultColor,r.strokeWidth=i.defaultStrokeWidth,r.strokeDasharray=i.defaultStrokeDasharray,r.strokePanel=new hs("Line color",i.defaultColorSet,i.defaultColor),r.strokePanel.onColorChanged=r.setStrokeColor,r.strokeWidthPanel=new bs("Line width",i.defaultStrokeWidths,i.defaultStrokeWidth),r.strokeWidthPanel.onWidthChanged=r.setStrokeWidth,r.strokeStylePanel=new ws("Line style",i.defaultStrokeDasharrays,i.defaultStrokeDasharray),r.strokeStylePanel.onStyleChanged=r.setStrokeDasharray,r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.visual&&t!==this.selectorLine&&t!==this.visibleLine)},t.prototype.createVisual=function(){this.visual=is.createGroup(),this.selectorLine=is.createLine(this.x1,this.y1,this.x2,this.y2,[["stroke","transparent"],["stroke-width",(this.strokeWidth+10).toString()]]),this.visibleLine=is.createLine(this.x1,this.y1,this.x2,this.y2,[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),this.visual.appendChild(this.selectorLine),this.visual.appendChild(this.visibleLine),this.addMarkerVisualToContainer(this.visual)},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),"new"===this.state&&(this.createVisual(),this.adjustVisual(),this._state="creating")},t.prototype.adjustVisual=function(){this.selectorLine&&this.visibleLine&&(this.selectorLine.setAttribute("x1",this.x1.toString()),this.selectorLine.setAttribute("y1",this.y1.toString()),this.selectorLine.setAttribute("x2",this.x2.toString()),this.selectorLine.setAttribute("y2",this.y2.toString()),this.visibleLine.setAttribute("x1",this.x1.toString()),this.visibleLine.setAttribute("y1",this.y1.toString()),this.visibleLine.setAttribute("x2",this.x2.toString()),this.visibleLine.setAttribute("y2",this.y2.toString()),is.setAttributes(this.visibleLine,[["stroke",this.strokeColor]]),is.setAttributes(this.visibleLine,[["stroke-width",this.strokeWidth.toString()]]),is.setAttributes(this.visibleLine,[["stroke-dasharray",this.strokeDasharray.toString()]]))},t.prototype.setStrokeColor=function(e){this.strokeColor=e,this.adjustVisual(),this.colorChanged(e)},t.prototype.setStrokeWidth=function(e){this.strokeWidth=e,this.adjustVisual()},t.prototype.setStrokeDasharray=function(e){this.strokeDasharray=e,this.adjustVisual(),this.stateChanged()},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=Object.assign({strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray},e.prototype.getState.call(this));return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){e.prototype.restoreState.call(this,t);var n=t;this.strokeColor=n.strokeColor,this.strokeWidth=n.strokeWidth,this.strokeDasharray=n.strokeDasharray,this.createVisual(),this.adjustVisual()},t.typeName="LineMarker",t.title="Line marker",t.icon='<svg viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',t}(Bs),_s=function(e){function t(t,n,i,r,s){var o=e.call(this,t,r||'<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1l-3.5 7H18V9M5 3h5c1.11 0 2 .89 2 2v11H9v-5H6v5H3V5c0-1.11.89-2 2-2m1 2v4h3V5H6z"/></svg>',s||"font-family-panel")||this;return o.fonts=[],o.fontBoxes=[],o.fonts=n,o.currentFont=i,o.setCurrentFont=o.setCurrentFont.bind(o),o}return Zr(t,e),t.prototype.getUi=function(){var e=this,t=document.createElement("div");return t.style.overflow="hidden",t.style.flexGrow="2",this.fonts.forEach((function(n){var i=document.createElement("div");i.style.display="inline-block",i.style.alignItems="center",i.style.justifyContent="space-between",i.style.padding="5px",i.style.borderWidth="2px",i.style.borderStyle="solid",i.style.overflow="hidden",i.style.maxWidth=100/e.fonts.length-5+"%",i.style.borderColor=n===e.currentFont?e.uiStyleSettings.toolboxAccentColor:"transparent",i.addEventListener("click",(function(){e.setCurrentFont(n,i)})),t.appendChild(i);var r=document.createElement("div");r.style.display="flex",r.style.minHeight="20px",r.style.flexGrow="2",r.style.fontFamily=n,r.style.overflow="hidden";var s=document.createElement("div");s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.innerHTML="The quick brown fox jumps over the lazy dog",r.appendChild(s),i.appendChild(r),e.fontBoxes.push(i)})),t},t.prototype.setCurrentFont=function(e,t){var n=this;this.currentFont=e,this.fontBoxes.forEach((function(e){e.style.borderColor=e===t?n.uiStyleSettings.toolboxAccentColor:"transparent"})),this.onFontChanged&&this.onFontChanged(this.currentFont)},t}(ds),ks=function(e){function t(t,n,i){var r,s=e.call(this,t,n,i)||this;return s.color="transparent",s.padding=5,s.DEFAULT_TEXT="your text here",s.isMoved=!1,s.color=i.defaultColor,s.fontFamily=i.defaultFontFamily,s.text=null!==(r=i.defaultText)&&void 0!==r?r:s.DEFAULT_TEXT,s.defaultSize={x:100,y:30},s.setColor=s.setColor.bind(s),s.setFont=s.setFont.bind(s),s.renderText=s.renderText.bind(s),s.sizeText=s.sizeText.bind(s),s.textEditDivClicked=s.textEditDivClicked.bind(s),s.showTextEditor=s.showTextEditor.bind(s),s.setSize=s.setSize.bind(s),s.positionTextEditor=s.positionTextEditor.bind(s),s.wrapText=s.wrapText.bind(s),s.colorPanel=new hs("Color",i.defaultColorSet,i.defaultColor),s.colorPanel.onColorChanged=s.setColor,s.fontFamilyPanel=new _s("Font",i.defaultFontFamilies,i.defaultFontFamily),s.fontFamilyPanel.onFontChanged=s.setFont,s}return Zr(t,e),t.prototype.ownsTarget=function(t){if(e.prototype.ownsTarget.call(this,t)||t===this.visual||t===this.textElement||t===this.bgRectangle)return!0;var n=!1;return this.textElement.childNodes.forEach((function(e){e===t&&(n=!0)})),n},t.prototype.createVisual=function(){this.visual=is.createGroup(),this.bgRectangle=is.createRect(1,1,[["fill","transparent"]]),this.visual.appendChild(this.bgRectangle),this.textElement=is.createText([["fill",this.color],["font-family",this.fontFamily],["font-size","16px"],["x","0"],["y","0"]]),this.textElement.transform.baseVal.appendItem(is.createTransform()),this.textElement.transform.baseVal.appendItem(is.createTransform()),this.visual.appendChild(this.textElement),this.addMarkerVisualToContainer(this.visual),this.renderText()},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),this.isMoved=!1,this.pointerDownPoint=t,this.pointerDownTimestamp=Date.now(),"new"===this.state&&(this.createVisual(),this.moveVisual(t),this._state="creating")},t.prototype.wrapText=function(){function e(e){var t=e[0].length;return e.forEach((function(e){e.length>t&&(t=e.length)})),.35*t/e.length}if(""!==this.text){for(var t=this.text.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/),n=1*this.width/this.height,i=new(Array.bind.apply(Array,ns([void 0],t))),r=e(i),s=Number.MAX_VALUE,o=function(){var n=i[0];i.forEach((function(e){e.length>n.length&&(n=e)})),(s=n.lastIndexOf(" ",s-1))>0?(i=[],t.forEach((function(e){for(var t=e;t.length>s;){var n=t.lastIndexOf(" ",s);n<0&&(n=t.indexOf(" ")),n>0?(i.push(t.substring(0,n)),t=t.substring(n).trim()):(i.push(t),t="")}i.push(t)})),r=e(i)):r=-1};r>n;)o();return i.join("\r\n")}return this.text},t.prototype.renderText=function(){var e=this;if(this.textElement){for(;this.textElement.lastChild;)this.textElement.removeChild(this.textElement.lastChild);(this.globalSettings.wrapText?this.wrapText():this.text).split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/).forEach((function(t){e.textElement.appendChild(is.createTSpan(""===t.trim()?" ":t.trim(),[["x","0"],["dy","1.2em"]]))})),setTimeout(this.sizeText,10)}},t.prototype.getTextScale=function(){var e=this.textElement.getBBox(),t=1;if(e.width>0&&e.height>0){var n=(1*this.width-this.width*this.padding*2/100)/e.width,i=(1*this.height-this.height*this.padding*2/100)/e.height;t=Math.min(n,i)}return t},t.prototype.getTextPosition=function(e){var t="rtl"===window.getComputedStyle(this.textElement).direction?1:-1,n=this.textElement.getBBox(),i=0,r=0;return n.width>0&&n.height>0&&(i=(this.width+t*n.width*e)/2,r=this.height/2-n.height*e/2),{x:i,y:r}},t.prototype.sizeText=function(){var e=this.textElement.getBBox(),t=this.getTextScale(),n=this.getTextPosition(t);n.y-=e.y*t,navigator.userAgent.indexOf("Edge/")>-1?this.textElement.style.transform="translate("+n.x+"px, "+n.y+"px) scale("+t+", "+t+")":(this.textElement.transform.baseVal.getItem(0).setTranslate(n.x,n.y),this.textElement.transform.baseVal.getItem(1).setScale(t,t))},t.prototype.manipulate=function(t){e.prototype.manipulate.call(this,t),void 0!==this.pointerDownPoint&&(this.isMoved=Math.abs(t.x-this.pointerDownPoint.x)>5||Math.abs(t.y-this.pointerDownPoint.y)>5)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this.isMoved=!0,this.setSize(),this.globalSettings.wrapText?this.renderText():this.sizeText()},t.prototype.setSize=function(){e.prototype.setSize.call(this),this.visual&&this.bgRectangle&&(is.setAttributes(this.visual,[["width",this.width.toString()],["height",this.height.toString()]]),is.setAttributes(this.bgRectangle,[["width",this.width.toString()],["height",this.height.toString()]]))},t.prototype.pointerUp=function(t){var n=this.state;"creating"===n&&(this._suppressMarkerCreateEvent=!0),e.prototype.pointerUp.call(this,t),this.setSize(),("creating"===n||!this.isMoved&&Date.now()-this.pointerDownTimestamp>500)&&this.showTextEditor(),this.pointerDownPoint=void 0},t.prototype.showTextEditor=function(){var e=this;this._state="edit",this.overlayContainer.innerHTML="",this.textEditDiv=document.createElement("div"),this.textEditDiv.style.flexGrow="2",this.textEditDiv.style.alignItems="center",this.textEditDiv.style.justifyContent="center",this.textEditDiv.style.pointerEvents="auto",this.textEditDiv.style.overflow="hidden",this.textEditor=document.createElement("div"),this.textEditor.style.position="absolute",this.textEditor.style.fontFamily=this.fontFamily,this.textEditor.style.lineHeight="1em",this.textEditor.innerText=this.text,this.textEditor.contentEditable="true",this.textEditor.style.color=this.color,this.textEditor.style.whiteSpace="pre",this.positionTextEditor(),this.textEditor.addEventListener("pointerup",(function(e){e.stopPropagation()})),this.globalSettings.wrapText||this.textEditor.addEventListener("input",(function(){for(var t=Number.parseFloat(e.textEditor.style.fontSize);e.textEditor.clientWidth>=Number.parseInt(e.textEditor.style.maxWidth)&&t>.9;)t-=.1,e.textEditor.style.fontSize=Math.max(t,.9)+"em"})),this.textEditor.addEventListener("keyup",(function(e){e.cancelBubble=!0})),this.textEditor.addEventListener("paste",(function(e){if(e.clipboardData){var t=e.clipboardData.getData("text"),n=window.getSelection();if(!n.rangeCount)return!1;n.deleteFromDocument(),n.getRangeAt(0).insertNode(document.createTextNode(t)),e.preventDefault()}})),this.textEditDiv.addEventListener("pointerup",(function(){e.textEditDivClicked(e.textEditor.innerText)})),this.textEditDiv.appendChild(this.textEditor),this.overlayContainer.appendChild(this.textEditDiv),this.hideVisual(),this.textEditor.focus(),document.execCommand("selectAll")},t.prototype.positionTextEditor=function(){if("edit"===this.state)if(void 0===this.textEditor)this.showTextEditor();else if(this.globalSettings.wrapText)this.textEditor.style.left=this.left+this.padding+"px",this.textEditor.style.top=this.top+this.padding+"px",this.textEditor.style.width=this.width-2*this.padding+"px",this.textEditor.style.height=this.height-2*this.padding+"px",this.textEditor.style.maxHeight=this.textEditor.style.height,this.textEditor.style.whiteSpace="wrap";else{this.textElement.style.display="";var e=this.getTextScale(),t=this.rotatePoint({x:this.left+this.width/2,y:this.top+this.height/2}),n=this.textElement.getBBox(),i={x:n.width*e,y:n.height*e};t.x-=i.x/2,t.y-=i.y/2,this.textEditor.style.top=t.y+"px",this.textEditor.style.left=t.x+"px",this.textEditor.style.maxWidth=this.overlayContainer.offsetWidth-t.x+"px",this.textEditor.style.fontSize=Math.max(16*e,12)+"px",this.textElement.style.display="none"}},t.prototype.textEditDivClicked=function(e){this.text=e.trim(),this.overlayContainer.innerHTML="",this.renderText(),this.showVisual(),this._suppressMarkerCreateEvent&&(this._suppressMarkerCreateEvent=!1,this.onMarkerCreated&&this.onMarkerCreated(this)),this.stateChanged()},t.prototype.select=function(){e.prototype.select.call(this),"edit"===this.state&&this.textEditDivClicked(this.textEditor.innerText)},t.prototype.deselect=function(){"edit"===this.state&&this.textEditDivClicked(this.textEditor.innerText),e.prototype.deselect.call(this)},t.prototype.dblClick=function(t,n){e.prototype.dblClick.call(this,t,n),this.showTextEditor()},t.prototype.setColor=function(e){this.textElement&&is.setAttributes(this.textElement,[["fill",e]]),this.color=e,this.textEditor&&(this.textEditor.style.color=this.color),this.colorChanged(e)},t.prototype.setFont=function(e){this.textElement&&is.setAttributes(this.textElement,[["font-family",e]]),this.fontFamily=e,this.textEditor&&(this.textEditor.style.fontFamily=this.fontFamily),this.renderText(),this.stateChanged()},t.prototype.hideVisual=function(){this.textElement.style.display="none",this.hideControlBox()},t.prototype.showVisual=function(){"edit"===this.state&&(this._state="select"),this.textElement.style.display="",this.showControlBox()},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.colorPanel,this.fontFamilyPanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=Object.assign({color:this.color,fontFamily:this.fontFamily,padding:this.padding,text:this.text,wrapText:this.globalSettings.wrapText},e.prototype.getState.call(this));return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){var n=t;this.color=n.color,this.fontFamily=n.fontFamily,this.padding=n.padding,this.text=n.text,this.createVisual(),e.prototype.restoreState.call(this,t),this.setSize(),this.globalSettings.wrapText&&this.renderText()},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n),this.setSize(),this.sizeText(),this.positionTextEditor()},t.typeName="TextMarker",t.title="Text marker",t.icon='<svg viewBox="0 0 24 24"><path d="M9.6 14L12 7.7l2.4 6.3M11 5L5.5 19h2.2l1.1-3H15l1.1 3h2.2L13 5h-2z"/></svg>',t}(vs),Ts=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.color="transparent",r.lineWidth=3,r.drawing=!1,r.pixelRatio=1,r.color=i.defaultColor,r.lineWidth=i.defaultStrokeWidth,r.pixelRatio=i.freehandPixelRatio,r.setColor=r.setColor.bind(r),r.addCanvas=r.addCanvas.bind(r),r.finishCreation=r.finishCreation.bind(r),r.setLineWidth=r.setLineWidth.bind(r),r.colorPanel=new hs("Color",i.defaultColorSet,i.defaultColor),r.colorPanel.onColorChanged=r.setColor,r.lineWidthPanel=new bs("Line width",i.defaultStrokeWidths,i.defaultStrokeWidth),r.lineWidthPanel.onWidthChanged=r.setLineWidth,r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.visual&&t!==this.drawingImage)},t.prototype.createVisual=function(){this.visual=is.createGroup(),this.drawingImage=is.createImage(),this.visual.appendChild(this.drawingImage);var e=is.createTransform();this.visual.transform.baseVal.appendItem(e),this.addMarkerVisualToContainer(this.visual)},t.prototype.pointerDown=function(t,n){"new"===this.state&&(this.addCanvas(),this.createVisual(),this._state="creating"),"creating"===this.state?(this.canvasContext.strokeStyle=this.color,this.canvasContext.lineWidth=this.lineWidth,this.canvasContext.beginPath(),this.canvasContext.moveTo(t.x,t.y),this.drawing=!0):e.prototype.pointerDown.call(this,t,n)},t.prototype.manipulate=function(t){"creating"===this.state?this.drawing&&(this.canvasContext.lineTo(t.x,t.y),this.canvasContext.stroke()):e.prototype.manipulate.call(this,t)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),is.setAttributes(this.visual,[["width",this.width.toString()],["height",this.height.toString()]]),is.setAttributes(this.drawingImage,[["width",this.width.toString()],["height",this.height.toString()]])},t.prototype.pointerUp=function(t){"creating"===this._state?this.drawing&&(this.canvasContext.closePath(),this.drawing=!1,this.globalSettings.newFreehandMarkerOnPointerUp&&this.finishCreation()):e.prototype.pointerUp.call(this,t)},t.prototype.addCanvas=function(){this.overlayContainer.innerHTML="",this.canvasElement=document.createElement("canvas"),this.canvasElement.width=this.overlayContainer.clientWidth*this.pixelRatio,this.canvasElement.height=this.overlayContainer.clientHeight*this.pixelRatio,this.canvasContext=this.canvasElement.getContext("2d"),this.canvasContext.scale(this.pixelRatio,this.pixelRatio),this.overlayContainer.appendChild(this.canvasElement)},t.prototype.select=function(){"creating"===this.state&&this.finishCreation(),e.prototype.select.call(this)},t.prototype.deselect=function(){"creating"===this.state&&this.finishCreation(),e.prototype.deselect.call(this)},t.prototype.finishCreation=function(){for(var e=this.canvasContext.getImageData(0,0,this.canvasElement.width,this.canvasElement.height),t=[this.canvasElement.width+1,this.canvasElement.height+1,-1,-1],n=t[0],i=t[1],r=t[2],s=t[3],o=!1,a=0;a<this.canvasElement.height;a++)for(var l=0;l<this.canvasElement.width;l++)e.data[a*this.canvasElement.width*4+4*l+3]>0&&(o=!0,a<i&&(i=a),l<n&&(n=l),a>s&&(s=a),l>r&&(r=l));if(o){this.left=n/this.pixelRatio,this.top=i/this.pixelRatio,this.width=(r-n)/this.pixelRatio,this.height=(s-i)/this.pixelRatio;var u=document.createElement("canvas");u.width=r-n,u.height=s-i,u.getContext("2d").putImageData(this.canvasContext.getImageData(n,i,r-n,s-i),0,0),this.drawingImgUrl=u.toDataURL("image/png"),this.setDrawingImage(),this._state="select",this.onMarkerCreated&&this.onMarkerCreated(this)}this.overlayContainer.innerHTML=""},t.prototype.setDrawingImage=function(){is.setAttributes(this.drawingImage,[["width",this.width.toString()],["height",this.height.toString()]]),is.setAttributes(this.drawingImage,[["href",this.drawingImgUrl]]),this.moveVisual({x:this.left,y:this.top})},t.prototype.setColor=function(e){this.color=e,this.colorChanged(e)},t.prototype.setLineWidth=function(e){this.lineWidth=e},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return"new"===this.state||"creating"===this.state?[this.colorPanel,this.lineWidthPanel]:[]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=Object.assign({drawingImgUrl:this.drawingImgUrl},e.prototype.getState.call(this));return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){this.createVisual(),e.prototype.restoreState.call(this,t),this.drawingImgUrl=t.drawingImgUrl,this.setDrawingImage()},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n),this.setDrawingImage()},t.typeName="FreehandMarker",t.title="Freehand marker",t.icon='<svg viewBox="0 0 24 24"><path d="M9.75 20.85c1.78-.7 1.39-2.63.49-3.85-.89-1.25-2.12-2.11-3.36-2.94A9.817 9.817 0 014.54 12c-.28-.33-.85-.94-.27-1.06.59-.12 1.61.46 2.13.68.91.38 1.81.82 2.65 1.34l1.01-1.7C8.5 10.23 6.5 9.32 4.64 9.05c-1.06-.16-2.18.06-2.54 1.21-.32.99.19 1.99.77 2.77 1.37 1.83 3.5 2.71 5.09 4.29.34.33.75.72.95 1.18.21.44.16.47-.31.47-1.24 0-2.79-.97-3.8-1.61l-1.01 1.7c1.53.94 4.09 2.41 5.96 1.79m11.09-15.6c.22-.22.22-.58 0-.79l-1.3-1.3a.562.562 0 00-.78 0l-1.02 1.02 2.08 2.08M11 10.92V13h2.08l6.15-6.15-2.08-2.08L11 10.92z"/></svg>',t}(vs),Es=function(e){function t(t,n,i,r){var s=e.call(this,t,i||'<svg viewBox="0 0 24 24"><path d="M8 14v4l-6-6 6-6v4h8V6l6 6-6 6v-4H8z"/></svg>',r||"arrow-type-panel")||this;return s.typeBoxes=[],s.currentType=n,s.setCurrentType=s.setCurrentType.bind(s),s}return Zr(t,e),t.prototype.getUi=function(){var e=this,t=document.createElement("div");t.style.display="flex",t.style.overflow="hidden",t.style.flexGrow="2";for(var n=function(n){var r="both";switch(n){case 0:r="both";break;case 1:r="start";break;case 2:r="end";break;case 3:r="none"}var s=document.createElement("div");if(s.style.display="flex",s.style.flexGrow="2",s.style.alignItems="center",s.style.justifyContent="space-between",s.style.padding="5px",s.style.borderWidth="2px",s.style.borderStyle="solid",s.style.borderColor=r===i.currentType?i.uiStyleSettings.toolboxAccentColor:"transparent",s.addEventListener("click",(function(){e.setCurrentType(r,s)})),t.appendChild(s),"both"===r||"start"===r){var o=document.createElement("div");o.style.display="flex",o.style.alignItems="center",o.style.minHeight="20px",o.innerHTML='<svg viewBox="0 0 10 10" width="10" height="10" xmlns="http://www.w3.org/2000/svg">\n          <polygon points="0,5 10,0 10,10" fill="'+(void 0!==i.uiStyleSettings?i.uiStyleSettings.toolboxColor:"#eeeeee")+'" />\n        </svg>',o.style.marginLeft="5px",s.appendChild(o)}var a=document.createElement("div");a.style.display="flex",a.style.alignItems="center",a.style.minHeight="20px",a.style.flexGrow="2";var l=document.createElement("hr");if(l.style.minWidth="20px",l.style.border="0px",l.style.borderTop="3px solid "+(void 0!==i.uiStyleSettings?i.uiStyleSettings.toolboxColor:"#eeeeee"),l.style.flexGrow="2",a.appendChild(l),s.appendChild(a),"both"===r||"end"===r){var u=document.createElement("div");u.style.display="flex",u.style.alignItems="center",u.style.minHeight="20px",u.innerHTML='<svg viewBox="0 0 10 10" width="10" height="10" xmlns="http://www.w3.org/2000/svg">\n          <polygon points="0,0 10,5 0,10" fill="'+(void 0!==i.uiStyleSettings?i.uiStyleSettings.toolboxColor:"#eeeeee")+'" />\n        </svg>',u.style.marginRight="5px",s.appendChild(u)}i.typeBoxes.push(s)},i=this,r=0;r<4;r++)n(r);return t},t.prototype.setCurrentType=function(e,t){var n=this;this.currentType=e,this.typeBoxes.forEach((function(e){e.style.borderColor=e===t?void 0!==n.uiStyleSettings?n.uiStyleSettings.toolboxAccentColor:"#3080c3":"transparent"})),this.onArrowTypeChanged&&this.onArrowTypeChanged(this.currentType)},t}(ds),Is=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.arrowType="end",r.arrowBaseHeight=10,r.arrowBaseWidth=10,r.getArrowPoints=r.getArrowPoints.bind(r),r.setArrowType=r.setArrowType.bind(r),r.arrowTypePanel=new Es("Arrow type","end"),r.arrowTypePanel.onArrowTypeChanged=r.setArrowType,r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.arrow1&&t!==this.arrow2)},t.prototype.getArrowPoints=function(e,t){var n=this.arrowBaseWidth+2*this.strokeWidth,i=this.arrowBaseHeight+2*this.strokeWidth;return e-n/2+","+(t+i/2)+" "+e+","+(t-i/2)+" "+(e+n/2)+","+(t+i/2)},t.prototype.createTips=function(){this.arrow1=is.createPolygon(this.getArrowPoints(this.x1,this.y1),[["fill",this.strokeColor]]),this.arrow1.transform.baseVal.appendItem(is.createTransform()),this.visual.appendChild(this.arrow1),this.arrow2=is.createPolygon(this.getArrowPoints(this.x2,this.y2),[["fill",this.strokeColor]]),this.arrow2.transform.baseVal.appendItem(is.createTransform()),this.visual.appendChild(this.arrow2)},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),"creating"===this.state&&this.createTips()},t.prototype.adjustVisual=function(){if(e.prototype.adjustVisual.call(this),this.arrow1&&this.arrow2){this.arrow1.style.display="both"===this.arrowType||"start"===this.arrowType?"":"none",this.arrow2.style.display="both"===this.arrowType||"end"===this.arrowType?"":"none",is.setAttributes(this.arrow1,[["points",this.getArrowPoints(this.x1,this.y1)],["fill",this.strokeColor]]),is.setAttributes(this.arrow2,[["points",this.getArrowPoints(this.x2,this.y2)],["fill",this.strokeColor]]);var t=0;Math.abs(this.x1-this.x2)>.1&&(t=180*Math.atan((this.y2-this.y1)/(this.x2-this.x1))/Math.PI+90*Math.sign(this.x1-this.x2));var n=this.arrow1.transform.baseVal.getItem(0);n.setRotate(t,this.x1,this.y1),this.arrow1.transform.baseVal.replaceItem(n,0);var i=this.arrow2.transform.baseVal.getItem(0);i.setRotate(t+180,this.x2,this.y2),this.arrow2.transform.baseVal.replaceItem(i,0)}},t.prototype.setArrowType=function(e){this.arrowType=e,this.adjustVisual(),this.stateChanged()},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel,this.arrowTypePanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=Object.assign({arrowType:this.arrowType},e.prototype.getState.call(this));return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){e.prototype.restoreState.call(this,t);var n=t;this.arrowType=n.arrowType,this.createTips(),this.adjustVisual()},t.typeName="ArrowMarker",t.title="Arrow marker",t.icon='<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 7 15.59V9H5v10h10v-2H8.41L19 6.41z"/></svg>',t}(Ss),Us=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.fillColor=i.defaultFillColor,r.strokeWidth=0,r.fillPanel=new hs("Color",i.defaultColorSet,i.defaultFillColor),r.fillPanel.onColorChanged=r.setFillColor,r}return Zr(t,e),Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.fillPanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=e.prototype.getState.call(this);return n.typeName=t.typeName,n},t.typeName="CoverMarker",t.title="Cover marker",t.icon='<svg viewBox="0 0 24 24"><path d="M4 6v13h16V6H4z"/></svg>',t}(ys),Fs=function(e){function t(t,n,i,r,s){var o=e.call(this,t,r||'<svg viewBox="0 0 24 24"><path d="M17.66 8L12 2.35 6.34 8A8.02 8.02 0 004 13.64c0 2 .78 4.11 2.34 5.67a7.99 7.99 0 0011.32 0c1.56-1.56 2.34-3.67 2.34-5.67S19.22 9.56 17.66 8M6 14c0-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 18 12 18 14H6z"/></svg>',s||"opacity-panel")||this;return o.opacities=[],o.opacityBoxes=[],o.opacities=n,o.currentOpacity=i,o.setCurrentOpacity=o.setCurrentOpacity.bind(o),o}return Zr(t,e),t.prototype.getUi=function(){var e=this,t=document.createElement("div");return t.style.display="flex",t.style.overflow="hidden",t.style.flexGrow="2",t.style.justifyContent="space-between",this.opacities.forEach((function(n){var i=document.createElement("div");i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.padding="5px",i.style.borderWidth="2px",i.style.borderStyle="solid",i.style.borderColor=n===e.currentOpacity?e.uiStyleSettings.toolboxAccentColor:"transparent",i.addEventListener("click",(function(){e.setCurrentOpacity(n,i)})),t.appendChild(i);var r=document.createElement("div");r.innerText=100*n+"%",i.appendChild(r),e.opacityBoxes.push(i)})),t},t.prototype.setCurrentOpacity=function(e,t){var n=this;this.currentOpacity=e,this.opacityBoxes.forEach((function(e){e.style.borderColor=e===t?n.uiStyleSettings.toolboxAccentColor:"transparent"})),this.onOpacityChanged&&this.onOpacityChanged(this.currentOpacity)},t}(ds),Ds=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.setOpacity=r.setOpacity.bind(r),r.fillColor=i.defaultHighlightColor,r.strokeWidth=0,r.opacity=i.defaultHighlightOpacity,r.fillPanel=new hs("Color",i.defaultColorSet,r.fillColor),r.fillPanel.onColorChanged=r.setFillColor,r.opacityPanel=new Fs("Opacity",i.defaultOpacitySteps,r.opacity),r.opacityPanel.onOpacityChanged=r.setOpacity,r}return Zr(t,e),t.prototype.setOpacity=function(e){this.opacity=e,this.visual&&is.setAttributes(this.visual,[["opacity",this.opacity.toString()]]),this.stateChanged()},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.fillPanel,this.opacityPanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=e.prototype.getState.call(this);return n.typeName=t.typeName,n},t.typeName="HighlightMarker",t.title="Highlight marker",t.icon='<svg viewBox="0 0 24 24"><path d="M18.5 1.15c-.53 0-1.04.19-1.43.58l-5.81 5.82 5.65 5.65 5.82-5.81c.77-.78.77-2.04 0-2.83l-2.84-2.83c-.39-.39-.89-.58-1.39-.58M10.3 8.5l-5.96 5.96c-.78.78-.78 2.04.02 2.85C3.14 18.54 1.9 19.77.67 21h5.66l.86-.86c.78.76 2.03.75 2.81-.02l5.95-5.96"/></svg>',t}(Us),Ls='<svg viewBox="0 0 24 24"><path d="M9.62 12L12 5.67 14.37 12M11 3L5.5 17h2.25l1.12-3h6.25l1.13 3h2.25L13 3h-2z"/></svg>',Os='<svg viewBox="0 0 24 24"><path d="M19 11.5s-2 2.17-2 3.5a2 2 0 002 2 2 2 0 002-2c0-1.33-2-3.5-2-3.5M5.21 10L10 5.21 14.79 10m1.77-1.06L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.56-.59 1.53 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.59.59-1.56 0-2.12z"/></svg>',Ns=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.bgColor="transparent",r.tipPosition={x:0,y:0},r.tipBase1Position={x:0,y:0},r.tipBase2Position={x:0,y:0},r.tipMoving=!1,r.color=i.defaultStrokeColor,r.bgColor=i.defaultFillColor,r.fontFamily=i.defaultFontFamily,r.defaultSize={x:100,y:30},r.setBgColor=r.setBgColor.bind(r),r.getTipPoints=r.getTipPoints.bind(r),r.positionTip=r.positionTip.bind(r),r.setTipPoints=r.setTipPoints.bind(r),r.colorPanel=new hs("Text color",i.defaultColorSet,r.color,Ls,"text-color-panel"),r.colorPanel.onColorChanged=r.setColor,r.bgColorPanel=new hs("Fill color",i.defaultColorSet,r.bgColor,Os,"fill-color-panel"),r.bgColorPanel.onColorChanged=r.setBgColor,r.fontFamilyPanel=new _s("Font",i.defaultFontFamilies,i.defaultFontFamily),r.fontFamilyPanel.onFontChanged=r.setFont,r.tipGrip=new gs,r.tipGrip.visual.transform.baseVal.appendItem(is.createTransform()),r.controlBox.appendChild(r.tipGrip.visual),r}return Zr(t,e),t.prototype.ownsTarget=function(t){return e.prototype.ownsTarget.call(this,t)||this.tipGrip.ownsTarget(t)||this.tip===t},t.prototype.createTip=function(){is.setAttributes(this.bgRectangle,[["fill",this.bgColor],["rx","10px"]]),this.tip=is.createPolygon(this.getTipPoints(),[["fill",this.bgColor]]),this.visual.appendChild(this.tip)},t.prototype.pointerDown=function(t,n){"new"===this.state&&e.prototype.pointerDown.call(this,t,n),"creating"===this.state?this.createTip():this.tipGrip.ownsTarget(n)?(this.manipulationStartLeft=this.left,this.manipulationStartTop=this.top,this.tipMoving=!0):e.prototype.pointerDown.call(this,t,n)},t.prototype.pointerUp=function(t){if(this.tipMoving)this.tipMoving=!1,this.isMoved=!0,e.prototype.pointerUp.call(this,t);else{var n="creating"===this.state;e.prototype.pointerUp.call(this,t),this.setTipPoints(n),this.positionTip()}},t.prototype.manipulate=function(t){if(this.tipMoving){var n=this.unrotatePoint(t);this.tipPosition={x:n.x-this.manipulationStartLeft,y:n.y-this.manipulationStartTop},this.positionTip()}else e.prototype.manipulate.call(this,t)},t.prototype.setBgColor=function(e){this.bgRectangle&&this.tip&&(is.setAttributes(this.bgRectangle,[["fill",e]]),is.setAttributes(this.tip,[["fill",e]])),this.bgColor=e,this.fillColorChanged(e)},t.prototype.getTipPoints=function(){return this.setTipPoints("creating"===this.state),this.tipBase1Position.x+","+this.tipBase1Position.y+" "+this.tipBase2Position.x+","+this.tipBase2Position.y+" "+this.tipPosition.x+","+this.tipPosition.y},t.prototype.setTipPoints=function(e){void 0===e&&(e=!1);var t=Math.min(this.height/2,15),n=this.height/5;e&&(this.tipPosition={x:t+n/2,y:this.height+20});var i=Math.atan(this.height/2/(this.width/2));this.tipPosition.x<this.width/2&&this.tipPosition.y<this.height/2?i<Math.atan((this.height/2-this.tipPosition.y)/(this.width/2-this.tipPosition.x))?(n=this.width/5,t=Math.min(this.width/2,15),this.tipBase1Position={x:t,y:0},this.tipBase2Position={x:t+n,y:0}):(this.tipBase1Position={x:0,y:t},this.tipBase2Position={x:0,y:t+n}):this.tipPosition.x>=this.width/2&&this.tipPosition.y<this.height/2?i<Math.atan((this.height/2-this.tipPosition.y)/(this.tipPosition.x-this.width/2))?(n=this.width/5,t=Math.min(this.width/2,15),this.tipBase1Position={x:this.width-t-n,y:0},this.tipBase2Position={x:this.width-t,y:0}):(this.tipBase1Position={x:this.width,y:t},this.tipBase2Position={x:this.width,y:t+n}):this.tipPosition.x>=this.width/2&&this.tipPosition.y>=this.height/2?i<Math.atan((this.tipPosition.y-this.height/2)/(this.tipPosition.x-this.width/2))?(n=this.width/5,t=Math.min(this.width/2,15),this.tipBase1Position={x:this.width-t-n,y:this.height},this.tipBase2Position={x:this.width-t,y:this.height}):(this.tipBase1Position={x:this.width,y:this.height-t-n},this.tipBase2Position={x:this.width,y:this.height-t}):i<Math.atan((this.tipPosition.y-this.height/2)/(this.width/2-this.tipPosition.x))?(n=this.width/5,t=Math.min(this.width/2,15),this.tipBase1Position={x:t,y:this.height},this.tipBase2Position={x:t+n,y:this.height}):(this.tipBase1Position={x:0,y:this.height-t},this.tipBase2Position={x:0,y:this.height-t-n})},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this.positionTip()},t.prototype.positionTip=function(){is.setAttributes(this.tip,[["points",this.getTipPoints()]]);var e=this.tipGrip.visual.transform.baseVal.getItem(0);e.setTranslate(this.tipPosition.x,this.tipPosition.y),this.tipGrip.visual.transform.baseVal.replaceItem(e,0)},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.colorPanel,this.bgColorPanel,this.fontFamilyPanel]},enumerable:!1,configurable:!0}),t.prototype.select=function(){this.positionTip(),e.prototype.select.call(this)},t.prototype.getState=function(){var n=Object.assign({bgColor:this.bgColor,tipPosition:this.tipPosition},e.prototype.getState.call(this));return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){var n=t;this.bgColor=n.bgColor,this.tipPosition=n.tipPosition,e.prototype.restoreState.call(this,t),this.createTip(),this.setTipPoints()},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n),this.tipPosition={x:this.tipPosition.x*t,y:this.tipPosition.y*n},this.positionTip()},t.typeName="CalloutMarker",t.title="Callout marker",t.icon='<svg viewBox="0 0 24 24"><path d="M4 2h16a2 2 0 012 2v12a2 2 0 01-2 2h-4l-4 4-4-4H4a2 2 0 01-2-2V4a2 2 0 012-2m0 2v12h4.83L12 19.17 15.17 16H20V4H4m2 3h12v2H6V7m0 4h10v2H6v-2z"/></svg>',t}(ks),Ms=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.fillColor="transparent",r.strokeColor="transparent",r.strokeWidth=0,r.strokeDasharray="",r.opacity=1,r.strokeColor=i.defaultColor,r.strokeWidth=i.defaultStrokeWidth,r.strokeDasharray=i.defaultStrokeDasharray,r.fillColor=i.defaultFillColor,r.setStrokeColor=r.setStrokeColor.bind(r),r.setFillColor=r.setFillColor.bind(r),r.setStrokeWidth=r.setStrokeWidth.bind(r),r.setStrokeDasharray=r.setStrokeDasharray.bind(r),r.setOpacity=r.setOpacity.bind(r),r.createVisual=r.createVisual.bind(r),r.strokePanel=new hs("Line color",ns(i.defaultColorSet,["transparent"]),i.defaultColor,void 0,"stroke-color-panel"),r.strokePanel.onColorChanged=r.setStrokeColor,r.fillPanel=new hs("Fill color",ns(i.defaultColorSet,["transparent"]),r.fillColor,Os,"fill-color-panel"),r.fillPanel.onColorChanged=r.setFillColor,r.strokeWidthPanel=new bs("Line width",i.defaultStrokeWidths,i.defaultStrokeWidth),r.strokeWidthPanel.onWidthChanged=r.setStrokeWidth,r.strokeStylePanel=new ws("Line style",i.defaultStrokeDasharrays,i.defaultStrokeDasharray),r.strokeStylePanel.onStyleChanged=r.setStrokeDasharray,r.opacityPanel=new Fs("Opacity",i.defaultOpacitySteps,r.opacity),r.opacityPanel.onOpacityChanged=r.setOpacity,r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.visual)},t.prototype.createVisual=function(){this.visual=is.createEllipse(this.width/2,this.height/2,[["fill",this.fillColor],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()],["stroke-dasharray",this.strokeDasharray],["opacity",this.opacity.toString()]]),this.addMarkerVisualToContainer(this.visual)},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),"new"===this.state&&(this.createVisual(),this.moveVisual(t),this._state="creating")},t.prototype.manipulate=function(t){e.prototype.manipulate.call(this,t)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this.setSize()},t.prototype.setSize=function(){e.prototype.setSize.call(this),is.setAttributes(this.visual,[["cx",(this.width/2).toString()],["cy",(this.height/2).toString()],["rx",(this.width/2).toString()],["ry",(this.height/2).toString()]])},t.prototype.pointerUp=function(t){e.prototype.pointerUp.call(this,t),this.setSize()},t.prototype.setStrokeColor=function(e){this.strokeColor=e,this.visual&&is.setAttributes(this.visual,[["stroke",this.strokeColor]]),this.colorChanged(e),this.stateChanged()},t.prototype.setFillColor=function(e){this.fillColor=e,this.visual&&is.setAttributes(this.visual,[["fill",this.fillColor]]),this.fillColorChanged(e),this.stateChanged()},t.prototype.setStrokeWidth=function(e){this.strokeWidth=e,this.visual&&is.setAttributes(this.visual,[["stroke-width",this.strokeWidth.toString()]]),this.stateChanged()},t.prototype.setStrokeDasharray=function(e){this.strokeDasharray=e,this.visual&&is.setAttributes(this.visual,[["stroke-dasharray",this.strokeDasharray]]),this.stateChanged()},t.prototype.setOpacity=function(e){this.opacity=e,this.visual&&is.setAttributes(this.visual,[["opacity",this.opacity.toString()]]),this.stateChanged()},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.fillPanel,this.strokeWidthPanel,this.strokeStylePanel,this.opacityPanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=Object.assign({fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray,opacity:this.opacity},e.prototype.getState.call(this));return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){var n=t;this.fillColor=n.fillColor,this.strokeColor=n.strokeColor,this.strokeWidth=n.strokeWidth,this.strokeDasharray=n.strokeDasharray,this.opacity=n.opacity,this.createVisual(),e.prototype.restoreState.call(this,t),this.setSize()},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n),this.setSize()},t.typeName="EllipseMarker",t.title="Ellipse marker",t.icon='<svg viewBox="0 0 24 24"><path d="M12 4C6.5 4 2 7.58 2 12s4.5 8 10 8 10-3.58 10-8-4.5-8-10-8z"/></svg>',t}(vs),js=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return Zr(t,e),Object.defineProperty(t.prototype,"tipLength",{get:function(){return 10+3*this.strokeWidth},enumerable:!1,configurable:!0}),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.tip1&&t!==this.tip2)},t.prototype.createTips=function(){this.tip1=is.createLine(this.x1-this.tipLength/2,this.y1,this.x1+this.tipLength/2,this.y1,[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),this.tip1.transform.baseVal.appendItem(is.createTransform()),this.visual.appendChild(this.tip1),this.tip2=is.createLine(this.x2-this.tipLength/2,this.y2,this.x2+this.tipLength/2,this.y2,[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),this.tip2.transform.baseVal.appendItem(is.createTransform()),this.visual.appendChild(this.tip2)},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),"creating"===this.state&&this.createTips()},t.prototype.adjustVisual=function(){if(e.prototype.adjustVisual.call(this),this.tip1&&this.tip2&&(is.setAttributes(this.tip1,[["x1",(this.x1-this.tipLength/2).toString()],["y1",this.y1.toString()],["x2",(this.x1+this.tipLength/2).toString()],["y2",this.y1.toString()],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),is.setAttributes(this.tip2,[["x1",(this.x2-this.tipLength/2).toString()],["y1",this.y2.toString()],["x2",(this.x2+this.tipLength/2).toString()],["y2",this.y2.toString()],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),Math.abs(this.x1-this.x2)>.1)){var t=180*Math.atan((this.y2-this.y1)/(this.x2-this.x1))/Math.PI+90*Math.sign(this.x1-this.x2),n=this.tip1.transform.baseVal.getItem(0);n.setRotate(t,this.x1,this.y1),this.tip1.transform.baseVal.replaceItem(n,0);var i=this.tip2.transform.baseVal.getItem(0);i.setRotate(t+180,this.x2,this.y2),this.tip2.transform.baseVal.replaceItem(i,0)}},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=e.prototype.getState.call(this);return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){e.prototype.restoreState.call(this,t),this.createTips(),this.adjustVisual()},t.typeName="MeasurementMarker",t.title="Measurement marker",t.icon='<svg viewBox="0 0 24 24"><path d="M1.39 18.36l1.77-1.76L4.58 18l1.06-1.05-1.42-1.41 1.42-1.42 2.47 2.48 1.06-1.06-2.47-2.48 1.41-1.41 1.42 1.41L10.59 12l-1.42-1.41 1.42-1.42 2.47 2.48 1.06-1.06-2.47-2.48 1.41-1.41 1.41 1.41 1.07-1.06-1.42-1.41 1.42-1.42L18 6.7l1.07-1.06-2.47-2.48 1.76-1.77 4.25 4.25L5.64 22.61l-4.25-4.25z"/></svg>',t}(Ss),Rs=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.strokePanel.colors=i.defaultColorSet,r.fillColor="transparent",r}return Zr(t,e),Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=e.prototype.getState.call(this);return n.typeName=t.typeName,n},t.typeName="EllipseFrameMarker",t.title="Ellipse frame marker",t.icon='<svg viewBox="0 0 24 24"><path d="M12 6c4.41 0 8 2.69 8 6s-3.59 6-8 6-8-2.69-8-6 3.59-6 8-6m0-2C6.5 4 2 7.58 2 12s4.5 8 10 8 10-3.58 10-8-4.5-8-10-8z"/></svg>',t}(Ms),Qs=function(){function e(){this.undoStack=[],this.redoStack=[]}return Object.defineProperty(e.prototype,"isUndoPossible",{get:function(){return this.undoStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRedoPossible",{get:function(){return this.redoStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"undoStepCount",{get:function(){return this.undoStack.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"redoStepCount",{get:function(){return this.redoStack.length},enumerable:!1,configurable:!0}),e.prototype.addUndoStep=function(e){0!==this.undoStack.length&&JSON.stringify(this.undoStack[this.undoStack.length-1])===JSON.stringify(e)||(this.undoStack.push(e),JSON.stringify(this.lastRedoStep)!==JSON.stringify(e)&&this.redoStack.splice(0,this.redoStack.length))},e.prototype.replaceLastUndoStep=function(e){this.undoStack.length>0&&(this.undoStack[this.undoStack.length-1]=e)},e.prototype.getLastUndoStep=function(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:void 0},e.prototype.undo=function(){if(this.undoStack.length>1){var e=this.undoStack.pop();return void 0!==e&&this.redoStack.push(e),this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:void 0}},e.prototype.redo=function(){return this.lastRedoStep=this.redoStack.pop(),this.lastRedoStep},e}(),Ps=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.strokeColor="transparent",r.strokeWidth=0,r.strokeDasharray="",r.curveX=0,r.curveY=0,r.manipulationStartCurveX=0,r.manipulationStartCurveY=0,r.setStrokeColor=r.setStrokeColor.bind(r),r.setStrokeWidth=r.setStrokeWidth.bind(r),r.setStrokeDasharray=r.setStrokeDasharray.bind(r),r.positionGrips=r.positionGrips.bind(r),r.addControlGrips=r.addControlGrips.bind(r),r.adjustVisual=r.adjustVisual.bind(r),r.setupControlBox=r.setupControlBox.bind(r),r.resize=r.resize.bind(r),r.strokeColor=i.defaultColor,r.strokeWidth=i.defaultStrokeWidth,r.strokeDasharray=i.defaultStrokeDasharray,r.strokePanel=new hs("Line color",i.defaultColorSet,i.defaultColor),r.strokePanel.onColorChanged=r.setStrokeColor,r.strokeWidthPanel=new bs("Line width",i.defaultStrokeWidths,i.defaultStrokeWidth),r.strokeWidthPanel.onWidthChanged=r.setStrokeWidth,r.strokeStylePanel=new ws("Line style",i.defaultStrokeDasharrays,i.defaultStrokeDasharray),r.strokeStylePanel.onStyleChanged=r.setStrokeDasharray,r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.visual&&t!==this.selectorCurve&&t!==this.visibleCurve&&!this.curveGrip.ownsTarget(t))},t.prototype.getPathD=function(){return"M "+this.x1+" "+this.y1+" Q "+this.curveX+" "+this.curveY+", "+this.x2+" "+this.y2},t.prototype.createVisual=function(){this.visual=is.createGroup(),this.selectorCurve=is.createPath(this.getPathD(),[["stroke","transparent"],["stroke-width",(this.strokeWidth+10).toString()],["fill","transparent"]]),this.visibleCurve=is.createPath(this.getPathD(),[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()],["fill","transparent"]]),this.visual.appendChild(this.selectorCurve),this.visual.appendChild(this.visibleCurve),this.addMarkerVisualToContainer(this.visual)},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),this.manipulationStartCurveX=this.curveX,this.manipulationStartCurveY=this.curveY,"new"===this.state&&(this.curveX=t.x,this.curveY=t.y),"new"===this.state?(this.createVisual(),this.adjustVisual(),this._state="creating"):this.curveGrip.ownsTarget(n)&&(this.activeGrip=this.curveGrip,this._state="resize")},t.prototype.adjustVisual=function(){this.selectorCurve&&this.visibleCurve&&(this.selectorCurve.setAttribute("d",this.getPathD()),this.visibleCurve.setAttribute("d",this.getPathD()),is.setAttributes(this.visibleCurve,[["stroke",this.strokeColor]]),is.setAttributes(this.visibleCurve,[["stroke-width",this.strokeWidth.toString()]]),is.setAttributes(this.visibleCurve,[["stroke-dasharray",this.strokeDasharray.toString()]]))},t.prototype.setupControlBox=function(){e.prototype.setupControlBox.call(this),this.curveControlLine1=is.createLine(this.x1,this.y1,this.curveX,this.curveY,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"]]),this.curveControlLine2=is.createLine(this.x2,this.y2,this.curveX,this.curveY,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"]]),this.controlBox.insertBefore(this.curveControlLine1,this.controlBox.firstChild),this.controlBox.insertBefore(this.curveControlLine2,this.controlBox.firstChild)},t.prototype.addControlGrips=function(){this.curveGrip=this.createGrip(),this.curveX=0,this.curveY=0,e.prototype.addControlGrips.call(this)},t.prototype.positionGrips=function(){e.prototype.positionGrips.call(this);var t=this.curveGrip.GRIP_SIZE;this.positionGrip(this.curveGrip.visual,this.curveX-t/2,this.curveY-t/2),this.curveControlLine1&&this.curveControlLine2&&(this.curveControlLine1.setAttribute("x1",this.x1.toString()),this.curveControlLine1.setAttribute("y1",this.y1.toString()),this.curveControlLine1.setAttribute("x2",this.curveX.toString()),this.curveControlLine1.setAttribute("y2",this.curveY.toString()),this.curveControlLine2.setAttribute("x1",this.x2.toString()),this.curveControlLine2.setAttribute("y1",this.y2.toString()),this.curveControlLine2.setAttribute("x2",this.curveX.toString()),this.curveControlLine2.setAttribute("y2",this.curveY.toString()))},t.prototype.manipulate=function(t){"move"===this.state&&(this.curveX=this.manipulationStartCurveX+t.x-this.manipulationStartX,this.curveY=this.manipulationStartCurveY+t.y-this.manipulationStartY),e.prototype.manipulate.call(this,t)},t.prototype.resize=function(t){this.activeGrip===this.curveGrip&&(this.curveX=t.x,this.curveY=t.y),e.prototype.resize.call(this,t),"creating"===this.state&&(this.curveX=this.x1+(this.x2-this.x1)/2,this.curveY=this.y1+(this.y2-this.y1)/2)},t.prototype.setStrokeColor=function(e){this.strokeColor=e,this.adjustVisual(),this.colorChanged(e)},t.prototype.setStrokeWidth=function(e){this.strokeWidth=e,this.adjustVisual()},t.prototype.setStrokeDasharray=function(e){this.strokeDasharray=e,this.adjustVisual()},t.prototype.scale=function(t,n){this.curveX=this.curveX*t,this.curveY=this.curveY*n,e.prototype.scale.call(this,t,n)},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var n=Object.assign({strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray,curveX:this.curveX,curveY:this.curveY},e.prototype.getState.call(this));return n.typeName=t.typeName,n},t.prototype.restoreState=function(t){e.prototype.restoreState.call(this,t);var n=t;this.strokeColor=n.strokeColor,this.strokeWidth=n.strokeWidth,this.strokeDasharray=n.strokeDasharray,this.curveX=n.curveX,this.curveY=n.curveY,this.createVisual(),this.adjustVisual()},t.typeName="CurveMarker",t.title="Curve marker",t.icon='<svg viewBox="0 0 24 24"><path d="M18.5 2A1.5 1.5 0 0120 3.5 1.5 1.5 0 0118.5 5c-.23 0-.45-.05-.65-.15l-3.69 3.7.34.45c2.19-1.26 4.76-2 7.5-2l1 .03v2.01L22 9c-2.58 0-5 .75-7 2.04A3.96 3.96 0 0111.04 15C9.75 17 9 19.42 9 22l.04 1H7.03L7 22c0-2.74.74-5.31 2-7.5l-.45-.34-3.7 3.69c.1.2.15.42.15.65A1.5 1.5 0 013.5 20 1.5 1.5 0 012 18.5 1.5 1.5 0 013.5 17c.23 0 .45.05.65.15l3.69-3.7C7.31 12.78 7 11.92 7 11a4 4 0 014-4c.92 0 1.78.31 2.45.84l3.7-3.69c-.1-.2-.15-.42-.15-.65A1.5 1.5 0 0118.5 2M11 9a2 2 0 00-2 2 2 2 0 002 2 2 2 0 002-2 2 2 0 00-2-2z"/></svg>',t}(Bs),Hs=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.fillColor="transparent",r.strokeColor="transparent",r.strokeWidth=0,r.strokeDasharray="",r.textColor="transparent",r.fontSize="1rem",r.isMoved=!1,r.captionText="Caption",r.PADDING=5,r.captionBoxWidth=0,r.captionBoxHeight=0,r.strokeColor=i.defaultColor,r.strokeWidth=i.defaultStrokeWidth,r.strokeDasharray=i.defaultStrokeDasharray,r.fillColor=i.defaultFillColor,r.textColor=i.defaultStrokeColor,r.fontFamily=i.defaultFontFamily,r.fontSize=i.defaultCaptionFontSize,r.captionText=i.defaultCaptionText,r.setStrokeColor=r.setStrokeColor.bind(r),r.setFillColor=r.setFillColor.bind(r),r.setStrokeWidth=r.setStrokeWidth.bind(r),r.setStrokeDasharray=r.setStrokeDasharray.bind(r),r.createVisual=r.createVisual.bind(r),r.sizeCaption=r.sizeCaption.bind(r),r.setCaptionText=r.setCaptionText.bind(r),r.showTextEditor=r.showTextEditor.bind(r),r.positionTextEditor=r.positionTextEditor.bind(r),r.finishTextEditing=r.finishTextEditing.bind(r),r.setFont=r.setFont.bind(r),r.setTextColor=r.setTextColor.bind(r),r.strokePanel=new hs("Line color",ns(i.defaultColorSet,["transparent"]),r.strokeColor,void 0,"stroke-color-panel"),r.strokePanel.onColorChanged=r.setStrokeColor,r.fillPanel=new hs("Fill color",ns(i.defaultColorSet,["transparent"]),r.fillColor,Os,"fill-color-panel"),r.fillPanel.onColorChanged=r.setFillColor,r.strokeWidthPanel=new bs("Line width",i.defaultStrokeWidths,i.defaultStrokeWidth),r.strokeWidthPanel.onWidthChanged=r.setStrokeWidth,r.strokeStylePanel=new ws("Line style",i.defaultStrokeDasharrays,i.defaultStrokeDasharray),r.strokeStylePanel.onStyleChanged=r.setStrokeDasharray,r.fontFamilyPanel=new _s("Font",i.defaultFontFamilies,i.defaultFontFamily),r.fontFamilyPanel.onFontChanged=r.setFont,r.textColorPanel=new hs("Text color",i.defaultColorSet,r.textColor,Ls,"text-color-panel"),r.textColorPanel.onColorChanged=r.setTextColor,r}return Zr(t,e),t.prototype.ownsTarget=function(t){return!(!e.prototype.ownsTarget.call(this,t)&&t!==this.visual&&t!==this.frame&&t!==this.captionBg&&t!==this.captionElement)},t.prototype.createVisual=function(){this.visual=is.createGroup(),this.addMarkerVisualToContainer(this.visual),this.captionBg=is.createRect(1,1,[["fill",this.fillColor]]),this.visual.appendChild(this.captionBg),this.captionElement=is.createText([["fill",this.textColor],["font-family",this.fontFamily]]),this.captionElement.style.fontSize=this.fontSize,this.captionElement.style.textAnchor="start",this.captionElement.style.dominantBaseline="text-before-edge",this.captionElement.textContent=this.captionText,this.visual.appendChild(this.captionElement),this.frame=is.createRect(this.width,this.height,[["fill","transparent"],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()],["stroke-dasharray",this.strokeDasharray]]),this.visual.appendChild(this.frame),this.sizeCaption()},t.prototype.setCaptionText=function(e){this.captionText=e,this.captionElement.textContent=this.captionText,this.sizeCaption()},t.prototype.pointerDown=function(t,n){e.prototype.pointerDown.call(this,t,n),this.isMoved=!1,this.pointerDownPoint=t,this.pointerDownTimestamp=Date.now(),"new"===this.state&&(this.createVisual(),this.moveVisual(t),this._state="creating")},t.prototype.manipulate=function(t){e.prototype.manipulate.call(this,t),void 0!==this.pointerDownPoint&&(this.isMoved=Math.abs(t.x-this.pointerDownPoint.x)>5||Math.abs(t.y-this.pointerDownPoint.y)>5)},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this.setSize()},t.prototype.sizeCaption=function(){var e=this.captionElement.getBBox();""!==this.captionText.trim()?(this.captionBoxWidth=e.width+2*this.PADDING,this.captionBoxHeight=e.height+2*this.PADDING):(this.captionBoxWidth=0,this.captionBoxHeight=0),is.setAttributes(this.captionBg,[["width",this.captionBoxWidth.toString()],["height",this.captionBoxHeight.toString()],["clip-path","path('M0,0 H"+this.width+" V"+this.height+" H"+-this.width+" Z')"]]),is.setAttributes(this.captionElement,[["x",this.PADDING.toString()],["y",this.PADDING.toString()],["clip-path","path('M0,0 H"+(this.width-this.PADDING)+" V"+this.height+" H"+(-this.width-this.PADDING)+" Z')"]])},t.prototype.showTextEditor=function(){var e=this;this._state="edit",this.overlayContainer.innerHTML="",this.textEditDiv=document.createElement("div"),this.textEditDiv.style.flexGrow="2",this.textEditDiv.style.alignItems="center",this.textEditDiv.style.justifyContent="center",this.textEditDiv.style.pointerEvents="auto",this.textEditDiv.style.overflow="hidden",this.textEditBox=document.createElement("input"),this.textEditBox.style.position="absolute",this.textEditBox.style.width=this.width+"px",this.captionBoxHeight>0&&(this.textEditBox.style.height=this.captionBoxHeight+"px"),this.textEditBox.style.fontSize=this.fontSize,this.textEditBox.style.fontFamily=this.fontFamily,this.textEditBox.style.backgroundColor=this.fillColor,this.textEditBox.style.color=this.textColor,this.textEditBox.style.borderWidth="0",this.textEditBox.setAttribute("value",this.captionText),this.textEditBox.select(),this.textEditDiv.appendChild(this.textEditBox),this.overlayContainer.appendChild(this.textEditDiv),this.textEditBox.addEventListener("pointerup",(function(e){e.stopPropagation()})),this.textEditBox.addEventListener("keypress",(function(t){"Enter"===t.key&&e.finishTextEditing(e.textEditBox.value)})),this.textEditBox.addEventListener("keyup",(function(e){e.cancelBubble=!0})),this.textEditBox.addEventListener("blur",(function(){e.finishTextEditing(e.textEditBox.value)})),this.textEditDiv.addEventListener("pointerup",(function(){e.finishTextEditing(e.textEditBox.value)})),this.positionTextEditor(),this.textEditBox.focus()},t.prototype.positionTextEditor=function(){"edit"===this.state&&(void 0===this.textEditBox?this.showTextEditor():(this.textEditBox.style.left=this.left+"px",this.textEditBox.style.top=this.top+"px",this.textEditBox.style.transform="rotate("+this.rotationAngle+"deg)",this.textEditBox.style.transformOrigin=this.width/2+"px "+this.height/2+"px"))},t.prototype.finishTextEditing=function(e){this.setCaptionText(e.trim()),this.overlayContainer.innerHTML="",this.stateChanged()},t.prototype.setFont=function(e){this.captionElement&&is.setAttributes(this.captionElement,[["font-family",e]]),this.fontFamily=e,this.textEditBox&&(this.textEditBox.style.fontFamily=this.fontFamily),this.sizeCaption(),this.stateChanged()},t.prototype.setTextColor=function(e){this.captionElement&&is.setAttributes(this.captionElement,[["fill",e]]),this.textColor=e,this.textEditBox&&(this.textEditBox.style.color=this.textColor),this.stateChanged()},t.prototype.setSize=function(){e.prototype.setSize.call(this),is.setAttributes(this.frame,[["width",this.width.toString()],["height",this.height.toString()]]),this.sizeCaption()},t.prototype.pointerUp=function(t){e.prototype.pointerUp.call(this,t),this.setSize(),!this.isMoved&&Date.now()-this.pointerDownTimestamp>500&&this.showTextEditor(),this.pointerDownPoint=void 0},t.prototype.dblClick=function(t,n){e.prototype.dblClick.call(this,t,n),this.showTextEditor()},t.prototype.setStrokeColor=function(e){this.strokeColor=e,this.frame&&is.setAttributes(this.frame,[["stroke",this.strokeColor]]),this.colorChanged(e),this.stateChanged()},t.prototype.setFillColor=function(e){this.fillColor=e,this.captionBg&&is.setAttributes(this.captionBg,[["fill",this.fillColor]]),this.fillColorChanged(e),this.stateChanged()},t.prototype.setStrokeWidth=function(e){this.strokeWidth=e,this.frame&&is.setAttributes(this.frame,[["stroke-width",this.strokeWidth.toString()]]),this.stateChanged()},t.prototype.setStrokeDasharray=function(e){this.strokeDasharray=e,this.frame&&is.setAttributes(this.frame,[["stroke-dasharray",this.strokeDasharray]]),this.stateChanged()},Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.fillPanel,this.strokeWidthPanel,this.strokeStylePanel,this.fontFamilyPanel,this.textColorPanel]},enumerable:!1,configurable:!0}),t.prototype.getState=function(){var t=Object.assign({fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray,opacity:1,textColor:this.textColor,fontFamily:this.fontFamily,fontSize:this.fontSize,captionText:this.captionText},e.prototype.getState.call(this));return t.typeName=this.typeName,t},t.prototype.restoreState=function(t){var n=t;this.fillColor=n.fillColor,this.strokeColor=n.strokeColor,this.strokeWidth=n.strokeWidth,this.strokeDasharray=n.strokeDasharray,this.textColor=n.textColor,this.fontFamily=n.fontFamily,this.captionText=n.captionText,this.fontSize=n.fontSize,this.createVisual(),e.prototype.restoreState.call(this,t),this.setSize()},t.prototype.scale=function(t,n){e.prototype.scale.call(this,t,n),this.setSize()},t.typeName="CaptionFrameMarker",t.title="Caption frame marker",t.icon='<svg viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2H5m0 2h14v14H5V5m2 2v2h10V7H7z"/></svg>',t}(vs),qs=function(){function e(e,t){void 0===t&&(t=!1),this.cancelable=!1,this._defaultPrevented=!1,this.markerArea=e,this.cancelable=t}return Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}(),Vs=function(e){function t(t,n,i){var r=e.call(this,t,!1)||this;return r.dataUrl=n,r.state=i,r}return Zr(t,e),t}(qs),zs=function(e){function t(t,n,i){void 0===i&&(i=!1);var r=e.call(this,t,i)||this;return r.marker=n,r}return Zr(t,e),t}(qs),Ks=function(){function e(){this.render=[],this.beforeclose=[],this.close=[],this.show=[],this.restorestate=[],this.statechange=[],this.markerselect=[],this.markerdeselect=[],this.markercreating=[],this.markercreate=[],this.markerbeforedelete=[],this.markerdelete=[],this.markerchange=[],this.focus=[],this.blur=[]}return e.prototype.addEventListener=function(e,t){this[e].push(t)},e.prototype.removeEventListener=function(e,t){var n=this[e].indexOf(t);n>-1&&this[e].splice(n,1)},e}(),Gs=function(){function e(t){this.touchPoints=0,this._availableMarkerTypes=this.DEFAULT_MARKER_TYPES,this.mode="select",this.markers=[],this.isDragging=!1,this.renderEventListeners=[],this.closeEventListeners=[],this.settings=new xs,this._isOpen=!1,this.undoRedoManager=new Qs,this.renderAtNaturalSize=!1,this.renderImageType="image/png",this.renderMarkersOnly=!1,this.zoomSteps=[1,1.5,2,4],this._zoomLevel=1,this._isResizing=!1,this.prevPanPoint={x:0,y:0},this.eventListeners=new Ks,this._silentRenderMode=!1,this._isFocused=!1,this._instanceNo=e.instanceCounter++,this.styles=new as(this.instanceNo),this.uiStyleSettings=this.styles.settings,this.target=t,this.targetRoot=document.body,this.width=t.clientWidth,this.height=t.clientHeight,this.styles.removeStyleSheet(),this.open=this.open.bind(this),this.setTopLeft=this.setTopLeft.bind(this),this.toolbarButtonClicked=this.toolbarButtonClicked.bind(this),this.createNewMarker=this.createNewMarker.bind(this),this.addNewMarker=this.addNewMarker.bind(this),this.markerCreated=this.markerCreated.bind(this),this.setCurrentMarker=this.setCurrentMarker.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onDblClick=this.onDblClick.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.overrideOverflow=this.overrideOverflow.bind(this),this.restoreOverflow=this.restoreOverflow.bind(this),this.close=this.close.bind(this),this.closeUI=this.closeUI.bind(this),this.addCloseEventListener=this.addCloseEventListener.bind(this),this.removeCloseEventListener=this.removeCloseEventListener.bind(this),this.addRenderEventListener=this.addRenderEventListener.bind(this),this.removeRenderEventListener=this.removeRenderEventListener.bind(this),this.clientToLocalCoordinates=this.clientToLocalCoordinates.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.deleteSelectedMarker=this.deleteSelectedMarker.bind(this),this.setWindowHeight=this.setWindowHeight.bind(this),this.removeMarker=this.removeMarker.bind(this),this.colorChanged=this.colorChanged.bind(this),this.fillColorChanged=this.fillColorChanged.bind(this),this.onPopupTargetResize=this.onPopupTargetResize.bind(this),this.showNotesEditor=this.showNotesEditor.bind(this),this.hideNotesEditor=this.hideNotesEditor.bind(this),this.stepZoom=this.stepZoom.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.markerStateChanged=this.markerStateChanged.bind(this),this.switchToSelectMode=this.switchToSelectMode.bind(this),this.addDefs=this.addDefs.bind(this),this.addDefsToImage=this.addDefsToImage.bind(this),this.addMarkerEvents=this.addMarkerEvents.bind(this)}return Object.defineProperty(e.prototype,"ALL_MARKER_TYPES",{get:function(){return[Cs,Ts,Is,ks,Rs,Ms,Ds,Ns,js,Us,Ss,Ps,Hs]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DEFAULT_MARKER_TYPES",{get:function(){return[Cs,Ts,Is,ks,Ms,Ds,Ns]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BASIC_MARKER_TYPES",{get:function(){return[Cs,Ts,Is,ks,Ds]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableMarkerTypes",{get:function(){return this._availableMarkerTypes},set:function(e){var t=this;this._availableMarkerTypes.splice(0),e.forEach((function(e){if("string"==typeof e){var n=t.ALL_MARKER_TYPES.find((function(t){return t.typeName===e}));void 0!==n&&t._availableMarkerTypes.push(n)}else t._availableMarkerTypes.push(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentMarker",{get:function(){return this._currentMarker},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUndoPossible",{get:function(){return!(!this.undoRedoManager||!this.undoRedoManager.isUndoPossible)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRedoPossible",{get:function(){return!(!this.undoRedoManager||!this.undoRedoManager.isRedoPossible)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){return this._zoomLevel},set:function(e){this._zoomLevel=e,this.editorCanvas&&this.contentDiv&&(this.editorCanvas.style.transform="scale("+this._zoomLevel+")",this.contentDiv.scrollTo({left:(this.editorCanvas.clientWidth*this._zoomLevel-this.contentDiv.clientWidth)/2,top:(this.editorCanvas.clientHeight*this._zoomLevel-this.contentDiv.clientHeight)/2}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceNo",{get:function(){return this._instanceNo},enumerable:!1,configurable:!0}),e.prototype.open=function(){this.setupResizeObserver(),this.setEditingTarget(),this.setTopLeft(),this.initMarkerCanvas(),this.initOverlay(),this.attachEvents(),"popup"===this.settings.displayMode&&this.onPopupTargetResize(),rs.isLicensed||this.addLogo(),this._isOpen=!0,this._isFocused=!0},e.prototype.show=function(){var e=this;void 0===this.styles.styleSheetRoot&&void 0!==os.styleSheetRoot&&(this.styles.styleSheetRoot=os.styleSheetRoot),this.markers.splice(0),this.setWindowHeight(),this.showUI(),this.open(),this.eventListeners.show.forEach((function(t){return t(new qs(e))}))},e.prototype.render=function(){return es(this,void 0,void 0,(function(){var e;return ts(this,(function(t){switch(t.label){case 0:return this.setCurrentMarker(),(e=new ss).naturalSize=this.renderAtNaturalSize,e.imageType=this.renderImageType,e.imageQuality=this.renderImageQuality,e.markersOnly=this.renderMarkersOnly,e.width=this.renderWidth,e.height=this.renderHeight,[4,e.rasterize(this.target instanceof HTMLImageElement?this.target:null,this.markerImage,this.renderTarget)];case 1:return t.sent(),[4,e.rasterize(this.target instanceof HTMLImageElement?this.target:null,this.markerImage,this.renderTarget)];case 2:return[2,t.sent()]}}))}))},e.prototype.close=function(e){var t=this;if(void 0===e&&(e=!1),this.isOpen){var n=!1;e||this.eventListeners.beforeclose.forEach((function(e){var i=new qs(t,!0);e(i),i.defaultPrevented&&(n=!0)})),n||(this.coverDiv&&this.closeUI(),this.targetObserver&&(this.targetObserver.unobserve(this.target),this.targetObserver.unobserve(this.editorCanvas)),"popup"===this.settings.displayMode&&window.removeEventListener("resize",this.setWindowHeight),this.eventListeners.close.forEach((function(e){return e(new qs(t))})),this.detachEvents(),this._isOpen=!1)}},e.prototype.addMarkersToToolbar=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._availableMarkerTypes).push.apply(e,t)},e.prototype.addRenderEventListener=function(e){this.addEventListener("render",(function(t){e(t.dataUrl,t.state)}))},e.prototype.removeRenderEventListener=function(e){},e.prototype.addCloseEventListener=function(e){this.addEventListener("close",(function(){e()}))},e.prototype.removeCloseEventListener=function(e){},e.prototype.setupResizeObserver=function(){var e=this;"inline"===this.settings.displayMode?window.ResizeObserver&&(this.targetObserver=new ResizeObserver((function(){e.resize(e.target.clientWidth,e.target.clientHeight)})),this.targetObserver.observe(this.target)):"popup"===this.settings.displayMode&&(window.ResizeObserver&&(this.targetObserver=new ResizeObserver((function(){return e.onPopupTargetResize()})),this.targetObserver.observe(this.editorCanvas)),window.addEventListener("resize",this.setWindowHeight))},e.prototype.onPopupTargetResize=function(){var e=1*this.target.clientWidth/this.target.clientHeight,t=this.editorCanvas.clientWidth/e>this.editorCanvas.clientHeight?this.editorCanvas.clientHeight*e:this.editorCanvas.clientWidth,n=t<this.editorCanvas.clientWidth?this.editorCanvas.clientHeight:this.editorCanvas.clientWidth/e;this.resize(t,n)},e.prototype.setWindowHeight=function(){this.windowHeight=window.innerHeight},e.prototype.resize=function(e,t){this._isResizing=!0;var n=e/this.imageWidth,i=t/this.imageHeight;this.imageWidth=Math.round(e),this.imageHeight=Math.round(t),this.target instanceof HTMLImageElement&&this.editingTarget instanceof HTMLImageElement&&(this.editingTarget.src=this.target.src),this.editingTarget.width=this.imageWidth,this.editingTarget.height=this.imageHeight,this.editingTarget.style.width=this.imageWidth+"px",this.editingTarget.style.height=this.imageHeight+"px",this.markerImage.setAttribute("width",this.imageWidth.toString()),this.markerImage.setAttribute("height",this.imageHeight.toString()),this.markerImage.setAttribute("viewBox","0 0 "+this.imageWidth.toString()+" "+this.imageHeight.toString()),this.markerImageHolder.style.width=this.imageWidth+"px",this.markerImageHolder.style.height=this.imageHeight+"px",this.overlayContainer.style.width=this.imageWidth+"px",this.overlayContainer.style.height=this.imageHeight+"px","popup"!==this.settings.displayMode?this.coverDiv.style.width=this.imageWidth.toString()+"px":(this.setTopLeft(),this.positionMarkerImage()),void 0!==this.toolbar&&this.toolbar.adjustLayout(),this.positionLogo(),this.scaleMarkers(n,i),this._isResizing=!1},e.prototype.scaleMarkers=function(e,t){var n,i=this;this._currentMarker&&this._currentMarker instanceof ks?this._currentMarker.scale(e,t):(n=this._currentMarker,this.setCurrentMarker()),this.markers.forEach((function(n){n!==i._currentMarker&&n.scale(e,t)})),void 0!==n&&this.setCurrentMarker(n)},e.prototype.setEditingTarget=function(){this.imageWidth=Math.round(this.target.clientWidth),this.imageHeight=Math.round(this.target.clientHeight),this.target instanceof HTMLImageElement&&this.editingTarget instanceof HTMLImageElement&&(this.editingTarget.src=this.target.src),this.editingTarget.width=this.imageWidth,this.editingTarget.height=this.imageHeight,this.editingTarget.style.width=this.imageWidth+"px",this.editingTarget.style.height=this.imageHeight+"px"},e.prototype.setTopLeft=function(){var e=this.editingTarget.getBoundingClientRect(),t=this.editorCanvas.getBoundingClientRect();this.left=e.left-t.left,this.top=e.top-t.top},e.prototype.initMarkerCanvas=function(){this.markerImageHolder=document.createElement("div"),this.markerImageHolder.style.setProperty("touch-action","pinch-zoom"),this.markerImage=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.markerImage.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.markerImage.setAttribute("width",this.imageWidth.toString()),this.markerImage.setAttribute("height",this.imageHeight.toString()),this.markerImage.setAttribute("viewBox","0 0 "+this.imageWidth.toString()+" "+this.imageHeight.toString()),this.markerImage.style.pointerEvents="auto",this.markerImageHolder.style.position="absolute",this.markerImageHolder.style.width=this.imageWidth+"px",this.markerImageHolder.style.height=this.imageHeight+"px",this.markerImageHolder.style.transformOrigin="top left",this.positionMarkerImage(),this.markerImageHolder.appendChild(this.markerImage),this.editorCanvas.appendChild(this.markerImageHolder)},e.prototype.addDefs=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.defs=is.createDefs(),this.addDefsToImage(),(e=this.defs).append.apply(e,t)},e.prototype.addDefsToImage=function(){this.defs&&this.markerImage.insertBefore(this.defs,this.markerImage.firstChild)},e.prototype.initOverlay=function(){this.overlayContainer=document.createElement("div"),this.overlayContainer.style.position="absolute",this.overlayContainer.style.left="0px",this.overlayContainer.style.top="0px",this.overlayContainer.style.width=this.imageWidth+"px",this.overlayContainer.style.height=this.imageHeight+"px",this.overlayContainer.style.display="flex",this.markerImageHolder.appendChild(this.overlayContainer)},e.prototype.positionMarkerImage=function(){this.markerImageHolder.style.top=this.top/this.zoomLevel+"px",this.markerImageHolder.style.left=this.left/this.zoomLevel+"px"},e.prototype.attachEvents=function(){this.markerImage.addEventListener("pointerdown",this.onPointerDown),this.markerImage.addEventListener("touchmove",(function(e){return e.preventDefault()})),this.markerImage.addEventListener("dblclick",this.onDblClick),this.attachWindowEvents()},e.prototype.attachWindowEvents=function(){window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerOut),window.addEventListener("pointerout",this.onPointerOut),window.addEventListener("pointerleave",this.onPointerUp),window.addEventListener("resize",this.onWindowResize),window.addEventListener("keyup",this.onKeyUp)},e.prototype.detachEvents=function(){this.markerImage.removeEventListener("pointerdown",this.onPointerDown),this.markerImage.removeEventListener("dblclick",this.onDblClick),this.detachWindowEvents()},e.prototype.detachWindowEvents=function(){window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerOut),window.removeEventListener("pointerout",this.onPointerOut),window.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("keyup",this.onKeyUp)},e.prototype.addLogo=function(){this.logoUI=document.createElement("div"),this.logoUI.style.display="inline-block",this.logoUI.style.margin="0px",this.logoUI.style.padding="0px",this.logoUI.style.fill="#333333";var e=document.createElement("a");e.href="https://markerjs.com/",e.target="_blank",e.innerHTML='<svg viewBox="0 0 112 96" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path fill="#e5f20d" fill-opacity=".647" d="M0 40.386h111.96V95.62H0z"/><path d="M93.61 61.452c0 .987-.328 1.831-.987 2.53-.657.7-1.52 1.048-2.591 1.048-1.481 0-2.222-.74-2.222-2.22 0-16.617-.533-29.347-1.604-38.192-1.068-8.842-2.92-13.265-5.552-13.265-4.443 0-10.94 15.509-19.497 46.52v.124c0 .987-.328 1.831-.987 2.53-.657.7-1.52 1.048-2.592 1.048-1.48 0-2.22-.74-2.22-2.22 0-3.29.165-8.392.493-15.302.33-7.732.494-13.82.494-18.262 0-6.17-.186-10.55-.556-13.142-.37-2.591-1.172-3.887-2.406-3.887-2.796 0-6.333 5.12-10.612 15.363C38.494 34.367 34.01 46.44 29.32 60.34l-1.11 3.209a5.714 5.714 0 01-1.42 2.097c-.617.578-1.295.864-2.036.864-.987 0-1.644-.081-1.974-.247-.328-.162-.533-.656-.617-1.48-.41-4.03-.74-9.418-.987-16.165-.163-1.728-.329-4.566-.494-8.515-.822-13.901-1.562-23.3-2.221-28.196-.657-4.893-.987-7.628-.987-8.205 0-.657.33-1.44.987-2.345.659-.903 1.276-1.357 1.85-1.357 1.319 0 2.387.947 3.21 2.838.411.906.863 4.526 1.357 10.859.493 6.335.905 14.19 1.233 23.568l.617 18.88c4.527-13.983 9.216-26.673 14.068-38.068C45.65 6.686 50.093.988 54.123.988c2.715 0 4.566 1.974 5.553 5.923.987 3.949 1.481 9.667 1.481 17.152 0 3.949-.081 9.625-.247 17.029l-.123 5.676c3.373-11.762 6.725-21.634 10.057-29.615 3.331-7.979 6.685-11.97 10.056-11.97 8.475 0 12.71 18.757 12.71 56.269z" fill-rule="nonzero"/></svg>',e.title="Powered by marker.js",e.style.display="grid",e.style.alignItems="center",e.style.justifyItems="center",e.style.padding="3px",e.style.width="20px",e.style.height="20px",this.logoUI.appendChild(e),this.editorCanvas.appendChild(this.logoUI),this.logoUI.style.position="absolute",this.logoUI.style.pointerEvents="all",this.positionLogo()},e.prototype.positionLogo=function(){this.logoUI&&("right"!==this.uiStyleSettings.logoPosition?this.logoUI.style.left=this.markerImageHolder.offsetLeft+10+"px":this.logoUI.style.left=this.markerImageHolder.offsetLeft+this.markerImageHolder.offsetWidth-this.logoUI.clientWidth-10+"px",this.logoUI.style.top=this.markerImageHolder.offsetTop+this.markerImageHolder.offsetHeight-this.logoUI.clientHeight-10+"px")},e.prototype.overrideOverflow=function(){this.scrollXState=window.scrollX,this.scrollYState=window.scrollY,this.bodyOverflowState=document.body.style.overflow,window.scroll({top:0,left:0}),document.body.style.overflow="hidden"},e.prototype.restoreOverflow=function(){document.body.style.overflow=this.bodyOverflowState,window.scroll({top:this.scrollYState,left:this.scrollXState})},e.prototype.showUI=function(){var e;switch("popup"===this.settings.displayMode&&this.overrideOverflow(),this.coverDiv=document.createElement("div"),this.coverDiv.style.visibility=this._silentRenderMode?"hidden":"visible",this.coverDiv.className=this.styles.classNamePrefixBase+" "+this.styles.classNamePrefix,this.coverDiv.style.fontSize="16px",this.coverDiv.style.userSelect="none",this.settings.displayMode){case"inline":this.coverDiv.style.position="absolute";var t=void 0!==this.settings.uiOffsetTop?this.target.offsetTop+this.settings.uiOffsetTop:this.target.offsetTop>this.styles.settings.toolbarHeight?this.target.offsetTop-this.styles.settings.toolbarHeight:0,n=this.target.offsetLeft+(null!==(e=this.settings.uiOffsetLeft)&&void 0!==e?e:0);this.coverDiv.style.top=t+"px",this.coverDiv.style.left=n+"px",this.coverDiv.style.width=this.target.offsetWidth.toString()+"px",this.coverDiv.style.zIndex=void 0!==this.uiStyleSettings.zIndex?this.uiStyleSettings.zIndex:"5";break;case"popup":this.coverDiv.style.position="fixed",this.coverDiv.style.top="0px",this.coverDiv.style.left="0px",this.coverDiv.style.width="100vw",this.coverDiv.style.height=window.innerHeight+"px",this.coverDiv.style.backgroundColor="rgba(0, 0, 0, 0.75)",this.coverDiv.style.zIndex=void 0!==this.uiStyleSettings.zIndex?this.uiStyleSettings.zIndex:"1000",this.coverDiv.style.display="flex"}this.targetRoot.appendChild(this.coverDiv),this.uiDiv=document.createElement("div"),this.uiDiv.style.display="flex",this.uiDiv.style.flexDirection="column",this.uiDiv.style.flexGrow="2",this.uiDiv.style.margin="popup"===this.settings.displayMode?this.settings.popupMargin+"px":"0px","popup"===this.settings.displayMode&&(this.uiDiv.style.maxWidth="calc(100vw - "+2*this.settings.popupMargin+"px"),this.uiDiv.style.border="0px",this.coverDiv.appendChild(this.uiDiv),this.toolbar=new cs(this.uiDiv,this.settings.displayMode,this._availableMarkerTypes,this.uiStyleSettings,this.styles),this.toolbar.addButtonClickListener(this.toolbarButtonClicked),this.toolbar.show(this._silentRenderMode||this.uiStyleSettings.hideToolbar?"hidden":"visible"),this.contentDiv=document.createElement("div"),this.contentDiv.style.display="flex",this.contentDiv.style.flexDirection="row",this.contentDiv.style.flexGrow="2",this.contentDiv.style.flexShrink="1","popup"===this.settings.displayMode&&(this.contentDiv.style.backgroundColor=this.uiStyleSettings.canvasBackgroundColor,this.contentDiv.style.maxHeight=this.windowHeight-2*this.settings.popupMargin-3.5*this.uiStyleSettings.toolbarHeight+"px",this.contentDiv.style.maxWidth="calc(100vw - "+2*this.settings.popupMargin+"px)"),this.contentDiv.style.overflow="auto",this.uiDiv.appendChild(this.contentDiv),this.editorCanvas=document.createElement("div"),this.editorCanvas.style.flexGrow="2",this.editorCanvas.style.flexShrink="1",this.editorCanvas.style.position="relative",this.editorCanvas.style.overflow="hidden",this.editorCanvas.style.display="flex","popup"===this.settings.displayMode&&(this.editorCanvas.style.alignItems="center",this.editorCanvas.style.justifyContent="center"),this.editorCanvas.style.pointerEvents="none",this.editorCanvas.style.transformOrigin="left top",this.editorCanvas.style.transform="scale("+this.zoomLevel+")",this.contentDiv.appendChild(this.editorCanvas),this.editingTarget=this.target instanceof HTMLImageElement?document.createElement("img"):document.createElement("canvas"),"inline"===this.settings.displayMode&&void 0===this.settings.uiOffsetTop&&this.target.offsetTop<this.styles.settings.toolbarHeight&&(this.editingTarget.style.marginTop=this.target.offsetTop-this.styles.settings.toolbarHeight+"px"),this.editorCanvas.appendChild(this.editingTarget),this.toolbox=new As(this.uiDiv,this.settings.displayMode,this.uiStyleSettings,this.styles),this.toolbox.show(this._silentRenderMode||this.uiStyleSettings.hideToolbox?"hidden":"visible")},e.prototype.closeUI=function(){"popup"===this.settings.displayMode&&this.restoreOverflow(),this.targetRoot.removeChild(this.coverDiv),this.coverDiv.remove(),this.coverDiv=null},e.prototype.removeMarker=function(e){this.markerImage.removeChild(e.container),this.markers.indexOf(e)>-1&&this.markers.splice(this.markers.indexOf(e),1),e.dispose()},e.prototype.switchToSelectMode=function(){this.mode="select",this.hideNotesEditor(),void 0!==this._currentMarker&&("new"!==this._currentMarker.state?this._currentMarker.select():(this.removeMarker(this._currentMarker),this.setCurrentMarker(),this.markerImage.style.cursor="default"),this.addUndoStep()),this.toolbar.setSelectMode()},e.prototype.toolbarButtonClicked=function(e,t){if("marker"===e&&void 0!==t)this.createNewMarker(t);else if("action"===e)switch(t){case"select":this.switchToSelectMode(),this.switchToSelectMode();break;case"delete":this.deleteSelectedMarker();break;case"clear":this.clear();break;case"undo":this.undo();break;case"redo":this.redo();break;case"zoom":this.stepZoom();break;case"zoom-out":this.zoomLevel=1;break;case"notes":void 0===this.notesArea?(this.switchToSelectMode(),this.zoomLevel=1,this.showNotesEditor()):this.switchToSelectMode();break;case"close":this.close();break;case"render":this.switchToSelectMode(),this.startRenderAndClose()}},e.prototype.deleteSelectedMarker=function(){var e=this;if(void 0!==this._currentMarker&&"select"===this._currentMarker.state){var t=!1;if(this.eventListeners.markerbeforedelete.forEach((function(n){var i=new zs(e,e._currentMarker,!0);n(i),i.defaultPrevented&&(t=!0)})),!t){var n=this._currentMarker;this._currentMarker.dispose(),this.markerImage.removeChild(this._currentMarker.container),this.markers.splice(this.markers.indexOf(this._currentMarker),1),this.setCurrentMarker(),this.addUndoStep(),this.eventListeners.markerdelete.forEach((function(t){return t(new zs(e,n))}))}}},e.prototype.clear=function(){var e=this,t=!1;if(this.markers.length>0&&(this.eventListeners.markerbeforedelete.forEach((function(n){var i=new zs(e,void 0,!0);n(i),i.defaultPrevented&&(t=!0)})),!t)){this.setCurrentMarker();for(var n=function(t){var n=i.markers[t];i.setCurrentMarker(i.markers[t]),i._currentMarker.dispose(),i.markerImage.removeChild(i._currentMarker.container),i.markers.splice(i.markers.indexOf(i._currentMarker),1),i.eventListeners.markerdelete.forEach((function(t){return t(new zs(e,n))}))},i=this,r=this.markers.length-1;r>=0;r--)n(r);this.addUndoStep()}},Object.defineProperty(e.prototype,"isNotesAreaOpen",{get:function(){return void 0!==this.notesArea},enumerable:!1,configurable:!0}),e.prototype.showNotesEditor=function(){var e;void 0!==this._currentMarker&&(this.overlayContainer.innerHTML="",this.notesArea=document.createElement("textarea"),this.notesArea.className=this.uiStyleSettings.notesAreaStyleClassName,this.notesArea.style.pointerEvents="auto",this.notesArea.style.alignSelf="stretch",this.notesArea.style.width="100%",this.notesArea.style.margin=this.uiStyleSettings.toolbarHeight/4+"px",this.notesArea.value=null!==(e=this._currentMarker.notes)&&void 0!==e?e:"",this.overlayContainer.appendChild(this.notesArea))},e.prototype.hideNotesEditor=function(){this.isNotesAreaOpen&&(void 0!==this._currentMarker&&(this._currentMarker.notes=""!==this.notesArea.value.trim()?this.notesArea.value:void 0),this.overlayContainer.removeChild(this.notesArea),this.notesArea=void 0)},e.prototype.selectLastMarker=function(){this.markers.length>0?this.setCurrentMarker(this.markers[this.markers.length-1]):this.setCurrentMarker()},e.prototype.addUndoStep=function(){var e=this;if(void 0===this._currentMarker||"edit"!==this._currentMarker.state){var t=this.getState(),n=this.undoRedoManager.getLastUndoStep();if(!n||n.width===t.width&&n.height===t.height){var i=this.undoRedoManager.undoStepCount;this.undoRedoManager.addUndoStep(t),i<this.undoRedoManager.undoStepCount&&this.eventListeners.statechange.forEach((function(t){return t(new qs(e))}))}else this.undoRedoManager.replaceLastUndoStep(t)}},e.prototype.undo=function(){this.switchToSelectMode(),this.addUndoStep(),this.undoStep()},e.prototype.undoStep=function(){var e=this,t=this.undoRedoManager.undo();void 0!==t&&(this.restoreState(t),this.addDefsToImage(),this.selectLastMarker(),this.eventListeners.statechange.forEach((function(t){return t(new qs(e))})))},e.prototype.redo=function(){this.switchToSelectMode(),this.redoStep()},e.prototype.redoStep=function(){var e=this,t=this.undoRedoManager.redo();void 0!==t&&(this.restoreState(t),this.addDefsToImage(),this.selectLastMarker(),this.eventListeners.statechange.forEach((function(t){return t(new qs(e))})))},e.prototype.stepZoom=function(){var e=this.zoomSteps.indexOf(this.zoomLevel);this.zoomLevel=e<this.zoomSteps.length-1?this.zoomSteps[e+1]:this.zoomSteps[0]},e.prototype.panTo=function(e){this.contentDiv.scrollBy({left:this.prevPanPoint.x-e.x,top:this.prevPanPoint.y-e.y}),this.prevPanPoint=e},e.prototype.startRenderAndClose=function(){return es(this,void 0,void 0,(function(){var e,t,n=this;return ts(this,(function(i){switch(i.label){case 0:return[4,this.render()];case 1:return e=i.sent(),t=this.getState(),this.eventListeners.render.forEach((function(i){return i(new Vs(n,e,t))})),this.close(!0),[2]}}))}))},e.prototype.getState=function(e){!0===e&&this.setCurrentMarker();var t={width:this.imageWidth,height:this.imageHeight,markers:[]};return this.markers.forEach((function(e){return t.markers.push(e.getState())})),t},e.prototype.restoreState=function(e){var t=this;for(this.markers.splice(0);this.markerImage.lastChild;)this.markerImage.removeChild(this.markerImage.lastChild);e.markers.forEach((function(e){var n=t._availableMarkerTypes.find((function(t){return t.typeName===e.typeName}));if(void 0!==n){var i=t.addNewMarker(n);i.restoreState(e),t.addMarkerEvents(i),t.markers.push(i)}})),e.width&&e.height&&(e.width!==this.imageWidth||e.height!==this.imageHeight)&&this.scaleMarkers(this.imageWidth/e.width,this.imageHeight/e.height),this.eventListeners.restorestate.forEach((function(e){return e(new qs(t))}))},e.prototype.addNewMarker=function(e){var t=is.createGroup();return this.markerImage.appendChild(t),new e(t,this.overlayContainer,this.settings)},e.prototype.createNewMarker=function(e){var t,n=this;(t="string"==typeof e?this._availableMarkerTypes.find((function(t){return t.typeName===e})):e)&&(this.setCurrentMarker(),this.addUndoStep(),this._currentMarker=this.addNewMarker(t),this.addMarkerEvents(this._currentMarker),this.markerImage.style.cursor="crosshair",this.toolbar.setActiveMarkerButton(t.typeName),this.toolbox.setPanelButtons(this._currentMarker.toolboxPanels),this.eventListeners.markercreating.forEach((function(e){return e(new zs(n,n._currentMarker))})))},e.prototype.addMarkerEvents=function(e){e.onMarkerCreated=this.markerCreated,e.onColorChanged=this.colorChanged,e.onFillColorChanged=this.fillColorChanged,e.onStateChanged=this.markerStateChanged},e.prototype.markerCreated=function(e){var t=this;this.mode="select",this.markerImage.style.cursor="default",this.markers.push(e),this.setCurrentMarker(e),e instanceof Ts&&this.settings.newFreehandMarkerOnPointerUp?this.createNewMarker(Ts):this.toolbar.setSelectMode(),this.addUndoStep(),this.eventListeners.markercreate.forEach((function(n){return n(new zs(t,e))}))},e.prototype.colorChanged=function(e){this.settings.defaultColorsFollowCurrentColors&&(this.settings.defaultColor=e,this.settings.defaultStrokeColor=e)},e.prototype.fillColorChanged=function(e){this.settings.defaultColorsFollowCurrentColors&&(this.settings.defaultFillColor=e)},e.prototype.markerStateChanged=function(e){var t=this;this.eventListeners.markerchange.forEach((function(n){return n(new zs(t,e))}))},e.prototype.setCurrentMarker=function(e){var t=this;this._currentMarker!==e&&void 0!==this._currentMarker&&(this._currentMarker.deselect(),this.toolbar.setCurrentMarker(),this.toolbox.setPanelButtons([]),this._isResizing||this.eventListeners.markerdeselect.forEach((function(e){return e(new zs(t,t._currentMarker))}))),this._currentMarker=e,void 0===this._currentMarker||this._currentMarker.isSelected||("new"!==this._currentMarker.state&&this._currentMarker.select(),this.toolbar.setCurrentMarker(this._currentMarker),this.toolbox.setPanelButtons(this._currentMarker.toolboxPanels),this._isResizing||this.eventListeners.markerselect.forEach((function(e){return e(new zs(t,t._currentMarker))})))},e.prototype.onPointerDown=function(e){if(this._isFocused||this.focus(),this.touchPoints++,1===this.touchPoints||"touch"!==e.pointerType)if(void 0===this._currentMarker||"new"!==this._currentMarker.state&&"creating"!==this._currentMarker.state){if("select"===this.mode){var t=this.markers.find((function(t){return t.ownsTarget(e.target)}));void 0!==t?(this.setCurrentMarker(t),this.isDragging=!0,this._currentMarker.pointerDown(this.clientToLocalCoordinates(e.clientX,e.clientY),e.target)):(this.setCurrentMarker(),this.isDragging=!0,this.prevPanPoint={x:e.clientX,y:e.clientY})}}else this.isDragging=!0,this._currentMarker.pointerDown(this.clientToLocalCoordinates(e.clientX,e.clientY))},e.prototype.onDblClick=function(e){if(this._isFocused||this.focus(),"select"===this.mode){var t=this.markers.find((function(t){return t.ownsTarget(e.target)}));void 0!==t&&t!==this._currentMarker&&this.setCurrentMarker(t),void 0!==this._currentMarker?this._currentMarker.dblClick(this.clientToLocalCoordinates(e.clientX,e.clientY),e.target):this.setCurrentMarker()}},e.prototype.onPointerMove=function(e){1!==this.touchPoints&&"touch"===e.pointerType||(void 0!==this._currentMarker||this.isDragging)&&(void 0!==this._currentMarker&&"edit"===this._currentMarker.state||e.preventDefault(),void 0!==this._currentMarker?this._currentMarker.manipulate(this.clientToLocalCoordinates(e.clientX,e.clientY)):this.zoomLevel>1&&this.panTo({x:e.clientX,y:e.clientY}))},e.prototype.onPointerUp=function(e){this.touchPoints>0&&this.touchPoints--,0===this.touchPoints&&this.isDragging&&void 0!==this._currentMarker&&this._currentMarker.pointerUp(this.clientToLocalCoordinates(e.clientX,e.clientY)),this.isDragging=!1,this.addUndoStep()},e.prototype.onPointerOut=function(){this.touchPoints>0&&this.touchPoints--},e.prototype.onKeyUp=function(e){void 0===this._currentMarker||void 0!==this.notesArea||"Delete"!==e.key&&"Backspace"!==e.key||this.deleteSelectedMarker()},e.prototype.clientToLocalCoordinates=function(e,t){var n=this.markerImage.getBoundingClientRect(),i=n.width/this.imageWidth/this.zoomLevel,r=n.height/this.imageHeight/this.zoomLevel;return{x:(e-n.left)/this.zoomLevel/i,y:(t-n.top)/this.zoomLevel/r}},e.prototype.onWindowResize=function(){this.positionUI()},e.prototype.positionUI=function(){switch(this.setTopLeft(),this.settings.displayMode){case"inline":var e=this.target.getClientRects(),t=e.length>0&&e.item(0)&&e.item(0).y>this.styles.settings.toolbarHeight?this.target.offsetTop-this.styles.settings.toolbarHeight:0;this.coverDiv.style.top=t+"px",this.coverDiv.style.left=this.target.offsetLeft.toString()+"px";break;case"popup":this.coverDiv.style.top="0px",this.coverDiv.style.left="0px",this.coverDiv.style.width="100vw",this.coverDiv.style.height=this.windowHeight+"px",this.contentDiv.style.maxHeight=this.windowHeight-2*this.settings.popupMargin-3.5*this.styles.settings.toolbarHeight+"px"}this.positionMarkerImage(),this.positionLogo()},e.prototype.addLicenseKey=function(e){rs.addKey(e)},e.prototype.addEventListener=function(e,t){this.eventListeners.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventListeners.removeEventListener(e,t)},e.prototype.renderState=function(e){this._silentRenderMode=!0,this.settings.displayMode="inline",this.isOpen||this.show(),this.restoreState(e),this.startRenderAndClose(),this._silentRenderMode=!1},Object.defineProperty(e.prototype,"isFocused",{get:function(){return this._isFocused},enumerable:!1,configurable:!0}),e.prototype.focus=function(){var e=this;this._isFocused||(this.attachWindowEvents(),this._isFocused=!0,void 0!==this._previousCurrentMarker&&this.setCurrentMarker(this._previousCurrentMarker),this.eventListeners.focus.forEach((function(t){return t(new qs(e))})))},e.prototype.blur=function(){var e=this;this._isFocused&&(this.detachWindowEvents(),this._isFocused=!1,this._previousCurrentMarker=this._currentMarker,this.setCurrentMarker(),this.eventListeners.blur.forEach((function(t){return t(new qs(e))})))},e.instanceCounter=0,e}(),Ws=e=>"checkbox"===e.type,$s=e=>e instanceof Date,Xs=e=>null==e;const Ys=e=>"object"==typeof e;var Js=e=>!Xs(e)&&!Array.isArray(e)&&Ys(e)&&!$s(e),Zs=e=>Js(e)&&e.target?Ws(e.target)?e.target.checked:e.target.value:e,eo=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),to="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function no(e){let t;const n=Array.isArray(e),i="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(to&&(e instanceof Blob||i)||!n&&!Js(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return Js(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=no(e[n]));else t=e}return t}var io=e=>Array.isArray(e)?e.filter(Boolean):[],ro=e=>void 0===e,so=(e,t,n)=>{if(!t||!Js(e))return n;const i=io(t.split(/[,[\].]+?/)).reduce(((e,t)=>Xs(e)?e:e[t]),e);return ro(i)||i===e?ro(e[t])?n:e[t]:i},oo=e=>"boolean"==typeof e,ao=e=>/^\w*$/.test(e),lo=e=>io(e.replace(/["|']|\]/g,"").split(/\.|\[/)),uo=(e,t,n)=>{let i=-1;const r=ao(t)?[t]:lo(t),s=r.length,o=s-1;for(;++i<s;){const t=r[i];let s=n;if(i!==o){const n=e[t];s=Js(n)||Array.isArray(n)?n:isNaN(+r[i+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const co="blur",Ao="focusout",ho="onBlur",po="onChange",fo="onSubmit",go="onTouched",mo="all",vo="max",yo="min",bo="maxLength",wo="minLength",Co="pattern",xo="required",Bo="validate";nr.createContext(null);var So=(e,t,n,i=!0)=>{const r={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(r,s,{get:()=>{const r=s;return t._proxyFormState[r]!==mo&&(t._proxyFormState[r]=!i||mo),n&&(n[r]=!0),e[r]}});return r},_o=e=>Xs(e)||!Ys(e);function ko(e,t){if(_o(e)||_o(t))return e===t;if($s(e)&&$s(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const r of n){const n=e[r];if(!i.includes(r))return!1;if("ref"!==r){const e=t[r];if($s(n)&&$s(e)||Js(n)&&Js(e)||Array.isArray(n)&&Array.isArray(e)?!ko(n,e):n!==e)return!1}}return!0}var To=e=>"string"==typeof e,Eo=(e,t,n,i,r)=>To(e)?(i&&t.watch.add(e),so(n,e,r)):Array.isArray(e)?e.map((e=>(i&&t.watch.add(e),so(n,e)))):(i&&(t.watchAll=!0),n);var Io=(e,t,n,i,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:r||!0}}:{},Uo=e=>Array.isArray(e)?e:[e],Fo=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Do=e=>Js(e)&&!Object.keys(e).length,Lo=e=>"file"===e.type,Oo=e=>"function"==typeof e,No=e=>{if(!to)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Mo=e=>"select-multiple"===e.type,jo=e=>"radio"===e.type,Ro=e=>No(e)&&e.isConnected;function Qo(e,t){const n=Array.isArray(t)?t:ao(t)?[t]:lo(t),i=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=ro(e)?i++:e[t[i++]];return e}(e,n),r=n.length-1,s=n[r];return i&&delete i[s],0!==r&&(Js(i)&&Do(i)||Array.isArray(i)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!ro(e[t]))return!1;return!0}(i))&&Qo(e,n.slice(0,-1)),e}var Po=e=>{for(const t in e)if(Oo(e[t]))return!0;return!1};function Ho(e,t={}){const n=Array.isArray(e);if(Js(e)||n)for(const n in e)Array.isArray(e[n])||Js(e[n])&&!Po(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ho(e[n],t[n])):Xs(e[n])||(t[n]=!0);return t}function qo(e,t,n){const i=Array.isArray(e);if(Js(e)||i)for(const i in e)Array.isArray(e[i])||Js(e[i])&&!Po(e[i])?ro(t)||_o(n[i])?n[i]=Array.isArray(e[i])?Ho(e[i],[]):{...Ho(e[i])}:qo(e[i],Xs(t)?{}:t[i],n[i]):n[i]=!ko(e[i],t[i]);return n}var Vo=(e,t)=>qo(e,t,Ho(t));const zo={value:!1,isValid:!1},Ko={value:!0,isValid:!0};var Go=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ro(e[0].attributes.value)?ro(e[0].value)||""===e[0].value?Ko:{value:e[0].value,isValid:!0}:Ko:zo}return zo},Wo=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>ro(e)?e:t?""===e?NaN:e?+e:e:n&&To(e)?new Date(e):i?i(e):e;const $o={isValid:!1,value:null};var Xo=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),$o):$o;function Yo(e){const t=e.ref;return Lo(t)?t.files:jo(t)?Xo(e.refs).value:Mo(t)?[...t.selectedOptions].map((({value:e})=>e)):Ws(t)?Go(e.refs).value:Wo(ro(t.value)?e.ref.value:t.value,e)}var Jo=e=>e instanceof RegExp,Zo=e=>ro(e)?e:Jo(e)?e.source:Js(e)?Jo(e.value)?e.value.source:e.value:e,ea=e=>({isOnSubmit:!e||e===fo,isOnBlur:e===ho,isOnChange:e===po,isOnAll:e===mo,isOnTouch:e===go});const ta="AsyncFunction";var na=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const ia=(e,t,n,i)=>{for(const r of n||Object.keys(e)){const n=so(e,r);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!i)return!0;if(e.ref&&t(e.ref,e.name)&&!i)return!0;if(ia(s,t))break}else if(Js(s)&&ia(s,t))break}}};function ra(e,t,n){const i=so(e,n);if(i||ao(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),s=so(t,i),o=so(e,i);if(s&&!Array.isArray(s)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};r.pop()}return{name:n}}var sa=(e,t,n)=>{const i=Uo(so(e,n));return uo(i,"root",t[n]),uo(e,n,i),e},oa=e=>To(e);function aa(e,t,n="validate"){if(oa(e)||Array.isArray(e)&&e.every(oa)||oo(e)&&!e)return{type:n,message:oa(e)?e:"",ref:t}}var la=e=>Js(e)&&!Jo(e)?e:{value:e,message:""},ua=async(e,t,n,i,r,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:c,min:A,max:d,pattern:h,validate:p,name:f,valueAsNumber:g,mount:m}=e._f,v=so(n,f);if(!m||t.has(f))return{};const y=a?a[0]:o,b=e=>{r&&y.reportValidity&&(y.setCustomValidity(oo(e)?"":e||""),y.reportValidity())},w={},C=jo(o),x=Ws(o),B=C||x,S=(g||Lo(o))&&ro(o.value)&&ro(v)||No(o)&&""===o.value||""===v||Array.isArray(v)&&!v.length,_=Io.bind(null,f,i,w),k=(e,t,n,i=bo,r=wo)=>{const s=e?t:n;w[f]={type:e?i:r,message:s,ref:o,..._(e?i:r,s)}};if(s?!Array.isArray(v)||!v.length:l&&(!B&&(S||Xs(v))||oo(v)&&!v||x&&!Go(a).isValid||C&&!Xo(a).isValid)){const{value:e,message:t}=oa(l)?{value:!!l,message:l}:la(l);if(e&&(w[f]={type:xo,message:t,ref:y,..._(xo,t)},!i))return b(t),w}if(!(S||Xs(A)&&Xs(d))){let e,t;const n=la(d),r=la(A);if(Xs(v)||isNaN(v)){const i=o.valueAsDate||new Date(v),s=e=>new Date((new Date).toDateString()+" "+e),a="time"==o.type,l="week"==o.type;To(n.value)&&v&&(e=a?s(v)>s(n.value):l?v>n.value:i>new Date(n.value)),To(r.value)&&v&&(t=a?s(v)<s(r.value):l?v<r.value:i<new Date(r.value))}else{const i=o.valueAsNumber||(v?+v:v);Xs(n.value)||(e=i>n.value),Xs(r.value)||(t=i<r.value)}if((e||t)&&(k(!!e,n.message,r.message,vo,yo),!i))return b(w[f].message),w}if((u||c)&&!S&&(To(v)||s&&Array.isArray(v))){const e=la(u),t=la(c),n=!Xs(e.value)&&v.length>+e.value,r=!Xs(t.value)&&v.length<+t.value;if((n||r)&&(k(n,e.message,t.message),!i))return b(w[f].message),w}if(h&&!S&&To(v)){const{value:e,message:t}=la(h);if(Jo(e)&&!v.match(e)&&(w[f]={type:Co,message:t,ref:o,..._(Co,t)},!i))return b(t),w}if(p)if(Oo(p)){const e=aa(await p(v,n),y);if(e&&(w[f]={...e,..._(Bo,e.message)},!i))return b(e.message),w}else if(Js(p)){let e={};for(const t in p){if(!Do(e)&&!i)break;const r=aa(await p[t](v,n),y,t);r&&(e={...r,..._(t,r.message)},b(r.message),i&&(w[f]=e))}if(!Do(e)&&(w[f]={ref:y,...e},!i))return w}return b(!0),w};const ca={mode:fo,reValidateMode:po,shouldFocusError:!0};function Aa(e={}){let t={...ca,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Oo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let r,s=(Js(t.defaultValues)||Js(t.values))&&no(t.values||t.defaultValues)||{},o=t.shouldUnregister?{}:no(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let A={...c};const d={array:Fo(),state:Fo()},h=ea(t.mode),p=ea(t.reValidateMode),f=t.criteriaMode===mo,g=async e=>{if(!t.disabled&&(c.isValid||A.isValid||e)){const e=t.resolver?Do((await w()).errors):await C(i,!0);e!==n.isValid&&d.state.next({isValid:e})}},m=(e,i)=>{!t.disabled&&(c.isValidating||c.validatingFields||A.isValidating||A.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(i?uo(n.validatingFields,e,i):Qo(n.validatingFields,e))})),d.state.next({validatingFields:n.validatingFields,isValidating:!Do(n.validatingFields)}))},v=(e,t,n,r)=>{const l=so(i,e);if(l){const i=so(o,e,ro(n)?so(s,e):n);ro(i)||r&&r.defaultChecked||t?uo(o,e,t?i:Yo(l._f)):S(e,i),a.mount&&g()}},y=(e,i,r,o,a)=>{let l=!1,u=!1;const h={name:e};if(!t.disabled){if(!r||o){(c.isDirty||A.isDirty)&&(u=n.isDirty,n.isDirty=h.isDirty=x(),l=u!==h.isDirty);const t=ko(so(s,e),i);u=!!so(n.dirtyFields,e),t?Qo(n.dirtyFields,e):uo(n.dirtyFields,e,!0),h.dirtyFields=n.dirtyFields,l=l||(c.dirtyFields||A.dirtyFields)&&u!==!t}if(r){const t=so(n.touchedFields,e);t||(uo(n.touchedFields,e,r),h.touchedFields=n.touchedFields,l=l||(c.touchedFields||A.touchedFields)&&t!==r)}l&&a&&d.state.next(h)}return l?h:{}},b=(e,i,s,o)=>{const a=so(n.errors,e),l=(c.isValid||A.isValid)&&oo(i)&&n.isValid!==i;var h;if(t.delayError&&s?(h=()=>((e,t)=>{uo(n.errors,e,t),d.state.next({errors:n.errors})})(e,s),r=e=>{clearTimeout(u),u=setTimeout(h,e)},r(t.delayError)):(clearTimeout(u),r=null,s?uo(n.errors,e,s):Qo(n.errors,e)),(s?!ko(a,s):a)||!Do(o)||l){const t={...o,...l&&oo(i)?{isValid:i}:{},errors:n.errors,name:e};n={...n,...t},d.state.next(t)}},w=async e=>{m(e,!0);const n=await t.resolver(o,t.context,((e,t,n,i)=>{const r={};for(const n of e){const e=so(t,n);e&&uo(r,n,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:i}})(e||l.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return m(e),n},C=async(e,i,r={valid:!0})=>{for(const a in e){const u=e[a];if(u){const{_f:e,...A}=u;if(e){const A=l.array.has(e.name),d=u._f&&(!!(s=u._f)&&!!s.validate&&!!(Oo(s.validate)&&s.validate.constructor.name===ta||Js(s.validate)&&Object.values(s.validate).find((e=>e.constructor.name===ta))));d&&c.validatingFields&&m([a],!0);const h=await ua(u,l.disabled,o,f,t.shouldUseNativeValidation&&!i,A);if(d&&c.validatingFields&&m([a]),h[e.name]&&(r.valid=!1,i))break;!i&&(so(h,e.name)?A?sa(n.errors,h,e.name):uo(n.errors,e.name,h[e.name]):Qo(n.errors,e.name))}!Do(A)&&await C(A,i,r)}}var s;return r.valid},x=(e,n)=>!t.disabled&&(e&&n&&uo(o,e,n),!ko(U(),s)),B=(e,t,n)=>Eo(e,l,{...a.mount?o:ro(t)?s:To(e)?{[e]:t}:t},n,t),S=(e,t,n={})=>{const r=so(i,e);let s=t;if(r){const n=r._f;n&&(!n.disabled&&uo(o,e,Wo(t,n)),s=No(n.ref)&&Xs(t)?"":t,Mo(n.ref)?[...n.ref.options].forEach((e=>e.selected=s.includes(e.value))):n.refs?Ws(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find((t=>t===e.value)):s===e.value))):n.refs[0]&&(n.refs[0].checked=!!s):n.refs.forEach((e=>e.checked=e.value===s)):Lo(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||d.state.next({name:e,values:no(o)})))}(n.shouldDirty||n.shouldTouch)&&y(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&I(e)},_=(e,t,n)=>{for(const r in t){const s=t[r],o=`${e}.${r}`,a=so(i,o);(l.array.has(e)||Js(s)||a&&!a._f)&&!$s(s)?_(o,s,n):S(o,s,n)}},k=(e,t,r={})=>{const u=so(i,e),h=l.array.has(e),p=no(t);uo(o,e,p),h?(d.array.next({name:e,values:no(o)}),(c.isDirty||c.dirtyFields||A.isDirty||A.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:Vo(s,o),isDirty:x(e,p)})):!u||u._f||Xs(p)?S(e,p,r):_(e,p,r),na(e,l)&&d.state.next({...n}),d.state.next({name:a.mount?e:void 0,values:no(o)})},T=async e=>{a.mount=!0;const s=e.target;let u=s.name,v=!0;const x=so(i,u),B=e=>{v=Number.isNaN(e)||$s(e)&&isNaN(e.getTime())||ko(e,so(o,u,e))};if(x){let a,S;const _=s.type?Yo(x._f):Zs(e),k=e.type===co||e.type===Ao,T=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(x._f)&&!t.resolver&&!so(n.errors,u)&&!x._f.deps||((e,t,n,i,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?i.isOnBlur:r.isOnBlur)?!e:!(n?i.isOnChange:r.isOnChange)||e))(k,so(n.touchedFields,u),n.isSubmitted,p,h),E=na(u,l,k);uo(o,u,_),k?(x._f.onBlur&&x._f.onBlur(e),r&&r(0)):x._f.onChange&&x._f.onChange(e);const U=y(u,_,k),F=!Do(U)||E;if(!k&&d.state.next({name:u,type:e.type,values:no(o)}),T)return(c.isValid||A.isValid)&&("onBlur"===t.mode?k&&g():k||g()),F&&d.state.next({name:u,...E?{}:U});if(!k&&E&&d.state.next({...n}),t.resolver){const{errors:e}=await w([u]);if(B(_),v){const t=ra(n.errors,i,u),r=ra(e,i,t.name||u);a=r.error,u=r.name,S=Do(e)}}else m([u],!0),a=(await ua(x,l.disabled,o,f,t.shouldUseNativeValidation))[u],m([u]),B(_),v&&(a?S=!1:(c.isValid||A.isValid)&&(S=await C(i,!0)));v&&(x._f.deps&&I(x._f.deps),b(u,S,a,U))}},E=(e,t)=>{if(so(n.errors,t)&&e.focus)return e.focus(),1},I=async(e,r={})=>{let s,o;const a=Uo(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await w(e);if(e)for(const i of e){const e=so(t,i);e?uo(n.errors,i,e):Qo(n.errors,i)}else n.errors=t;return t})(ro(e)?e:a);s=Do(t),o=e?!a.some((e=>so(t,e))):s}else e?(o=(await Promise.all(a.map((async e=>{const t=so(i,e);return await C(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||n.isValid)&&g()):o=s=await C(i);return d.state.next({...!To(e)||(c.isValid||A.isValid)&&s!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:s}:{},errors:n.errors}),r.shouldFocus&&!o&&ia(i,E,e?a:l.mount),o},U=e=>{const t={...a.mount?o:s};return ro(e)?t:To(e)?so(t,e):e.map((e=>so(t,e)))},F=(e,t)=>({invalid:!!so((t||n).errors,e),isDirty:!!so((t||n).dirtyFields,e),error:so((t||n).errors,e),isValidating:!!so(n.validatingFields,e),isTouched:!!so((t||n).touchedFields,e)}),D=(e,t,r)=>{const s=(so(i,e,{_f:{}})._f||{}).ref,o=so(n.errors,e)||{},{ref:a,message:l,type:u,...c}=o;uo(n.errors,e,{...c,...t,ref:s}),d.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},L=e=>d.state.subscribe({next:t=>{var i,r,s;i=e.name,r=t.name,s=e.exact,i&&r&&i!==r&&!Uo(i).some((e=>e&&(s?e===r:e.startsWith(r)||r.startsWith(e))))||!((e,t,n,i)=>{n(e);const{name:r,...s}=e;return Do(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!i||mo)))})(t,e.formState||c,H,e.reRenderRoot)||e.callback({values:{...o},...n,...t})}}).unsubscribe,O=(e,r={})=>{for(const a of e?Uo(e):l.mount)l.mount.delete(a),l.array.delete(a),r.keepValue||(Qo(i,a),Qo(o,a)),!r.keepError&&Qo(n.errors,a),!r.keepDirty&&Qo(n.dirtyFields,a),!r.keepTouched&&Qo(n.touchedFields,a),!r.keepIsValidating&&Qo(n.validatingFields,a),!t.shouldUnregister&&!r.keepDefaultValue&&Qo(s,a);d.state.next({values:no(o)}),d.state.next({...n,...r.keepDirty?{isDirty:x()}:{}}),!r.keepIsValid&&g()},N=({disabled:e,name:t})=>{(oo(e)&&a.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t))},M=(e,n={})=>{let r=so(i,e);const o=oo(n.disabled)||oo(t.disabled);return uo(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...n}}),l.mount.add(e),r?N({disabled:oo(n.disabled)?n.disabled:t.disabled,name:e}):v(e,!0,n.value),{...o?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:Zo(n.min),max:Zo(n.max),minLength:Zo(n.minLength),maxLength:Zo(n.maxLength),pattern:Zo(n.pattern)}:{},name:e,onChange:T,onBlur:T,ref:o=>{if(o){M(e,n),r=so(i,e);const t=ro(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,a=(e=>jo(e)||Ws(e))(t),l=r._f.refs||[];if(a?l.find((e=>e===t)):t===r._f.ref)return;uo(i,e,{_f:{...r._f,...a?{refs:[...l.filter(Ro),t,...Array.isArray(so(s,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),v(e,!1,void 0,t)}else r=so(i,e,{}),r._f&&(r._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!eo(l.array,e)||!a.action)&&l.unMount.add(e)}}},j=()=>t.shouldFocusError&&ia(i,E,l.mount),R=(e,r)=>async s=>{let a;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let u=no(o);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await w();n.errors=e,u=t}else await C(i);if(l.disabled.size)for(const e of l.disabled)uo(u,e,void 0);if(Qo(n.errors,"root"),Do(n.errors)){d.state.next({errors:{}});try{await e(u,s)}catch(e){a=e}}else r&&await r({...n.errors},s),j(),setTimeout(j);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Do(n.errors)&&!a,submitCount:n.submitCount+1,errors:n.errors}),a)throw a},Q=(e,r={})=>{const u=e?no(e):s,A=no(u),h=Do(e),p=h?s:A;if(r.keepDefaultValues||(s=u),!r.keepValues){if(r.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Vo(s,o))]);for(const t of Array.from(e))so(n.dirtyFields,t)?uo(p,t,so(o,t)):k(t,so(p,t))}else{if(to&&ro(e))for(const e of l.mount){const t=so(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(No(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of l.mount)k(e,so(p,e))}o=no(p),d.array.next({values:{...p}}),d.state.next({values:{...p}})}l={mount:r.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!r.keepIsValid||!!r.keepDirtyValues,a.watch=!!t.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:!h&&(r.keepDirty?n.isDirty:!(!r.keepDefaultValues||ko(e,s))),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:h?{}:r.keepDirtyValues?r.keepDefaultValues&&o?Vo(s,o):n.dirtyFields:r.keepDefaultValues&&e?Vo(s,e):r.keepDirty?n.dirtyFields:{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},P=(e,t)=>Q(Oo(e)?e(o):e,t),H=e=>{n={...n,...e}},q={control:{register:M,unregister:O,getFieldState:F,handleSubmit:R,setError:D,_subscribe:L,_runSchema:w,_getWatch:B,_getDirty:x,_setValid:g,_setFieldArray:(e,r=[],l,u,h=!0,p=!0)=>{if(u&&l&&!t.disabled){if(a.action=!0,p&&Array.isArray(so(i,e))){const t=l(so(i,e),u.argA,u.argB);h&&uo(i,e,t)}if(p&&Array.isArray(so(n.errors,e))){const t=l(so(n.errors,e),u.argA,u.argB);h&&uo(n.errors,e,t),((e,t)=>{!io(so(e,t)).length&&Qo(e,t)})(n.errors,e)}if((c.touchedFields||A.touchedFields)&&p&&Array.isArray(so(n.touchedFields,e))){const t=l(so(n.touchedFields,e),u.argA,u.argB);h&&uo(n.touchedFields,e,t)}(c.dirtyFields||A.dirtyFields)&&(n.dirtyFields=Vo(s,o)),d.state.next({name:e,isDirty:x(e,r),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else uo(o,e,r)},_setDisabledField:N,_setErrors:e=>{n.errors=e,d.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>io(so(a.mount?o:s,e,t.shouldUnregister?so(s,e,[]):[])),_reset:Q,_resetDefaultValues:()=>Oo(t.defaultValues)&&t.defaultValues().then((e=>{P(e,t.resetOptions),d.state.next({isLoading:!1})})),_removeUnmounted:()=>{for(const e of l.unMount){const t=so(i,e);t&&(t._f.refs?t._f.refs.every((e=>!Ro(e))):!Ro(t._f.ref))&&O(e)}l.unMount=new Set},_disableForm:e=>{oo(e)&&(d.state.next({disabled:e}),ia(i,((t,n)=>{const r=so(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:c,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(e){a=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:e=>(a.mount=!0,A={...A,...e.formState},L({...e,formState:A})),trigger:I,register:M,handleSubmit:R,watch:(e,t)=>Oo(e)?d.state.subscribe({next:n=>e(B(void 0,t),n)}):B(e,t,!0),setValue:k,getValues:U,reset:P,resetField:(e,t={})=>{so(i,e)&&(ro(t.defaultValue)?k(e,no(so(s,e))):(k(e,t.defaultValue),uo(s,e,no(t.defaultValue))),t.keepTouched||Qo(n.touchedFields,e),t.keepDirty||(Qo(n.dirtyFields,e),n.isDirty=t.defaultValue?x(e,no(so(s,e))):x()),t.keepError||(Qo(n.errors,e),c.isValid&&g()),d.state.next({...n}))},clearErrors:e=>{e&&Uo(e).forEach((e=>Qo(n.errors,e))),d.state.next({errors:e?n.errors:{}})},unregister:O,setError:D,setFocus:(e,t={})=>{const n=so(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&Oo(e.select)&&e.select())}},getFieldState:F};return{...q,formControl:q}}const da="undefined"!=typeof window?nr.useLayoutEffect:nr.useEffect;const ha=(e,t,n)=>{if(e&&"reportValidity"in e){const i=so(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},pa=(e,t)=>{for(const n in t.fields){const i=t.fields[n];i&&i.ref&&"reportValidity"in i.ref?ha(i.ref,n,e):i&&i.refs&&i.refs.forEach((t=>ha(t,n,e)))}},fa=(e,t)=>{t.shouldUseNativeValidation&&pa(e,t);const n={};for(const i in e){const r=so(t.fields,i),s=Object.assign(e[i]||{},{ref:r&&r.ref});if(ga(t.names||Object.keys(e),i)){const e=Object.assign({},so(n,i));uo(e,"root",s),uo(n,i,e)}else uo(n,i,s)}return n},ga=(e,t)=>{const n=ma(t);return e.some((e=>ma(e).match(`^${n}\\.\\d+`)))};function ma(e){return e.replace(/\]|\[/g,"")}function va(e,t,n){return void 0===n&&(n={}),function(i,r,s){try{return Promise.resolve(function(o,a){try{var l=(null!=t&&t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](i,Object.assign({abortEarly:!1},t,{context:r}))).then((function(e){return s.shouldUseNativeValidation&&pa({},s),{values:n.raw?Object.assign({},i):e,errors:{}}})))}catch(e){return a(e)}return l&&l.then?l.then(void 0,a):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:fa((t=e,n=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var i=e[t.path].types,r=i&&i[t.type];e[t.path]=Io(t.path,n,e,t.type,r?[].concat(r,t.message):t.message)}return e}),{})),s)};var t,n})))}catch(e){return Promise.reject(e)}}}var ya=n(3668),ba=n(5714),wa=n(2981),Ca=n.n(wa);const xa=Object.prototype.toString,Ba=Error.prototype.toString,Sa=RegExp.prototype.toString,_a="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",ka=/^Symbol\((.*)\)(.*)$/;function Ta(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return _a.call(e).replace(ka,"Symbol($1)");const i=xa.call(e).slice(8,-1);return"Date"===i?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===i||e instanceof Error?"["+Ba.call(e)+"]":"RegExp"===i?Sa.call(e):null}function Ea(e,t){let n=Ta(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let i=Ta(this[e],t);return null!==i?i:n}),2)}function Ia(e){return null==e?[]:[].concat(e)}let Ua,Fa,Da,La=/\$\{\s*(\w+)\s*\}/g;Ua=Symbol.toStringTag;class Oa{constructor(e,t,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Ua]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=i,this.errors=[],this.inner=[],Ia(e).forEach((e=>{if(Na.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Fa=Symbol.hasInstance,Da=Symbol.toStringTag;class Na extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),"string"==typeof e?e.replace(La,((e,n)=>Ea(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,i,r){const s=new Oa(e,t,n,i);if(r)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Da]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Na)}static[Fa](e){return Oa[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ma={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:i})=>{const r=null!=i&&i!==n?` (cast from the value \`${Ea(i,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${Ea(n,!0)}\``+r:`${e} must match the configured type. The validated value was: \`${Ea(n,!0)}\``+r}},ja={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ra={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Qa={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Pa={isValue:"${path} field must be ${value}"},Ha={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},qa={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Va={notType:e=>{const{path:t,value:n,spec:i}=e,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${Ea(n,!0)}\``;if(n.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${Ea(n,!0)}\``}return Na.formatError(Ma.notType,e)}};Object.assign(Object.create(null),{mixed:Ma,string:ja,number:Ra,date:Qa,object:Ha,array:qa,boolean:Pa,tuple:Va});const za=e=>e&&e.__isYupSchema__;class Ka{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:r}=t,s="function"==typeof n?n:(...e)=>e.every((e=>e===n));return new Ka(e,((e,t)=>{var n;let o=s(...e)?i:r;return null!=(n=null==o?void 0:o(t))?n:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),i=this.fn(n,e,t);if(void 0===i||i===e)return e;if(!za(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)}}const Ga="$",Wa=".";class $a{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ga,this.isValue=this.key[0]===Wa,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Ga:this.isValue?Wa:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,ya.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let i=this.isContext?n:this.isValue?e:t;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}$a.prototype.__isYupRef=!0;const Xa=e=>null==e;function Ya(e){function t({value:t,path:n="",options:i,originalValue:r,schema:s},o,a){const{name:l,test:u,params:c,message:A,skipAbsent:d}=e;let{parent:h,context:p,abortEarly:f=s.spec.abortEarly,disableStackTrace:g=s.spec.disableStackTrace}=i;function m(e){return $a.isRef(e)?e.getValue(t,h,p):e}function v(e={}){const i=Object.assign({value:t,originalValue:r,label:s.spec.label,path:e.path||n,spec:s.spec,disableStackTrace:e.disableStackTrace||g},c,e.params);for(const e of Object.keys(i))i[e]=m(i[e]);const o=new Na(Na.formatError(e.message||A,i),t,i.path,e.type||l,i.disableStackTrace);return o.params=i,o}const y=f?o:a;let b={path:n,parent:h,type:l,from:i.from,createError:v,resolve:m,options:i,originalValue:r,schema:s};const w=e=>{Na.isError(e)?y(e):e?a(null):y(v())},C=e=>{Na.isError(e)?y(e):o(e)};if(d&&Xa(t))return w(!0);let x;try{var B;if(x=u.call(b,t,b),"function"==typeof(null==(B=x)?void 0:B.then)){if(i.sync)throw new Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(x).then(w,C)}}catch(e){return void C(e)}w(x)}return t.OPTIONS=e,t}function Ja(e,t,n,i=n){let r,s,o;return t?((0,ya.forEach)(t,((a,l,u)=>{let c=l?a.slice(1,a.length-1):a,A="tuple"===(e=e.resolve({context:i,parent:r,value:n})).type,d=u?parseInt(c,10):0;if(e.innerType||A){if(A&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&d>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);r=n,n=n&&n[d],e=A?e.spec.types[d]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);r=n,n=n&&n[c],e=e.fields[c]}s=c,o=l?"["+a+"]":"."+a})),{schema:e,parent:r,parentPath:s}):{parent:r,parentPath:t,schema:e}}class Za extends Set{describe(){const e=[];for(const t of this.values())e.push($a.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Za(this.values())}merge(e,t){const n=this.clone();return e.forEach((e=>n.add(e))),t.forEach((e=>n.delete(e))),n}}function el(e,t=new Map){if(za(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let i=0;i<e.length;i++)n[i]=el(e[i],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[i,r]of e.entries())n.set(i,el(r,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const i of e)n.add(el(i,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);n={},t.set(e,n);for(const[i,r]of Object.entries(e))n[i]=el(r,t)}return n}class tl{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Za,this._blacklist=new Za,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(Ma.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=el(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const i=Object.assign({},t.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,i,r;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(i=e.recursive)?i:this.spec.recursive,disableStackTrace:null!=(r=e.disableStackTrace)?r:this.spec.disableStackTrace})}cast(e,t={}){let n=this.resolve(Object.assign({value:e},t)),i="ignore-optionality"===t.assert,r=n._cast(e,t);if(!1!==t.assert&&!n.isType(r)){if(i&&Xa(r))return r;let s=Ea(e),o=Ea(r);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${s} \n`+(o!==s?`result of cast: ${o}`:""))}return r}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e,t={},n,i){let{path:r,originalValue:s=e,strict:o=this.spec.strict}=t,a=e;o||(a=this._cast(a,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:r,value:a,originalValue:s,options:t,tests:l},n,(e=>{if(e.length)return i(e,a);this.runTests({path:r,value:a,originalValue:s,options:t,tests:this.tests},n,i)}))}runTests(e,t,n){let i=!1,{tests:r,value:s,originalValue:o,path:a,options:l}=e,u=e=>{i||(i=!0,t(e,s))},c=e=>{i||(i=!0,n(e,s))},A=r.length,d=[];if(!A)return c([]);let h={value:s,originalValue:o,path:a,options:l,schema:this};for(let e=0;e<r.length;e++){(0,r[e])(h,u,(function(e){e&&(Array.isArray(e)?d.push(...e):d.push(e)),--A<=0&&c(d)}))}}asNestedTest({key:e,index:t,parent:n,parentPath:i,originalParent:r,options:s}){const o=null!=e?e:t;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const a="number"==typeof o;let l=n[o];const u=Object.assign({},s,{strict:!0,parent:n,value:l,originalValue:r[o],key:void 0,[a?"index":"key"]:o,path:a||o.includes(".")?`${i||""}[${a?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(e,t,n)=>this.resolve(u)._validate(l,u,t,n)}validate(e,t){var n;let i=this.resolve(Object.assign({},t,{value:e})),r=null!=(n=null==t?void 0:t.disableStackTrace)?n:i.spec.disableStackTrace;return new Promise(((n,s)=>i._validate(e,t,((e,t)=>{Na.isError(e)&&(e.value=t),s(e)}),((e,t)=>{e.length?s(new Na(e,t,void 0,void 0,r)):n(t)}))))}validateSync(e,t){var n;let i,r=this.resolve(Object.assign({},t,{value:e})),s=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw Na.isError(e)&&(e.value=t),e}),((t,n)=>{if(t.length)throw new Na(t,e,void 0,void 0,s);i=n})),i}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(Na.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(Na.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):el(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Ya({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Ya({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(e=Ma.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ma.notNull){return this.nullability(!1,e)}required(e=Ma.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=Ma.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),i=Ya(t),r=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(r)return!1;if(e.OPTIONS.test===i.OPTIONS.test)return!1}return!0})),n.tests.push(i),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),i=Ia(e).map((e=>new $a(e)));return i.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"==typeof t?new Ka(i,t):Ka.fromOptions(i,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Ya({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Ma.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=Ya({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e,t=Ma.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=Ya({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:r,nullable:s}=t.spec,o={meta:i,label:n,optional:r,nullable:s,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))};return o}}tl.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])tl.prototype[`${e}At`]=function(t,n,i={}){const{parent:r,parentPath:s,schema:o}=Ja(this,t,n,i.context);return o[e](r&&r[s],Object.assign({},i,{parent:r,path:t}))};for(const e of["equals","is"])tl.prototype[e]=tl.prototype.oneOf;for(const e of["not","nope"])tl.prototype[e]=tl.prototype.notOneOf;const nl=()=>!0;function il(e){return new rl(e)}class rl extends tl{constructor(e){super("function"==typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:nl},e))}}il.prototype=rl.prototype;class sl extends tl{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e}}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(e=Pa.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(e){return Xa(e)||!0===e}})}isFalse(e=Pa.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(e){return Xa(e)||!1===e}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}sl.prototype;const ol=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function al(e){var t,n;const i=ol.exec(e);return i?{year:ll(i[1]),month:ll(i[2],1)-1,day:ll(i[3],1),hour:ll(i[4]),minute:ll(i[5]),second:ll(i[6]),millisecond:i[7]?ll(i[7].substring(0,3)):0,precision:null!=(t=null==(n=i[7])?void 0:n.length)?t:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:ll(i[10]),minuteOffset:ll(i[11])}:null}function ll(e,t=0){return Number(e)||t}let ul=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Al=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,dl=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),hl=e=>Xa(e)||e===e.trim(),pl={}.toString();function fl(){return new gl}class gl extends tl{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e}}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const i=null!=e&&e.toString?e.toString():e;return i===pl?e:i}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||Ma.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=ja.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=ja.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=ja.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,i,r=!1;return t&&("object"==typeof t?({excludeEmptyString:r=!1,message:n,name:i}=t):n=t),this.test({name:i||"matches",message:n||ja.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&r||-1!==t.search(e)})}email(e=ja.email){return this.matches(ul,{name:"email",message:e,excludeEmptyString:!0})}url(e=ja.url){return this.matches(cl,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ja.uuid){return this.matches(Al,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,i="";return e&&("object"==typeof e?({message:i="",allowOffset:t=!1,precision:n}=e):i=e),this.matches(dl,{name:"datetime",message:i||ja.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:i||ja.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=al(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:i||ja.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||null==n)return!0;const t=al(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=ja.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:hl})}lowercase(e=ja.lowercase){return this.transform((e=>Xa(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Xa(e)||e===e.toLowerCase()})}uppercase(e=ja.uppercase){return this.transform((e=>Xa(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Xa(e)||e===e.toUpperCase()})}}fl.prototype=gl.prototype;class ml extends tl{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e)}}),this.withMutation((()=>{this.transform(((e,t,n)=>{if(!n.spec.coerce)return e;let i=e;if("string"==typeof i){if(i=i.replace(/\s/g,""),""===i)return NaN;i=+i}return n.isType(i)||null===i?i:parseFloat(i)}))}))}min(e,t=Ra.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e,t=Ra.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e,t=Ra.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e,t=Ra.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(e=Ra.positive){return this.moreThan(0,e)}negative(e=Ra.negative){return this.lessThan(0,e)}integer(e=Ra.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform((e=>Xa(e)?e:0|e))}round(e){var t;let n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((t=>Xa(t)?t:Math[e](t)))}}ml.prototype;let vl=new Date("");function yl(){return new bl}class bl extends tl{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=al(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?bl.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let n;if($a.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(e,t=Qa.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e,t=Qa.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function wl(e,t){let n=1/0;return e.some(((e,i)=>{var r;if(null!=(r=t.path)&&r.includes(e))return n=i,!0})),n}function Cl(e){return(t,n)=>wl(e,t)-wl(e,n)}bl.INVALID_DATE=vl,yl.prototype=bl.prototype,yl.INVALID_DATE=vl;const xl=(e,t,n)=>{if("string"!=typeof e)return e;let i=e;try{i=JSON.parse(e)}catch(e){}return n.isType(i)?i:e};function Bl(e){if("fields"in e){const t={};for(const[n,i]of Object.entries(e.fields))t[n]=Bl(i);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=Bl(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(Bl)}):"optional"in e?e.optional():e}let Sl=e=>"[object Object]"===Object.prototype.toString.call(e);function _l(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}const kl=Cl([]);function Tl(e){return new El(e)}class El extends tl{constructor(e){super({type:"object",check(e){return Sl(e)||"function"==typeof e}}),this.fields=Object.create(null),this._sortErrors=kl,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var n;let i=super._cast(e,t);if(void 0===i)return this.getDefault(t);if(!this._typeCheck(i))return i;let r=this.fields,s=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter((e=>!this._nodes.includes(e)))),a={},l=Object.assign({},t,{parent:a,__validating:t.__validating||!1}),u=!1;for(const e of o){let n=r[e],o=e in i;if(n){let r,s=i[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:s,context:t.context,parent:a});let o=n instanceof tl?n.spec:void 0,c=null==o?void 0:o.strict;if(null!=o&&o.strip){u=u||e in i;continue}r=t.__validating&&c?i[e]:n.cast(i[e],l),void 0!==r&&(a[e]=r)}else o&&!s&&(a[e]=i[e]);o===e in a&&a[e]===i[e]||(u=!0)}return u?a:i}_validate(e,t={},n,i){let{from:r=[],originalValue:s=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:s},...r],t.__validating=!0,t.originalValue=s,super._validate(e,t,n,((e,r)=>{if(!o||!Sl(r))return void i(e,r);s=s||r;let a=[];for(let e of this._nodes){let n=this.fields[e];n&&!$a.isRef(n)&&a.push(n.asNestedTest({options:t,key:e,parent:r,parentPath:t.path,originalParent:s}))}this.runTests({tests:a,value:r,originalValue:s,options:t},n,(t=>{i(t.sort(this._sortErrors).concat(e),r)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const i=n[e];n[e]=void 0===i?t:i}return t.withMutation((t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((n=>{var i;const r=this.fields[n];let s=e;null!=(i=s)&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[n]})),t[n]=r&&"getDefault"in r?r.getDefault(s):void 0})),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e,t=[]){let n=[],i=new Set,r=new Set(t.map((([e,t])=>`${e}-${t}`)));function s(e,t){let s=(0,ya.split)(e)[0];i.add(s),r.has(`${t}-${s}`)||n.push([t,s])}for(const t of Object.keys(e)){let n=e[t];i.add(t),$a.isRef(n)&&n.isSibling?s(n.path,t):za(n)&&"deps"in n&&n.deps.forEach((e=>s(e,t)))}return Ca().array(Array.from(i),n).reverse()}(e,t),n._sortErrors=Cl(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e,t=[]){return this.clone().withMutation((n=>{let i=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),i=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),i)}))}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Bl(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter((([t,n])=>e.includes(t)&&e.includes(n))))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let i=(0,ya.getter)(e,!0);return this.transform((r=>{if(!r)return r;let s=r;return((e,t)=>{const n=[...(0,ya.normalizePath)(t)];if(1===n.length)return n[0]in e;let i=n.pop(),r=(0,ya.getter)((0,ya.join)(n),!0)(e);return!(!r||!(i in r))})(r,e)&&(s=Object.assign({},r),n||delete s[e],s[t]=i(r)),s}))}json(){return this.transform(xl)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Ha.exact,test(e){if(null==e)return!0;const t=_l(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Ha.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=_l(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=Ha.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const n={};for(const i of Object.keys(t))n[e(i)]=t[i];return n}))}camelCase(){return this.transformKeys(ba.camelCase)}snakeCase(){return this.transformKeys(ba.snakeCase)}constantCase(){return this.transformKeys((e=>(0,ba.snakeCase)(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[r,s]of Object.entries(t.fields)){var i;let t=e;null!=(i=t)&&i.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[r]})),n.fields[r]=s.describe(t)}return n}}Tl.prototype=El.prototype;class Il extends tl{constructor(e){super({type:"array",spec:{types:e},check(e){return Array.isArray(e)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const r=n.map(((e,n)=>{const r=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${n}]`}));return r!==e&&(i=!0),r}));return i?r:n}_validate(e,t={},n,i){var r;let s=this.innerType,o=null!=(r=t.recursive)?r:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,((r,a)=>{var l;if(!o||!s||!this._typeCheck(a))return void i(r,a);let u=new Array(a.length);for(let n=0;n<a.length;n++){var c;u[n]=s.asNestedTest({options:t,index:n,parent:a,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:a,tests:u,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,(e=>i(e.concat(r),a)))}))}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(xl)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!za(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ea(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=qa.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||qa.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||qa.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default((()=>[])).transform(((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t)))}compact(e){let t=e?(t,n,i)=>!e(t,n,i):e=>!!e;return this.transform((e=>null!=e?e.filter(t):e))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var i;let r=e;null!=(i=r)&&i.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[0]})),n.innerType=t.innerType.describe(r)}return n}}Il.prototype;class Ul extends tl{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation((()=>{this.typeError(Va.notType)}))}_cast(e,t){const{types:n}=this.spec,i=super._cast(e,t);if(!this._typeCheck(i))return i;let r=!1;const s=n.map(((e,n)=>{const s=e.cast(i[n],Object.assign({},t,{path:`${t.path||""}[${n}]`}));return s!==i[n]&&(r=!0),s}));return r?s:i}_validate(e,t={},n,i){let r=this.spec.types;super._validate(e,t,n,((s,o)=>{var a;if(!this._typeCheck(o))return void i(s,o);let l=[];for(let[n,i]of r.entries()){var u;l[n]=i.asNestedTest({options:t,index:n,parent:o,parentPath:t.path,originalParent:null!=(u=t.originalValue)?u:e})}this.runTests({value:o,tests:l,originalValue:null!=(a=t.originalValue)?a:e,options:t},n,(e=>i(e.concat(s),o)))}))}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);return n.innerType=t.spec.types.map(((t,n)=>{var i;let r=e;return null!=(i=r)&&i.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[n]})),t.describe(r)})),n}}Ul.prototype;var Fl=n(5072),Dl=n.n(Fl),Ll=n(7825),Ol=n.n(Ll),Nl=n(7659),Ml=n.n(Nl),jl=n(5056),Rl=n.n(jl),Ql=n(540),Pl=n.n(Ql),Hl=n(1113),ql=n.n(Hl),Vl=n(537),zl={};zl.styleTagTransform=ql(),zl.setAttributes=Rl(),zl.insert=Ml().bind(null,"head"),zl.domAPI=Ol(),zl.insertStyleElement=Pl();Dl()(Vl.A,zl),Vl.A&&Vl.A.locals&&Vl.A.locals;var Kl=function(){this.__data__=[],this.size=0};var Gl=function(e,t){return e===t||e!=e&&t!=t};var Wl=function(e,t){for(var n=e.length;n--;)if(Gl(e[n][0],t))return n;return-1},$l=Array.prototype.splice;var Xl=function(e){var t=this.__data__,n=Wl(t,e);return!(n<0)&&(n==t.length-1?t.pop():$l.call(t,n,1),--this.size,!0)};var Yl=function(e){var t=this.__data__,n=Wl(t,e);return n<0?void 0:t[n][1]};var Jl=function(e){return Wl(this.__data__,e)>-1};var Zl=function(e,t){var n=this.__data__,i=Wl(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function eu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}eu.prototype.clear=Kl,eu.prototype.delete=Xl,eu.prototype.get=Yl,eu.prototype.has=Jl,eu.prototype.set=Zl;var tu=eu;var nu=function(){this.__data__=new tu,this.size=0};var iu=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ru=function(e){return this.__data__.get(e)};var su=function(e){return this.__data__.has(e)},ou="object"==typeof global&&global&&global.Object===Object&&global,au="object"==typeof self&&self&&self.Object===Object&&self,lu=ou||au||Function("return this")(),uu=lu.Symbol,cu=Object.prototype,Au=cu.hasOwnProperty,du=cu.toString,hu=uu?uu.toStringTag:void 0;var pu=function(e){var t=Au.call(e,hu),n=e[hu];try{e[hu]=void 0;var i=!0}catch(e){}var r=du.call(e);return i&&(t?e[hu]=n:delete e[hu]),r},fu=Object.prototype.toString;var gu=function(e){return fu.call(e)},mu=uu?uu.toStringTag:void 0;var vu=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mu&&mu in Object(e)?pu(e):gu(e)};var yu=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var bu,wu=function(e){if(!yu(e))return!1;var t=vu(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Cu=lu["__core-js_shared__"],xu=(bu=/[^.]+$/.exec(Cu&&Cu.keys&&Cu.keys.IE_PROTO||""))?"Symbol(src)_1."+bu:"";var Bu=function(e){return!!xu&&xu in e},Su=Function.prototype.toString;var _u=function(e){if(null!=e){try{return Su.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ku=/^\[object .+?Constructor\]$/,Tu=Function.prototype,Eu=Object.prototype,Iu=Tu.toString,Uu=Eu.hasOwnProperty,Fu=RegExp("^"+Iu.call(Uu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Du=function(e){return!(!yu(e)||Bu(e))&&(wu(e)?Fu:ku).test(_u(e))};var Lu=function(e,t){return null==e?void 0:e[t]};var Ou=function(e,t){var n=Lu(e,t);return Du(n)?n:void 0},Nu=Ou(lu,"Map"),Mu=Ou(Object,"create");var ju=function(){this.__data__=Mu?Mu(null):{},this.size=0};var Ru=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Qu=Object.prototype.hasOwnProperty;var Pu=function(e){var t=this.__data__;if(Mu){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Qu.call(t,e)?t[e]:void 0},Hu=Object.prototype.hasOwnProperty;var qu=function(e){var t=this.__data__;return Mu?void 0!==t[e]:Hu.call(t,e)};var Vu=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mu&&void 0===t?"__lodash_hash_undefined__":t,this};function zu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}zu.prototype.clear=ju,zu.prototype.delete=Ru,zu.prototype.get=Pu,zu.prototype.has=qu,zu.prototype.set=Vu;var Ku=zu;var Gu=function(){this.size=0,this.__data__={hash:new Ku,map:new(Nu||tu),string:new Ku}};var Wu=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var $u=function(e,t){var n=e.__data__;return Wu(t)?n["string"==typeof t?"string":"hash"]:n.map};var Xu=function(e){var t=$u(this,e).delete(e);return this.size-=t?1:0,t};var Yu=function(e){return $u(this,e).get(e)};var Ju=function(e){return $u(this,e).has(e)};var Zu=function(e,t){var n=$u(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function ec(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ec.prototype.clear=Gu,ec.prototype.delete=Xu,ec.prototype.get=Yu,ec.prototype.has=Ju,ec.prototype.set=Zu;var tc=ec;var nc=function(e,t){var n=this.__data__;if(n instanceof tu){var i=n.__data__;if(!Nu||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new tc(i)}return n.set(e,t),this.size=n.size,this};function ic(e){var t=this.__data__=new tu(e);this.size=t.size}ic.prototype.clear=nu,ic.prototype.delete=iu,ic.prototype.get=ru,ic.prototype.has=su,ic.prototype.set=nc;var rc=ic;var sc=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var oc=function(e){return this.__data__.has(e)};function ac(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new tc;++t<n;)this.add(e[t])}ac.prototype.add=ac.prototype.push=sc,ac.prototype.has=oc;var lc=ac;var uc=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1};var cc=function(e,t){return e.has(t)};var Ac=function(e,t,n,i,r,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var A=-1,d=!0,h=2&n?new lc:void 0;for(s.set(e,t),s.set(t,e);++A<a;){var p=e[A],f=t[A];if(i)var g=o?i(f,p,A,t,e,s):i(p,f,A,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!uc(t,(function(e,t){if(!cc(h,t)&&(p===e||r(p,e,n,i,s)))return h.push(t)}))){d=!1;break}}else if(p!==f&&!r(p,f,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d},dc=lu.Uint8Array;var hc=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n};var pc=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},fc=uu?uu.prototype:void 0,gc=fc?fc.valueOf:void 0;var mc=function(e,t,n,i,r,s,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new dc(e),new dc(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Gl(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=hc;case"[object Set]":var l=1&i;if(a||(a=pc),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;i|=2,o.set(e,t);var c=Ac(a(e),a(t),i,r,s,o);return o.delete(e),c;case"[object Symbol]":if(gc)return gc.call(e)==gc.call(t)}return!1};var vc=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},yc=Array.isArray;var bc=function(e,t,n){var i=t(e);return yc(e)?i:vc(i,n(e))};var wc=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s};var Cc=function(){return[]},xc=Object.prototype.propertyIsEnumerable,Bc=Object.getOwnPropertySymbols,Sc=Bc?function(e){return null==e?[]:(e=Object(e),wc(Bc(e),(function(t){return xc.call(e,t)})))}:Cc,_c=Sc;var kc=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};var Tc=function(e){return null!=e&&"object"==typeof e};var Ec=function(e){return Tc(e)&&"[object Arguments]"==vu(e)},Ic=Object.prototype,Uc=Ic.hasOwnProperty,Fc=Ic.propertyIsEnumerable,Dc=Ec(function(){return arguments}())?Ec:function(e){return Tc(e)&&Uc.call(e,"callee")&&!Fc.call(e,"callee")},Lc=Dc;var Oc=function(){return!1},Nc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mc=Nc&&"object"==typeof module&&module&&!module.nodeType&&module,jc=Mc&&Mc.exports===Nc?lu.Buffer:void 0,Rc=(jc?jc.isBuffer:void 0)||Oc,Qc=/^(?:0|[1-9]\d*)$/;var Pc=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Qc.test(e))&&e>-1&&e%1==0&&e<t};var Hc=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},qc={};qc["[object Float32Array]"]=qc["[object Float64Array]"]=qc["[object Int8Array]"]=qc["[object Int16Array]"]=qc["[object Int32Array]"]=qc["[object Uint8Array]"]=qc["[object Uint8ClampedArray]"]=qc["[object Uint16Array]"]=qc["[object Uint32Array]"]=!0,qc["[object Arguments]"]=qc["[object Array]"]=qc["[object ArrayBuffer]"]=qc["[object Boolean]"]=qc["[object DataView]"]=qc["[object Date]"]=qc["[object Error]"]=qc["[object Function]"]=qc["[object Map]"]=qc["[object Number]"]=qc["[object Object]"]=qc["[object RegExp]"]=qc["[object Set]"]=qc["[object String]"]=qc["[object WeakMap]"]=!1;var Vc=function(e){return Tc(e)&&Hc(e.length)&&!!qc[vu(e)]};var zc=function(e){return function(t){return e(t)}},Kc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gc=Kc&&"object"==typeof module&&module&&!module.nodeType&&module,Wc=Gc&&Gc.exports===Kc&&ou.process,$c=function(){try{var e=Gc&&Gc.require&&Gc.require("util").types;return e||Wc&&Wc.binding&&Wc.binding("util")}catch(e){}}(),Xc=$c&&$c.isTypedArray,Yc=Xc?zc(Xc):Vc,Jc=Object.prototype.hasOwnProperty;var Zc=function(e,t){var n=yc(e),i=!n&&Lc(e),r=!n&&!i&&Rc(e),s=!n&&!i&&!r&&Yc(e),o=n||i||r||s,a=o?kc(e.length,String):[],l=a.length;for(var u in e)!t&&!Jc.call(e,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pc(u,l))||a.push(u);return a},eA=Object.prototype;var tA=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eA)};var nA=function(e,t){return function(n){return e(t(n))}},iA=nA(Object.keys,Object),rA=Object.prototype.hasOwnProperty;var sA=function(e){if(!tA(e))return iA(e);var t=[];for(var n in Object(e))rA.call(e,n)&&"constructor"!=n&&t.push(n);return t};var oA=function(e){return null!=e&&Hc(e.length)&&!wu(e)};var aA=function(e){return oA(e)?Zc(e):sA(e)};var lA=function(e){return bc(e,aA,_c)},uA=Object.prototype.hasOwnProperty;var cA=function(e,t,n,i,r,s){var o=1&n,a=lA(e),l=a.length;if(l!=lA(t).length&&!o)return!1;for(var u=l;u--;){var c=a[u];if(!(o?c in t:uA.call(t,c)))return!1}var A=s.get(e),d=s.get(t);if(A&&d)return A==t&&d==e;var h=!0;s.set(e,t),s.set(t,e);for(var p=o;++u<l;){var f=e[c=a[u]],g=t[c];if(i)var m=o?i(g,f,c,t,e,s):i(f,g,c,e,t,s);if(!(void 0===m?f===g||r(f,g,n,i,s):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(h=!1)}return s.delete(e),s.delete(t),h},AA=Ou(lu,"DataView"),dA=Ou(lu,"Promise"),hA=Ou(lu,"Set"),pA=Ou(lu,"WeakMap"),fA="[object Map]",gA="[object Promise]",mA="[object Set]",vA="[object WeakMap]",yA="[object DataView]",bA=_u(AA),wA=_u(Nu),CA=_u(dA),xA=_u(hA),BA=_u(pA),SA=vu;(AA&&SA(new AA(new ArrayBuffer(1)))!=yA||Nu&&SA(new Nu)!=fA||dA&&SA(dA.resolve())!=gA||hA&&SA(new hA)!=mA||pA&&SA(new pA)!=vA)&&(SA=function(e){var t=vu(e),n="[object Object]"==t?e.constructor:void 0,i=n?_u(n):"";if(i)switch(i){case bA:return yA;case wA:return fA;case CA:return gA;case xA:return mA;case BA:return vA}return t});var _A=SA,kA="[object Arguments]",TA="[object Array]",EA="[object Object]",IA=Object.prototype.hasOwnProperty;var UA=function(e,t,n,i,r,s){var o=yc(e),a=yc(t),l=o?TA:_A(e),u=a?TA:_A(t),c=(l=l==kA?EA:l)==EA,A=(u=u==kA?EA:u)==EA,d=l==u;if(d&&Rc(e)){if(!Rc(t))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new rc),o||Yc(e)?Ac(e,t,n,i,r,s):mc(e,t,l,n,i,r,s);if(!(1&n)){var h=c&&IA.call(e,"__wrapped__"),p=A&&IA.call(t,"__wrapped__");if(h||p){var f=h?e.value():e,g=p?t.value():t;return s||(s=new rc),r(f,g,n,i,s)}}return!!d&&(s||(s=new rc),cA(e,t,n,i,r,s))};var FA=function e(t,n,i,r,s){return t===n||(null==t||null==n||!Tc(t)&&!Tc(n)?t!=t&&n!=n:UA(t,n,i,r,e,s))};var DA=function(e,t){return FA(e,t)},LA=function(){try{var e=Ou(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var OA=function(e,t,n){"__proto__"==t&&LA?LA(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var NA=function(e,t,n){(void 0!==n&&!Gl(e[t],n)||void 0===n&&!(t in e))&&OA(e,t,n)};var MA=function(e){return function(t,n,i){for(var r=-1,s=Object(t),o=i(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===n(s[l],l,s))break}return t}},jA=MA(),RA="object"==typeof exports&&exports&&!exports.nodeType&&exports,QA=RA&&"object"==typeof module&&module&&!module.nodeType&&module,PA=QA&&QA.exports===RA?lu.Buffer:void 0,HA=PA?PA.allocUnsafe:void 0;var qA=function(e,t){if(t)return e.slice();var n=e.length,i=HA?HA(n):new e.constructor(n);return e.copy(i),i};var VA=function(e){var t=new e.constructor(e.byteLength);return new dc(t).set(new dc(e)),t};var zA=function(e,t){var n=t?VA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var KA=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},GA=Object.create,WA=function(){function e(){}return function(t){if(!yu(t))return{};if(GA)return GA(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),$A=WA,XA=nA(Object.getPrototypeOf,Object);var YA=function(e){return"function"!=typeof e.constructor||tA(e)?{}:$A(XA(e))};var JA=function(e){return Tc(e)&&oA(e)},ZA=Function.prototype,ed=Object.prototype,td=ZA.toString,nd=ed.hasOwnProperty,id=td.call(Object);var rd=function(e){if(!Tc(e)||"[object Object]"!=vu(e))return!1;var t=XA(e);if(null===t)return!0;var n=nd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&td.call(n)==id};var sd=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},od=Object.prototype.hasOwnProperty;var ad=function(e,t,n){var i=e[t];od.call(e,t)&&Gl(i,n)&&(void 0!==n||t in e)||OA(e,t,n)};var ld=function(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?OA(n,a,l):ad(n,a,l)}return n};var ud=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},cd=Object.prototype.hasOwnProperty;var Ad=function(e){if(!yu(e))return ud(e);var t=tA(e),n=[];for(var i in e)("constructor"!=i||!t&&cd.call(e,i))&&n.push(i);return n};var dd=function(e){return oA(e)?Zc(e,!0):Ad(e)};var hd=function(e){return ld(e,dd(e))};var pd=function(e,t,n,i,r,s,o){var a=sd(e,n),l=sd(t,n),u=o.get(l);if(u)NA(e,n,u);else{var c=s?s(a,l,n+"",e,t,o):void 0,A=void 0===c;if(A){var d=yc(l),h=!d&&Rc(l),p=!d&&!h&&Yc(l);c=l,d||h||p?yc(a)?c=a:JA(a)?c=KA(a):h?(A=!1,c=qA(l,!0)):p?(A=!1,c=zA(l,!0)):c=[]:rd(l)||Lc(l)?(c=a,Lc(a)?c=hd(a):yu(a)&&!wu(a)||(c=YA(l))):A=!1}A&&(o.set(l,c),r(c,l,i,s,o),o.delete(l)),NA(e,n,c)}};var fd=function e(t,n,i,r,s){t!==n&&jA(n,(function(o,a){if(s||(s=new rc),yu(o))pd(t,n,a,i,e,r,s);else{var l=r?r(sd(t,a),o,a+"",t,n,s):void 0;void 0===l&&(l=o),NA(t,a,l)}}),dd)};var gd=function(e){return e};var md=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},vd=Math.max;var yd=function(e,t,n){return t=vd(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=vd(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(o),md(e,this,a)}};var bd=function(e){return function(){return e}},wd=LA?function(e,t){return LA(e,"toString",{configurable:!0,enumerable:!1,value:bd(t),writable:!0})}:gd,Cd=wd,xd=Date.now;var Bd=function(e){var t=0,n=0;return function(){var i=xd(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Sd=Bd(Cd);var _d=function(e,t){return Sd(yd(e,t,gd),e+"")};var kd=function(e,t,n){if(!yu(n))return!1;var i=typeof t;return!!("number"==i?oA(n)&&Pc(t,n.length):"string"==i&&t in n)&&Gl(n[t],e)};var Td=function(e){return _d((function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&kd(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t}))},Ed=Td((function(e,t,n){fd(e,t,n)})),Id=Ed,Ud=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Ud||{});class Fd{constructor(e,t,n={}){this.attrName=e,this.keyName=t;const i=Ud.TYPE&Ud.ATTRIBUTE;this.scope=null!=n.scope?n.scope&Ud.LEVEL|i:Ud.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map((e=>e.name))}add(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)}canAdd(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Dd extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const Ld=class e{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,t)}return null}create(t,n,i){const r=this.query(n);if(null==r)throw new Dd(`Unable to create ${n} blot`);const s=r,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:s.create(i),a=new s(t,o,i);return e.blots.set(a.domNode,a),a}find(t,n=!1){return e.find(t,n)}query(e,t=Ud.ANY){let n;return"string"==typeof e?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof e?e&Ud.LEVEL&Ud.BLOCK?n=this.types.block:e&Ud.LEVEL&Ud.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some((e=>(n=this.classes[e],!!n))),n=n||this.tags[e.tagName]),null==n?null:"scope"in n&&t&Ud.LEVEL&n.scope&&t&Ud.TYPE&n.scope?n:null}register(...e){return e.map((e=>{const t="blotName"in e,n="attrName"in e;if(!t&&!n)throw new Dd("Invalid definition");if(t&&"abstract"===e.blotName)throw new Dd("Cannot register abstract class");const i=t?e.blotName:n?e.attrName:void 0;return this.types[i]=e,n?"string"==typeof e.keyName&&(this.attributes[e.keyName]=e):t&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((e=>e.toUpperCase())):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((t=>{(null==this.tags[t]||null==e.className)&&(this.tags[t]=e)})))),e}))}};Ld.blots=new WeakMap;let Od=Ld;function Nd(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((e=>0===e.indexOf(`${t}-`)))}const Md=class extends Fd{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map((e=>e.split("-").slice(0,-1).join("-")))}add(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0)}remove(e){Nd(e,this.keyName).forEach((t=>{e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")}value(e){const t=(Nd(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}};function jd(e){const t=e.split("-"),n=t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("");return t[0]+n}const Rd=class extends Fd{static keys(e){return(e.getAttribute("style")||"").split(";").map((e=>e.split(":")[0].trim()))}add(e,t){return!!this.canAdd(e,t)&&(e.style[jd(this.keyName)]=t,!0)}remove(e){e.style[jd(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[jd(this.keyName)];return this.canAdd(e,t)?t:""}};const Qd=class{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Od.find(this.domNode);if(null==e)return;const t=Fd.keys(this.domNode),n=Md.keys(this.domNode),i=Rd.keys(this.domNode);t.concat(n).concat(i).forEach((t=>{const n=e.scroll.query(t,Ud.ATTRIBUTE);n instanceof Fd&&(this.attributes[n.attrName]=n)}))}copy(e){Object.keys(this.attributes).forEach((t=>{const n=this.attributes[t].value(this.domNode);e.format(t,n)}))}move(e){this.copy(e),Object.keys(this.attributes).forEach((e=>{this.attributes[e].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e)),{})}},Pd=class{constructor(e,t){this.scroll=e,this.domNode=t,Od.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(null==this.tagName)throw new Dd("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?("string"==typeof e?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof e&&(n=e),t="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){null!=this.parent&&this.parent.removeChild(this),Od.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,n,i){const r=this.isolate(e,t);if(null!=this.scroll.query(n,Ud.BLOT)&&i)r.wrap(n,i);else if(null!=this.scroll.query(n,Ud.ATTRIBUTE)){const e=this.scroll.create(this.statics.scope);r.wrap(e),e.format(n,i)}}insertAt(e,t,n){const i=null==n?this.scroll.create("text",t):this.scroll.create(t,n),r=this.split(e);this.parent.insertBefore(i,r||void 0)}isolate(e,t){const n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(e=this.parent){return null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,t){return 0===e?this:this.next}update(e,t){}wrap(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new Dd(`Cannot wrap ${e}`);return n.appendChild(this),n}};Pd.blotName="abstract";let Hd=Pd;const qd=class extends Hd{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};qd.scope=Ud.INLINE_BLOT;const Vd=qd;class zd{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let n=t();for(;n&&e>0;)e-=1,n=t();return n}contains(e){const t=this.iterator();let n=t();for(;n;){if(n===e)return!0;n=t()}return!1}indexOf(e){const t=this.iterator();let n=t(),i=0;for(;n;){if(n===e)return i;i+=1,n=t()}return-1}insertBefore(e,t){null!=e&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,n=this.head;for(;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return null!=e&&(e=e.next),t}}find(e,t=!1){const n=this.iterator();let i=n();for(;i;){const r=i.length();if(e<r||t&&e===r&&(null==i.next||0!==i.next.length()))return[i,e];e-=r,i=n()}return[null,0]}forEach(e){const t=this.iterator();let n=t();for(;n;)e(n),n=t()}forEachAt(e,t,n){if(t<=0)return;const[i,r]=this.find(e);let s=e-r;const o=this.iterator(i);let a=o();for(;a&&s<e+t;){const i=a.length();e>s?n(a,e-s,Math.min(t,s+i-e)):n(a,0,Math.min(i,e+t-s)),s+=i,a=o()}}map(e){return this.reduce(((t,n)=>(t.push(e(n)),t)),[])}reduce(e,t){const n=this.iterator();let i=n();for(;i;)t=e(t,i),i=n();return t}}function Kd(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const n=t.create(Ud.INLINE);return Array.from(e.childNodes).forEach((e=>{n.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const Gd=class e extends Hd{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach((e=>{e.attach()}))}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new zd,Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).reverse().forEach((e=>{try{const t=Kd(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(e){if(e instanceof Dd)return;throw e}}))}deleteAt(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,((e,t,n)=>{e.deleteAt(t,n)}))}descendant(t,n=0){const[i,r]=this.children.find(n);return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,r]:i instanceof e?i.descendant(t,r):[null,-1]}descendants(t,n=0,i=Number.MAX_VALUE){let r=[],s=i;return this.children.forEachAt(n,i,((n,i,o)=>{(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&r.push(n),n instanceof e&&(r=r.concat(n.descendants(t,i,s))),s-=o})),r}detach(){this.children.forEach((e=>{e.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((n=>{t||this.statics.allowedChildren.some((e=>n instanceof e))||(n.statics.scope===Ud.BLOCK_BLOT?(null!=n.next&&this.splitAfter(n),null!=n.prev&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof e?n.unwrap():n.remove())}))}formatAt(e,t,n,i){this.children.forEachAt(e,t,((e,t,r)=>{e.formatAt(t,r,n,i)}))}insertAt(e,t,n){const[i,r]=this.children.find(e);if(i)i.insertAt(r,t,n);else{const e=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(e)}}insertBefore(e,t){null!=e.parent&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce(((e,t)=>e+t.length()),0)}moveChildren(e,t){this.children.forEach((n=>{e.insertBefore(n,t)}))}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,n=!1){const[i,r]=this.children.find(t,n),s=[[this,t]];return i instanceof e?s.concat(i.path(r,n)):(null!=i&&s.push([i,r]),s)}removeChild(e){this.children.remove(e)}replaceWith(t,n){const i="string"==typeof t?this.scroll.create(t,n):t;return i instanceof e&&this.moveChildren(i),super.replaceWith(i)}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),((e,i,r)=>{const s=e.split(i,t);null!=s&&n.appendChild(s)})),n}splitAfter(e){const t=this.clone();for(;null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const n=[],i=[];e.forEach((e=>{e.target===this.domNode&&"childList"===e.type&&(n.push(...e.addedNodes),i.push(...e.removedNodes))})),i.forEach((e=>{if(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const t=this.scroll.find(e);null!=t&&(null==t.domNode.parentNode||t.domNode.parentNode===this.domNode)&&t.detach()})),n.filter((e=>e.parentNode===this.domNode&&e!==this.uiNode)).sort(((e,t)=>e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((e=>{let t=null;null!=e.nextSibling&&(t=this.scroll.find(e.nextSibling));const n=Kd(e,this.scroll);(n.next!==t||null==n.next)&&(null!=n.parent&&n.parent.removeChild(this),this.insertBefore(n,t||void 0))})),this.enforceAllowedChildren()}};Gd.uiClass="";const Wd=Gd;const $d=class e extends Wd{static create(e){return super.create(e)}static formats(t,n){const i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Qd(this.domNode)}format(t,n){if(t!==this.statics.blotName||n){const e=this.scroll.query(t,Ud.INLINE);if(null==e)return;e instanceof Fd?this.attributes.attribute(e,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}else this.children.forEach((t=>{t instanceof e||(t=t.wrap(e.blotName,!0)),this.attributes.copy(t)})),this.unwrap()}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,i){null!=this.formats()[n]||this.scroll.query(n,Ud.ATTRIBUTE)?this.isolate(e,t).format(n,i):super.formatAt(e,t,n,i)}optimize(t){super.optimize(t);const n=this.formats();if(0===Object.keys(n).length)return this.unwrap();const i=this.next;i instanceof e&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}(n,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}wrap(t,n){const i=super.wrap(t,n);return i instanceof e&&this.attributes.move(i),i}};$d.allowedChildren=[$d,Vd],$d.blotName="inline",$d.scope=Ud.INLINE_BLOT,$d.tagName="SPAN";const Xd=$d,Yd=class e extends Wd{static create(e){return super.create(e)}static formats(t,n){const i=n.query(e.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Qd(this.domNode)}format(t,n){const i=this.scroll.query(t,Ud.BLOCK);null!=i&&(i instanceof Fd?this.attributes.attribute(i,n):t!==this.statics.blotName||n?n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n):this.replaceWith(e.blotName))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,i){null!=this.scroll.query(n,Ud.BLOCK)?this.format(n,i):super.formatAt(e,t,n,i)}insertAt(e,t,n){if(null==n||null!=this.scroll.query(t,Ud.INLINE))super.insertAt(e,t,n);else{const i=this.split(e);if(null==i)throw new Error("Attempt to insertAt after block boundaries");{const e=this.scroll.create(t,n);i.parent.insertBefore(e,i)}}}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}};Yd.blotName="block",Yd.scope=Ud.BLOCK_BLOT,Yd.tagName="P",Yd.allowedChildren=[Xd,Yd,Vd];const Jd=Yd,Zd=class extends Wd{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,n,i){super.formatAt(e,t,n,i),this.enforceAllowedChildren()}insertAt(e,t,n){super.insertAt(e,t,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Zd.blotName="container",Zd.scope=Ud.BLOCK_BLOT;const eh=Zd;const th=class extends Vd{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,n,i){0===e&&t===this.length()?this.format(n,i):super.formatAt(e,t,n,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}},nh={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ih=class extends Wd{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver((e=>{this.update(e)})),this.observer.observe(this.domNode,nh),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,t=Ud.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),0===e&&t===this.length()?this.children.forEach((e=>{e.remove()})):super.deleteAt(e,t)}formatAt(e,t,n,i){this.update(),super.formatAt(e,t,n,i)}insertAt(e,t,n){this.update(),super.insertAt(e,t,n)}optimize(e=[],t={}){super.optimize(t);const n=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const r=(e,t=!0)=>{null==e||e===this||null!=e.domNode.parentNode&&(n.has(e.domNode)||n.set(e.domNode,[]),t&&r(e.parent))},s=e=>{n.has(e.domNode)&&(e instanceof Wd&&e.children.forEach(s),n.delete(e.domNode),e.optimize(t))};let o=e;for(let t=0;o.length>0;t+=1){if(t>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((e=>{const t=this.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(r(this.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((e=>{const t=this.find(e,!1);r(t,!1),t instanceof Wd&&t.children.forEach((e=>{r(e,!1)}))}))):"attributes"===e.type&&r(t.prev)),r(t))})),this.children.forEach(s),o=Array.from(this.observer.takeRecords()),i=o.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map((e=>{const t=this.find(e.target,!0);return null==t?null:n.has(t.domNode)?(n.get(t.domNode).push(e),null):(n.set(t.domNode,[e]),t)})).forEach((e=>{null!=e&&e!==this&&n.has(e.domNode)&&e.update(n.get(e.domNode)||[],t)})),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(e,t)}};ih.blotName="scroll",ih.defaultChild=Jd,ih.allowedChildren=[Jd,eh],ih.scope=Ud.BLOCK_BLOT,ih.tagName="DIV";const rh=ih,sh=class e extends Vd{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,n){null==n?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,t){e.some((e=>"characterData"===e.type&&e.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};sh.blotName="text",sh.scope=Ud.INLINE_BLOT;const oh=sh;var ah=n(2660);var lh=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e};var uh=function(e,t){return e&&ld(t,aA(t),e)};var ch=function(e,t){return e&&ld(t,dd(t),e)};var Ah=function(e,t){return ld(e,_c(e),t)},dh=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)vc(t,_c(e)),e=XA(e);return t}:Cc,hh=dh;var ph=function(e,t){return ld(e,hh(e),t)};var fh=function(e){return bc(e,dd,hh)},gh=Object.prototype.hasOwnProperty;var mh=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&gh.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var vh=function(e,t){var n=t?VA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},yh=/\w*$/;var bh=function(e){var t=new e.constructor(e.source,yh.exec(e));return t.lastIndex=e.lastIndex,t},wh=uu?uu.prototype:void 0,Ch=wh?wh.valueOf:void 0;var xh=function(e){return Ch?Object(Ch.call(e)):{}};var Bh=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return VA(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return vh(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return zA(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return bh(e);case"[object Symbol]":return xh(e)}};var Sh=function(e){return Tc(e)&&"[object Map]"==_A(e)},_h=$c&&$c.isMap,kh=_h?zc(_h):Sh;var Th=function(e){return Tc(e)&&"[object Set]"==_A(e)},Eh=$c&&$c.isSet,Ih=Eh?zc(Eh):Th,Uh="[object Arguments]",Fh="[object Function]",Dh="[object Object]",Lh={};Lh[Uh]=Lh["[object Array]"]=Lh["[object ArrayBuffer]"]=Lh["[object DataView]"]=Lh["[object Boolean]"]=Lh["[object Date]"]=Lh["[object Float32Array]"]=Lh["[object Float64Array]"]=Lh["[object Int8Array]"]=Lh["[object Int16Array]"]=Lh["[object Int32Array]"]=Lh["[object Map]"]=Lh["[object Number]"]=Lh[Dh]=Lh["[object RegExp]"]=Lh["[object Set]"]=Lh["[object String]"]=Lh["[object Symbol]"]=Lh["[object Uint8Array]"]=Lh["[object Uint8ClampedArray]"]=Lh["[object Uint16Array]"]=Lh["[object Uint32Array]"]=!0,Lh["[object Error]"]=Lh[Fh]=Lh["[object WeakMap]"]=!1;var Oh=function e(t,n,i,r,s,o){var a,l=1&n,u=2&n,c=4&n;if(i&&(a=s?i(t,r,s,o):i(t)),void 0!==a)return a;if(!yu(t))return t;var A=yc(t);if(A){if(a=mh(t),!l)return KA(t,a)}else{var d=_A(t),h=d==Fh||"[object GeneratorFunction]"==d;if(Rc(t))return qA(t,l);if(d==Dh||d==Uh||h&&!s){if(a=u||h?{}:YA(t),!l)return u?ph(t,ch(a,t)):Ah(t,uh(a,t))}else{if(!Lh[d])return s?t:{};a=Bh(t,d,l)}}o||(o=new rc);var p=o.get(t);if(p)return p;o.set(t,a),Ih(t)?t.forEach((function(r){a.add(e(r,n,i,r,t,o))})):kh(t)&&t.forEach((function(r,s){a.set(s,e(r,n,i,s,t,o))}));var f=A?void 0:(c?u?fh:lA:u?dd:aA)(t);return lh(f||t,(function(r,s){f&&(r=t[s=r]),ad(a,s,e(r,n,i,s,t,o))})),a};var Nh=function(e){return Oh(e,5)};class Mh extends th{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Mh.blotName="break",Mh.tagName="BR";var jh=Mh;class Rh extends oh{}const Qh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ph(e){return e.replace(/[&<>"']/g,(e=>Qh[e]))}class Hh extends Xd{static allowedChildren=[Hh,jh,th,Rh];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const n=Hh.order.indexOf(e),i=Hh.order.indexOf(t);return n>=0||i>=0?n-i:e===t?0:e<t?-1:1}formatAt(e,t,n,i){if(Hh.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Ud.BLOT)){const r=this.isolate(e,t);i&&r.wrap(n,i)}else super.formatAt(e,t,n,i)}optimize(e){if(super.optimize(e),this.parent instanceof Hh&&Hh.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}var qh=Hh;class Vh extends Jd{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=Kh(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,n,i){t<=0||(this.scroll.query(n,Ud.BLOCK)?e+t===this.length()&&this.format(n,i):super.formatAt(e,Math.min(t,this.length()-e-1),n,i),this.cache={})}insertAt(e,t,n){if(null!=n)return super.insertAt(e,t,n),void(this.cache={});if(0===t.length)return;const i=t.split("\n"),r=i.shift();r.length>0&&(e<this.length()-1||null==this.children.tail?super.insertAt(Math.min(e,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});let s=this;i.reduce(((e,t)=>(s=s.split(e,!0),s.insertAt(0,t),t.length)),e+r.length)}insertBefore(e,t){const{head:n}=this.children;super.insertBefore(e,t),n instanceof jh&&n.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){const t=this.clone();return 0===e?(this.parent.insertBefore(t,this),this):(this.parent.insertBefore(t,this.next),t)}const n=super.split(e,t);return this.cache={},n}}Vh.blotName="block",Vh.tagName="P",Vh.defaultChild=jh,Vh.allowedChildren=[jh,qh,th,Rh];class zh extends th{attach(){super.attach(),this.attributes=new Qd(this.domNode)}delta(){return(new ah).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const n=this.scroll.query(e,Ud.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}formatAt(e,t,n,i){this.format(n,i)}insertAt(e,t,n){if(null!=n)return void super.insertAt(e,t,n);const i=t.split("\n"),r=i.pop(),s=i.map((e=>{const t=this.scroll.create(Vh.blotName);return t.insertAt(0,e),t})),o=this.split(e);s.forEach((e=>{this.parent.insertBefore(e,o)})),r&&this.parent.insertBefore(this.scroll.create("text",r),o)}}function Kh(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(Vd).reduce(((e,n)=>0===n.length()?e:e.insert(n.value(),Gh(n,{},t))),new ah).insert("\n",Gh(e))}function Gh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("formats"in e&&"function"==typeof e.formats&&(t={...t,...e.formats()},n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:Gh(e.parent,t,n))}zh.scope=Ud.BLOCK_BLOT;class Wh extends th{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(e,t,n){super(e,t),this.selection=n,this.textNode=document.createTextNode(Wh.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(e,t){if(0!==this.savedLength)return void super.format(e,t);let n=this,i=0;for(;null!=n&&n.statics.scope!==Ud.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=Wh.CONTENTS.length,n.optimize(),n.formatAt(i,Wh.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const e=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Rh?this.prev:null,n=t?t.length():0,i=this.next instanceof Rh?this.next:null,r=i?i.text:"",{textNode:s}=this,o=s.data.split(Wh.CONTENTS).join("");let a;if(s.data=Wh.CONTENTS,t)a=t,(o||i)&&(t.insertAt(t.length(),o+r),i&&i.remove());else if(i)a=i,i.insertAt(0,o);else{const e=document.createTextNode(o);a=this.scroll.create(e),this.parent.insertBefore(a,this)}if(this.remove(),e){const r=(e,r)=>t&&e===t.domNode?r:e===s?n+r-1:i&&e===i.domNode?n+o.length+r:null,l=r(e.start.node,e.start.offset),u=r(e.end.node,e.end.offset);if(null!==l&&null!==u)return{startNode:a.domNode,startOffset:l,endNode:a.domNode,endOffset:u}}return null}update(e,t){if(e.some((e=>"characterData"===e.type&&e.target===this.textNode))){const e=this.restore();e&&(t.range=e)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if("A"===t.domNode.tagName){this.savedLength=Wh.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var $h=Wh,Xh=n(228),Yh=new WeakMap;const Jh=["error","warn","log","info"];let Zh="warn";function ep(e){if(Zh&&Jh.indexOf(e)<=Jh.indexOf(Zh))for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i]}function tp(e){return Jh.reduce(((t,n)=>(t[n]=ep.bind(console,n,e),t)),{})}tp.level=e=>{Zh=e},ep.level=tp.level;var np=tp;const ip=np("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((e=>{document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((e=>{const n=Yh.get(e);n&&n.emitter&&n.emitter.handleDOM(...t)}))}))}));var rp=class extends Xh{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",ip.error)}emit(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ip.log.call(ip,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach((t=>{let{node:i,handler:r}=t;(e.target===i||i.contains(e.target))&&r(e,...n)}))}listenDOM(e,t,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:n})}};const sp=np("quill:selection");class op{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=e,this.length=t}}function ap(e,t){try{t.parentNode}catch(e){return!1}return e.contains(t)}var lp=class{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new op(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,rp.sources.USER),1)})),this.emitter.on(rp.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const e=this.getNativeRange();null!=e&&e.start.node!==this.cursor.textNode&&this.emitter.once(rp.events.SCROLL_UPDATE,((t,n)=>{try{this.root.contains(e.start.node)&&this.root.contains(e.end.node)&&this.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset);const i=n.some((e=>"characterData"===e.type||"childList"===e.type||"attributes"===e.type&&e.target===this.root));this.update(i?rp.sources.SILENT:t)}catch(e){}}))})),this.emitter.on(rp.events.SCROLL_OPTIMIZE,((e,t)=>{if(t.range){const{startNode:e,startOffset:n,endNode:i,endOffset:r}=t.range;this.setNativeRange(e,n,i,r),this.update(rp.sources.SILENT)}})),this.update(rp.sources.SILENT)}handleComposition(){this.emitter.on(rp.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(rp.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout((()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(rp.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,Ud.BLOCK)){if(n.start.node!==this.cursor.textNode){const e=this.scroll.find(n.start.node,!1);if(null==e)return;if(e instanceof Vd){const t=e.split(n.start.offset);e.parent.insertBefore(this.cursor,t)}else e.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.scroll.length();let i;e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;let[r,s]=this.scroll.leaf(e);if(null==r)return null;if(t>0&&s===r.length()){const[t]=this.scroll.leaf(e+1);if(t){const[n]=this.scroll.line(e),[i]=this.scroll.line(e+1);n===i&&(r=t,s=0)}}[i,s]=r.position(s,!0);const o=document.createRange();if(t>0)return o.setStart(i,s),[r,s]=this.scroll.leaf(e+t),null==r?null:([i,s]=r.position(s,!0),o.setEnd(i,s),o.getBoundingClientRect());let a,l="left";if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(o.setStart(i,s),o.setEnd(i,s+1)):(o.setStart(i,s-1),o.setEnd(i,s),l="right"),a=o.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;a=r.domNode.getBoundingClientRect(),s>0&&(l="right")}return{bottom:a.top+a.height,height:a.height,left:a[l],right:a[l],top:a.top,width:0}}getNativeRange(){const e=document.getSelection();if(null==e||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(null==t)return null;const n=this.normalizeNative(t);return sp.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();if(null==t)return[null,null];return[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&ap(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const n=t.map((e=>{const[t,n]=e,i=this.scroll.find(t,!0),r=i.offset(this.scroll);return 0===n?r:i instanceof Vd?r+i.index(t,n):r+i.length()})),i=Math.min(Math.max(...n),this.scroll.length()-1),r=Math.min(i,...n);return new op(r,i-r)}normalizeNative(e){if(!ap(this.root,e.startContainer)||!e.collapsed&&!ap(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((e=>{let{node:t,offset:n}=e;for(;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;t=t.lastChild,n=t instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}rangeToNative(e){const t=this.scroll.length(),n=(e,n)=>{e=Math.min(t-1,e);const[i,r]=this.scroll.leaf(e);return i?i.position(r,n):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(sp.info("setNativeRange",e,t,n,i),null!=e&&(null==this.root.parentNode||null==e.parentNode||null==n.parentNode))return;const s=document.getSelection();if(null!=s)if(null!=e){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(null==o||r||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||i!==o.endOffset){e instanceof Element&&"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&"BR"===n.tagName&&(i=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const r=document.createRange();r.setStart(e,t),r.setEnd(n,i),s.removeAllRanges(),s.addRange(r)}}else s.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rp.sources.API;if("string"==typeof t&&(n=t,t=!1),sp.info("setRange",e),null!=e){const n=this.rangeToNative(e);this.setNativeRange(...n,t)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rp.sources.USER;const t=this.lastRange,[n,i]=this.getRange();if(this.lastRange=n,this.lastNative=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!DA(t,this.lastRange)){if(!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const e=this.cursor.restore();e&&this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}const n=[rp.events.SELECTION_CHANGE,Nh(this.lastRange),Nh(t),e];this.emitter.emit(rp.events.EDITOR_CHANGE,...n),e!==rp.sources.SILENT&&this.emitter.emit(...n)}}};const up=/^[ -~]*$/;function cp(e,t,n){if(0===e.length){const[e]=hp(n.pop());return t<=0?`</li></${e}>`:`</li></${e}>${cp([],t-1,n)}`}const[{child:i,offset:r,length:s,indent:o,type:a},...l]=e,[u,c]=hp(a);if(o>t)return n.push(a),o===t+1?`<${u}><li${c}>${Ap(i,r,s)}${cp(l,o,n)}`:`<${u}><li>${cp(e,t+1,n)}`;const A=n[n.length-1];if(o===t&&a===A)return`</li><li${c}>${Ap(i,r,s)}${cp(l,o,n)}`;const[d]=hp(n.pop());return`</li></${d}>${cp(e,t-1,n)}`}function Ap(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in e&&"function"==typeof e.html)return e.html(t,n);if(e instanceof Rh){return Ph(e.value().slice(t,t+n)).replaceAll(" ","&nbsp;")}if(e instanceof Wd){if("list-container"===e.statics.blotName){const i=[];return e.children.forEachAt(t,n,((e,t,n)=>{const r="formats"in e&&"function"==typeof e.formats?e.formats():{};i.push({child:e,offset:t,length:n,indent:r.indent||0,type:r.list})})),cp(i,-1,[])}const r=[];if(e.children.forEachAt(t,n,((e,t,n)=>{r.push(Ap(e,t,n))})),i||"list"===e.statics.blotName)return r.join("");const{outerHTML:s,innerHTML:o}=e.domNode,[a,l]=s.split(`>${o}<`);return"<table"===a?`<table style="border: 1px solid #000;">${r.join("")}<${l}`:`${a}>${r.join("")}<${l}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function dp(e,t){return Object.keys(t).reduce(((n,i)=>{if(null==e[i])return n;const r=t[i];return r===e[i]?n[i]=r:Array.isArray(r)?r.indexOf(e[i])<0?n[i]=r.concat([e[i]]):n[i]=r:n[i]=[r,e[i]],n}),{})}function hp(e){const t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function pp(e){return e.reduce(((e,t)=>{if("string"==typeof t.insert){const n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new ah)}function fp(e,t){let{index:n,length:i}=e;return new op(n+t,i)}var gp=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const n=pp(e),i=new ah;return function(e){const t=[];return e.forEach((e=>{if("string"==typeof e.insert){e.insert.split("\n").forEach(((n,i)=>{i&&t.push({insert:"\n",attributes:e.attributes}),n&&t.push({insert:n,attributes:e.attributes})}))}else t.push(e)})),t}(n.ops.slice()).reduce(((e,n)=>{const r=ah.Op.length(n);let s=n.attributes||{},o=!1,a=!1;if(null!=n.insert){if(i.retain(r),"string"==typeof n.insert){const i=n.insert;a=!i.endsWith("\n")&&(t<=e||!!this.scroll.descendant(zh,e)[0]),this.scroll.insertAt(e,i);const[r,o]=this.scroll.line(e);let l=Id({},Gh(r));if(r instanceof Vh){const[e]=r.descendant(Vd,o);e&&(l=Id(l,Gh(e)))}s=ah.AttributeMap.diff(l,s)||{}}else if("object"==typeof n.insert){const i=Object.keys(n.insert)[0];if(null==i)return e;const r=null!=this.scroll.query(i,Ud.INLINE);if(r)(t<=e||this.scroll.descendant(zh,e)[0])&&(a=!0);else if(e>0){const[t,n]=this.scroll.descendant(Vd,e-1);if(t instanceof Rh){"\n"!==t.value()[n]&&(o=!0)}else t instanceof th&&t.statics.scope===Ud.INLINE_BLOT&&(o=!0)}if(this.scroll.insertAt(e,i,n.insert[i]),r){const[t]=this.scroll.descendant(Vd,e);if(t){const e=Id({},Gh(t));s=ah.AttributeMap.diff(e,s)||{}}}}t+=r}else if(i.push(n),null!==n.retain&&"object"==typeof n.retain){const t=Object.keys(n.retain)[0];if(null==t)return e;this.scroll.updateEmbedAt(e,t,n.retain[t])}Object.keys(s).forEach((t=>{this.scroll.formatAt(e,r,t,s[t])}));const l=o?1:0,u=a?1:0;return t+=l+u,i.retain(l),i.delete(u),e+r+l+u}),0),i.reduce(((e,t)=>"number"==typeof t.delete?(this.scroll.deleteAt(e,t.delete),e):e+ah.Op.length(t)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update((new ah).retain(e).delete(t))}formatLine(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach((i=>{this.scroll.lines(e,Math.max(t,1)).forEach((e=>{e.format(i,n[i])}))})),this.scroll.optimize();const i=(new ah).retain(e).retain(t,Nh(n));return this.update(i)}formatText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(n).forEach((i=>{this.scroll.formatAt(e,t,i,n[i])}));const i=(new ah).retain(e).retain(t,Nh(n));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce(((e,t)=>e.concat(t.delta())),new ah)}getFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((e=>{const[t]=e;t instanceof Vh?n.push(t):t instanceof Vd&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(Vd,e,t));const[r,s]=[n,i].map((e=>{const t=e.shift();if(null==t)return{};let n=Gh(t);for(;Object.keys(n).length>0;){const t=e.shift();if(null==t)return n;n=dp(Gh(t),n)}return n}));return{...r,...s}}getHTML(e,t){const[n,i]=this.scroll.line(e);if(n){const r=n.length();return!(n.length()>=i+t)||0===i&&t===r?Ap(this.scroll,e,t,!0):Ap(n,i,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter((e=>"string"==typeof e.insert)).map((e=>e.insert)).join("")}insertContents(e,t){const n=pp(t),i=(new ah).retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(i)}insertEmbed(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new ah).retain(e).insert({[t]:n}))}insertText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((i=>{this.scroll.formatAt(e,t.length,i,n[i])})),this.update((new ah).retain(e).insert(t,Nh(n)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Vh.blotName)return!1;const t=e;return!(t.children.length>1)&&t.children.head instanceof jh}removeFormat(e,t){const n=this.getText(e,t),[i,r]=this.scroll.line(e+t);let s=0,o=new ah;null!=i&&(s=i.length()-r,o=i.delta().slice(r,r+s-1).insert("\n"));const a=this.getContents(e,t+s).diff((new ah).insert(n).concat(o)),l=(new ah).retain(e).concat(a);return this.applyDelta(l)}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(up)&&this.scroll.find(t[0].target)){const r=this.scroll.find(t[0].target),s=Gh(r),o=r.offset(this.scroll),a=t[0].oldValue.replace($h.CONTENTS,""),l=(new ah).insert(a),u=(new ah).insert(r.value()),c=n&&{oldRange:fp(n.oldRange,-o),newRange:fp(n.newRange,-o)};e=(new ah).retain(o).concat(l.diff(u,c)).reduce(((e,t)=>t.insert?e.insert(t.insert,s):e.push(t)),new ah),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&DA(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}};var mp=class{static DEFAULTS={};constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=t}};const vp="\ufeff";var yp=class extends th{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((e=>{this.contentNode.appendChild(e)})),this.leftGuard=document.createTextNode(vp),this.rightGuard=document.createTextNode(vp),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t,n=null;const i=e.data.split(vp).join("");if(e===this.leftGuard)if(this.prev instanceof Rh){const e=this.prev.length();this.prev.insertAt(e,i),n={startNode:this.prev.domNode,startOffset:e+i.length}}else t=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(t),this),n={startNode:t,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Rh?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(t=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(t),this.next),n={startNode:t,startOffset:i.length}));return e.data=vp,n}update(e,t){e.forEach((e=>{if("characterData"===e.type&&(e.target===this.leftGuard||e.target===this.rightGuard)){const n=this.restore(e.target);n&&(t.range=n)}}))}};var bp=class{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(e=>{this.isComposing||this.handleCompositionStart(e)})),this.scroll.domNode.addEventListener("compositionend",(e=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(e)}))}))}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;!t||t instanceof yp||(this.emitter.emit(rp.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(rp.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(rp.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(rp.events.COMPOSITION_END,e),this.isComposing=!1}};class wp{static DEFAULTS={modules:{}};static themes={default:wp};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach((e=>{null==this.modules[e]&&this.addModule(e)}))}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}var Cp=wp;const xp=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,i="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*i,left:t.left}},Bp=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},Sp=(e,t,n,i,r,s)=>e<n&&t>i?0:e<n?-(n-e+r):t>i?t-e>i-n?e+r-n:t-i+s:0;var _p=(e,t)=>{const n=e.ownerDocument;let i=t,r=e;for(;r;){const e=r===n.body,t=e?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:xp(r),o=getComputedStyle(r),a=Sp(i.left,i.right,t.left,t.right,Bp(o.scrollPaddingLeft),Bp(o.scrollPaddingRight)),l=Sp(i.top,i.bottom,t.top,t.bottom,Bp(o.scrollPaddingTop),Bp(o.scrollPaddingBottom));if(a||l)if(e)n.defaultView?.scrollBy(a,l);else{const{scrollLeft:e,scrollTop:t}=r;l&&(r.scrollTop+=l),a&&(r.scrollLeft+=a);const n=r.scrollLeft-e,s=r.scrollTop-t;i={left:i.left-n,top:i.top-s,right:i.right-n,bottom:i.bottom-s}}r=e||"fixed"===o.position?null:(s=r).parentElement||s.getRootNode().host||null}var s};const kp=["block","break","cursor","inline","scroll","text"];var Tp=(e,t,n)=>{const i=new Od;return kp.forEach((e=>{const n=t.query(e);n&&i.register(n)})),e.forEach((e=>{let r=t.query(e);r||n.error(`Cannot register "${e}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;r;)if(i.register(r),r="blotName"in r?r.requiredContainer??null:null,s+=1,s>100){n.error(`Cycle detected in registering blot requiredContainer: "${e}"`);break}})),i};const Ep=np("quill"),Ip=new Od;Wd.uiClass="ql-ui";class Up{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ip,theme:"default"};static events=rp.events;static sources=rp.sources;static version="2.0.3";static imports={delta:ah,parchment:e,"core/module":mp,"core/theme":Cp};static debug(e){!0===e&&(e="log"),np.level(e)}static find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Yh.get(e)||Ip.find(e,t)}static import(e){return null==this.imports[e]&&Ep.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const e=arguments.length<=0?void 0:arguments[0],t=!!(arguments.length<=1?void 0:arguments[1]),n="attrName"in e?e.attrName:e.blotName;"string"==typeof n?this.register(`formats/${n}`,e,t):Object.keys(e).forEach((n=>{this.register(n,e[n],t)}))}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[e]||n||Ep.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&"boolean"!=typeof t&&"abstract"!==t.blotName&&Ip.register(t),"function"==typeof t.register&&t.register(Ip)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(e,t){const n=Fp(e);if(!n)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===Up.DEFAULTS.theme,r=i?Cp:Up.import(`themes/${t.theme}`);if(!r)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:s,...o}=Up.DEFAULTS,{modules:a,...l}=r.DEFAULTS;let u=Dp(t.modules);null!=u&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const c=Id({},Dp(s),Dp(a),u),A={...o,...Lp(l),...Lp(t)};let d=t.registry;d?t.formats&&Ep.warn('Ignoring "formats" option because "registry" is specified'):d=t.formats?Tp(t.formats,A.registry,Ep):A.registry;return{...A,registry:d,container:n,theme:r,modules:Object.entries(c).reduce(((e,t)=>{let[n,i]=t;if(!i)return e;const r=Up.import(`modules/${n}`);return null==r?(Ep.error(`Cannot load ${n} module. Are you sure you registered it?`),e):{...e,[n]:Id({},r.DEFAULTS||{},i)}}),{}),bounds:Fp(A.bounds)}}(e,t),this.container=this.options.container,null==this.container)return void Ep.error("Invalid Quill container",e);this.options.debug&&Up.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Yh.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new rp;const i=rh.blotName,r=this.options.registry.query(i);if(!r||!("blotName"in r))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new gp(this.scroll),this.selection=new lp(this.scroll,this.emitter),this.composition=new bp(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(rp.events.EDITOR_CHANGE,(e=>{e===rp.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(rp.events.SCROLL_UPDATE,((e,t)=>{const n=this.selection.lastRange,[i]=this.selection.getRange(),r=n&&i?{oldRange:n,newRange:i}:void 0;Op.call(this,(()=>this.editor.update(null,t,r)),e)})),this.emitter.on(rp.events.SCROLL_EMBED_UPDATE,((e,t)=>{const n=this.selection.lastRange,[i]=this.selection.getRange(),r=n&&i?{oldRange:n,newRange:i}:void 0;Op.call(this,(()=>{const n=(new ah).retain(e.offset(this)).retain({[e.statics.blotName]:t});return this.editor.update(n,[],r)}),Up.sources.USER)})),n){const e=this.clipboard.convert({html:`${n}<p><br></p>`,text:"\n"});this.setContents(e)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){const t=e;(e=document.createElement("div")).classList.add(t)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,n){return[e,t,,n]=Np(e,t,n),Op.call(this,(()=>this.editor.deleteText(e,t)),n,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rp.sources.API;return Op.call(this,(()=>{const n=this.getSelection(!0);let i=new ah;if(null==n)return i;if(this.scroll.query(e,Ud.BLOCK))i=this.editor.formatLine(n.index,n.length,{[e]:t});else{if(0===n.length)return this.selection.format(e,t),i;i=this.editor.formatText(n.index,n.length,{[e]:t})}return this.setSelection(n,rp.sources.SILENT),i}),n)}formatLine(e,t,n,i,r){let s;return[e,t,s,r]=Np(e,t,n,i,r),Op.call(this,(()=>this.editor.formatLine(e,t,s)),r,e,0)}formatText(e,t,n,i,r){let s;return[e,t,s,r]=Np(e,t,n,i,r),Op.call(this,(()=>this.editor.formatText(e,t,s)),r,e,0)}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;if(n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length),!n)return null;const i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}getContents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e;return[e,t]=Np(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=Np(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=Np(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Up.sources.API;return Op.call(this,(()=>this.editor.insertEmbed(e,t,n)),i,e)}insertText(e,t,n,i,r){let s;return[e,,s,r]=Np(e,0,n,i,r),Op.call(this,(()=>this.editor.insertText(e,t,s)),r,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,n){return[e,t,,n]=Np(e,t,n),Op.call(this,(()=>this.editor.removeFormat(e,t)),n,e)}scrollRectIntoView(e){_p(this.root,e)}scrollIntoView(){this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rp.sources.API;return Op.call(this,(()=>{e=new ah(e);const t=this.getLength(),n=this.editor.deleteText(0,t),i=this.editor.insertContents(0,e),r=this.editor.deleteText(this.getLength()-1,1);return n.compose(i).compose(r)}),t)}setSelection(e,t,n){null==e?this.selection.setRange(null,t||Up.sources.API):([e,t,,n]=Np(e,t,n),this.selection.setRange(new op(Math.max(0,e),t),n),n!==rp.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rp.sources.API;const n=(new ah).insert(e);return this.setContents(n,t)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rp.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rp.sources.API;return Op.call(this,(()=>(e=new ah(e),this.editor.applyDelta(e))),t,!0)}}function Fp(e){return"string"==typeof e?document.querySelector(e):e}function Dp(e){return Object.entries(e??{}).reduce(((e,t)=>{let[n,i]=t;return{...e,[n]:!0===i?{}:i}}),{})}function Lp(e){return Object.fromEntries(Object.entries(e).filter((e=>void 0!==e[1])))}function Op(e,t,n,i){if(!this.isEnabled()&&t===rp.sources.USER&&!this.allowReadOnlyEdits)return new ah;let r=null==n?null:this.getSelection();const s=this.editor.delta,o=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=Mp(r,o,t):0!==i&&(r=Mp(r,n,i,t)),this.setSelection(r,rp.sources.SILENT)),o.length()>0){const e=[rp.events.TEXT_CHANGE,o,s,t];this.emitter.emit(rp.events.EDITOR_CHANGE,...e),t!==rp.sources.SILENT&&this.emitter.emit(...e)}return o}function Np(e,t,n,i,r){let s={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(r=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(r=i,i=n,n=t,t=0),"object"==typeof n?(s=n,r=i):"string"==typeof n&&(null!=i?s[n]=i:r=n),[e,t,s,r=r||rp.sources.API]}function Mp(e,t,n,i){const r="number"==typeof n?n:0;if(null==e)return null;let s,o;return t&&"function"==typeof t.transformPosition?[s,o]=[e.index,e.index+e.length].map((e=>t.transformPosition(e,i!==rp.sources.USER))):[s,o]=[e.index,e.index+e.length].map((e=>e<t||e===t&&i===rp.sources.USER?e:r>=0?e+r:Math.max(t,e+r))),new op(s,o-s)}var jp=class extends eh{};function Rp(e){return e instanceof Vh||e instanceof zh}function Qp(e){return"function"==typeof e.updateContent}function Pp(e,t,n){n.reduce(((t,n)=>{const i=ah.Op.length(n);let r=n.attributes||{};if(null!=n.insert)if("string"==typeof n.insert){const i=n.insert;e.insertAt(t,i);const[s]=e.descendant(Vd,t),o=Gh(s);r=ah.AttributeMap.diff(o,r)||{}}else if("object"==typeof n.insert){const i=Object.keys(n.insert)[0];if(null==i)return t;e.insertAt(t,i,n.insert[i]);if(null!=e.scroll.query(i,Ud.INLINE)){const[n]=e.descendant(Vd,t),i=Gh(n);r=ah.AttributeMap.diff(i,r)||{}}}return Object.keys(r).forEach((n=>{e.formatAt(t,i,n,r[n])})),t+i}),t)}var Hp=class extends rh{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Vh;static allowedChildren=[Vh,zh,jp];constructor(e,t,n){let{emitter:i}=n;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(e=>this.handleDragStart(e)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(rp.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(rp.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(rp.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[n,i]=this.line(e),[r]=this.line(e+t);if(super.deleteAt(e,t),null!=r&&n!==r&&i>0){if(n instanceof zh||r instanceof zh)return void this.optimize();const e=r.children.head instanceof jh?null:r.children.head;n.moveChildren(r,e),n.remove()}this.optimize()}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,n,i){super.formatAt(e,t,n,i),this.optimize()}insertAt(e,t,n){if(e>=this.length())if(null==n||null==this.scroll.query(t,Ud.BLOCK)){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e),null==n&&t.endsWith("\n")?e.insertAt(0,t.slice(0,-1),n):e.insertAt(0,t,n)}else{const e=this.scroll.create(t,n);this.appendChild(e)}else super.insertAt(e,t,n);this.optimize()}insertBefore(e,t){if(e.statics.scope===Ud.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,t)}else super.insertBefore(e,t)}insertContents(e,t){const n=this.deltaToRenderBlocks(t.concat((new ah).insert("\n"))),i=n.pop();if(null==i)return;this.batchStart();const r=n.shift();if(r){const t="block"===r.type&&(0===r.delta.length()||!this.descendant(zh,e)[0]&&e<this.length()),n="block"===r.type?r.delta:(new ah).insert({[r.key]:r.value});Pp(this,e,n);const i="block"===r.type?1:0,s=e+n.length()+i;t&&this.insertAt(s-1,"\n");const o=Gh(this.line(e)[0]),a=ah.AttributeMap.diff(o,r.attributes)||{};Object.keys(a).forEach((e=>{this.formatAt(s-1,1,e,a[e])})),e=s}let[s,o]=this.children.find(e);if(n.length&&(s&&(s=s.split(o),o=0),n.forEach((e=>{if("block"===e.type){Pp(this.createBlock(e.attributes,s||void 0),0,e.delta)}else{const t=this.create(e.key,e.value);this.insertBefore(t,s||void 0),Object.keys(e.attributes).forEach((n=>{t.format(n,e.attributes[n])}))}}))),"block"===i.type&&i.delta.length()){Pp(this,s?s.offset(s.scroll)+o:this.length(),i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[n,i]=t;return n instanceof Vd?[n,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Rp,e)}lines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;const n=(e,t,i)=>{let r=[],s=i;return e.children.forEachAt(t,i,((e,t,i)=>{Rp(e)?r.push(e):e instanceof eh&&(r=r.concat(n(e,t,s))),s-=i})),r};return n(this,e,t)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(rp.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch)return void(Array.isArray(e)&&(this.batch=this.batch.concat(e)));let t=rp.sources.USER;"string"==typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),(e=e.filter((e=>{let{target:t}=e;const n=this.find(t,!0);return n&&!Qp(n)}))).length>0&&this.emitter.emit(rp.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(rp.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,n){const[i]=this.descendant((e=>e instanceof zh),e);i&&i.statics.blotName===t&&Qp(i)&&i.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let n=new ah;return e.forEach((e=>{const i=e?.insert;if(i)if("string"==typeof i){const r=i.split("\n");r.slice(0,-1).forEach((i=>{n.insert(i,e.attributes),t.push({type:"block",delta:n,attributes:e.attributes??{}}),n=new ah}));const s=r[r.length-1];s&&n.insert(s,e.attributes)}else{const r=Object.keys(i)[0];if(!r)return;this.query(r,Ud.INLINE)?n.push(e):(n.length()&&t.push({type:"block",delta:n,attributes:{}}),n=new ah,t.push({type:"blockEmbed",key:r,value:i[r],attributes:e.attributes??{}}))}})),n.length()&&t.push({type:"block",delta:n,attributes:{}}),t}createBlock(e,t){let n;const i={};Object.entries(e).forEach((e=>{let[t,r]=e;null!=this.query(t,Ud.BLOCK&Ud.BLOT)?n=t:i[t]=r}));const r=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(r,t||void 0);const s=r.length();return Object.entries(i).forEach((e=>{let[t,n]=e;r.formatAt(0,s,t,n)})),r}};const qp={scope:Ud.BLOCK,whitelist:["right","center","justify"]},Vp=new Fd("align","align",qp),zp=new Md("align","ql-align",qp),Kp=new Rd("align","text-align",qp);class Gp extends Rd{value(e){let t=super.value(e);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");return`#${t.split(",").map((e=>`00${parseInt(e,10).toString(16)}`.slice(-2))).join("")}`}}const Wp=new Md("color","ql-color",{scope:Ud.INLINE}),$p=new Gp("color","color",{scope:Ud.INLINE}),Xp=new Md("background","ql-bg",{scope:Ud.INLINE}),Yp=new Gp("background","background-color",{scope:Ud.INLINE});class Jp extends jp{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map((e=>e.length()<=1?"":e.domNode.innerText)).join("\n").slice(e,e+t)}html(e,t){return`<pre>\n${Ph(this.code(e,t))}\n</pre>`}}class Zp extends Vh{static TAB="  ";static register(){Up.register(Jp)}}class ef extends qh{}ef.blotName="code",ef.tagName="CODE",Zp.blotName="code-block",Zp.className="ql-code-block",Zp.tagName="DIV",Jp.blotName="code-block-container",Jp.className="ql-code-block-container",Jp.tagName="DIV",Jp.allowedChildren=[Zp],Zp.allowedChildren=[Rh,jh,$h],Zp.requiredContainer=Jp;const tf={scope:Ud.BLOCK,whitelist:["rtl"]},nf=new Fd("direction","dir",tf),rf=new Md("direction","ql-direction",tf),sf=new Rd("direction","direction",tf),of={scope:Ud.INLINE,whitelist:["serif","monospace"]},af=new Md("font","ql-font",of);const lf=new class extends Rd{value(e){return super.value(e).replace(/["']/g,"")}}("font","font-family",of),uf=new Md("size","ql-size",{scope:Ud.INLINE,whitelist:["small","large","huge"]}),cf=new Rd("size","font-size",{scope:Ud.INLINE,whitelist:["10px","18px","32px"]}),Af=np("quill:keyboard"),df=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class hf extends mp{static match(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((n=>!!t[n]!==e[n]&&null!==t[n]))&&(t.key===e.key||t.key===e.which)}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach((e=>{this.options.bindings[e]&&this.addBinding(this.options.bindings[e])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=function(e){if("string"==typeof e||"number"==typeof e)e={key:e};else{if("object"!=typeof e)return null;e=Nh(e)}e.shortKey&&(e[df]=e.shortKey,delete e.shortKey);return e}(e);if(null==i)return void Af.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n});(Array.isArray(i.key)?i.key:[i.key]).forEach((e=>{const r={...i,key:e,...t,...n};this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}))}listen(){this.quill.root.addEventListener("keydown",(e=>{if(e.defaultPrevented||e.isComposing)return;if(229===e.keyCode&&("Enter"===e.key||"Backspace"===e.key))return;const t=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter((t=>hf.match(e,t)));if(0===t.length)return;const n=Up.find(e.target,!0);if(n&&n.scroll!==this.quill.scroll)return;const i=this.quill.getSelection();if(null==i||!this.quill.hasFocus())return;const[r,s]=this.quill.getLine(i.index),[o,a]=this.quill.getLeaf(i.index),[l,u]=0===i.length?[o,a]:this.quill.getLeaf(i.index+i.length),c=o instanceof oh?o.value().slice(0,a):"",A=l instanceof oh?l.value().slice(u):"",d={collapsed:0===i.length,empty:0===i.length&&r.length()<=1,format:this.quill.getFormat(i),line:r,offset:s,prefix:c,suffix:A,event:e};t.some((e=>{if(null!=e.collapsed&&e.collapsed!==d.collapsed)return!1;if(null!=e.empty&&e.empty!==d.empty)return!1;if(null!=e.offset&&e.offset!==d.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((e=>null==d.format[e])))return!1}else if("object"==typeof e.format&&!Object.keys(e.format).every((t=>!0===e.format[t]?null!=d.format[t]:!1===e.format[t]?null==d.format[t]:DA(e.format[t],d.format[t]))))return!1;return!(null!=e.prefix&&!e.prefix.test(d.prefix))&&(!(null!=e.suffix&&!e.suffix.test(d.suffix))&&!0!==e.handler.call(this,i,d,e))}))&&e.preventDefault()}))}handleBackspace(e,t){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(0===e.index||this.quill.getLength()<=1)return;let i={};const[r]=this.quill.getLine(e.index);let s=(new ah).retain(e.index-n).delete(n);if(0===t.offset){const[t]=this.quill.getLine(e.index-1);if(t){if(!("block"===t.statics.blotName&&t.length()<=1)){const t=r.formats(),n=this.quill.getFormat(e.index-1,1);if(i=ah.AttributeMap.diff(t,n)||{},Object.keys(i).length>0){const t=(new ah).retain(e.index+r.length()-2).retain(1,i);s=s.compose(t)}}}}this.quill.updateContents(s,Up.sources.USER),this.quill.focus()}handleDelete(e,t){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let i={};const[r]=this.quill.getLine(e.index);let s=(new ah).retain(e.index).delete(n);if(t.offset>=r.length()-1){const[t]=this.quill.getLine(e.index+1);if(t){const n=r.formats(),o=this.quill.getFormat(e.index,1);i=ah.AttributeMap.diff(n,o)||{},Object.keys(i).length>0&&(s=s.retain(t.length()-1).retain(1,i))}}this.quill.updateContents(s,Up.sources.USER),this.quill.focus()}handleDeleteRange(e){yf({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const n=Object.keys(t.format).reduce(((e,n)=>(this.quill.scroll.query(n,Ud.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e)),{}),i=(new ah).retain(e.index).delete(e.length).insert("\n",n);this.quill.updateContents(i,Up.sources.USER),this.quill.setSelection(e.index+1,Up.sources.SILENT),this.quill.focus()}}const pf={bindings:{bold:mf("bold"),italic:mf("italic"),underline:mf("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",Up.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",Up.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){null!=t.format.indent?this.quill.format("indent","-1",Up.sources.USER):null!=t.format.list&&this.quill.format("list",!1,Up.sources.USER)}},"indent code-block":ff(!0),"outdent code-block":ff(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,Up.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=(new ah).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(n,Up.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,Up.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Up.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,Up.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),i={...t.formats(),list:"checked"},r=(new ah).retain(e.index).insert("\n",i).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,Up.sources.USER),this.quill.setSelection(e.index+1,Up.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,i]=this.quill.getLine(e.index),r=(new ah).retain(e.index).insert("\n",t.format).retain(n.length()-i-1).retain(1,{header:null});this.quill.updateContents(r,Up.sources.USER),this.quill.setSelection(e.index+1,Up.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,i,r,s]=t.getTable(e),o=function(e,t,n,i){if(null==t.prev&&null==t.next)return null==n.prev&&null==n.next?0===i?-1:1:null==n.prev?-1:1;if(null==t.prev)return-1;if(null==t.next)return 1;return null}(0,i,r,s);if(null==o)return;let a=n.offset();if(o<0){const t=(new ah).retain(a).insert("\n");this.quill.updateContents(t,Up.sources.USER),this.quill.setSelection(e.index+1,e.length,Up.sources.SILENT)}else if(o>0){a+=n.length();const e=(new ah).retain(a).insert("\n");this.quill.updateContents(e,Up.sources.USER),this.quill.setSelection(a,Up.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:i}=t,r=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(r-1,Up.sources.USER):this.quill.setSelection(r+i.length(),Up.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(null==this.quill.scroll.query("list"))return!0;const{length:n}=t.prefix,[i,r]=this.quill.getLine(e.index);if(r>n)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",Up.sources.USER),this.quill.history.cutoff();const o=(new ah).retain(e.index-r).delete(n+1).retain(i.length()-2-r).retain(1,{list:s});return this.quill.updateContents(o,Up.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,Up.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let i=2,r=t;for(;null!=r&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,i-=1,i<=0){const i=(new ah).retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,Up.sources.USER),this.quill.setSelection(e.index-1,Up.sources.SILENT),!1}return!0}},"embed left":gf("ArrowLeft",!1),"embed left shift":gf("ArrowLeft",!0),"embed right":gf("ArrowRight",!1),"embed right shift":gf("ArrowRight",!0),"table down":vf(!1),"table up":vf(!0)}};function ff(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:i}=n;const r=this.quill.scroll.query("code-block"),{TAB:s}=r;if(0===t.length&&!i.shiftKey)return this.quill.insertText(t.index,s,Up.sources.USER),void this.quill.setSelection(t.index+s.length,Up.sources.SILENT);const o=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:l}=t;o.forEach(((t,n)=>{e?(t.insertAt(0,s),0===n?a+=s.length:l+=s.length):t.domNode.textContent.startsWith(s)&&(t.deleteAt(0,s.length),0===n?a-=s.length:l-=s.length)})),this.quill.update(Up.sources.USER),this.quill.setSelection(a,l,Up.sources.SILENT)}}}function gf(e,t){const n="ArrowLeft"===e?"prefix":"suffix";return{key:e,shiftKey:t,altKey:null,[n]:/^$/,handler(n){let{index:i}=n;"ArrowRight"===e&&(i+=n.length+1);const[r]=this.quill.getLeaf(i);return!(r instanceof th)||("ArrowLeft"===e?t?this.quill.setSelection(n.index-1,n.length+1,Up.sources.USER):this.quill.setSelection(n.index-1,Up.sources.USER):t?this.quill.setSelection(n.index,n.length+1,Up.sources.USER):this.quill.setSelection(n.index+n.length+1,Up.sources.USER),!1)}}}function mf(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],Up.sources.USER)}}}function vf(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const i=e?"prev":"next",r=n.line,s=r.parent[i];if(null!=s){if("table-row"===s.statics.blotName){let e=s.children.head,t=r;for(;null!=t.prev;)t=t.prev,e=e.next;const i=e.offset(this.quill.scroll)+Math.min(n.offset,e.length()-1);this.quill.setSelection(i,0,Up.sources.USER)}}else{const t=r.table()[i];null!=t&&(e?this.quill.setSelection(t.offset(this.quill.scroll)+t.length()-1,0,Up.sources.USER):this.quill.setSelection(t.offset(this.quill.scroll),0,Up.sources.USER))}return!1}}}function yf(e){let{quill:t,range:n}=e;const i=t.getLines(n);let r={};if(i.length>1){const e=i[0].formats(),t=i[i.length-1].formats();r=ah.AttributeMap.diff(t,e)||{}}t.deleteText(n,Up.sources.USER),Object.keys(r).length>0&&t.formatLine(n.index,1,r,Up.sources.USER),t.setSelection(n.index,Up.sources.SILENT)}hf.DEFAULTS=pf;const bf=/font-weight:\s*normal/,wf=["P","OL","UL"],Cf=e=>e&&wf.includes(e.tagName);const xf=/\bmso-list:[^;]*ignore/i,Bf=/\bmso-list:[^;]*\bl(\d+)/i,Sf=/\bmso-list:[^;]*\blevel(\d+)/i,_f=e=>{const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],i=[];t.forEach((e=>{(e.getAttribute("style")||"").match(xf)?n.push(e):i.push(e)})),n.forEach((e=>e.parentNode?.removeChild(e)));const r=e.documentElement.innerHTML,s=i.map((e=>((e,t)=>{const n=e.getAttribute("style"),i=n?.match(Bf);if(!i)return null;const r=Number(i[1]),s=n?.match(Sf),o=s?Number(s[1]):1,a=new RegExp(`@list l${r}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(a);return{id:r,indent:o,type:l&&"bullet"===l[1]?"bullet":"ordered",element:e}})(e,r))).filter((e=>e));for(;s.length;){const e=[];let t=s.shift();for(;t;)e.push(t),t=s.length&&s[0]?.element===t.element.nextElementSibling&&s[0].id===t.id?s.shift():null;const n=document.createElement("ul");e.forEach((e=>{const t=document.createElement("li");t.setAttribute("data-list",e.type),e.indent>1&&t.setAttribute("class","ql-indent-"+(e.indent-1)),t.innerHTML=e.element.innerHTML,n.appendChild(t)}));const i=e[0]?.element,{parentNode:r}=i??{};i&&r?.replaceChild(n,i),e.slice(1).forEach((e=>{let{element:t}=e;r?.removeChild(t)}))}};const kf=[function(e){"urn:schemas-microsoft-com:office:word"===e.documentElement.getAttribute("xmlns:w")&&_f(e)},function(e){e.querySelector('[id^="docs-internal-guid-"]')&&((e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter((e=>e.getAttribute("style")?.match(bf))).forEach((t=>{const n=e.createDocumentFragment();n.append(...t.childNodes),t.parentNode?.replaceChild(n,t)}))})(e),(e=>{Array.from(e.querySelectorAll("br")).filter((e=>Cf(e.previousElementSibling)&&Cf(e.nextElementSibling))).forEach((e=>{e.parentNode?.removeChild(e)}))})(e))}];var Tf=e=>{e.documentElement&&kf.forEach((t=>{t(e)}))};const Ef=np("quill:clipboard"),If=[[Node.TEXT_NODE,function(e,t,n){let i=e.data;if("O:P"===e.parentElement?.tagName)return t.insert(i.trim());if(!Mf(e)){if(0===i.trim().length&&i.includes("\n")&&!function(e,t){return e.previousElementSibling&&e.nextElementSibling&&!Of(e.previousElementSibling,t)&&!Of(e.nextElementSibling,t)}(e,n))return t;i=i.replace(/[^\S\u00a0]/g," "),i=i.replace(/ {2,}/g," "),(null==e.previousSibling&&null!=e.parentElement&&Of(e.parentElement,n)||e.previousSibling instanceof Element&&Of(e.previousSibling,n))&&(i=i.replace(/^ /,"")),(null==e.nextSibling&&null!=e.parentElement&&Of(e.parentElement,n)||e.nextSibling instanceof Element&&Of(e.nextSibling,n))&&(i=i.replace(/ $/,"")),i=i.replaceAll(" "," ")}return t.insert(i)}],[Node.TEXT_NODE,Qf],["br",function(e,t){Lf(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,Qf],[Node.ELEMENT_NODE,function(e,t,n){const i=n.query(e);if(null==i)return t;if(i.prototype instanceof th){const t={},r=i.value(e);if(null!=r)return t[i.blotName]=r,(new ah).insert(t,i.formats(e,n))}else if(i.prototype instanceof Jd&&!Lf(t,"\n")&&t.insert("\n"),"blotName"in i&&"formats"in i&&"function"==typeof i.formats)return Df(t,i.blotName,i.formats(e,n),n);return t}],[Node.ELEMENT_NODE,function(e,t,n){const i=Fd.keys(e),r=Md.keys(e),s=Rd.keys(e),o={};return i.concat(r).concat(s).forEach((t=>{let i=n.query(t,Ud.ATTRIBUTE);null!=i&&(o[i.attrName]=i.value(e),o[i.attrName])||(i=Uf[t],null==i||i.attrName!==t&&i.keyName!==t||(o[i.attrName]=i.value(e)||void 0),i=Ff[t],null==i||i.attrName!==t&&i.keyName!==t||(i=Ff[t],o[i.attrName]=i.value(e)||void 0))})),Object.entries(o).reduce(((e,t)=>{let[i,r]=t;return Df(e,i,r,n)}),t)}],[Node.ELEMENT_NODE,function(e,t,n){const i={},r=e.style||{};"italic"===r.fontStyle&&(i.italic=!0);"underline"===r.textDecoration&&(i.underline=!0);"line-through"===r.textDecoration&&(i.strike=!0);(r.fontWeight?.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(i.bold=!0);if(t=Object.entries(i).reduce(((e,t)=>{let[i,r]=t;return Df(e,i,r,n)}),t),parseFloat(r.textIndent||0)>0)return(new ah).insert("\t").concat(t);return t}],["li",function(e,t,n){const i=n.query(e);if(null==i||"list"!==i.blotName||!Lf(t,"\n"))return t;let r=-1,s=e.parentNode;for(;null!=s;)["OL","UL"].includes(s.tagName)&&(r+=1),s=s.parentNode;return r<=0?t:t.reduce(((e,t)=>t.insert?t.attributes&&"number"==typeof t.attributes.indent?e.push(t):e.insert(t.insert,{indent:r,...t.attributes||{}}):e),new ah)}],["ol, ul",function(e,t,n){const i=e;let r="OL"===i.tagName?"ordered":"bullet";const s=i.getAttribute("data-checked");s&&(r="true"===s?"checked":"unchecked");return Df(t,"list",r,n)}],["pre",function(e,t,n){const i=n.query("code-block"),r=!i||!("formats"in i)||"function"!=typeof i.formats||i.formats(e,n);return Df(t,"code-block",r,n)}],["tr",function(e,t,n){const i="TABLE"===e.parentElement?.tagName?e.parentElement:e.parentElement?.parentElement;if(null!=i){return Df(t,"table",Array.from(i.querySelectorAll("tr")).indexOf(e)+1,n)}return t}],["b",Rf("bold")],["i",Rf("italic")],["strike",Rf("strike")],["style",function(){return new ah}]],Uf=[Vp,nf].reduce(((e,t)=>(e[t.keyName]=t,e)),{}),Ff=[Kp,Yp,$p,sf,lf,cf].reduce(((e,t)=>(e[t.keyName]=t,e)),{});function Df(e,t,n,i){return i.query(t)?e.reduce(((e,i)=>{if(!i.insert)return e;if(i.attributes&&i.attributes[t])return e.push(i);const r=n?{[t]:n}:{};return e.insert(i.insert,{...r,...i.attributes})}),new ah):e}function Lf(e,t){let n="";for(let i=e.ops.length-1;i>=0&&n.length<t.length;--i){const t=e.ops[i];if("string"!=typeof t.insert)break;n=t.insert+n}return n.slice(-1*t.length)===t}function Of(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return!(n&&n.prototype instanceof th)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}const Nf=new WeakMap;function Mf(e){return null!=e&&(Nf.has(e)||("PRE"===e.tagName?Nf.set(e,!0):Nf.set(e,Mf(e.parentNode))),Nf.get(e))}function jf(e,t,n,i,r){return t.nodeType===t.TEXT_NODE?i.reduce(((n,i)=>i(t,n,e)),new ah):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce(((s,o)=>{let a=jf(e,o,n,i,r);return o.nodeType===t.ELEMENT_NODE&&(a=n.reduce(((t,n)=>n(o,t,e)),a),a=(r.get(o)||[]).reduce(((t,n)=>n(o,t,e)),a)),s.concat(a)}),new ah):new ah}function Rf(e){return(t,n,i)=>Df(n,e,!0,i)}function Qf(e,t,n){if(!Lf(t,"\n")){if(Of(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert("\n");if(t.length()>0&&e.nextSibling){let i=e.nextSibling;for(;null!=i;){if(Of(i,n))return t.insert("\n");const e=n.query(i);if(e&&e.prototype instanceof zh)return t.insert("\n");i=i.firstChild}}}return t}function Pf(e,t){let n=t;for(let t=e.length-1;t>=0;t-=1){const i=e[t];e[t]={delta:n.transform(i.delta,!0),range:i.range&&Hf(i.range,n)},n=i.delta.transform(n),0===e[t].delta.length()&&e.splice(t,1)}}function Hf(e,t){if(!e)return e;const n=t.transformPosition(e.index);return{index:n,length:t.transformPosition(e.index+e.length)-n}}class qf extends mp{constructor(e,t){super(e,t),e.root.addEventListener("drop",(t=>{t.preventDefault();let n=null;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(t.clientX,t.clientY);else if(document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t.clientX,t.clientY);n=document.createRange(),n.setStart(e.offsetNode,e.offset),n.setEnd(e.offsetNode,e.offset)}const i=n&&e.selection.normalizeNative(n);if(i){const n=e.selection.normalizedToRange(i);t.dataTransfer?.files&&this.upload(n,t.dataTransfer.files)}}))}upload(e,t){const n=[];Array.from(t).forEach((e=>{e&&this.options.mimetypes?.includes(e.type)&&n.push(e)})),n.length>0&&this.options.handler.call(this,e,n)}}qf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map((e=>new Promise((t=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.readAsDataURL(e)}))));Promise.all(n).then((t=>{const n=t.reduce(((e,t)=>e.insert({image:t})),(new ah).retain(e.index).delete(e.length));this.quill.updateContents(n,rp.sources.USER),this.quill.setSelection(e.index+t.length,rp.sources.SILENT)}))}};var Vf=qf;const zf=["insertText","insertReplacementText"];var Kf=class extends mp{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",(e=>{this.handleBeforeInput(e)})),/Android/i.test(navigator.userAgent)||e.on(Up.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(e){yf({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===e.length)return!1;if(t){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents((new ah).retain(e.index).insert(t,n),Up.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,Up.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!zf.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||!0===t.collapsed)return;const n=function(e){if("string"==typeof e.data)return e.data;if(e.dataTransfer?.types.includes("text/plain"))return e.dataTransfer.getData("text/plain");return null}(e);if(null==n)return;const i=this.quill.selection.normalizeNative(t),r=i?this.quill.selection.normalizedToRange(i):null;r&&this.replaceText(r,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}};const Gf=/Mac/i.test(navigator.platform);var Wf=class extends mp{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:n,event:i}=t;if(!(n instanceof Wd&&n.uiNode))return!0;const r="rtl"===getComputedStyle(n.domNode).direction;return!!(r&&"ArrowRight"!==i.key||!r&&"ArrowLeft"!==i.key)||(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),Up.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(e=>{!e.defaultPrevented&&(e=>"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"Home"===e.key||!(!Gf||"a"!==e.key||!0!==e.ctrlKey))(e)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+100,this.isListening)return;this.isListening=!0;document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(!0!==t.collapsed||0!==t.startOffset)return;const n=this.quill.scroll.find(t.startContainer);if(!(n instanceof Wd&&n.uiNode))return;const i=document.createRange();i.setStartAfter(n.uiNode),i.setEndAfter(n.uiNode),e.removeAllRanges(),e.addRange(i)}};Up.register({"blots/block":Vh,"blots/block/embed":zh,"blots/break":jh,"blots/container":jp,"blots/cursor":$h,"blots/embed":yp,"blots/inline":qh,"blots/scroll":Hp,"blots/text":Rh,"modules/clipboard":class extends mp{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",(e=>this.onCaptureCopy(e,!1))),this.quill.root.addEventListener("cut",(e=>this.onCaptureCopy(e,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],If.concat(this.options.matchers??[]).forEach((e=>{let[t,n]=e;this.addMatcher(t,n)}))}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:n}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i[Zp.blotName])return(new ah).insert(n||"",{[Zp.blotName]:i[Zp.blotName]});if(!t)return(new ah).insert(n||"",i);const r=this.convertHTML(t);return Lf(r,"\n")&&(null==r.ops[r.ops.length-1].attributes||i.table)?r.compose((new ah).retain(r.length()-1).delete(1)):r}normalizeHTML(e){Tf(e)}convertHTML(e){const t=(new DOMParser).parseFromString(e,"text/html");this.normalizeHTML(t);const n=t.body,i=new WeakMap,[r,s]=this.prepareMatching(n,i);return jf(this.quill.scroll,n,r,s,i)}dangerouslyPasteHTML(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Up.sources.API;if("string"==typeof e){const n=this.convert({html:e,text:""});this.quill.setContents(n,t),this.quill.setSelection(0,Up.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents((new ah).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),Up.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(null==n)return;const{html:i,text:r}=this.onCopy(n,t);e.clipboardData?.setData("text/plain",r),e.clipboardData?.setData("text/html",i),t&&yf({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter((e=>"#"!==e[0])).join("\n")}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(null==t)return;const n=e.clipboardData?.getData("text/html");let i=e.clipboardData?.getData("text/plain");if(!n&&!i){const t=e.clipboardData?.getData("text/uri-list");t&&(i=this.normalizeURIList(t))}const r=Array.from(e.clipboardData?.files||[]);if(!n&&r.length>0)this.quill.uploader.upload(t,r);else{if(n&&r.length>0){const e=(new DOMParser).parseFromString(n,"text/html");if(1===e.body.childElementCount&&"IMG"===e.body.firstElementChild?.tagName)return void this.quill.uploader.upload(t,r)}this.onPaste(t,{html:n,text:i})}}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:n,html:i}=t;const r=this.quill.getFormat(e.index),s=this.convert({text:n,html:i},r);Ef.log("onPaste",s,{text:n,html:i});const o=(new ah).retain(e.index).delete(e.length).concat(s);this.quill.updateContents(o,Up.sources.USER),this.quill.setSelection(o.length()-e.length,Up.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const n=[],i=[];return this.matchers.forEach((r=>{const[s,o]=r;switch(s){case Node.TEXT_NODE:i.push(o);break;case Node.ELEMENT_NODE:n.push(o);break;default:Array.from(e.querySelectorAll(s)).forEach((e=>{if(t.has(e)){const n=t.get(e);n?.push(o)}else t.set(e,[o])}))}})),[n,i]}},"modules/history":class extends mp{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(Up.events.EDITOR_CHANGE,((e,t,n,i)=>{e===Up.events.SELECTION_CHANGE?t&&i!==Up.sources.SILENT&&(this.currentRange=t):e===Up.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&i!==Up.sources.USER?this.transform(t):this.record(t,n)),this.currentRange=Hf(this.currentRange,t))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(e=>{"historyUndo"===e.inputType?(this.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(this.redo(),e.preventDefault())}))}change(e,t){if(0===this.stack[e].length)return;const n=this.stack[e].pop();if(!n)return;const i=this.quill.getContents(),r=n.delta.invert(i);this.stack[t].push({delta:r,range:Hf(n.range,r)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,Up.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(0===e.ops.length)return;this.stack.redo=[];let n=e.invert(t),i=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const e=this.stack.undo.pop();e&&(n=n.compose(e.delta),i=e.range)}else this.lastRecorded=r;0!==n.length()&&(this.stack.undo.push({delta:n,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Pf(this.stack.undo,e),Pf(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,Up.sources.USER);else{const t=function(e,t){const n=t.reduce(((e,t)=>e+(t.delete||0)),0);let i=t.length()-n;(function(e,t){const n=t.ops[t.ops.length-1];if(null==n)return!1;if(null!=n.insert)return"string"==typeof n.insert&&n.insert.endsWith("\n");if(null!=n.attributes)return Object.keys(n.attributes).some((t=>null!=e.query(t,Ud.BLOCK)));return!1})(e,t)&&(i-=1);return i}(this.quill.scroll,e.delta);this.quill.setSelection(t,Up.sources.USER)}}},"modules/keyboard":hf,"modules/uploader":Vf,"modules/input":Kf,"modules/uiNode":Wf});var $f=Up;const Xf=new class extends Md{add(e,t){let n=0;if("+1"===t||"-1"===t){const i=this.value(e)||0;n="+1"===t?i+1:i-1}else"number"==typeof t&&(n=t);return 0===n?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}("indent","ql-indent",{scope:Ud.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var Yf=Xf;var Jf=class extends Vh{static blotName="blockquote";static tagName="blockquote"};var Zf=class extends Vh{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}};class eg extends jp{}eg.blotName="list-container",eg.tagName="OL";class tg extends Vh{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Up.register(eg)}constructor(e,t){super(e,t);const n=t.ownerDocument.createElement("span"),i=n=>{if(!e.isEnabled())return;const i=this.statics.formats(t,e);"checked"===i?(this.format("list","unchecked"),n.preventDefault()):"unchecked"===i&&(this.format("list","checked"),n.preventDefault())};n.addEventListener("mousedown",i),n.addEventListener("touchstart",i),this.attachUI(n)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}tg.blotName="list",tg.tagName="LI",eg.allowedChildren=[tg],tg.requiredContainer=eg;var ng=class extends qh{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};var ig=class extends ng{static blotName="italic";static tagName=["EM","I"]};class rg extends qh{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return sg(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("href",this.constructor.sanitize(t)):super.format(e,t)}}function sg(e,t){const n=document.createElement("a");n.href=e;const i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}var og=class extends qh{static blotName="script";static tagName=["SUB","SUP"];static create(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):super.create(e)}static formats(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}};var ag=class extends ng{static blotName="strike";static tagName=["S","STRIKE"]};var lg=class extends qh{static blotName="underline";static tagName="U"};var ug=class extends yp{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return"string"==typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}};const cg=["alt","height","width"];var Ag=class extends th{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return cg.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return sg(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){cg.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}};const dg=["height","width"];var hg=class extends zh{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return dg.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static sanitize(e){return rg.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){dg.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}};const pg=new Md("code-token","hljs",{scope:Ud.INLINE});class fg extends qh{static formats(e,t){for(;null!=e&&e!==t.domNode;){if(e.classList&&e.classList.contains(Zp.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,n){super(e,t,n),pg.add(this.domNode,n)}format(e,t){e!==fg.blotName?super.format(e,t):t?pg.add(this.domNode,t):(pg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),pg.value(this.domNode)||this.unwrap()}}fg.blotName="code-token",fg.className="ql-token";class gg extends Zp{static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),fg.blotName,!1),super.replaceWith(e,t)}}class mg extends Jp{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===gg.blotName&&(this.forceNext=!0,this.children.forEach((n=>{n.format(e,t)})))}formatAt(e,t,n,i){n===gg.blotName&&(this.forceNext=!0),super.formatAt(e,t,n,i)}highlight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const n=`${Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).map((e=>e.textContent)).join("\n")}\n`,i=gg.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==n){if(n.trim().length>0||null==this.cachedText){const t=this.children.reduce(((e,t)=>e.concat(Kh(t,!1))),new ah),r=e(n,i);t.diff(r).reduce(((e,t)=>{let{retain:n,attributes:i}=t;return n?(i&&Object.keys(i).forEach((t=>{[gg.blotName,fg.blotName].includes(t)&&this.formatAt(e,n,t,i[t])})),e+n):e}),0)}this.cachedText=n,this.forceNext=!1}}html(e,t){const[n]=this.children.find(e);return`<pre data-language="${n?gg.formats(n.domNode):"plain"}">\n${Ph(this.code(e,t))}\n</pre>`}optimize(e){if(super.optimize(e),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const e=gg.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}mg.allowedChildren=[gg],gg.requiredContainer=mg,gg.allowedChildren=[fg,$h,Rh,jh];class vg extends mp{static register(){Up.register(fg,!0),Up.register(gg,!0),Up.register(mg,!0)}constructor(e,t){if(super(e,t),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((e,t)=>{let{key:n}=t;return e[n]=!0,e}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Up.events.SCROLL_BLOT_MOUNT,(e=>{if(!(e instanceof mg))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((e=>{let{key:n,label:i}=e;const r=t.ownerDocument.createElement("option");r.textContent=i,r.setAttribute("value",n),t.appendChild(r)})),t.addEventListener("change",(()=>{e.format(gg.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)})),null==e.uiNode&&(e.attachUI(t),e.children.head&&(t.value=gg.formats(e.children.head.domNode)))}))}initTimer(){let e=null;this.quill.on(Up.events.SCROLL_OPTIMIZE,(()=>{e&&clearTimeout(e),e=setTimeout((()=>{this.highlight(),e=null}),this.options.interval)}))}highlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(Up.sources.USER);const n=this.quill.getSelection();(null==e?this.quill.scroll.descendants(mg):[e]).forEach((e=>{e.highlight(this.highlightBlot,t)})),this.quill.update(Up.sources.SILENT),null!=n&&this.quill.setSelection(n,Up.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(t=this.languages[t]?t:"plain","plain"===t)return Ph(e).split("\n").reduce(((e,n,i)=>(0!==i&&e.insert("\n",{[Zp.blotName]:t}),e.insert(n))),new ah);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Zp.className),n.innerHTML=((e,t,n)=>{if("string"==typeof e.versionString){const i=e.versionString.split(".")[0];if(parseInt(i,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value})(this.options.hljs,t,e),jf(this.quill.scroll,n,[(e,t)=>{const n=pg.value(e);return n?t.compose((new ah).retain(t.length(),{[fg.blotName]:n})):t}],[(e,n)=>e.data.split("\n").reduce(((e,n,i)=>(0!==i&&e.insert("\n",{[Zp.blotName]:t}),e.insert(n))),n)],new WeakMap)}}vg.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class yg extends Vh{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",xg()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===yg.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class bg extends jp{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const e=this.children.head.formats(),t=this.children.tail.formats(),n=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===n.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach((e=>{if(null==e.next)return;const t=e.formats(),n=e.next.formats();if(t.table!==n.table){const t=this.splitAfter(e);t&&t.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class wg extends jp{static blotName="table-body";static tagName="TBODY"}class Cg extends jp{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(bg),t=e.reduce(((e,t)=>Math.max(t.children.length,e)),0);e.forEach((e=>{new Array(t-e.children.length).fill(0).forEach((()=>{let t;null!=e.children.head&&(t=yg.formats(e.children.head.domNode));const n=this.scroll.create(yg.blotName,t);e.appendChild(n),n.optimize()}))}))}cells(e){return this.rows().map((t=>t.children.at(e)))}deleteColumn(e){const[t]=this.descendant(wg);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e);null!=n&&n.remove()}))}insertColumn(e){const[t]=this.descendant(wg);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e),i=yg.formats(t.children.head.domNode),r=this.scroll.create(yg.blotName,i);t.insertBefore(r,n)}))}insertRow(e){const[t]=this.descendant(wg);if(null==t||null==t.children.head)return;const n=xg(),i=this.scroll.create(bg.blotName);t.children.head.children.forEach((()=>{const e=this.scroll.create(yg.blotName,n);i.appendChild(e)}));const r=t.children.at(e);t.insertBefore(i,r)}rows(){const e=this.children.head;return null==e?[]:e.children.map((e=>e))}}function xg(){return`row-${Math.random().toString(36).slice(2,6)}`}Cg.allowedChildren=[wg],wg.requiredContainer=Cg,wg.allowedChildren=[bg],bg.requiredContainer=wg,bg.allowedChildren=[yg],yg.requiredContainer=bg;var Bg=class extends mp{static register(){Up.register(yg),Up.register(bg),Up.register(wg),Up.register(Cg)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Cg).forEach((e=>{e.balanceCells()}))}deleteColumn(){const[e,,t]=this.getTable();null!=t&&(e.deleteColumn(t.cellOffset()),this.quill.update(Up.sources.USER))}deleteRow(){const[,e]=this.getTable();null!=e&&(e.remove(),this.quill.update(Up.sources.USER))}deleteTable(){const[e]=this.getTable();if(null==e)return;const t=e.offset();e.remove(),this.quill.update(Up.sources.USER),this.quill.setSelection(t,Up.sources.SILENT)}getTable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==e)return[null,null,null,-1];const[t,n]=this.quill.getLine(e.index);if(null==t||t.statics.blotName!==yg.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,n]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[n,i,r]=this.getTable(t);if(null==r)return;const s=r.cellOffset();n.insertColumn(s+e),this.quill.update(Up.sources.USER);let o=i.rowOffset();0===e&&(o+=1),this.quill.setSelection(t.index+o,t.length,Up.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[n,i,r]=this.getTable(t);if(null==r)return;const s=i.rowOffset();n.insertRow(s+e),this.quill.update(Up.sources.USER),e>0?this.quill.setSelection(t,Up.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,Up.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const n=this.quill.getSelection();if(null==n)return;const i=new Array(e).fill(0).reduce((e=>{const n=new Array(t).fill("\n").join("");return e.insert(n,{table:xg()})}),(new ah).retain(n.index));this.quill.updateContents(i,Up.sources.USER),this.quill.setSelection(n.index,Up.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Up.events.SCROLL_OPTIMIZE,(e=>{e.some((e=>!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(this.quill.once(Up.events.TEXT_CHANGE,((e,t,n)=>{n===Up.sources.USER&&this.balanceTables()})),!0)))}))}};const Sg=np("quill:toolbar");class _g extends mp{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const t=document.createElement("div");t.setAttribute("role","toolbar"),function(e,t){Array.isArray(t[0])||(t=[t]);t.forEach((t=>{const n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((e=>{if("string"==typeof e)kg(n,e);else{const t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){const i=document.createElement("select");i.classList.add(`ql-${t}`),n.forEach((e=>{const t=document.createElement("option");!1!==e?t.setAttribute("value",String(e)):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(n,t,i):kg(n,t,i)}})),e.appendChild(n)}))}(t,this.options.container),e.container?.parentNode?.insertBefore(t,e.container),this.container=t}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((e=>{const t=this.options.handlers?.[e];t&&this.addHandler(e,t)})),Array.from(this.container.querySelectorAll("button, select")).forEach((e=>{this.attach(e)})),this.quill.on(Up.events.EDITOR_CHANGE,(()=>{const[e]=this.quill.selection.getRange();this.update(e)}))):Sg.error("Container required for toolbar",this.options)}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find((e=>0===e.indexOf("ql-")));if(!t)return;if(t=t.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[t]&&null==this.quill.scroll.query(t))return void Sg.warn("ignoring attaching to nonexistent format",t,e);const n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,(n=>{let i;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;const t=e.options[e.selectedIndex];i=!t.hasAttribute("selected")&&(t.value||!1)}else i=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();this.quill.focus();const[r]=this.quill.selection.getRange();if(null!=this.handlers[t])this.handlers[t].call(this,i);else if(this.quill.scroll.query(t).prototype instanceof th){if(i=prompt(`Enter ${t}`),!i)return;this.quill.updateContents((new ah).retain(r.index).delete(r.length).insert({[t]:i}),Up.sources.USER)}else this.quill.format(t,i,Up.sources.USER);this.update(r)})),this.controls.push([t,e])}update(e){const t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((n=>{const[i,r]=n;if("SELECT"===r.tagName){let n=null;if(null==e)n=null;else if(null==t[i])n=r.querySelector("option[selected]");else if(!Array.isArray(t[i])){let e=t[i];"string"==typeof e&&(e=e.replace(/"/g,'\\"')),n=r.querySelector(`option[value="${e}"]`)}null==n?(r.value="",r.selectedIndex=-1):n.selected=!0}else if(null==e)r.classList.remove("ql-active"),r.setAttribute("aria-pressed","false");else if(r.hasAttribute("value")){const e=t[i],n=e===r.getAttribute("value")||null!=e&&e.toString()===r.getAttribute("value")||null==e&&!r.getAttribute("value");r.classList.toggle("ql-active",n),r.setAttribute("aria-pressed",n.toString())}else{const e=null!=t[i];r.classList.toggle("ql-active",e),r.setAttribute("aria-pressed",e.toString())}}))}}function kg(e,t,n){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${t}`),i.setAttribute("aria-pressed","false"),null!=n?(i.value=n,i.setAttribute("aria-label",`${t}: ${n}`)):i.setAttribute("aria-label",t),e.appendChild(i)}_g.DEFAULTS={},_g.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(null!=e)if(0===e.length){const e=this.quill.getFormat();Object.keys(e).forEach((e=>{null!=this.quill.scroll.query(e,Ud.INLINE)&&this.quill.format(e,!1,Up.sources.USER)}))}else this.quill.removeFormat(e.index,e.length,Up.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();"rtl"===e&&null==t?this.quill.format("align","right",Up.sources.USER):e||"right"!==t||this.quill.format("align",!1,Up.sources.USER),this.quill.format("direction",e,Up.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0,10);if("+1"===e||"-1"===e){let t="+1"===e?1:-1;"rtl"===n.direction&&(t*=-1),this.quill.format("indent",i+t,Up.sources.USER)}},link(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,Up.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,Up.sources.USER):this.quill.format("list","unchecked",Up.sources.USER):this.quill.format("list",e,Up.sources.USER)}}};const Tg='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var Eg={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Tg,"code-block":Tg,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Ig=0;function Ug(e,t){e.setAttribute(t,`${!("true"===e.getAttribute(t))}`)}var Fg=class{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Ug(this.label,"aria-expanded"),Ug(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&t.setAttribute("data-value",n),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",(()=>{this.selectItem(t,!0)})),t.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.selectItem(t,!0),e.preventDefault();break;case"Escape":this.escape(),e.preventDefault()}})),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Ig}`,Ig+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach((t=>{const n=this.buildItem(t);e.appendChild(n),!0===t.selected&&this.selectItem(n)})),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach((e=>{this.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.container.querySelector(".ql-selected");e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);const t=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}};var Dg=class extends Fg{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((e=>{e.classList.add("ql-primary")}))}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const n=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=i:n.style.fill=i)}};var Lg=class extends Fg{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((e=>{e.innerHTML=t[e.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const n=e||this.defaultItem;if(null!=n){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}};var Og=class{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(e=>{const{overflowY:t}=getComputedStyle(e,null);return"visible"!==t&&"clip"!==t})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect();let s=0;if(r.right>i.right&&(s=i.right-r.right,this.root.style.left=`${t+s}px`),r.left<i.left&&(s=i.left-r.left,this.root.style.left=`${t+s}px`),r.bottom>i.bottom){const t=r.bottom-r.top,i=e.bottom-e.top+t;this.root.style.top=n-i+"px",this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}};const Ng=[!1,"center","right","justify"],Mg=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],jg=[!1,"serif","monospace"],Rg=["1","2","3",!1],Qg=["small",!1,"large","huge"];class Pg extends Cp{constructor(e,t){super(e,t);const n=t=>{document.body.contains(e.root)?(null==this.tooltip||this.tooltip.root.contains(t.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach((e=>{e.container.contains(t.target)||e.close()}))):document.body.removeEventListener("click",n)};e.emitter.listenDOM("click",document.body,n)}addModule(e){const t=super.addModule(e);return"toolbar"===e&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach((e=>{(e.getAttribute("class")||"").split(/\s+/).forEach((n=>{if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{const i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}buildPickers(e,t){this.pickers=Array.from(e).map((e=>{if(e.classList.contains("ql-align")&&(null==e.querySelector("option")&&qg(e,Ng),"object"==typeof t.align))return new Lg(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){const n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&qg(e,Mg,"background"===n?"#ffffff":"#000000"),new Dg(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?qg(e,jg):e.classList.contains("ql-header")?qg(e,Rg):e.classList.contains("ql-size")&&qg(e,Qg)),new Fg(e)}));this.quill.on(rp.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((e=>{e.update()}))}))}}Pg.DEFAULTS=Id({},Cp.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",(()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""})),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Hg extends Og{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(e=>{"Enter"===e.key?(this.save(),e.preventDefault()):"Escape"===e.key&&(this.cancel(),e.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);null!=n&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,rp.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,rp.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=function(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`;if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`;return e}(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(null!=t){const n=t.index+t.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,rp.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",rp.sources.USER),this.quill.setSelection(n+2,rp.sources.USER)}break}}this.textbox.value="",this.hide()}}function qg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((t=>{const i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(t)),e.appendChild(i)}))}const Vg=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class zg extends Hg{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(rp.events.EDITOR_CHANGE,((e,t,n,i)=>{if(e===rp.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===rp.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const e=this.quill.getLines(t.index,t.length);if(1===e.length){const e=this.quill.getBounds(t);null!=e&&this.position(e)}else{const n=e[e.length-1],i=this.quill.getIndex(n),r=Math.min(n.length()-1,t.index+t.length-i),s=this.quill.getBounds(new op(i,r));null!=s&&this.position(s)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(rp.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(null!=e){const t=this.quill.getBounds(e);null!=t&&this.position(t)}}),1)}))}cancel(){this.show()}position(e){const t=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",0!==t&&(n.style.marginLeft=-1*t-n.offsetWidth/2+"px"),t}}class Kg extends Pg{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=Vg),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new zg(this.quill,this.options.bounds),null!=e.container&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Eg),this.buildPickers(e.container.querySelectorAll("select"),Eg))}}Kg.DEFAULTS=Id({},Pg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Up.sources.USER)}}}}});const Gg=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Wg extends Hg{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(e=>{if(null!=this.linkRange){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,rp.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()})),this.quill.on(rp.events.SELECTION_CHANGE,((e,t,n)=>{if(null!=e){if(0===e.length&&n===rp.sources.USER){const[t,n]=this.quill.scroll.descendant(rg,e.index);if(null!=t){this.linkRange=new op(e.index-n,t.length());const i=rg.formats(t.domNode);this.preview.textContent=i,this.preview.setAttribute("href",i),this.show();const r=this.quill.getBounds(this.linkRange);return void(null!=r&&this.position(r))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class $g extends Pg{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=Gg),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){null!=e.container&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Eg),this.buildPickers(e.container.querySelectorAll("select"),Eg),this.tooltip=new Wg(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((t,n)=>{e.handlers.link.call(e,!n.format.link)})))}}$g.DEFAULTS=Id({},Pg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const e=this.quill.getSelection();if(null==e||0===e.length)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&0!==t.indexOf("mailto:")&&(t=`mailto:${t}`);const{tooltip:n}=this.quill.theme;n.edit("link",t)}else this.quill.format("link",!1,Up.sources.USER)}}}}});var Xg=$g;$f.register({"attributors/attribute/direction":nf,"attributors/class/align":zp,"attributors/class/background":Xp,"attributors/class/color":Wp,"attributors/class/direction":rf,"attributors/class/font":af,"attributors/class/size":uf,"attributors/style/align":Kp,"attributors/style/background":Yp,"attributors/style/color":$p,"attributors/style/direction":sf,"attributors/style/font":lf,"attributors/style/size":cf},!0),$f.register({"formats/align":zp,"formats/direction":rf,"formats/indent":Yf,"formats/background":Yp,"formats/color":$p,"formats/font":af,"formats/size":uf,"formats/blockquote":Jf,"formats/code-block":Zp,"formats/header":Zf,"formats/list":tg,"formats/bold":ng,"formats/code":ef,"formats/italic":ig,"formats/link":rg,"formats/script":og,"formats/strike":ag,"formats/underline":lg,"formats/formula":ug,"formats/image":Ag,"formats/video":hg,"modules/syntax":vg,"modules/table":Bg,"modules/toolbar":_g,"themes/bubble":Kg,"themes/snow":Xg,"ui/icons":Eg,"ui/picker":Fg,"ui/icon-picker":Lg,"ui/color-picker":Dg,"ui/tooltip":Og},!0);var Yg=$f;class Jg extends nr.Component{constructor(e){super(e),this.editingAreaRef=(0,nr.createRef)(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(e,t,n,i)=>{"text-change"===e?this.onEditorChangeText?.(this.editor.root.innerHTML,t,i,this.unprivilegedEditor):"selection-change"===e&&this.onEditorChangeSelection?.(t,i,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(nr.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(nr.Children.count(e.children)){const t=nr.Children.only(e.children);if("textarea"===t?.type)throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const t=this.getEditorContents(),n=e.value??"";this.isEqualValue(n,t)||this.setEditorContents(this.editor,n)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some((t=>!DA(e[t],this.props[t])))}shouldComponentRegenerate(e){return this.dirtyProps.some((t=>!DA(e[t],this.props[t])))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const e=this.editor.getContents(),t=this.editor.getSelection();this.regenerationSnapshot={delta:e,selection:t},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:e,selection:t}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const n=this.editor;n.setContents(e),Zg((()=>this.setEditorSelection(n,t)))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!("object"==typeof e&&e&&"container"in e&&"string"==typeof e.container||"string"==typeof e)){const e=document.querySelector(".ql-toolbar");e&&e.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const n=new Yg(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?DA(e.ops,t.ops):DA(e,t)}setEditorContents(e,t){this.value=t;const n=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),Zg((()=>this.setEditorSelection(e,n)))}setEditorSelection(e,t){if(this.selection=t,t){const n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:n}=this.state,i={key:n,ref:this.editingAreaRef};return nr.Children.count(e)?nr.cloneElement(nr.Children.only(e),i):t?nr.createElement("pre",{...i}):nr.createElement("div",{...i})}render(){return nr.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,n,i){if(!this.editor)return;const r=this.isDelta(this.value)?i.getContents():i.getHTML();r!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=r,this.props.onChange?.(e,t,n,i))}onEditorChangeSelection(e,t,n){if(!this.editor)return;const i=this.getEditorSelection(),r=!i&&e,s=i&&!e;DA(e,i)||(this.selection=e,this.props.onChangeSelection?.(e,t,n),r?this.props.onFocus?.(e,t,n):s&&this.props.onBlur?.(i,t,n))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}function Zg(e){Promise.resolve().then(e)}Jg.displayName="React Quill",Jg.Quill=Yg,Jg.defaultProps={theme:"snow",modules:{},readOnly:!1};var em=Jg;var tm=({value:e,setValue:n})=>{const[i,r]=(0,nr.useState)(!1);return(0,nr.useEffect)((()=>{var e;const n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot;document.querySelectorAll("style").forEach((e=>{var t,i;if((null===(t=e.textContent)||void 0===t?void 0:t.includes("ql-container"))||(null===(i=e.textContent)||void 0===i?void 0:i.includes("ql-snow"))){const t=document.createElement("style");t.textContent=e.textContent,n.prepend(t),e.remove()}})),r(!0)}),[]),i?(0,tr.jsx)("div",{className:"new-custom-quill-editor relative modern-scrollbar mb-[16px] flex flex-col",children:(0,tr.jsx)("div",{className:"flex flex-col bg-[#1c2221] rounded-b-[6px] flex-grow overflow-hidden  opacity-[1]",children:(0,tr.jsx)(em,{theme:"snow",placeholder:"Please describe the issue in detail...",modules:{toolbar:!1},value:e,onChange:n,className:"bg-[#2a2a2a] text-[#A4A7A6] modern-scrollbar rounded-b-[6px] flex-grow overflow-y-auto opacity-[1] px-2.5 py-1.5"})})}):null},nm=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};var im=()=>{var e,n,i,r,s,o,a,l,u,c,A,h,p,f,g;const{mode:m,setWidgetOpen:v,enableAnnotation:y,activeSession:b,setActiveSession:w,apiKey:C,accessToken:x,setAccessToken:B,handleBugSubmit:S,isBugCreating:_,cleanUp:k,setOpenRecordingPreview:T,submitBtnText:E}=(0,nr.useContext)(Kr),[I,U]=(0,nr.useState)([]),[F,D]=(0,nr.useState)(null),L=(0,nr.useRef)(null),O=(0,nr.useRef)(null),N=(0,nr.useRef)(!1);(0,nr.useEffect)((()=>{if("undefined"!=typeof window&&/iPad|iPhone|iPod/.test(window.navigator.userAgent)){const e=document.querySelectorAll('meta[name="viewport"]');e.length>0&&(e[0].content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0")}}),[]);const{register:M,handleSubmit:j,formState:{errors:R},watch:Q,setValue:P}=function(e={}){const t=nr.useRef(void 0),n=nr.useRef(void 0),[i,r]=nr.useState({isDirty:!1,isValidating:!1,isLoading:Oo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Oo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Aa(e),formState:i},e.formControl&&e.defaultValues&&!Oo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,da((()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r((e=>({...e,isReady:!0}))),s._formState.isReady=!0,e}),[s]),nr.useEffect((()=>s._disableForm(e.disabled)),[s,e.disabled]),nr.useEffect((()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode),e.errors&&!Do(e.errors)&&s._setErrors(e.errors)}),[s,e.errors,e.mode,e.reValidateMode]),nr.useEffect((()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})}),[s,e.shouldUnregister]),nr.useEffect((()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==i.isDirty&&s._subjects.state.next({isDirty:e})}}),[s,i.isDirty]),nr.useEffect((()=>{e.values&&!ko(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,r((e=>({...e})))):s._resetDefaultValues()}),[s,e.values]),nr.useEffect((()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()})),t.current.formState=So(i,s),t.current}({resolver:va(Tl().shape(Object.assign(Object.assign(Object.assign({},"production"===m?{email:fl().email("Invalid email").required("Please enter your email")}:{}),{title:fl(),description:fl(),assignee:il()}),"development"===m?{reporter:fl().required("Please select a reporter")}:{})))}),H=Q();(0,nr.useEffect)((()=>{w(Object.assign(Object.assign({},b),H))}),[null==H?void 0:H.title,null==H?void 0:H.description,null==H?void 0:H.assignee,null==H?void 0:H.reporter,null==H?void 0:H.email]),(0,nr.useEffect)((()=>{w(Object.assign(Object.assign({},b),{markerOpened:N.current}))}),[null==N?void 0:N.current]),(0,nr.useEffect)((()=>{(null==b?void 0:b.id)&&(P("title",null==b?void 0:b.title),P("description",null==b?void 0:b.description),P("assignee",null==b?void 0:b.assignee),P("reporter",null==b?void 0:b.reporter),P("email",null==b?void 0:b.email),N.current=null==b?void 0:b.markerOpened)}),[null==b?void 0:b.id]),(0,nr.useEffect)((()=>{"development"===m&&q()}),[]);const q=()=>nm(void 0,void 0,void 0,(function*(){try{d.log("fetchUsers",C,x);const e=yield Lr({apiKey:C}).catch((e=>nm(void 0,void 0,void 0,(function*(){if(401===e.status){const e=yield Dr({apiKey:C});B(e.accessToken),sessionStorage.setItem("accessToken",e.accessToken);return yield Lr({apiKey:C})}return[]}))));U(e)}catch(e){}}));(0,nr.useEffect)((()=>{var e,t,n;(null==L?void 0:L.current)&&(null==O?void 0:O.current)&&(null===(e=null==L?void 0:L.current)||void 0===e?void 0:e.width)&&(null===(t=null==L?void 0:L.current)||void 0===t?void 0:t.height)&&!F&&(null===(n=null==b?void 0:b.sessionHasScreenShot)||void 0===n?void 0:n.file)&&y&&V()}),[null==L?void 0:L.current,null===(e=null==L?void 0:L.current)||void 0===e?void 0:e.height,null===(n=null==b?void 0:b.sessionHasScreenShot)||void 0===n?void 0:n.file,y]);const V=()=>nm(void 0,void 0,void 0,(function*(){var e,n,i,r,s,o,a,l,u;if((null==L?void 0:L.current)&&(null==O?void 0:O.current)&&(null===(e=null==L?void 0:L.current)||void 0===e?void 0:e.width)&&(null===(n=null==L?void 0:L.current)||void 0===n?void 0:n.height)){if(N.current)return;N.current=!0,(null===(r=null===(i=null===document||void 0===document?void 0:document.getElementById(t))||void 0===i?void 0:i.shadowRoot)||void 0===r?void 0:r.querySelector(".__markerjs2_"))&&(null===(a=null===(o=null===(s=null===document||void 0===document?void 0:document.getElementById(t))||void 0===s?void 0:s.shadowRoot)||void 0===o?void 0:o.querySelector(".__markerjs2_"))||void 0===a||a.remove());const e=new Gs(null==L?void 0:L.current);e.targetRoot=O.current,e.renderAtNaturalSize=!0,e.renderImageType="image/png",e.settings.defaultColorsFollowCurrentColors=!0,e.settings.newFreehandMarkerOnPointerUp=!0,e.uiStyleSettings.redoButtonVisible=!0,e.uiStyleSettings.resultButtonBlockVisible=!0,e.uiStyleSettings.clearButtonVisible=!0,e.uiStyleSettings.toolbarStyleColorsClassName="bb-annotation-toolbar",e.uiStyleSettings.selectButtonColor="rgba(255, 255, 255, 0.6)",e.uiStyleSettings.deleteButtonColor="rgba(255, 255, 255, 0.6)",e.uiStyleSettings.okButtonColor="rgba(255, 255, 255, 0.6)",e.uiStyleSettings.closeButtonColor="rgba(255, 255, 255, 0.6)",e.uiStyleSettings.toolbarButtonStyleColorsClassName="bb-marker-toolbar-button",e.uiStyleSettings.toolbarActiveButtonStyleColorsClassName="bb-marker-toolbar-active-button",e.uiStyleSettings.toolbarOverflowBlockStyleColorsClassName="bb-marker",e.uiStyleSettings.toolboxStyleColorsClassName="bb-annotation-toolbox",e.uiStyleSettings.toolboxButtonRowStyleColorsClassName="bb-toolbox-bottom-row",e.uiStyleSettings.toolboxPanelRowStyleColorsClassName="bb-toolbox-top-row",e.uiStyleSettings.toolboxButtonStyleColorsClassName="bb-toolbox-button",e.uiStyleSettings.toolboxActiveButtonStyleColorsClassName="bb-toolbox-button-active",e.uiStyleSettings.toolboxAccentColor="#00da923d",e.settings.wrapText=!0,e.settings.displayMode="popup",e.uiStyleSettings.resultButtonBlockVisible=!0,e.styles.settings.toolbarHeight&&(e.settings.uiOffsetTop=-((null===(u=null===(l=null==e?void 0:e.styles)||void 0===l?void 0:l.settings)||void 0===u?void 0:u.toolbarHeight)+12)),e.availableMarkerTypes=e.availableMarkerTypes.map((e=>{switch(e.typeName){case"FrameMarker":e.icon='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M16.25 3.75H3.75V16.25H16.25V3.75ZM17.5 17V3C17.5 2.72386 17.2762 2.5 17 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V17C2.5 17.2762 2.72386 17.5 3 17.5H17C17.2762 17.5 17.5 17.2762 17.5 17Z" fill="currentColor"/>\n              </svg>\n              ',e.index=4;break;case"FreehandMarker":e.icon='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C7.02944 3 3 7.02944 3 12C3 16.9705 7.02944 21 12 21C16.9705 21 21 16.9705 21 12C21 7.02944 16.9705 3 12 3ZM4.5 12C4.5 7.85786 7.85786 4.5 12 4.5C16.1421 4.5 19.5 7.85787 19.5 12C19.5 14.6996 18.0737 17.066 15.9336 18.3869V13.3333C15.9336 13.2289 15.9063 13.1263 15.8545 13.0356L12.5212 7.20228C12.4143 7.01534 12.2155 6.89996 12.0002 6.89996C11.7849 6.89996 11.5861 7.01534 11.4793 7.20228L8.14595 13.0356C8.09414 13.1263 8.06689 13.2289 8.06689 13.3333V18.3872C5.9265 17.0664 4.5 14.6998 4.5 12ZM9.26689 18.9864C9.93606 19.2484 10.652 19.417 11.3988 19.4763V13.2789C11.3988 12.9785 11.6675 12.735 11.9988 12.735C12.3302 12.735 12.5988 12.9785 12.5988 13.2789V19.4764C13.3466 19.4174 14.0636 19.2486 14.7336 18.9862V13.4926L12.0002 8.7093L9.26689 13.4926V18.9864Z" fill="currentColor"/>\n              <path d="M14.9319 12.8844L14.9268 12.8889L14.9021 12.9098C14.8795 12.9289 14.8451 12.9572 14.8012 12.9917C14.7127 13.0613 14.5887 13.1534 14.4463 13.2445C14.1304 13.4465 13.841 13.5666 13.6634 13.5666C13.4858 13.5666 13.1964 13.4465 12.8805 13.2445C12.7381 13.1534 12.6141 13.0613 12.5256 12.9917C12.4816 12.9572 12.4473 12.9289 12.4246 12.9098L12.4 12.8888L12.395 12.8845L11.5986 13.7822L11.6005 13.7838L11.6039 13.7868L11.6149 13.7964L11.6523 13.8283C11.6839 13.8548 11.7286 13.8916 11.784 13.9352C11.8944 14.0219 12.0506 14.1381 12.2339 14.2554C12.5694 14.47 13.1133 14.7666 13.6634 14.7666C14.2134 14.7666 14.7574 14.47 15.0929 14.2554C15.2762 14.1381 15.4324 14.0219 15.5427 13.9352C15.5982 13.8916 15.6429 13.8548 15.6745 13.8283L15.7119 13.7964L15.7228 13.7868L15.7263 13.7838L15.7275 13.7828C15.9753 13.5628 15.9988 13.1828 15.7788 12.935C15.5589 12.6872 15.1798 12.6646 14.9319 12.8844Z" fill="currentColor"/>\n              <path d="M9.0661 12.8844L9.07128 12.8889L9.09593 12.9098C9.11855 12.9289 9.15292 12.9572 9.19685 12.9917C9.28533 13.0613 9.40933 13.1534 9.55174 13.2445C9.86765 13.4465 10.157 13.5666 10.3347 13.5666C10.5123 13.5666 10.8016 13.4465 11.1176 13.2445C11.26 13.1534 11.384 13.0613 11.4725 12.9917C11.5164 12.9572 11.5508 12.9289 11.5734 12.9098L11.598 12.8888L11.6031 12.8845L12.3994 13.7822L12.3975 13.7838L12.3941 13.7868L12.3832 13.7964L12.3457 13.8283C12.3141 13.8548 12.2695 13.8916 12.214 13.9352C12.1037 14.0219 11.9475 14.1381 11.7642 14.2554C11.4287 14.47 10.8847 14.7666 10.3347 14.7666C9.78461 14.7666 9.24063 14.47 8.90513 14.2554C8.72184 14.1381 8.56562 14.0219 8.45531 13.9352C8.39983 13.8916 8.35516 13.8548 8.32359 13.8283L8.28615 13.7964L8.27521 13.7868L8.27177 13.7838L8.27057 13.7828C8.02273 13.5628 7.99928 13.1828 8.21924 12.935C8.43914 12.6872 8.81826 12.6646 9.0661 12.8844Z" fill="currentColor"/>\n              </svg>\n              ',e.index=1;break;case"ArrowMarker":e.icon='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M8.12502 5C8.12502 4.65482 8.40484 4.375 8.75002 4.375H15C15.3452 4.375 15.625 4.65482 15.625 5V11.25C15.625 11.5952 15.3452 11.875 15 11.875C14.6548 11.875 14.375 11.5952 14.375 11.25V6.50888L5.44194 15.4419C5.19786 15.686 4.80214 15.686 4.55806 15.4419C4.31398 15.1979 4.31398 14.8021 4.55806 14.5581L13.4911 5.625H8.75002C8.40484 5.625 8.12502 5.34518 8.12502 5Z" fill="currentColor"/>\n              </svg>\n              ',e.index=2;break;case"TextMarker":e.icon='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M5.83374 5.20836C5.48856 5.20836 5.20874 5.48818 5.20874 5.83336V7.50003C5.20874 7.8452 5.48856 8.12503 5.83374 8.12503C6.17892 8.12503 6.45874 7.8452 6.45874 7.50003V6.45836H9.37541V13.5417H8.33374C7.98856 13.5417 7.70874 13.8215 7.70874 14.1667C7.70874 14.5119 7.98856 14.7917 8.33374 14.7917H11.6671C12.0123 14.7917 12.2921 14.5119 12.2921 14.1667C12.2921 13.8215 12.0123 13.5417 11.6671 13.5417H10.6254V6.45836H13.5421V7.50003C13.5421 7.8452 13.8219 8.12503 14.1671 8.12503C14.5123 8.12503 14.7921 7.8452 14.7921 7.50003V5.83336C14.7921 5.48818 14.5123 5.20836 14.1671 5.20836H5.83374Z" fill="currentColor"/>\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M16.25 3.75H3.75V16.25H16.25V3.75ZM17.5 17V3C17.5 2.72386 17.2762 2.5 17 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V17C2.5 17.2762 2.72386 17.5 3 17.5H17C17.2762 17.5 17.5 17.2762 17.5 17Z" fill="currentColor"/>\n              </svg>\n              \n              ',e.index=5;break;case"EllipseMarker":e.icon='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M10 16.25C13.4518 16.25 16.25 13.4518 16.25 10C16.25 6.54822 13.4518 3.75 10 3.75C6.54822 3.75 3.75 6.54822 3.75 10C3.75 13.4518 6.54822 16.25 10 16.25ZM10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z" fill="currentColor"/>\n              </svg>\n              ',e.index=3;break;case"HighlightMarker":e.icon='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 2.5H5V3.125H15V2.5H17.5V5H16.875V15H17.5V17.5H15V16.875H5V17.5H2.5V15H3.125V5H2.5V2.5ZM15.7292 5V15H15V15.7292H12.9688V12.9147C12.9688 12.5696 12.6889 12.2897 12.3438 12.2897V11.1647C12.3438 10.8195 12.0639 10.5397 11.7188 10.5397V7.38064C11.7188 7.14833 11.4743 6.99724 11.2665 7.10113L8.62674 8.421C8.415 8.52687 8.28125 8.74329 8.28125 8.98002V10.5397C7.93607 10.5397 7.65625 10.8195 7.65625 11.1647V12.2897C7.31107 12.2897 7.03125 12.5696 7.03125 12.9147V15.7292H5V15H4.27083V5H5V4.27083H15V5H15.7292ZM7.96875 15.7292H12.0312V13.2272H7.96875V15.7292ZM10.7812 8.39191V10.5397H9.21875V9.17316L10.7812 8.39191ZM11.4062 12.2897V11.4772H8.59375V12.2897H11.4062Z" fill="currentColor"/>\n              </svg>            \n            ',e.index=7;break;case"CalloutMarker":e.icon='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M6.09375 10C6.09375 9.56859 6.44352 9.21875 6.875 9.21875C7.30648 9.21875 7.65625 9.56859 7.65625 10C7.65625 10.4314 7.30648 10.7812 6.875 10.7812C6.44352 10.7812 6.09375 10.4314 6.09375 10Z" fill="currentColor"/>\n              <path d="M10 9.21875C9.56858 9.21875 9.21875 9.56858 9.21875 10C9.21875 10.4314 9.56858 10.7812 10 10.7812C10.4314 10.7812 10.7812 10.4314 10.7812 10C10.7812 9.56858 10.4314 9.21875 10 9.21875Z" fill="currentColor"/>\n              <path d="M13.125 9.21875C12.6936 9.21875 12.3438 9.56858 12.3438 10C12.3438 10.4314 12.6936 10.7812 13.125 10.7812C13.5564 10.7812 13.9062 10.4314 13.9062 10C13.9062 9.56858 13.5564 9.21875 13.125 9.21875Z" fill="currentColor"/>\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M3.50337 13.75L2.875 17.125L6.25 16.4967C7.35315 17.1348 8.63395 17.5 10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 11.3661 2.86523 12.6468 3.50337 13.75ZM4.73225 13.9788C4.78685 13.6855 4.73476 13.3823 4.58538 13.1241C4.05433 12.2061 3.75 11.1404 3.75 10C3.75 6.54822 6.54822 3.75 10 3.75C13.4517 3.75 16.25 6.54822 16.25 10C16.25 13.4517 13.4517 16.25 10 16.25C8.85956 16.25 7.79393 15.9457 6.87588 15.4146C6.61764 15.2653 6.3145 15.2132 6.02121 15.2678L4.43736 15.5626L4.73225 13.9788Z" fill="currentColor"/>\n              </svg>\n              \n              ',e.index=6}return e})).sort(((e,t)=>e.index-t.index));let n=1,c="end";const A=e=>{n=e};e.addEventListener("markercreating",(t=>nm(void 0,void 0,void 0,(function*(){var i,r,s;"FreehandMarker"===(null===(i=null==t?void 0:t.marker)||void 0===i?void 0:i.typeName)&&(t.marker.lineWidthPanel.onWidthChanged=n=>{e.settings.defaultStrokeWidth=n,t.marker.setLineWidth(n)}),"ArrowMarker"===(null===(r=null==t?void 0:t.marker)||void 0===r?void 0:r.typeName)&&(t.marker.setArrowType(c||"end"),t.marker.arrowTypePanel.currentType=c||"end"),"EllipseMarker"===(null===(s=null==t?void 0:t.marker)||void 0===s?void 0:s.typeName)&&(t.marker.setOpacity(n),t.marker.opacityPanel.currentOpacity=n)}))));const d=t=>nm(void 0,void 0,void 0,(function*(){const n={};e.settings.defaultColor="CalloutMarker"!==t.typeName&&(t.strokeColor||t.color)||e.settings.defaultColor,e.settings.defaultStrokeColor="CalloutMarker"===t.typeName&&(t.strokeColor||t.color)||e.settings.defaultStrokeColor,e.settings.defaultFillColor="FrameMarker"!==t.typeName&&(t.fillColor||t.bgColor)||e.settings.defaultFillColor,e.settings.defaultHighlightColor="HighlightMarker"===t.typeName?t.fillColor:e.settings.defaultHighlightColor,e.settings.defaultHighlightOpacity="HighlightMarker"===t.typeName?t.opacity:e.settings.defaultHighlightOpacity,e.settings.defaultStrokeWidth=t.strokeWidth||e.settings.defaultStrokeWidth,e.settings.defaultStrokeDasharray="string"==typeof t.strokeDasharray?t.strokeDasharray:e.settings.defaultStrokeDasharray,e.settings.defaultFontFamily=t.fontFamily||e.settings.defaultFontFamily,"ArrowMarker"===t.typeName&&(n.defaultArrowType=t.arrowType,c=t.arrowType),n.defaultColor=e.settings.defaultColor,n.defaultFillColor=e.settings.defaultFillColor,n.defaultHighlightColor=e.settings.defaultHighlightColor,n.defaultStrokeWidth=e.settings.defaultStrokeWidth,n.defaultStrokeDasharray=e.settings.defaultStrokeDasharray,n.defaultHighlightOpacity=e.settings.defaultHighlightOpacity,n.defaultFontFamily=e.settings.defaultFontFamily,n.defaultStrokeColor=e.settings.defaultStrokeColor,"EllipseMarker"===t.typeName&&A(t.opacity)}));e.addEventListener("close",(()=>{D(null)})),e.addEventListener("blur",(()=>nm(void 0,void 0,void 0,(function*(){if(e.getState().markers.length){const t=e.getState().markers[e.getState().markers.length-1];d(t)}})))),e.addEventListener("markerchange",(e=>nm(void 0,void 0,void 0,(function*(){var t;const n=null===(t=null==e?void 0:e.marker)||void 0===t?void 0:t.getState();d(n)})))),e.addEventListener("markercreate",(e=>nm(void 0,void 0,void 0,(function*(){var t;const n=null===(t=null==e?void 0:e.marker)||void 0===t?void 0:t.getState();"FreehandMarker"===n.typeName&&(n.strokeWidth=e.marker.lineWidth),d(n)})))),e.show(),D(e)}})),z=(0,nr.useCallback)((e=>{const t=window.event?event:e;"z"!==t.key&&"Z"!==t.key||!(t.metaKey&&/Mac OS/.test(navigator.userAgent)||t.ctrlKey)||!(null==F?void 0:F.isUndoPossible)||t.shiftKey||null==F||F.undo();const n="y"===t.key&&(t.metaKey&&/Mac OS/.test(navigator.userAgent)||t.ctrlKey);(("Z"===t.key||"z"===t.key)&&(t.metaKey&&/Mac OS/.test(navigator.userAgent)||t.ctrlKey)&&t.shiftKey||n)&&(null==F?void 0:F.isRedoPossible)&&(null==F||F.redo())}),[F]);(0,nr.useEffect)((()=>(document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)})),[z]);const K=e=>{var t,n,i;w((t=>(t=st(t),Object.assign(Object.assign({},t),{sessionHasScreenShot:Object.assign(Object.assign({},null==t?void 0:t.sessionHasScreenShot),{file:e.dataUrl})})))),n=null==b?void 0:b.id,i={id:null===(t=null==b?void 0:b.sessionHasScreenShot)||void 0===t?void 0:t.id,file:e.dataUrl},hr(void 0,void 0,void 0,(function*(){const e=yield cr();return!(!n||!i)&&(yield e.screenshots.update(n,i))}))};return(0,nr.useEffect)((()=>(null==F||F.addEventListener("render",K),()=>{null==F||F.removeEventListener("render",K)})),[F,K]),(0,tr.jsxs)("div",{style:{maxHeight:"85vh"},className:"bg-[#1E1E1E] rounded-2xl w-[440px] shadow-lg flex flex-col",children:[(0,tr.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#2A2A2A]",children:[(0,tr.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Report Bug"}),(0,tr.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white transition-colors duration-200 p-1 rounded-md hover:bg-white/10",type:"button","aria-label":"Close",children:(0,tr.jsx)(sr,{className:"w-3 h-3"})})]}),(0,tr.jsxs)("div",{className:"flex-grow overflow-y-auto p-4 flex flex-col gap-4",children:[(0,tr.jsx)("div",{className:"space-y-1",children:(0,tr.jsxs)("div",{className:"relative group",children:[(0,tr.jsx)("div",{className:((null===(i=null==b?void 0:b.sessionHasRewind)||void 0===i?void 0:i.file)||(null===(r=null==b?void 0:b.sessionHasVideo)||void 0===r?void 0:r.file)?"h-48":"")+" bb-editor-container w-full flex-shrink-0 cursor-pointer bg-[#2A2A2A] rounded-lg overflow-hidden border border-[#3A3A3A] transition-all duration-200 hover:border-[#00DA92]",ref:O,children:(null===(s=null==b?void 0:b.sessionHasScreenShot)||void 0===s?void 0:s.file)||(null===(o=null==b?void 0:b.sessionHasRewind)||void 0===o?void 0:o.file)||(null===(a=null==b?void 0:b.sessionHasVideo)||void 0===a?void 0:a.file)?(0,tr.jsx)("img",{ref:L,src:(null===(l=null==b?void 0:b.sessionHasScreenShot)||void 0===l?void 0:l.file)||(null===(u=null==b?void 0:b.sessionHasRewind)||void 0===u?void 0:u.file)||(null===(c=null==b?void 0:b.sessionHasVideo)||void 0===c?void 0:c.file),alt:"Screenshot preview",className:"bb-editor-image w-full h-full object-cover"}):(0,tr.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:(0,tr.jsxs)("div",{className:"text-center",children:[(0,tr.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2",viewBox:"0 0 24 24",fill:"none",children:(0,tr.jsx)("path",{d:"M12 8V16M8 12H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),(0,tr.jsxs)("span",{children:["Click to add"," ","screenshot"===(null==b?void 0:b.type)?"screenshot":"recording"]})]})})}),((null===(A=null==b?void 0:b.sessionHasScreenShot)||void 0===A?void 0:A.file)||(null===(h=null==b?void 0:b.sessionHasRewind)||void 0===h?void 0:h.file)||(null===(p=null==b?void 0:b.sessionHasVideo)||void 0===p?void 0:p.file))&&(0,tr.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex opacity-0 group-hover:opacity-100 transition-opacity",children:[(null===(f=null==b?void 0:b.sessionHasScreenShot)||void 0===f?void 0:f.file)&&!y?null:(0,tr.jsx)("button",{onClick:()=>{nm(void 0,void 0,void 0,(function*(){"rewind"===(null==b?void 0:b.type)?T(!0):"screenshot"===(null==b?void 0:b.type)&&y?(N.current=!1,V()):"screenRecording"===(null==b?void 0:b.type)&&T(!0)}))},className:"flex-1 py-2.5 bg-[#2A2A2A]/90 text-[#00DA92] hover:bg-[#2A2A2A] backdrop-blur-sm transition-colors text-sm font-medium",children:(null===(g=null==b?void 0:b.sessionHasVideo)||void 0===g?void 0:g.file)?"Preview":"Edit"}),(0,tr.jsx)("button",{onClick:()=>{k()},className:"flex-1 py-2.5 bg-[#2A2A2A]/90 text-[#FF4D4D] hover:bg-[#2A2A2A] backdrop-blur-sm transition-colors text-sm font-medium",children:"Discard"})]})]})}),"production"===m&&(0,tr.jsxs)("div",{className:"space-y-1",children:[(0,tr.jsxs)("label",{htmlFor:"email",className:"text-sm text-gray-400",children:["Email",(0,tr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,tr.jsx)("input",Object.assign({},M("email"),{id:"email",type:"email",placeholder:"Enter your email",className:"text-[12px] w-full bg-[#2A2A2A] text-white px-4 py-2.5 rounded-lg border border-[#3A3A3A] focus:outline-none focus:border-[#00DA92] transition-colors placeholder:text-gray-500"})),R.email&&(0,tr.jsx)("p",{className:"text-red-500 text-sm",children:R.email.message})]}),(0,tr.jsxs)("div",{className:"space-y-1",children:[(0,tr.jsx)("label",{htmlFor:"bugTitle",className:"text-sm text-gray-400",children:"Title"}),(0,tr.jsx)("input",Object.assign({},M("title"),{id:"title",type:"text",placeholder:"Enter a descriptive title",className:"text-[12px] w-full bg-[#2A2A2A] text-white px-4 py-2.5 rounded-lg border border-[#3A3A3A] focus:outline-none focus:border-[#00DA92] transition-colors placeholder:text-gray-500"}))]}),(0,tr.jsxs)("div",{className:"space-y-1",children:[(0,tr.jsx)("label",{htmlFor:"description",className:"text-sm text-gray-400",children:"Description"}),(0,tr.jsx)(tm,{value:(null==H?void 0:H.description)||"",setValue:e=>P("description",e)})]}),"development"===m&&(0,tr.jsxs)(tr.Fragment,{children:[(0,tr.jsxs)("div",{className:"space-y-2",children:[(0,tr.jsx)("label",{className:"block text-white/60 text-sm",children:"Add assignee"}),(0,tr.jsxs)("select",Object.assign({},M("assignee"),{id:"assignee",className:"text-[12px] w-full bg-[#272d2c] border border-white/10 rounded-lg p-2 text-white/60 focus:outline-none focus:border-[#00da92]",value:null==H?void 0:H.assignee,children:[(0,tr.jsx)("option",{value:"",children:"Select assignee"}),null==I?void 0:I.map((e=>(0,tr.jsx)("option",{value:e.id,children:e.name},e.id)))]}))]}),(0,tr.jsxs)("div",{className:"space-y-2",children:[(0,tr.jsxs)("label",{className:"block text-white/60 text-sm",children:["Add bug reporter",(0,tr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,tr.jsxs)("select",Object.assign({},M("reporter"),{id:"reporter",className:"text-[12px] w-full bg-[#272d2c] border border-white/10 rounded-lg p-2 text-white/60 focus:outline-none focus:border-[#00da92]",value:(null==H?void 0:H.reporter)||"",children:[(0,tr.jsx)("option",{value:"",children:"Select reporter"}),null==I?void 0:I.map((e=>(0,tr.jsx)("option",{value:e.id,children:e.name},e.id)))]})),R.reporter&&(0,tr.jsx)("p",{className:"text-red-500 text-sm",children:R.reporter.message})]})]})]}),(0,tr.jsxs)("div",{className:"p-4 flex gap-3 items-center justify-between",children:[(0,tr.jsx)("button",{onClick:()=>{k(),v(!1)},className:"flex-1 py-3 bg-[#2A2A2A] text-white rounded-lg hover:bg-[#3A3A3A] transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-[#3A3A3A] "+(_?"cursor-not-allowed":""),disabled:_,children:"Discard"}),(0,tr.jsx)("button",{onClick:j((e=>S(e))),className:"flex-1 py-3 bg-[#00DA92] text-black rounded-lg hover:bg-[#00DA92]/90 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-[#00DA92]/50 "+(_?"shimmer-btn cursor-not-allowed":""),disabled:_,children:E})]}),(0,tr.jsx)("div",{className:"pb-3 text-center",children:(0,tr.jsxs)("span",{className:"text-xs text-gray-500 flex items-center justify-center gap-1",children:["Powered by"," ",(0,tr.jsxs)("a",{href:"https://betterbugs.io",target:"_blank",rel:"noopener noreferrer",className:"!hover:text-success/80 flex items-center gap-1",children:[(0,tr.jsx)(Wr,{className:"w-4 h-4 inline-block text-success/80",fill:"currentColor"}),"Betterbugs"]})]})})]})},rm=n(2491),sm=n.n(rm);function om(){}function am(e,t){for(const n in t)e[n]=t[n];return e}function lm(e){return e()}function um(){return Object.create(null)}function cm(e){e.forEach(lm)}function Am(e){return"function"==typeof e}function dm(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function hm(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function pm(e,t){e.appendChild(t)}function fm(e,t,n){e.insertBefore(t,n||null)}function gm(e){e.parentNode&&e.parentNode.removeChild(e)}function mm(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function vm(e){return document.createElement(e)}function ym(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function bm(e){return document.createTextNode(e)}function wm(){return bm(" ")}function Cm(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function xm(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Bm(e,t){t=""+t,e.data!==t&&(e.data=t)}function Sm(e,t,n,i){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function _m(e,t,n){e.classList[n?"add":"remove"](t)}let km;function Tm(e){km=e}function Em(){if(!km)throw new Error("Function called outside component initialization");return km}function Im(e){Em().$$.on_mount.push(e)}function Um(e){Em().$$.on_destroy.push(e)}const Fm=[],Dm=[];let Lm=[];const Om=[],Nm=Promise.resolve();let Mm=!1;function jm(e){Lm.push(e)}const Rm=new Set;let Qm=0;function Pm(){if(0!==Qm)return;const e=km;do{try{for(;Qm<Fm.length;){const e=Fm[Qm];Qm++,Tm(e),Hm(e.$$)}}catch(e){throw Fm.length=0,Qm=0,e}for(Tm(null),Fm.length=0,Qm=0;Dm.length;)Dm.pop()();for(let e=0;e<Lm.length;e+=1){const t=Lm[e];Rm.has(t)||(Rm.add(t),t())}Lm.length=0}while(Fm.length);for(;Om.length;)Om.pop()();Mm=!1,Rm.clear(),Tm(e)}function Hm(e){if(null!==e.fragment){e.update(),cm(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(jm)}}const qm=new Set;let Vm;function zm(){Vm={r:0,c:[],p:Vm}}function Km(){Vm.r||cm(Vm.c),Vm=Vm.p}function Gm(e,t){e&&e.i&&(qm.delete(e),e.i(t))}function Wm(e,t,n,i){if(e&&e.o){if(qm.has(e))return;qm.add(e),Vm.c.push((()=>{qm.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}else i&&i()}function $m(e){e&&e.c()}function Xm(e,t,n,i){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),i||jm((()=>{const t=e.$$.on_mount.map(lm).filter(Am);e.$$.on_destroy?e.$$.on_destroy.push(...t):cm(t),e.$$.on_mount=[]})),s.forEach(jm)}function Ym(e,t){const n=e.$$;null!==n.fragment&&(function(e){const t=[],n=[];Lm.forEach((i=>-1===e.indexOf(i)?t.push(i):n.push(i))),n.forEach((e=>e())),Lm=t}(n.after_update),cm(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Jm(e,t,n,i,r,s,o,a=[-1]){const l=km;Tm(e);const u=e.$$={fragment:null,ctx:[],props:s,update:om,not_equal:r,bound:um(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:um(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},((t,n,...i)=>{const s=i.length?i[0]:n;return u.ctx&&r(u.ctx[t],u.ctx[t]=s)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](s),c&&function(e,t){-1===e.$$.dirty[0]&&(Fm.push(e),Mm||(Mm=!0,Nm.then(Pm)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],u.update(),c=!0,cm(u.before_update),u.fragment=!!i&&i(u.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);u.fragment&&u.fragment.l(e),e.forEach(gm)}else u.fragment&&u.fragment.c();t.intro&&Gm(e.$$.fragment),Xm(e,t.target,t.anchor,t.customElement),Pm()}Tm(l)}class Zm{$destroy(){Ym(this,1),this.$destroy=om}$on(e,t){if(!Am(t))return om;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ev;function tv(e){return e.nodeType===e.ELEMENT_NODE}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(ev||(ev={}));class nv{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function iv(){return new nv}const rv=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function sv(e,t={}){let n=1,i=1;function r(e){const t=e.match(/\n/g);t&&(n+=t.length);const r=e.lastIndexOf("\n");i=-1===r?i+e.length:e.length-r}function s(){const e={line:n,column:i};return t=>(t.position=new o(e),h(),t)}class o{constructor(e){this.start=e,this.end={line:n,column:i},this.source=t.source}}o.prototype.content=e;const a=[];function l(r){const s=new Error(`${t.source||""}:${n}:${i}: ${r}`);if(s.reason=r,s.filename=t.source,s.line=n,s.column=i,s.source=e,!t.silent)throw s;a.push(s)}function u(){return d(/^{\s*/)}function c(){return d(/^}/)}function A(){let t;const n=[];for(h(),p(n);e.length&&"}"!==e.charAt(0)&&(t=B()||S());)t&&(n.push(t),p(n));return n}function d(t){const n=t.exec(e);if(!n)return;const i=n[0];return r(i),e=e.slice(i.length),n}function h(){d(/^\s*/)}function p(e=[]){let t;for(;t=f();)t&&e.push(t),t=f();return e}function f(){const t=s();if("/"!==e.charAt(0)||"*"!==e.charAt(1))return;let n=2;for(;""!==e.charAt(n)&&("*"!==e.charAt(n)||"/"!==e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return l("End of comment missing");const o=e.slice(2,n-2);return i+=2,r(o),e=e.slice(n),i+=2,t({type:"comment",comment:o})}function g(){const e=d(/^([^{]+)/);if(e)return ov(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(e=>e.replace(/,/g,"‌"))).split(/\s*(?![^(]*\)),\s*/).map((e=>e.replace(/\u200C/g,",")))}function m(){const e=s(),t=d(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!t)return;const n=ov(t[0]);if(!d(/^:\s*/))return l("property missing ':'");const i=d(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r=e({type:"declaration",property:n.replace(rv,""),value:i?ov(i[0]).replace(rv,""):""});return d(/^[;\s]*/),r}function v(){const e=[];if(!u())return l("missing '{'");let t;for(p(e);t=m();)!1!==t&&(e.push(t),p(e)),t=m();return c()?e:l("missing '}'")}function y(){let e;const t=[],n=s();for(;e=d(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),d(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:v()})}const b=x("import"),w=x("charset"),C=x("namespace");function x(e){const t=new RegExp("^@"+e+"\\s*([^;]+);");return()=>{const n=s(),i=d(t);if(!i)return;const r={type:e};return r[e]=i[1].trim(),n(r)}}function B(){if("@"===e[0])return function(){const e=s();let t=d(/^@([-\w]+)?keyframes\s*/);if(!t)return;const n=t[1];if(t=d(/^([-\w]+)\s*/),!t)return l("@keyframes missing name");const i=t[1];if(!u())return l("@keyframes missing '{'");let r,o=p();for(;r=y();)o.push(r),o=o.concat(p());return c()?e({type:"keyframes",name:i,vendor:n,keyframes:o}):l("@keyframes missing '}'")}()||function(){const e=s(),t=d(/^@media *([^{]+)/);if(!t)return;const n=ov(t[1]);if(!u())return l("@media missing '{'");const i=p().concat(A());return c()?e({type:"media",media:n,rules:i}):l("@media missing '}'")}()||function(){const e=s(),t=d(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:ov(t[1]),media:ov(t[2])})}()||function(){const e=s(),t=d(/^@supports *([^{]+)/);if(!t)return;const n=ov(t[1]);if(!u())return l("@supports missing '{'");const i=p().concat(A());return c()?e({type:"supports",supports:n,rules:i}):l("@supports missing '}'")}()||b()||w()||C()||function(){const e=s(),t=d(/^@([-\w]+)?document *([^{]+)/);if(!t)return;const n=ov(t[1]),i=ov(t[2]);if(!u())return l("@document missing '{'");const r=p().concat(A());return c()?e({type:"document",document:i,vendor:n,rules:r}):l("@document missing '}'")}()||function(){const e=s();if(!d(/^@page */))return;const t=g()||[];if(!u())return l("@page missing '{'");let n,i=p();for(;n=m();)i.push(n),i=i.concat(p());return c()?e({type:"page",selectors:t,declarations:i}):l("@page missing '}'")}()||function(){const e=s();if(!d(/^@host\s*/))return;if(!u())return l("@host missing '{'");const t=p().concat(A());return c()?e({type:"host",rules:t}):l("@host missing '}'")}()||function(){const e=s();if(!d(/^@font-face\s*/))return;if(!u())return l("@font-face missing '{'");let t,n=p();for(;t=m();)n.push(t),n=n.concat(p());return c()?e({type:"font-face",declarations:n}):l("@font-face missing '}'")}()}function S(){const e=s(),t=g();return t?(p(),e({type:"rule",selectors:t,declarations:v()})):l("selector missing")}return av(function(){const e=A();return{type:"stylesheet",stylesheet:{source:t.source,rules:e,parsingErrors:a}}}())}function ov(e){return e?e.replace(/^\s+|\s+$/g,""):""}function av(e,t){const n=e&&"string"==typeof e.type,i=n?e:t;for(const t of Object.keys(e)){const n=e[t];Array.isArray(n)?n.forEach((e=>{av(e,i)})):n&&"object"==typeof n&&av(n,i)}return n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}const lv={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function uv(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const cv=/(max|min)-device-(width|height)/,Av=new RegExp(cv.source,"g"),dv=/([^\\]):hover/,hv=new RegExp(dv.source,"g");function pv(e,t){const n=null==t?void 0:t.stylesWithHoverClass.get(e);if(n)return n;const i=sv(e,{silent:!0});if(!i.stylesheet)return e;const r=[],s=[];!function e(t){"selectors"in t&&t.selectors&&t.selectors.forEach((e=>{dv.test(e)&&r.push(e)})),"media"in t&&t.media&&cv.test(t.media)&&s.push(t.media),"rules"in t&&t.rules&&t.rules.forEach(e)}(i.stylesheet);let o=e;if(r.length>0){const e=new RegExp(r.filter(((e,t)=>r.indexOf(e)===t)).sort(((e,t)=>t.length-e.length)).map((e=>uv(e))).join("|"),"g");o=o.replace(e,(e=>{const t=e.replace(hv,"$1.\\:hover");return`${e}, ${t}`}))}if(s.length>0){const e=new RegExp(s.filter(((e,t)=>s.indexOf(e)===t)).sort(((e,t)=>t.length-e.length)).map((e=>uv(e))).join("|"),"g");o=o.replace(e,(e=>e.replace(Av,"$1-$2")))}return null==t||t.stylesWithHoverClass.set(e,o),o}function fv(){return{stylesWithHoverClass:new Map}}function gv(e,t){const{doc:n,mirror:i,skipChild:r=!1,hackCss:s=!0,afterAppend:o,cache:a}=t;if(i.has(e.id)){const t=i.getNode(e.id);if(function(e,t){return!(!e||!t||e.type!==t.type)&&(e.type===ev.Document?e.compatMode===t.compatMode:e.type===ev.DocumentType?e.name===t.name&&e.publicId===t.publicId&&e.systemId===t.systemId:e.type===ev.Comment||e.type===ev.Text||e.type===ev.CDATA?e.textContent===t.textContent:e.type===ev.Element&&e.tagName===t.tagName&&JSON.stringify(e.attributes)===JSON.stringify(t.attributes)&&e.isSVG===t.isSVG&&e.needBlock===t.needBlock)}(i.getMeta(t),e))return i.getNode(e.id)}let l=function(e,t){var n;const{doc:i,hackCss:r,cache:s}=t;switch(e.type){case ev.Document:return i.implementation.createDocument(null,"",null);case ev.DocumentType:return i.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case ev.Element:{const t=function(e){let t=lv[e.tagName]?lv[e.tagName]:e.tagName;return"link"===t&&e.attributes._cssText&&(t="style"),t}(e);let o;e.isSVG?o=i.createElementNS("http://www.w3.org/2000/svg",t):(e.isCustom&&(null===(n=i.defaultView)||void 0===n?void 0:n.customElements)&&!i.defaultView.customElements.get(e.tagName)&&i.defaultView.customElements.define(e.tagName,class extends i.defaultView.HTMLElement{}),o=i.createElement(t));const a={};for(const n in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,n))continue;let l=e.attributes[n];if("option"===t&&"selected"===n&&!1===l)continue;if(null===l)continue;if(!0===l&&(l=""),n.startsWith("rr_")){a[n]=l;continue}const u="textarea"===t&&"value"===n,c="style"===t&&"_cssText"===n;if(c&&r&&"string"==typeof l&&(l=pv(l,s)),!u&&!c||"string"!=typeof l)try{if(e.isSVG&&"xlink:href"===n)o.setAttributeNS("http://www.w3.org/1999/xlink",n,l.toString());else if("onload"===n||"onclick"===n||"onmouse"===n.substring(0,7))o.setAttribute("_"+n,l.toString());else{if("meta"===t&&"Content-Security-Policy"===e.attributes["http-equiv"]&&"content"===n){o.setAttribute("csp-content",l.toString());continue}("link"!==t||"preload"!==e.attributes.rel&&"modulepreload"!==e.attributes.rel||"script"!==e.attributes.as)&&("link"===t&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")||("img"===t&&e.attributes.srcset&&e.attributes.rr_dataURL?o.setAttribute("rrweb-original-srcset",e.attributes.srcset):o.setAttribute(n,l.toString())))}}catch(e){}else o.appendChild(i.createTextNode(l)),e.childNodes=[]}for(const n in a){const i=a[n];if("canvas"===t&&"rr_dataURL"===n){const e=document.createElement("img");e.onload=()=>{const t=o.getContext("2d");t&&t.drawImage(e,0,0,e.width,e.height)},e.src=i.toString(),o.RRNodeType&&(o.rr_dataURL=i.toString())}else if("img"===t&&"rr_dataURL"===n){const t=o;t.currentSrc.startsWith("data:")||(t.setAttribute("rrweb-original-src",e.attributes.src),t.src=i.toString())}if("rr_width"===n)o.style.width=i.toString();else if("rr_height"===n)o.style.height=i.toString();else if("rr_mediaCurrentTime"===n&&"number"==typeof i)o.currentTime=i;else if("rr_mediaState"===n)switch(i){case"played":o.play().catch((e=>{}));break;case"paused":o.pause()}}if(e.isShadowHost)if(o.shadowRoot)for(;o.shadowRoot.firstChild;)o.shadowRoot.removeChild(o.shadowRoot.firstChild);else o.attachShadow({mode:"open"});return o}case ev.Text:return i.createTextNode(e.isStyle&&r?pv(e.textContent,s):e.textContent);case ev.CDATA:return i.createCDATASection(e.textContent);case ev.Comment:return i.createComment(e.textContent);default:return null}}(e,{doc:n,hackCss:s,cache:a});if(!l)return null;if(e.rootId&&i.getNode(e.rootId)!==n&&i.replace(e.rootId,n),e.type===ev.Document&&(n.close(),n.open(),"BackCompat"===e.compatMode&&e.childNodes&&e.childNodes[0].type!==ev.DocumentType&&(e.childNodes[0].type===ev.Element&&"xmlns"in e.childNodes[0].attributes&&"http://www.w3.org/1999/xhtml"===e.childNodes[0].attributes.xmlns?n.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):n.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),l=n),i.add(l,e),(e.type===ev.Document||e.type===ev.Element)&&!r)for(const t of e.childNodes){const r=gv(t,{doc:n,mirror:i,skipChild:!1,hackCss:s,afterAppend:o,cache:a});if(r){if(t.isShadow&&tv(l)&&l.shadowRoot)l.shadowRoot.appendChild(r);else if(e.type===ev.Document&&t.type==ev.Element){const e=r;let t=null;e.childNodes.forEach((e=>{"BODY"===e.nodeName&&(t=e)})),t?(e.removeChild(t),l.appendChild(r),e.appendChild(t)):l.appendChild(r)}else l.appendChild(r);o&&o(r,t.id)}}return l}let mv={map:{},getId:()=>-1,getNode:()=>null,removeNodeFromMap(){},has:()=>!1,reset(){}};function vv(e){const t={},n=(e,n)=>{const i={value:e,parent:n,children:[]};return t[e.node.id]=i,i},i=[];for(const r of e){const{nextId:e,parentId:s}=r;if(e&&e in t){const s=t[e];if(s.parent){const e=s.parent.children.indexOf(s);s.parent.children.splice(e,0,n(r,s.parent))}else{const e=i.indexOf(s);i.splice(e,0,n(r,null))}}else if(s in t){const e=t[s];e.children.push(n(r,e))}else i.push(n(r,null))}return i}function yv(e,t){t(e.value);for(let n=e.children.length-1;n>=0;n--)yv(e.children[n],t)}function bv(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function wv(e,t){var n,i;const r=null===(i=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===i?void 0:i.frameElement;if(!r||r===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};const s=r.getBoundingClientRect(),o=wv(r,t),a=s.height/r.clientHeight;return{x:s.x*o.relativeScale+o.x,y:s.y*o.relativeScale+o.y,relativeScale:a,absoluteScale:o.absoluteScale*a}}function Cv(e){return Boolean(null==e?void 0:e.shadowRoot)}function xv(e,t){const n=e[t[0]];return 1===t.length?n:xv(n.cssRules[t[1]].cssRules,t.slice(2))}function Bv(e){const t=[...e],n=t.pop();return{positions:t,index:n}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(mv=new Proxy(mv,{get:(e,t,n)=>Reflect.get(e,t,n)})),/[1-9][0-9]{12}/.test(Date.now().toString());class Sv{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}var _v,kv=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(kv||{}),Tv=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Tv||{}),Ev=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ev||{}),Iv=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Iv||{}),Uv=(e=>(e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back",e.Destroy="destroy",e))(Uv||{});function Fv(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}for(var Dv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lv="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ov=0;Ov<64;Ov++)Lv[Dv.charCodeAt(Ov)]=Ov;iv(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(_v||(_v={}));class Nv{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Mv(e){const t=[];for(const n in e){const i=e[n];if("string"!=typeof i)continue;const r=Hv(n);t.push(`${r}: ${i};`)}return t.join(" ")}const jv=/-([a-z])/g,Rv=/^--[a-zA-Z0-9-]+$/,Qv=e=>Rv.test(e)?e:e.replace(jv,((e,t)=>t?t.toUpperCase():"")),Pv=/\B([A-Z])/g,Hv=e=>e.replace(Pv,"-$1").toLowerCase();class qv{constructor(...e){this.parentElement=null,this.parentNode=null,this.firstChild=null,this.lastChild=null,this.previousSibling=null,this.nextSibling=null,this.ELEMENT_NODE=Zv.ELEMENT_NODE,this.TEXT_NODE=Zv.TEXT_NODE}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof qv))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}function Vv(e){return class extends e{constructor(e,t,n){super(),this.nodeType=Zv.DOCUMENT_TYPE_NODE,this.RRNodeType=_v.DocumentType,this.name=e,this.publicId=t,this.systemId=n,this.nodeName=e,this.textContent=null}toString(){return"RRDocumentType"}}}function zv(e){return class extends e{constructor(e){super(),this.nodeType=Zv.ELEMENT_NODE,this.RRNodeType=_v.Element,this.attributes={},this.shadowRoot=null,this.tagName=e.toUpperCase(),this.nodeName=e.toUpperCase()}get textContent(){let e="";return this.childNodes.forEach((t=>e+=t.textContent)),e}set textContent(e){this.firstChild=null,this.lastChild=null,this.appendChild(this.ownerDocument.createTextNode(e))}get classList(){return new $v(this.attributes.class,(e=>{this.attributes.class=e}))}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const e=this.attributes.style?function(e){const t={},n=/:(.+)/;return e.replace(/\/\*.*?\*\//g,"").split(/;(?![^(]*\))/g).forEach((function(e){if(e){const i=e.split(n);i.length>1&&(t[Qv(i[0].trim())]=i[1].trim())}})),t}(this.attributes.style):{},t=/\B([A-Z])/g;return e.setProperty=(n,i,r)=>{if(t.test(n))return;const s=Qv(n);i?e[s]=i:delete e[s],"important"===r&&(e[s]+=" !important"),this.attributes.style=Mv(e)},e.removeProperty=n=>{if(t.test(n))return"";const i=Qv(n),r=e[i]||"";return delete e[i],this.attributes.style=Mv(e),r},e}getAttribute(e){return this.attributes[e]||null}setAttribute(e,t){this.attributes[e]=t}setAttributeNS(e,t,n){this.setAttribute(t,n)}removeAttribute(e){delete this.attributes[e]}appendChild(e){return Xv(this,e)}insertBefore(e,t){return Yv(this,e,t)}removeChild(e){return Jv(this,e)}attachShadow(e){const t=this.ownerDocument.createElement("SHADOWROOT");return this.shadowRoot=t,t}dispatchEvent(e){return!0}toString(){let e="";for(const t in this.attributes)e+=`${t}="${this.attributes[t]}" `;return`${this.tagName} ${e}`}}}function Kv(e){return class extends e{constructor(e){super(),this.nodeType=Zv.TEXT_NODE,this.nodeName="#text",this.RRNodeType=_v.Text,this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRText text=${JSON.stringify(this.data)}`}}}function Gv(e){return class extends e{constructor(e){super(),this.nodeType=Zv.COMMENT_NODE,this.nodeName="#comment",this.RRNodeType=_v.Comment,this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}}function Wv(e){return class extends e{constructor(e){super(),this.nodeName="#cdata-section",this.nodeType=Zv.CDATA_SECTION_NODE,this.RRNodeType=_v.CDATA,this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}}class $v{constructor(e,t){if(this.classes=[],this.add=(...e)=>{for(const t of e){const e=String(t);this.classes.indexOf(e)>=0||this.classes.push(e)}this.onChange&&this.onChange(this.classes.join(" "))},this.remove=(...e)=>{this.classes=this.classes.filter((t=>-1===e.indexOf(t))),this.onChange&&this.onChange(this.classes.join(" "))},e){const t=e.trim().split(/\s+/);this.classes.push(...t)}this.onChange=t}}function Xv(e,t){return t.parentNode&&t.parentNode.removeChild(t),e.lastChild?(e.lastChild.nextSibling=t,t.previousSibling=e.lastChild):(e.firstChild=t,t.previousSibling=null),e.lastChild=t,t.nextSibling=null,t.parentNode=e,t.parentElement=e,t.ownerDocument=e.ownerDocument,t}function Yv(e,t,n){if(!n)return Xv(e,t);if(n.parentNode!==e)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");return t===n||(t.parentNode&&t.parentNode.removeChild(t),t.previousSibling=n.previousSibling,n.previousSibling=t,t.nextSibling=n,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,t.parentElement=e,t.parentNode=e,t.ownerDocument=e.ownerDocument),t}function Jv(e,t){if(t.parentNode!==e)throw new Error("Failed to execute 'removeChild' on 'RRNode': The RRNode to be removed is not a child of this RRNode.");return t.previousSibling?t.previousSibling.nextSibling=t.nextSibling:e.firstChild=t.nextSibling,t.nextSibling?t.nextSibling.previousSibling=t.previousSibling:e.lastChild=t.previousSibling,t.previousSibling=null,t.nextSibling=null,t.parentElement=null,t.parentNode=null,t}var Zv;!function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"}(Zv||(Zv={}));const ey={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},ty={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};let ny=null;function iy(e,t,n,i=t.mirror||t.ownerDocument.mirror){e=function(e,t,n,i){var r;if(n.afterAppend&&!ny&&(ny=new WeakSet,setTimeout((()=>{ny=null}),0)),!oy(e,t)){const s=sy(t,n.mirror,i);null===(r=e.parentNode)||void 0===r||r.replaceChild(s,e),e=s}switch(t.RRNodeType){case _v.Document:if(!ay(e,t,n.mirror,i)){const r=i.getMeta(t);r&&(n.mirror.removeNodeFromMap(e),e.close(),e.open(),n.mirror.add(e,r),null==ny||ny.add(e))}break;case _v.Element:{const r=e,s=t;switch(s.tagName){case"IFRAME":{const r=e.contentDocument;if(!r)break;iy(r,t.contentDocument,n,i);break}}s.shadowRoot&&(r.shadowRoot||r.attachShadow({mode:"open"}),ry(r.shadowRoot,s.shadowRoot,n,i)),function(e,t,n){const i=e.attributes,r=t.attributes;for(const i in r){const s=r[i],o=n.getMeta(t);if((null==o?void 0:o.isSVG)&&ey[i])e.setAttributeNS(ey[i],i,s);else if("CANVAS"===t.tagName&&"rr_dataURL"===i){const t=document.createElement("img");t.src=s,t.onload=()=>{const n=e.getContext("2d");n&&n.drawImage(t,0,0,t.width,t.height)}}else{if("IFRAME"===t.tagName&&"srcdoc"===i)continue;e.setAttribute(i,s)}}for(const{name:t}of Array.from(i))t in r||e.removeAttribute(t);t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.scrollTop&&(e.scrollTop=t.scrollTop)}(r,s,i);break}}return e}(e,t,n,i),ry(e,t,n,i),function(e,t,n){var i;switch(t.RRNodeType){case _v.Document:{const e=t.scrollData;e&&n.applyScroll(e,!0);break}case _v.Element:{const i=e,r=t;switch(r.scrollData&&n.applyScroll(r.scrollData,!0),r.inputData&&n.applyInput(r.inputData),r.tagName){case"AUDIO":case"VIDEO":{const t=e,n=r;void 0!==n.paused&&(n.paused?t.pause():t.play()),void 0!==n.muted&&(t.muted=n.muted),void 0!==n.volume&&(t.volume=n.volume),void 0!==n.currentTime&&(t.currentTime=n.currentTime),void 0!==n.playbackRate&&(t.playbackRate=n.playbackRate);break}case"CANVAS":{const r=t;if(null!==r.rr_dataURL){const e=document.createElement("img");e.onload=()=>{const t=i.getContext("2d");t&&t.drawImage(e,0,0,e.width,e.height)},e.src=r.rr_dataURL}r.canvasMutations.forEach((t=>n.applyCanvas(t.event,t.mutation,e)));break}case"STYLE":{const e=i.sheet;e&&t.rules.forEach((t=>n.applyStyleSheetMutation(t,e)));break}}break}case _v.Text:case _v.Comment:case _v.CDATA:e.textContent!==t.data&&(e.textContent=t.data)}(null==ny?void 0:ny.has(e))&&(ny.delete(e),null===(i=n.afterAppend)||void 0===i||i.call(n,e,n.mirror.getId(e)))}(e,t,n)}function ry(e,t,n,i){const r=Array.from(e.childNodes),s=t.childNodes;if(0===r.length&&0===s.length)return;let o,a,l=0,u=r.length-1,c=0,A=s.length-1,d=r[l],h=r[u],p=s[c],f=s[A];for(;l<=u&&c<=A;)if(void 0===d)d=r[++l];else if(void 0===h)h=r[--u];else if(ay(d,p,n.mirror,i))d=r[++l],p=s[++c];else if(ay(h,f,n.mirror,i))h=r[--u],f=s[--A];else if(ay(d,f,n.mirror,i)){try{e.insertBefore(d,h.nextSibling)}catch(e){}d=r[++l],f=s[--A]}else if(ay(h,p,n.mirror,i)){try{e.insertBefore(h,d)}catch(e){}h=r[--u],p=s[++c]}else{if(!o){o={};for(let e=l;e<=u;e++){const t=r[e];t&&n.mirror.hasNode(t)&&(o[n.mirror.getId(t)]=e)}}a=o[i.getId(p)];const t=r[a];if(void 0!==a&&t&&ay(t,p,n.mirror,i)){try{e.insertBefore(t,d)}catch(e){}r[a]=void 0}else{const t=sy(p,n.mirror,i);"#document"===e.nodeName&&d&&(t.nodeType===t.DOCUMENT_TYPE_NODE&&d.nodeType===d.DOCUMENT_TYPE_NODE||t.nodeType===t.ELEMENT_NODE&&d.nodeType===d.ELEMENT_NODE)&&(e.removeChild(d),n.mirror.removeNodeFromMap(d),d=r[++l]);try{e.insertBefore(t,d||null)}catch(e){}}p=s[++c]}if(l>u){const t=s[A+1];let r=null;for(t&&(r=n.mirror.getNode(i.getId(t)));c<=A;++c){const t=sy(s[c],n.mirror,i);try{e.insertBefore(t,r)}catch(e){}}}else if(c>A)for(;l<=u;l++){const t=r[l];if(t&&t.parentNode===e)try{e.removeChild(t),n.mirror.removeNodeFromMap(t)}catch(e){}}let g=e.firstChild,m=t.firstChild;for(;null!==g&&null!==m;)iy(g,m,n,i),g=g.nextSibling,m=m.nextSibling}function sy(e,t,n){const i=n.getId(e),r=n.getMeta(e);let s=null;if(i>-1&&(s=t.getNode(i)),null!==s&&oy(s,e))return s;switch(e.RRNodeType){case _v.Document:s=new Document;break;case _v.DocumentType:s=document.implementation.createDocumentType(e.name,e.publicId,e.systemId);break;case _v.Element:{let t=e.tagName.toLowerCase();t=ty[t]||t,s=r&&"isSVG"in r&&(null==r?void 0:r.isSVG)?document.createElementNS(ey.svg,t):document.createElement(e.tagName);break}case _v.Text:s=document.createTextNode(e.data);break;case _v.Comment:s=document.createComment(e.data);break;case _v.CDATA:s=document.createCDATASection(e.data)}r&&t.add(s,Object.assign({},r));try{null==ny||ny.add(s)}catch(e){}return s}function oy(e,t){return e.nodeType===t.nodeType&&(e.nodeType!==e.ELEMENT_NODE||e.tagName.toUpperCase()===t.tagName)}function ay(e,t,n,i){const r=n.getId(e),s=i.getId(t);return-1!==r&&r===s&&oy(e,t)}class ly extends(function(e){return class t extends e{constructor(...e){super(e),this.nodeType=Zv.DOCUMENT_NODE,this.nodeName="#document",this.compatMode="CSS1Compat",this.RRNodeType=_v.Document,this.textContent=null,this.ownerDocument=this}get documentElement(){return this.childNodes.find((e=>e.RRNodeType===_v.Element&&"HTML"===e.tagName))||null}get body(){var e;return(null===(e=this.documentElement)||void 0===e?void 0:e.childNodes.find((e=>e.RRNodeType===_v.Element&&"BODY"===e.tagName)))||null}get head(){var e;return(null===(e=this.documentElement)||void 0===e?void 0:e.childNodes.find((e=>e.RRNodeType===_v.Element&&"HEAD"===e.tagName)))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(e){const t=e.RRNodeType;if((t===_v.Element||t===_v.DocumentType)&&this.childNodes.some((e=>e.RRNodeType===t)))throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${t===_v.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const n=Xv(this,e);return n.parentElement=null,n}insertBefore(e,t){const n=e.RRNodeType;if((n===_v.Element||n===_v.DocumentType)&&this.childNodes.some((e=>e.RRNodeType===n)))throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${n===_v.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const i=Yv(this,e,t);return i.parentElement=null,i}removeChild(e){return Jv(this,e)}open(){this.firstChild=null,this.lastChild=null}close(){}write(e){let t;if('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'===e?t="-//W3C//DTD XHTML 1.0 Transitional//EN":'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">'===e&&(t="-//W3C//DTD HTML 4.0 Transitional//EN"),t){const e=this.createDocumentType("html",t,"");this.open(),this.appendChild(e)}}createDocument(e,n,i){return new t}createDocumentType(e,t,n){const i=new(Vv(qv))(e,t,n);return i.ownerDocument=this,i}createElement(e){const t=new(zv(qv))(e);return t.ownerDocument=this,t}createElementNS(e,t){return this.createElement(t)}createTextNode(e){const t=new(Kv(qv))(e);return t.ownerDocument=this,t}createComment(e){const t=new(Gv(qv))(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new(Wv(qv))(e);return t.ownerDocument=this,t}toString(){return"RRDocument"}}}(qv)){get unserializedId(){return this._unserializedId--}constructor(e){super(),this.UNSERIALIZED_STARTING_ID=-2,this._unserializedId=this.UNSERIALIZED_STARTING_ID,this.mirror=new yy,this.scrollData=null,e&&(this.mirror=e)}createDocument(e,t,n){return new ly}createDocumentType(e,t,n){const i=new uy(e,t,n);return i.ownerDocument=this,i}createElement(e){const t=e.toUpperCase();let n;switch(t){case"AUDIO":case"VIDEO":n=new Ay(t);break;case"IFRAME":n=new py(t,this.mirror);break;case"CANVAS":n=new dy(t);break;case"STYLE":n=new hy(t);break;default:n=new cy(t)}return n.ownerDocument=this,n}createComment(e){const t=new gy(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new my(e);return t.ownerDocument=this,t}createTextNode(e){const t=new fy(e);return t.ownerDocument=this,t}destroyTree(){this.firstChild=null,this.lastChild=null,this.mirror.reset()}open(){super.open(),this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const uy=Vv(qv);class cy extends(zv(qv)){constructor(){super(...arguments),this.inputData=null,this.scrollData=null}}class Ay extends(function(e){return class extends e{attachShadow(e){throw new Error("RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow")}play(){this.paused=!1}pause(){this.paused=!0}}}(cy)){}class dy extends cy{constructor(){super(...arguments),this.rr_dataURL=null,this.canvasMutations=[]}getContext(){return null}}class hy extends cy{constructor(){super(...arguments),this.rules=[]}}class py extends cy{constructor(e,t){super(e),this.contentDocument=new ly,this.contentDocument.mirror=t}}const fy=Kv(qv),gy=Gv(qv),my=Wv(qv);function vy(e,t,n,i){let r;switch(e.nodeType){case Zv.DOCUMENT_NODE:i&&"IFRAME"===i.nodeName?r=i.contentDocument:(r=t,r.compatMode=e.compatMode);break;case Zv.DOCUMENT_TYPE_NODE:{const n=e;r=t.createDocumentType(n.name,n.publicId,n.systemId);break}case Zv.ELEMENT_NODE:{const n=e,i=function(e){return e instanceof HTMLFormElement?"FORM":e.tagName.toUpperCase()}(n);r=t.createElement(i);const s=r;for(const{name:e,value:t}of Array.from(n.attributes))s.attributes[e]=t;n.scrollLeft&&(s.scrollLeft=n.scrollLeft),n.scrollTop&&(s.scrollTop=n.scrollTop);break}case Zv.TEXT_NODE:r=t.createTextNode(e.textContent||"");break;case Zv.CDATA_SECTION_NODE:r=t.createCDATASection(e.data);break;case Zv.COMMENT_NODE:r=t.createComment(e.textContent||"");break;case Zv.DOCUMENT_FRAGMENT_NODE:r=i.attachShadow({mode:"open"});break;default:return null}let s=n.getMeta(e);return t instanceof ly&&(s||(s=by(r,t.unserializedId),n.add(e,s)),t.mirror.add(r,Object.assign({},s))),r}class yy{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function by(e,t){switch(e.RRNodeType){case _v.Document:return{id:t,type:e.RRNodeType,childNodes:[]};case _v.DocumentType:{const n=e;return{id:t,type:e.RRNodeType,name:n.name,publicId:n.publicId,systemId:n.systemId}}case _v.Element:return{id:t,type:e.RRNodeType,tagName:e.tagName.toLowerCase(),attributes:{},childNodes:[]};case _v.Text:case _v.Comment:return{id:t,type:e.RRNodeType,textContent:e.textContent||""};case _v.CDATA:return{id:t,type:e.RRNodeType,textContent:""}}}var wy=Uint8Array,Cy=Uint16Array,xy=Uint32Array,By=new wy([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sy=new wy([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_y=new wy([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ky=function(e,t){for(var n=new Cy(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new xy(n[30]);for(i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return[n,r]},Ty=ky(By,2),Ey=Ty[0],Iy=Ty[1];Ey[28]=258,Iy[258]=28;for(var Uy=ky(Sy,0)[0],Fy=new Cy(32768),Dy=0;Dy<32768;++Dy){var Ly=(43690&Dy)>>>1|(21845&Dy)<<1;Ly=(61680&(Ly=(52428&Ly)>>>2|(13107&Ly)<<2))>>>4|(3855&Ly)<<4,Fy[Dy]=((65280&Ly)>>>8|(255&Ly)<<8)>>>1}var Oy=function(e,t,n){for(var i=e.length,r=0,s=new Cy(t);r<i;++r)++s[e[r]-1];var o,a=new Cy(t);for(r=0;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(n){o=new Cy(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],c=t-e[r],A=a[e[r]-1]++<<c,d=A|(1<<c)-1;A<=d;++A)o[Fy[A]>>>l]=u}else for(o=new Cy(i),r=0;r<i;++r)o[r]=Fy[a[e[r]-1]++]>>>15-e[r];return o},Ny=new wy(288);for(Dy=0;Dy<144;++Dy)Ny[Dy]=8;for(Dy=144;Dy<256;++Dy)Ny[Dy]=9;for(Dy=256;Dy<280;++Dy)Ny[Dy]=7;for(Dy=280;Dy<288;++Dy)Ny[Dy]=8;var My=new wy(32);for(Dy=0;Dy<32;++Dy)My[Dy]=5;var jy=Oy(Ny,9,1),Ry=Oy(My,5,1),Qy=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Py=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>>(7&t)&n},Hy=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},qy=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var i=new(e instanceof Cy?Cy:e instanceof xy?xy:wy)(n-t);return i.set(e.subarray(t,n)),i};const Vy=e=>{if("string"!=typeof e)return e;try{const t=JSON.parse(e);if(t.timestamp)return t}catch(e){}try{const t=JSON.parse(function(e){var t="";if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var n=0;n<e.length;){var i=e[n++];i<128?t+=String.fromCharCode(i):i<224?t+=String.fromCharCode((31&i)<<6|63&e[n++]):i<240?t+=String.fromCharCode((15&i)<<12|(63&e[n++])<<6|63&e[n++]):(i=((15&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|i>>10,56320|1023&i))}return t}(function(e,t){return function(e,t,n){var i=e.length,r=!t||n,s=!n||n.i;n||(n={}),t||(t=new wy(3*i));var o,a=function(e){var n=t.length;if(e>n){var i=new wy(Math.max(2*n,e));i.set(t),t=i}},l=n.f||0,u=n.p||0,c=n.b||0,A=n.l,d=n.d,h=n.m,p=n.n,f=8*i;do{if(!A){n.f=l=Py(e,u,1);var g=Py(e,u+1,3);if(u+=3,!g){var m=e[(T=((o=u)/8|0)+(7&o&&1)+4)-4]|e[T-3]<<8,v=T+m;if(v>i){if(s)throw"unexpected EOF";break}r&&a(c+m),t.set(e.subarray(T,v),c),n.b=c+=m,n.p=u=8*v;continue}if(1==g)A=jy,d=Ry,h=9,p=5;else{if(2!=g)throw"invalid block type";var y=Py(e,u,31)+257,b=Py(e,u+10,15)+4,w=y+Py(e,u+5,31)+1;u+=14;for(var C=new wy(w),x=new wy(19),B=0;B<b;++B)x[_y[B]]=Py(e,u+3*B,7);u+=3*b;var S=Qy(x),_=(1<<S)-1;if(!s&&u+w*(S+7)>f)break;var k=Oy(x,S,1);for(B=0;B<w;){var T,E=k[Py(e,u,_)];if(u+=15&E,(T=E>>>4)<16)C[B++]=T;else{var I=0,U=0;for(16==T?(U=3+Py(e,u,3),u+=2,I=C[B-1]):17==T?(U=3+Py(e,u,7),u+=3):18==T&&(U=11+Py(e,u,127),u+=7);U--;)C[B++]=I}}var F=C.subarray(0,y),D=C.subarray(y);h=Qy(F),p=Qy(D),A=Oy(F,h,1),d=Oy(D,p,1)}if(u>f)throw"unexpected EOF"}r&&a(c+131072);for(var L=(1<<h)-1,O=(1<<p)-1,N=h+p+18;s||u+N<f;){var M=(I=A[Hy(e,u)&L])>>>4;if((u+=15&I)>f)throw"unexpected EOF";if(!I)throw"invalid length/literal";if(M<256)t[c++]=M;else{if(256==M){A=null;break}var j=M-254;if(M>264){var R=By[B=M-257];j=Py(e,u,(1<<R)-1)+Ey[B],u+=R}var Q=d[Hy(e,u)&O],P=Q>>>4;if(!Q)throw"invalid distance";if(u+=15&Q,D=Uy[P],P>3&&(R=Sy[P],D+=Hy(e,u)&(1<<R)-1,u+=R),u>f)throw"unexpected EOF";r&&a(c+131072);for(var H=c+j;c<H;c+=4)t[c]=t[c-D],t[c+1]=t[c+1-D],t[c+2]=t[c+2-D],t[c+3]=t[c+3-D];c=H}}n.l=A,n.p=u,n.b=c,A&&(l=1,n.m=h,n.d=d,n.n=p)}while(!l);return c==t.length?t:qy(t,0,c)}((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),t)}(function(e){var t=e.length;for(var n=new wy(e.length+(e.length>>>1)),i=0,r=function(e){n[i++]=e},s=0;s<t;++s){if(i+5>n.length){var o=new wy(i+8+(t-s<<1));o.set(n),n=o}var a=e.charCodeAt(s);r(a)}return qy(n,0,i)}(e))));if("v1"===t.v)return t;throw new Error(`These events were packed with packer ${t.v} which is incompatible with current packer v1.`)}catch(e){throw new Error("Unknown data format.")}},zy=new Map;function Ky(e,t){let n=zy.get(e);return n||(n=new Map,zy.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}function Gy(e,t,n){return i=>Fv(this,void 0,void 0,(function*(){if(i&&"object"==typeof i&&"rr_type"in i){if(n&&(n.isUnchanged=!1),"ImageBitmap"===i.rr_type&&"args"in i){const r=yield Gy(e,t,n)(i.args);return yield createImageBitmap.apply(null,r)}if("index"in i){if(n||null===t)return i;const{rr_type:e,index:r}=i;return Ky(t,e)[r]}if("args"in i){const{rr_type:r,args:s}=i;return new(0,window[r])(...yield Promise.all(s.map(Gy(e,t,n))))}if("base64"in i)return function(e){var t,n,i,r,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u=new ArrayBuffer(o),c=new Uint8Array(u);for(t=0;t<a;t+=4)n=Lv[e.charCodeAt(t)],i=Lv[e.charCodeAt(t+1)],r=Lv[e.charCodeAt(t+2)],s=Lv[e.charCodeAt(t+3)],c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&s;return u}(i.base64);if("src"in i){const t=e.get(i.src);if(t)return t;{const t=new Image;return t.src=i.src,e.set(i.src,t),t}}if("data"in i&&"Blob"===i.rr_type){const r=yield Promise.all(i.data.map(Gy(e,t,n)));return new Blob(r,{type:i.type})}}else if(Array.isArray(i))return yield Promise.all(i.map(Gy(e,t,n)));return i}))}const Wy=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];function $y({mutation:e,target:t,type:n,imageMap:i,errorHandler:r}){return Fv(this,void 0,void 0,(function*(){try{const r=function(e,t){try{return t===Iv.WebGL?e.getContext("webgl")||e.getContext("experimental-webgl"):e.getContext("webgl2")}catch(e){return null}}(t,n);if(!r)return;if(e.setter)return void(r[e.property]=e.args[0]);const s=r[e.property],o=yield Promise.all(e.args.map(Gy(i,r)));!function(e,t){if(!(null==t?void 0:t.constructor))return;const{name:n}=t.constructor;if(!Wy.includes(n))return;const i=Ky(e,n);i.includes(t)||i.push(t)}(r,s.apply(r,o))}catch(t){r(e,t)}}))}function Xy({event:e,mutation:t,target:n,imageMap:i,canvasEventMap:r,errorHandler:s}){return Fv(this,void 0,void 0,(function*(){try{const o=r.get(e)||t,a="commands"in o?o.commands:[o];if([Iv.WebGL,Iv.WebGL2].includes(t.type)){for(let e=0;e<a.length;e++){const r=a[e];yield $y({mutation:r,type:t.type,target:n,imageMap:i,errorHandler:s})}return}yield function({event:e,mutations:t,target:n,imageMap:i,errorHandler:r}){return Fv(this,void 0,void 0,(function*(){const s=n.getContext("2d");if(!s)return void r(t[0],new Error("Canvas context is null"));const o=t.map((e=>Fv(this,void 0,void 0,(function*(){return Promise.all(e.args.map(Gy(i,s)))}))));(yield Promise.all(o)).forEach(((n,o)=>{const a=t[o];try{if(a.setter)return void(s[a.property]=a.args[0]);const t=s[a.property];"drawImage"===a.property&&"string"==typeof a.args[0]?(i.get(e),t.apply(s,a.args)):t.apply(s,n)}catch(e){r(a,e)}}))}))}({event:e,mutations:a,target:n,imageMap:i,errorHandler:s})}catch(e){s(t,e)}}))}function Yy(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map((function(e){e(n)})),(i=e.get("*"))&&i.slice().map((function(e){e(t,n)}))}}}var Jy,Zy=Object.freeze({__proto__:null,default:Yy});function eb(e=window,t=document){if("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)return;const n=e.HTMLElement||e.Element,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||a,scrollIntoView:n.prototype.scrollIntoView},r=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,s=(o=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0);var o;function a(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+s<e.scrollHeight:"X"===t?e.clientWidth+s<e.scrollWidth:void 0}function c(t,n){const i=e.getComputedStyle(t,null)["overflow"+n];return"auto"===i||"scroll"===i}function A(e){const t=u(e,"Y")&&c(e,"Y"),n=u(e,"X")&&c(e,"X");return t||n}function d(t){let n,i,s,o=(r()-t.startTime)/468;var a;o=o>1?1:o,a=o,n=.5*(1-Math.cos(Math.PI*a)),i=t.startX+(t.x-t.startX)*n,s=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,i,s),i===t.x&&s===t.y||e.requestAnimationFrame(d.bind(e,t))}function h(n,s,o){let l,u,c,A;const h=r();n===t.body?(l=e,u=e.scrollX||e.pageXOffset,c=e.scrollY||e.pageYOffset,A=i.scroll):(l=n,u=n.scrollLeft,c=n.scrollTop,A=a),d({scrollable:l,method:A,startTime:h,startX:u,startY:c,x:s,y:o})}e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?h.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):i.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?i.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0===arguments[0])return;if(!0===l(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");return void i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}const e=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0===l(arguments[0]))return void i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);const n=function(e){for(;e!==t.body&&!1===A(e);)e=e.parentNode||e.host;return e}(this),r=n.getBoundingClientRect(),s=this.getBoundingClientRect();n!==t.body?(h.call(this,n,n.scrollLeft+s.left-r.left,n.scrollTop+s.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:s.left,top:s.top,behavior:"smooth"})}}class tb{constructor(e=[],t){this.timeOffset=0,this.raf=null,this.actions=e,this.speed=t.speed}addAction(e){const t=!0===this.raf;if(!this.actions.length||this.actions[this.actions.length-1].delay<=e.delay)this.actions.push(e);else{const t=this.findActionIndex(e);this.actions.splice(t,0,e)}t&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const e=performance.now();for(this.timeOffset+=(e-this.lastTimestamp)*this.speed,this.lastTimestamp=e;this.actions.length;){const e=this.actions[0];if(!(this.timeOffset>=e.delay))break;this.actions.shift(),e.doAction()}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(!0!==this.raf&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(e){this.speed=e}isActive(){return null!==this.raf}findActionIndex(e){let t=0,n=this.actions.length-1;for(;t<=n;){const i=Math.floor((t+n)/2);if(this.actions[i].delay<e.delay)t=i+1;else{if(!(this.actions[i].delay>e.delay))return i+1;n=i-1}}return t}}function nb(e,t){if(e.type===kv.IncrementalSnapshot&&e.data.source===Tv.MouseMove&&e.data.positions&&e.data.positions.length){const n=e.data.positions[0].timeOffset,i=e.timestamp+n;return e.delay=i-t,i-t}return e.delay=e.timestamp-t,e.delay}function ib(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(Jy||(Jy={}));var rb={type:"xstate.init"};function sb(e){return void 0===e?[]:[].concat(e)}function ob(e){return{type:"xstate.assign",assignment:e}}function ab(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function lb(e){return function(t){return e===t}}function ub(e){return"string"==typeof e?{type:e}:e}function cb(e,t){return{value:e,context:t,actions:[],changed:!1,matches:lb(e)}}function Ab(e,t,n){var i=t,r=!1;return[e.filter((function(e){if("xstate.assign"===e.type){r=!0;var t=Object.assign({},i);return"function"==typeof e.assignment?t=e.assignment(i,n):Object.keys(e.assignment).forEach((function(r){t[r]="function"==typeof e.assignment[r]?e.assignment[r](i,n):e.assignment[r]})),i=t,!1}return!0})),i,r]}function db(e,t){void 0===t&&(t={});var n=ib(Ab(sb(e.states[e.initial].entry).map((function(e){return ab(e,t.actions)})),e.context,rb),2),i=n[0],r=n[1],s={config:e,_options:t,initialState:{value:e.initial,actions:i,context:r,matches:lb(e.initial)},transition:function(t,n){var i,r,o="string"==typeof t?{value:t,context:e.context}:t,a=o.value,l=o.context,u=ub(n),c=e.states[a];if(c.on){var A=sb(c.on[u.type]);try{for(var d=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(A),h=d.next();!h.done;h=d.next()){var p=h.value;if(void 0===p)return cb(a,l);var f="string"==typeof p?{target:p}:p,g=f.target,m=f.actions,v=void 0===m?[]:m,y=f.cond,b=void 0===y?function(){return!0}:y,w=void 0===g,C=null!=g?g:a,x=e.states[C];if(b(l,u)){var B=ib(Ab((w?sb(v):[].concat(c.exit,v,x.entry).filter((function(e){return e}))).map((function(e){return ab(e,s._options.actions)})),l,u),3),S=B[0],_=B[1],k=B[2],T=null!=g?g:a;return{value:T,context:_,actions:S,changed:g!==a||S.length>0||k,matches:lb(T)}}}}catch(e){i={error:e}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(i)throw i.error}}}return cb(a,l)}};return s}var hb=function(e,t){return e.actions.forEach((function(n){var i=n.exec;return i&&i(e.context,t)}))};function pb(e){var t=e.initialState,n=Jy.NotStarted,i=new Set,r={_machine:e,send:function(r){n===Jy.Running&&(t=e.transition(t,r),hb(t,ub(r)),i.forEach((function(e){return e(t)})))},subscribe:function(e){return i.add(e),e(t),{unsubscribe:function(){return i.delete(e)}}},start:function(i){if(i){var s="object"==typeof i?i:{context:e.config.context,value:i};t={value:s.value,actions:[],context:s.context,matches:lb(s.value)}}return n=Jy.Running,hb(t,rb),r},stop:function(){return n=Jy.Stopped,i.clear(),r},get state(){return t},get status(){return n}};return r}const fb=Yy||Zy,gb={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function mb(e){return e.type==kv.IncrementalSnapshot&&(e.data.source==Tv.TouchMove||e.data.source==Tv.MouseInteraction&&e.data.type==Ev.TouchStart)}class vb{get timer(){return this.service.state.context.timer}constructor(e,t){if(this.usingVirtualDom=!1,this.virtualDom=new ly,this.mouseTail=null,this.tailPositions=[],this.emitter=fb(),this.legacy_missingNodeRetryMap={},this.cache=fv(),this.imageMap=new Map,this.canvasEventMap=new Map,this.mirror=iv(),this.styleMirror=new Sv,this.firstFullSnapshot=null,this.newDocumentQueue=[],this.mousePos=null,this.touchActive=null,this.lastMouseDownEvent=null,this.lastSelectionData=null,this.constructedStyleMutations=[],this.adoptedStyleSheets=[],this.handleResize=e=>{this.iframe.style.display="inherit";for(const t of[this.mouseTail,this.iframe])t&&(t.setAttribute("width",String(e.width)),t.setAttribute("height",String(e.height)))},this.applyEventsSynchronously=e=>{for(const t of e){switch(t.type){case kv.DomContentLoaded:case kv.Load:case kv.Custom:continue;case kv.FullSnapshot:case kv.Meta:case kv.Plugin:case kv.IncrementalSnapshot:}this.getCastFn(t,!0)()}},this.getCastFn=(e,t=!1)=>{let n;switch(e.type){case kv.DomContentLoaded:case kv.Load:break;case kv.Custom:n=()=>{this.emitter.emit(Uv.CustomEvent,e)};break;case kv.Meta:n=()=>this.emitter.emit(Uv.Resize,{width:e.data.width,height:e.data.height});break;case kv.FullSnapshot:n=()=>{var n;if(this.firstFullSnapshot){if(this.firstFullSnapshot===e)return void(this.firstFullSnapshot=!0)}else this.firstFullSnapshot=!0;this.rebuildFullSnapshot(e,t),null===(n=this.iframe.contentWindow)||void 0===n||n.scrollTo(e.data.initialOffset),this.styleMirror.reset()};break;case kv.IncrementalSnapshot:n=()=>{if(this.applyIncremental(e,t),!t&&(e===this.nextUserInteractionEvent&&(this.nextUserInteractionEvent=null,this.backToNormal()),this.config.skipInactive&&!this.nextUserInteractionEvent)){for(const t of this.service.state.context.events)if(!(t.timestamp<=e.timestamp)&&this.isUserInteraction(t)){t.delay-e.delay>1e4*this.speedService.state.context.timer.speed&&(this.nextUserInteractionEvent=t);break}if(this.nextUserInteractionEvent){const t=this.nextUserInteractionEvent.delay-e.delay,n={speed:Math.min(Math.round(t/5e3),this.config.maxSpeed)};this.speedService.send({type:"FAST_FORWARD",payload:n}),this.emitter.emit(Uv.SkipStart,n)}}}}return()=>{n&&n();for(const n of this.config.plugins||[])n.handler&&n.handler(e,t,{replayer:this});this.service.send({type:"CAST_EVENT",payload:{event:e}});const i=this.service.state.context.events.length-1;if(!this.config.liveMode&&e===this.service.state.context.events[i]){const t=()=>{i<this.service.state.context.events.length-1||(this.backToNormal(),this.service.send("END"),this.emitter.emit(Uv.Finish))};let n=50;e.type===kv.IncrementalSnapshot&&e.data.source===Tv.MouseMove&&e.data.positions.length&&(n+=Math.max(0,-e.data.positions[0].timeOffset)),setTimeout(t,n)}this.emitter.emit(Uv.EventCast,e)}},!(null==t?void 0:t.liveMode)&&e.length<2)throw new Error("Replayer need at least 2 events.");const n={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:gb,useVirtualDom:!0,logger:console};this.config=Object.assign({},n,t),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(Uv.Resize,this.handleResize),this.setupDom();for(const e of this.config.plugins||[])e.getMirror&&e.getMirror({nodeMirror:this.mirror});this.emitter.on(Uv.Flush,(()=>{if(this.usingVirtualDom){const e={mirror:this.mirror,applyCanvas:(e,t,n)=>{Xy({event:e,mutation:t,target:n,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(e,t)=>{e.source===Tv.StyleSheetRule?this.applyStyleSheetRule(e,t):e.source===Tv.StyleDeclaration&&this.applyStyleDeclaration(e,t)},afterAppend:(e,t)=>{for(const n of this.config.plugins||[])n.onBuild&&n.onBuild(e,{id:t,replayer:this})}};if(this.iframe.contentDocument)try{iy(this.iframe.contentDocument,this.virtualDom,e,this.virtualDom.mirror)}catch(e){}if(this.virtualDom.destroyTree(),this.usingVirtualDom=!1,Object.keys(this.legacy_missingNodeRetryMap).length)for(const t in this.legacy_missingNodeRetryMap)try{const n=this.legacy_missingNodeRetryMap[t],i=sy(n.node,this.mirror,this.virtualDom.mirror);iy(i,n.node,e,this.virtualDom.mirror),n.node=i}catch(e){this.warn(e)}this.constructedStyleMutations.forEach((e=>{this.applyStyleSheetMutation(e)})),this.constructedStyleMutations=[],this.adoptedStyleSheets.forEach((e=>{this.applyAdoptedStyleSheet(e)})),this.adoptedStyleSheets=[]}if(this.mousePos&&(this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null),!0===this.touchActive?this.mouse.classList.add("touch-active"):!1===this.touchActive&&this.mouse.classList.remove("touch-active"),this.touchActive=null,this.lastMouseDownEvent){const[e,t]=this.lastMouseDownEvent;e.dispatchEvent(t)}this.lastMouseDownEvent=null,this.lastSelectionData&&(this.applySelection(this.lastSelectionData),this.lastSelectionData=null)})),this.emitter.on(Uv.PlayBack,(()=>{this.firstFullSnapshot=null,this.mirror.reset(),this.styleMirror.reset()}));const i=new tb([],{speed:this.config.speed});this.service=function(e,{getCastFn:t,applyEventsSynchronously:n,emitter:i}){const r=db({id:"player",context:e,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:ob({lastPlayedEvent:(e,t)=>"CAST_EVENT"===t.type?t.payload.event:e.lastPlayedEvent}),recordTimeOffset:ob(((e,t)=>{let n=e.timeOffset;return"payload"in t&&"timeOffset"in t.payload&&(n=t.payload.timeOffset),Object.assign(Object.assign({},e),{timeOffset:n,baselineTime:e.events[0].timestamp+n})})),play(e){var r;const{timer:s,events:o,baselineTime:a,lastPlayedEvent:l}=e;s.clear();for(const e of o)nb(e,a);const u=function(e,t){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.type===kv.Meta&&i.timestamp<=t)return e.slice(n)}return e}(o,a);let c=null==l?void 0:l.timestamp;(null==l?void 0:l.type)===kv.IncrementalSnapshot&&l.data.source===Tv.MouseMove&&(c=l.timestamp+(null===(r=l.data.positions[0])||void 0===r?void 0:r.timeOffset)),a<(c||0)&&i.emit(Uv.PlayBack);const A=new Array;for(const e of u)if(!(c&&c<a&&(e.timestamp<=c||e===l)))if(e.timestamp<a)A.push(e);else{const n=t(e,!1);s.addAction({doAction:()=>{n()},delay:e.delay})}n(A),i.emit(Uv.Flush),s.start()},pause(e){e.timer.clear()},resetLastPlayedEvent:ob((e=>Object.assign(Object.assign({},e),{lastPlayedEvent:null}))),startLive:ob({baselineTime:(e,t)=>(e.timer.start(),"TO_LIVE"===t.type&&t.payload.baselineTime?t.payload.baselineTime:Date.now())}),addEvent:ob(((e,n)=>{const{baselineTime:i,timer:r,events:s}=e;if("ADD_EVENT"===n.type){const{event:e}=n.payload;nb(e,i);let o=s.length-1;if(!s[o]||s[o].timestamp<=e.timestamp)s.push(e);else{let t=-1,n=0;for(;n<=o;){const t=Math.floor((n+o)/2);s[t].timestamp<=e.timestamp?n=t+1:o=t-1}-1===t&&(t=n),s.splice(t,0,e)}const a=e.timestamp<i,l=t(e,a);a?l():r.isActive()&&r.addAction({doAction:()=>{l()},delay:e.delay})}return Object.assign(Object.assign({},e),{events:s})}))}});return pb(r)}({events:e.map((e=>t&&t.unpackFn?t.unpackFn(e):e)).sort(((e,t)=>e.timestamp-t.timestamp)),timer:i,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe((e=>{this.emitter.emit(Uv.StateChange,{player:e})})),this.speedService=pb(db({id:"speed",context:{normalSpeed:-1,timer:i},initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(e,t)=>{"payload"in t&&e.timer.setSpeed(t.payload.speed)},recordSpeed:ob({normalSpeed:e=>e.timer.speed}),restoreSpeed:e=>{e.timer.setSpeed(e.normalSpeed)}}})),this.speedService.start(),this.speedService.subscribe((e=>{this.emitter.emit(Uv.StateChange,{speed:e})}));const r=this.service.state.context.events.find((e=>e.type===kv.Meta)),s=this.service.state.context.events.find((e=>e.type===kv.FullSnapshot));if(r){const{width:e,height:t}=r.data;setTimeout((()=>{this.emitter.emit(Uv.Resize,{width:e,height:t})}),0)}s&&setTimeout((()=>{var e;this.firstFullSnapshot||(this.firstFullSnapshot=s,this.rebuildFullSnapshot(s),null===(e=this.iframe.contentWindow)||void 0===e||e.scrollTo(s.data.initialOffset))}),1),this.service.state.context.events.find(mb)&&this.mouse.classList.add("touch-device")}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}setConfig(e){Object.keys(e).forEach((t=>{e[t],this.config[t]=e[t]})),this.config.skipInactive||this.backToNormal(),void 0!==e.speed&&this.speedService.send({type:"SET_SPEED",payload:{speed:e.speed}}),void 0!==e.mouseTail&&(!1===e.mouseTail?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))}getMetaData(){const e=this.service.state.context.events[0],t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:e,events:t}=this.service.state.context;return e-t[0].timestamp}getMirror(){return this.mirror}play(e=0){var t,n;this.service.state.matches("paused")||this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:e}}),null===(n=null===(t=this.iframe.contentDocument)||void 0===t?void 0:t.getElementsByTagName("html")[0])||void 0===n||n.classList.remove("rrweb-paused"),this.emitter.emit(Uv.Start)}pause(e){var t,n;void 0===e&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),"number"==typeof e&&(this.play(e),this.service.send({type:"PAUSE"})),null===(n=null===(t=this.iframe.contentDocument)||void 0===t?void 0:t.getElementsByTagName("html")[0])||void 0===n||n.classList.add("rrweb-paused"),this.emitter.emit(Uv.Pause)}resume(e=0){this.warn("The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface."),this.play(e),this.emitter.emit(Uv.Resume)}destroy(){this.pause(),this.config.root.removeChild(this.wrapper),this.emitter.emit(Uv.Destroy)}startLive(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})}addEvent(e){const t=this.config.unpackFn?this.config.unpackFn(e):e;mb(t)&&this.mouse.classList.add("touch-device"),Promise.resolve().then((()=>this.service.send({type:"ADD_EVENT",payload:{event:t}})))}enableInteract(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"}resetCache(){this.cache=fv()}setupDom(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),!1!==this.config.mouseTail&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");const e=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&e.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",e.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(eb(this.iframe.contentWindow,this.iframe.contentDocument),function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}(this.iframe.contentWindow))}rebuildFullSnapshot(e,t=!1){if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&this.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};const n=[],i=(e,t)=>{this.collectIframeAndAttachDocument(n,e);for(const n of this.config.plugins||[])n.onBuild&&n.onBuild(e,{id:t,replayer:this})};this.usingVirtualDom&&(this.virtualDom.destroyTree(),this.usingVirtualDom=!1),this.mirror.reset(),function(e,t){const{doc:n,onVisit:i,hackCss:r=!0,afterAppend:s,cache:o,mirror:a=new nv}=t,l=gv(e,{doc:n,mirror:a,skipChild:!1,hackCss:r,afterAppend:s,cache:o});(function(e,t){for(const n of e.getIds())e.has(n)&&t(e.getNode(n))})(a,(e=>{i&&i(e),function(e,t){const n=t.getMeta(e);if((null==n?void 0:n.type)!==ev.Element)return;const i=e;for(const e in n.attributes){if(!Object.prototype.hasOwnProperty.call(n.attributes,e)||!e.startsWith("rr_"))continue;const t=n.attributes[e];"rr_scrollLeft"===e&&(i.scrollLeft=t),"rr_scrollTop"===e&&(i.scrollTop=t)}}(e,a)}))}(e.data.node,{doc:this.iframe.contentDocument,afterAppend:i,cache:this.cache,mirror:this.mirror}),i(this.iframe.contentDocument,e.data.node.id);for(const{mutationInQueue:e,builtNode:t}of n)this.attachDocumentToIframe(e,t),this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==e));const{documentElement:r,head:s}=this.iframe.contentDocument;this.insertStyleRules(r,s),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(Uv.FullsnapshotRebuilded,e),t||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()}insertStyleRules(e,t){var n;const i=(r=this.config.blockClass,[`.${r} { background: currentColor }`,"noscript { display: none !important; }"]).concat(this.config.insertStyleRules);var r;if(this.config.pauseAnimation&&i.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }"),this.usingVirtualDom){const n=this.virtualDom.createElement("style");this.virtualDom.mirror.add(n,by(n,this.virtualDom.unserializedId)),e.insertBefore(n,t),n.rules.push({source:Tv.StyleSheetRule,adds:i.map(((e,t)=>({rule:e,index:t})))})}else{const r=document.createElement("style");e.insertBefore(r,t);for(let e=0;e<i.length;e++)null===(n=r.sheet)||void 0===n||n.insertRule(i[e],e)}}attachDocumentToIframe(e,t){const n=this.usingVirtualDom?this.virtualDom.mirror:this.mirror,i=[],r=(e,r)=>{this.collectIframeAndAttachDocument(i,e);const s=n.getMeta(e);if((null==s?void 0:s.type)===ev.Element&&"HTML"===(null==s?void 0:s.tagName.toUpperCase())){const{documentElement:e,head:n}=t.contentDocument;this.insertStyleRules(e,n)}if(!this.usingVirtualDom)for(const t of this.config.plugins||[])t.onBuild&&t.onBuild(e,{id:r,replayer:this})};gv(e.node,{doc:t.contentDocument,mirror:n,hackCss:!0,skipChild:!1,afterAppend:r,cache:this.cache}),r(t.contentDocument,e.node.id);for(const{mutationInQueue:e,builtNode:t}of i)this.attachDocumentToIframe(e,t),this.newDocumentQueue=this.newDocumentQueue.filter((t=>t!==e))}collectIframeAndAttachDocument(e,t){if(bv(t,this.mirror)){const n=this.newDocumentQueue.find((e=>e.parentId===this.mirror.getId(t)));n&&e.push({mutationInQueue:n,builtNode:t})}}waitForStylesheetLoad(){var e;const t=null===(e=this.iframe.contentDocument)||void 0===e?void 0:e.head;if(t){const e=new Set;let n,i=this.service.state;const r=()=>{i=this.service.state};this.emitter.on(Uv.Start,r),this.emitter.on(Uv.Pause,r);const s=()=>{this.emitter.off(Uv.Start,r),this.emitter.off(Uv.Pause,r)};t.querySelectorAll('link[rel="stylesheet"]').forEach((t=>{t.sheet||(e.add(t),t.addEventListener("load",(()=>{e.delete(t),0===e.size&&-1!==n&&(i.matches("playing")&&this.play(this.getCurrentTime()),this.emitter.emit(Uv.LoadStylesheetEnd),n&&clearTimeout(n),s())})))})),e.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(Uv.LoadStylesheetStart),n=setTimeout((()=>{i.matches("playing")&&this.play(this.getCurrentTime()),n=-1,s()}),this.config.loadTimeout))}}preloadAllImages(){return Fv(this,void 0,void 0,(function*(){this.service.state;const e=()=>{this.service.state};this.emitter.on(Uv.Start,e),this.emitter.on(Uv.Pause,e);const t=[];for(const e of this.service.state.context.events)e.type===kv.IncrementalSnapshot&&e.data.source===Tv.CanvasMutation&&(t.push(this.deserializeAndPreloadCanvasEvents(e.data,e)),("commands"in e.data?e.data.commands:[e.data]).forEach((t=>{this.preloadImages(t,e)})));return Promise.all(t)}))}preloadImages(e,t){if("drawImage"===e.property&&"string"==typeof e.args[0]&&!this.imageMap.has(t)){const t=document.createElement("canvas"),n=t.getContext("2d"),i=null==n?void 0:n.createImageData(t.width,t.height);null==i||i.data,JSON.parse(e.args[0]),null==n||n.putImageData(i,0,0)}}deserializeAndPreloadCanvasEvents(e,t){return Fv(this,void 0,void 0,(function*(){if(!this.canvasEventMap.has(t)){const n={isUnchanged:!0};if("commands"in e){const i=yield Promise.all(e.commands.map((e=>Fv(this,void 0,void 0,(function*(){const t=yield Promise.all(e.args.map(Gy(this.imageMap,null,n)));return Object.assign(Object.assign({},e),{args:t})})))));!1===n.isUnchanged&&this.canvasEventMap.set(t,Object.assign(Object.assign({},e),{commands:i}))}else{const i=yield Promise.all(e.args.map(Gy(this.imageMap,null,n)));!1===n.isUnchanged&&this.canvasEventMap.set(t,Object.assign(Object.assign({},e),{args:i}))}}}))}applyIncremental(e,t){var n,i,r;const{data:s}=e;switch(s.source){case Tv.Mutation:try{this.applyMutation(s,t)}catch(e){this.warn(`Exception in mutation ${e.message||e}`,s)}break;case Tv.Drag:case Tv.TouchMove:case Tv.MouseMove:if(t){const e=s.positions[s.positions.length-1];this.mousePos={x:e.x,y:e.y,id:e.id,debugData:s}}else s.positions.forEach((n=>{const i={doAction:()=>{this.moveAndHover(n.x,n.y,n.id,t,s)},delay:n.timeOffset+e.timestamp-this.service.state.context.baselineTime};this.timer.addAction(i)})),this.timer.addAction({doAction(){},delay:e.delay-(null===(n=s.positions[0])||void 0===n?void 0:n.timeOffset)});break;case Tv.MouseInteraction:{if(-1===s.id)break;const e=new Event(Ev[s.type].toLowerCase()),n=this.mirror.getNode(s.id);if(!n)return this.debugNodeNotFound(s,s.id);this.emitter.emit(Uv.MouseInteraction,{type:s.type,target:n});const{triggerFocus:i}=this.config;switch(s.type){case Ev.Blur:"blur"in n&&n.blur();break;case Ev.Focus:i&&n.focus&&n.focus({preventScroll:!0});break;case Ev.Click:case Ev.TouchStart:case Ev.TouchEnd:case Ev.MouseDown:case Ev.MouseUp:t?(s.type===Ev.TouchStart?this.touchActive=!0:s.type===Ev.TouchEnd&&(this.touchActive=!1),s.type===Ev.MouseDown?this.lastMouseDownEvent=[n,e]:s.type===Ev.MouseUp&&(this.lastMouseDownEvent=null),this.mousePos={x:s.x||0,y:s.y||0,id:s.id,debugData:s}):(s.type===Ev.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(s.x||0,s.y||0,s.id,t,s),s.type===Ev.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):s.type===Ev.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):s.type===Ev.TouchEnd?this.mouse.classList.remove("touch-active"):n.dispatchEvent(e));break;case Ev.TouchCancel:t?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:n.dispatchEvent(e)}break}case Tv.Scroll:if(-1===s.id)break;if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(s.id);if(!e)return this.debugNodeNotFound(s,s.id);e.scrollData=s;break}this.applyScroll(s,t);break;case Tv.ViewportResize:this.emitter.emit(Uv.Resize,{width:s.width,height:s.height});break;case Tv.Input:if(-1===s.id)break;if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(s.id);if(!e)return this.debugNodeNotFound(s,s.id);e.inputData=s;break}this.applyInput(s);break;case Tv.MediaInteraction:{const t=this.usingVirtualDom?this.virtualDom.mirror.getNode(s.id):this.mirror.getNode(s.id);if(!t)return this.debugNodeNotFound(s,s.id);const n=t;try{void 0!==s.currentTime&&(n.currentTime=s.currentTime),void 0!==s.volume&&(n.volume=s.volume),void 0!==s.muted&&(n.muted=s.muted),1===s.type&&n.pause(),0===s.type&&n.play(),4===s.type&&(n.playbackRate=s.playbackRate)}catch(e){this.warn(`Failed to replay media interactions: ${e.message||e}`)}break}case Tv.StyleSheetRule:case Tv.StyleDeclaration:this.usingVirtualDom?s.styleId?this.constructedStyleMutations.push(s):s.id&&(null===(i=this.virtualDom.mirror.getNode(s.id))||void 0===i||i.rules.push(s)):this.applyStyleSheetMutation(s);break;case Tv.CanvasMutation:if(!this.config.UNSAFE_replayCanvas)return;if(this.usingVirtualDom){const t=this.virtualDom.mirror.getNode(s.id);if(!t)return this.debugNodeNotFound(s,s.id);t.canvasMutations.push({event:e,mutation:s})}else{const t=this.mirror.getNode(s.id);if(!t)return this.debugNodeNotFound(s,s.id);Xy({event:e,mutation:s,target:t,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break;case Tv.Font:try{const e=new FontFace(s.family,s.buffer?new Uint8Array(JSON.parse(s.fontSource)):s.fontSource,s.descriptors);null===(r=this.iframe.contentDocument)||void 0===r||r.fonts.add(e)}catch(e){this.warn(e)}break;case Tv.Selection:if(t){this.lastSelectionData=s;break}this.applySelection(s);break;case Tv.AdoptedStyleSheet:this.usingVirtualDom?this.adoptedStyleSheets.push(s):this.applyAdoptedStyleSheet(s)}}applyMutation(e,t){if(this.config.useVirtualDom&&!this.usingVirtualDom&&t&&(this.usingVirtualDom=!0,function(e,t=function(){return new Nv}(),n=new ly){(function e(i,r){const s=vy(i,n,t,r);if(null!==s)if("IFRAME"!==(null==r?void 0:r.nodeName)&&i.nodeType!==Zv.DOCUMENT_FRAGMENT_NODE&&(null==r||r.appendChild(s),s.parentNode=r,s.parentElement=r),"IFRAME"===i.nodeName){const t=i.contentDocument;t&&e(t,s)}else i.nodeType!==Zv.DOCUMENT_NODE&&i.nodeType!==Zv.ELEMENT_NODE&&i.nodeType!==Zv.DOCUMENT_FRAGMENT_NODE||(i.nodeType===Zv.ELEMENT_NODE&&i.shadowRoot&&e(i.shadowRoot,s),i.childNodes.forEach((t=>e(t,s))))})(e,null)}(this.iframe.contentDocument,this.mirror,this.virtualDom),Object.keys(this.legacy_missingNodeRetryMap).length))for(const t in this.legacy_missingNodeRetryMap)try{const e=this.legacy_missingNodeRetryMap[t],n=vy(e.node,this.virtualDom,this.mirror);n&&(e.node=n)}catch(e){this.warn(e)}const n=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;e.removes=e.removes.filter((t=>!!n.getNode(t.id)||(this.warnNodeNotFound(e,t.id),!1))),e.removes.forEach((t=>{var i;const r=n.getNode(t.id);if(!r)return;let s=n.getNode(t.parentId);if(!s)return this.warnNodeNotFound(e,t.parentId);if(t.isShadow&&Cv(s)&&(s=s.shadowRoot),n.removeNodeFromMap(r),s)try{s.removeChild(r),this.usingVirtualDom&&"#text"===r.nodeName&&"STYLE"===s.nodeName&&(null===(i=s.rules)||void 0===i?void 0:i.length)>0&&(s.rules=[])}catch(t){if(!(t instanceof DOMException))throw t;this.warn("parent could not remove child in mutation",s,r,e)}}));const i=Object.assign({},this.legacy_missingNodeRetryMap),r=[],s=e=>{var t,s;if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");let o=n.getNode(e.parentId);if(!o)return e.node.type===ev.Document?this.newDocumentQueue.push(e):r.push(e);e.node.isShadow&&(Cv(o)||o.attachShadow({mode:"open"}),o=o.shadowRoot);let a=null,l=null;if(e.previousId&&(a=n.getNode(e.previousId)),e.nextId&&(l=n.getNode(e.nextId)),(e=>{let t=null;return e.nextId&&(t=n.getNode(e.nextId)),null!==e.nextId&&void 0!==e.nextId&&-1!==e.nextId&&!t})(e))return r.push(e);if(e.node.rootId&&!n.getNode(e.node.rootId))return;const u=e.node.rootId?n.getNode(e.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(bv(o,n))return void this.attachDocumentToIframe(e,o);const c=(e,t)=>{if(!this.usingVirtualDom)for(const n of this.config.plugins||[])n.onBuild&&n.onBuild(e,{id:t,replayer:this})},A=gv(e.node,{doc:u,mirror:n,skipChild:!0,hackCss:!0,cache:this.cache,afterAppend:c});if(-1===e.previousId||-1===e.nextId)return void(i[e.node.id]={node:A,mutation:e});const d=n.getMeta(o);if(d&&d.type===ev.Element&&"textarea"===d.tagName&&e.node.type===ev.Text){const e=Array.isArray(o.childNodes)?o.childNodes:Array.from(o.childNodes);for(const t of e)t.nodeType===o.TEXT_NODE&&o.removeChild(t)}else if((null==d?void 0:d.type)===ev.Document){const n=o;e.node.type===ev.DocumentType&&(null===(t=n.childNodes[0])||void 0===t?void 0:t.nodeType)===Node.DOCUMENT_TYPE_NODE&&n.removeChild(n.childNodes[0]),"HTML"===A.nodeName&&n.documentElement&&n.removeChild(n.documentElement)}if(a&&a.nextSibling&&a.nextSibling.parentNode?o.insertBefore(A,a.nextSibling):l&&l.parentNode?o.contains(l)?o.insertBefore(A,l):o.insertBefore(A,null):o.appendChild(A),c(A,e.node.id),this.usingVirtualDom&&"#text"===A.nodeName&&"STYLE"===o.nodeName&&(null===(s=o.rules)||void 0===s?void 0:s.length)>0&&(o.rules=[]),bv(A,this.mirror)){const e=this.mirror.getId(A),t=this.newDocumentQueue.find((t=>t.parentId===e));t&&(this.attachDocumentToIframe(t,A),this.newDocumentQueue=this.newDocumentQueue.filter((e=>e!==t)))}(e.previousId||e.nextId)&&this.legacy_resolveMissingNode(i,o,A,e)};e.adds.forEach((e=>{s(e)}));const o=Date.now();for(;r.length;){const e=vv(r);if(r.length=0,Date.now()-o>500){this.warn("Timeout in the loop, please check the resolve tree data:",e);break}for(const t of e)n.getNode(t.value.parentId)?yv(t,(e=>{s(e)})):this.debug("Drop resolve tree since there is no parent for the root node.",t)}Object.keys(i).length&&Object.assign(this.legacy_missingNodeRetryMap,i),function(e){const t=new Set,n=[];for(let i=e.length;i--;){const r=e[i];t.has(r.id)||(n.push(r),t.add(r.id))}return n}(e.texts).forEach((t=>{var i;const r=n.getNode(t.id);if(!r){if(e.removes.find((e=>e.id===t.id)))return;return this.warnNodeNotFound(e,t.id)}if(r.textContent=t.value,this.usingVirtualDom){const e=r.parentNode;(null===(i=null==e?void 0:e.rules)||void 0===i?void 0:i.length)>0&&(e.rules=[])}})),e.attributes.forEach((t=>{var i;const r=n.getNode(t.id);if(!r){if(e.removes.find((e=>e.id===t.id)))return;return this.warnNodeNotFound(e,t.id)}for(const e in t.attributes)if("string"==typeof e){const s=t.attributes[e];if(null===s)r.removeAttribute(e);else if("string"==typeof s)try{if("_cssText"===e&&("LINK"===r.nodeName||"STYLE"===r.nodeName))try{const e=n.getMeta(r);Object.assign(e.attributes,t.attributes);const i=gv(e,{doc:r.ownerDocument,mirror:n,skipChild:!0,hackCss:!0,cache:this.cache}),s=r.nextSibling,o=r.parentNode;if(i&&o){o.removeChild(r),o.insertBefore(i,s),n.replace(t.id,i);break}}catch(e){}if("value"===e&&"TEXTAREA"===r.nodeName){const e=r;e.childNodes.forEach((t=>e.removeChild(t)));const t=null===(i=r.ownerDocument)||void 0===i?void 0:i.createTextNode(s);t&&e.appendChild(t)}else r.setAttribute(e,s)}catch(e){this.warn("An error occurred may due to the checkout feature.",e)}else if("style"===e){const e=s,t=r;for(const n in e)if(!1===e[n])t.style.removeProperty(n);else if(e[n]instanceof Array){const i=e[n];t.style.setProperty(n,i[0],i[1])}else{const i=e[n];t.style.setProperty(n,i)}}}}))}applyScroll(e,t){var n,i;const r=this.mirror.getNode(e.id);if(!r)return this.debugNodeNotFound(e,e.id);const s=this.mirror.getMeta(r);if(r===this.iframe.contentDocument)null===(n=this.iframe.contentWindow)||void 0===n||n.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else if((null==s?void 0:s.type)===ev.Document)null===(i=r.defaultView)||void 0===i||i.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else try{r.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}catch(e){}}applyInput(e){const t=this.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);try{t.checked=e.isChecked,t.value=e.text}catch(e){}}applySelection(e){try{const t=new Set,n=e.ranges.map((({start:e,startOffset:n,end:i,endOffset:r})=>{const s=this.mirror.getNode(e),o=this.mirror.getNode(i);if(!s||!o)return;const a=new Range;a.setStart(s,n),a.setEnd(o,r);const l=s.ownerDocument,u=null==l?void 0:l.getSelection();return u&&t.add(u),{range:a,selection:u}}));t.forEach((e=>e.removeAllRanges())),n.forEach((e=>{var t;return e&&(null===(t=e.selection)||void 0===t?void 0:t.addRange(e.range))}))}catch(e){}}applyStyleSheetMutation(e){var t;let n=null;e.styleId?n=this.styleMirror.getStyle(e.styleId):e.id&&(n=(null===(t=this.mirror.getNode(e.id))||void 0===t?void 0:t.sheet)||null),n&&(e.source===Tv.StyleSheetRule?this.applyStyleSheetRule(e,n):e.source===Tv.StyleDeclaration&&this.applyStyleDeclaration(e,n))}applyStyleSheetRule(e,t){var n,i,r,s;if(null===(n=e.adds)||void 0===n||n.forEach((({rule:e,index:n})=>{try{if(Array.isArray(n)){const{positions:i,index:r}=Bv(n);xv(t.cssRules,i).insertRule(e,r)}else{const i=void 0===n?void 0:Math.min(n,t.cssRules.length);null==t||t.insertRule(e,i)}}catch(e){}})),null===(i=e.removes)||void 0===i||i.forEach((({index:e})=>{try{if(Array.isArray(e)){const{positions:n,index:i}=Bv(e);xv(t.cssRules,n).deleteRule(i||0)}else null==t||t.deleteRule(e)}catch(e){}})),e.replace)try{null===(r=t.replace)||void 0===r||r.call(t,e.replace)}catch(e){}if(e.replaceSync)try{null===(s=t.replaceSync)||void 0===s||s.call(t,e.replaceSync)}catch(e){}}applyStyleDeclaration(e,t){e.set&&xv(t.rules,e.index).style.setProperty(e.set.property,e.set.value,e.set.priority),e.remove&&xv(t.rules,e.index).style.removeProperty(e.remove.property)}applyAdoptedStyleSheet(e){var t;const n=this.mirror.getNode(e.id);if(!n)return;null===(t=e.styles)||void 0===t||t.forEach((e=>{var t;let i=null,r=null;if(Cv(n)?r=(null===(t=n.ownerDocument)||void 0===t?void 0:t.defaultView)||null:"#document"===n.nodeName&&(r=n.defaultView),r)try{i=new r.CSSStyleSheet,this.styleMirror.add(i,e.styleId),this.applyStyleSheetRule({source:Tv.StyleSheetRule,adds:e.rules},i)}catch(e){}}));let i=0;const r=(e,t)=>{const n=t.map((e=>this.styleMirror.getStyle(e))).filter((e=>null!==e));Cv(e)?e.shadowRoot.adoptedStyleSheets=n:"#document"===e.nodeName&&(e.adoptedStyleSheets=n),n.length!==t.length&&i<10&&(setTimeout((()=>r(e,t)),0+100*i),i++)};r(n,e.styleIds)}legacy_resolveMissingNode(e,t,n,i){const{previousId:r,nextId:s}=i,o=r&&e[r],a=s&&e[s];if(o){const{node:i,mutation:r}=o;t.insertBefore(i,n),delete e[r.node.id],delete this.legacy_missingNodeRetryMap[r.node.id],(r.previousId||r.nextId)&&this.legacy_resolveMissingNode(e,t,i,r)}if(a){const{node:i,mutation:r}=a;t.insertBefore(i,n.nextSibling),delete e[r.node.id],delete this.legacy_missingNodeRetryMap[r.node.id],(r.previousId||r.nextId)&&this.legacy_resolveMissingNode(e,t,i,r)}}moveAndHover(e,t,n,i,r){const s=this.mirror.getNode(n);if(!s)return this.debugNodeNotFound(r,n);const o=wv(s,this.iframe),a=e*o.absoluteScale+o.x,l=t*o.absoluteScale+o.y;this.mouse.style.left=`${a}px`,this.mouse.style.top=`${l}px`,i||this.drawMouseTail({x:a,y:l}),this.hoverElements(s)}drawMouseTail(e){if(!this.mouseTail)return;const{lineCap:t,lineWidth:n,strokeStyle:i,duration:r}=!0===this.config.mouseTail?gb:Object.assign({},gb,this.config.mouseTail),s=()=>{if(!this.mouseTail)return;const e=this.mouseTail.getContext("2d");e&&this.tailPositions.length&&(e.clearRect(0,0,this.mouseTail.width,this.mouseTail.height),e.beginPath(),e.lineWidth=n,e.lineCap=t,e.strokeStyle=i,e.moveTo(this.tailPositions[0].x,this.tailPositions[0].y),this.tailPositions.forEach((t=>e.lineTo(t.x,t.y))),e.stroke())};this.tailPositions.push(e),s(),setTimeout((()=>{this.tailPositions=this.tailPositions.filter((t=>t!==e)),s()}),r/this.speedService.state.context.timer.speed)}hoverElements(e){var t;null===(t=this.lastHoveredRootNode||this.iframe.contentDocument)||void 0===t||t.querySelectorAll(".\\:hover").forEach((e=>{e.classList.remove(":hover")})),this.lastHoveredRootNode=e.getRootNode();let n=e;for(;n;)n.classList&&n.classList.add(":hover"),n=n.parentElement}isUserInteraction(e){return e.type===kv.IncrementalSnapshot&&e.data.source>Tv.Mutation&&e.data.source<=Tv.Input}backToNormal(){this.nextUserInteractionEvent=null,this.speedService.state.matches("normal")||(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(Uv.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))}warnNodeNotFound(e,t){this.warn(`Node with id '${t}' not found. `,e)}warnCanvasMutationFailed(e,t){this.warn("Has error on canvas update",t,"canvas mutation:",e)}debugNodeNotFound(e,t){this.debug(`Node with id '${t}' not found. `,e)}warn(...e){this.config.showWarning&&this.config.logger.warn("[replayer]",...e)}debug(...e){this.config.showDebug&&this.config.logger.log("[replayer]",...e)}}function yb(e){let t="";return Object.keys(e).forEach((n=>{t+=`${n}: ${e[n]};`})),t}function bb(e,t=2){let n=String(e);const i=Math.pow(10,t-1);if(e<i)for(;String(i).length>n.length;)n=`0${e}`;return n}function wb(e){if(e<=0)return"00:00";const t=Math.floor(e/36e5);e%=36e5;const n=Math.floor(e/6e4);e%=6e4;const i=Math.floor(e/1e3);return t?`${bb(t)}:${bb(n)}:${bb(i)}`:`${bb(n)}:${bb(i)}`}function Cb(){let e=!1;return["fullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement"].forEach((t=>{t in document&&(e=e||Boolean(document[t]))})),e}function xb(e){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)]}function Bb(e){return e.type===kv.IncrementalSnapshot&&e.data.source>Tv.Mutation&&e.data.source<=Tv.Input}function Sb(e){let t,n,i,r,s,o,a,l,u;return{c(){t=vm("div"),n=vm("input"),i=wm(),r=vm("label"),s=wm(),o=vm("span"),a=bm(e[3]),xm(n,"type","checkbox"),xm(n,"id",e[2]),n.disabled=e[1],xm(n,"class","svelte-9brlez"),xm(r,"for",e[2]),xm(r,"class","svelte-9brlez"),xm(o,"class","label svelte-9brlez"),xm(t,"class","switch svelte-9brlez"),_m(t,"disabled",e[1])},m(c,A){fm(c,t,A),pm(t,n),n.checked=e[0],pm(t,i),pm(t,r),pm(t,s),pm(t,o),pm(o,a),l||(u=Cm(n,"change",e[4]),l=!0)},p(e,[i]){4&i&&xm(n,"id",e[2]),2&i&&(n.disabled=e[1]),1&i&&(n.checked=e[0]),4&i&&xm(r,"for",e[2]),8&i&&Bm(a,e[3]),2&i&&_m(t,"disabled",e[1])},i:om,o:om,d(e){e&&gm(t),l=!1,u()}}}function _b(e,t,n){let{disabled:i}=t,{checked:r}=t,{id:s}=t,{label:o}=t;return e.$$set=e=>{"disabled"in e&&n(1,i=e.disabled),"checked"in e&&n(0,r=e.checked),"id"in e&&n(2,s=e.id),"label"in e&&n(3,o=e.label)},[r,i,s,o,function(){r=this.checked,n(0,r)}]}class kb extends Zm{constructor(e){super(),Jm(this,e,_b,Sb,dm,{disabled:1,checked:0,id:2,label:3})}}function Tb(e,t,n){const i=e.slice();return i[39]=t[n],i}function Eb(e,t,n){const i=e.slice();return i[42]=t[n],i}function Ib(e,t,n){const i=e.slice();return i[45]=t[n],i}function Ub(e){let t,n,i,r,s,o,a,l,u,c,A,d,h,p,f,g,m,v,y,b,w,C,x,B,S,_,k=wb(e[6])+"",T=wb(e[8].totalTime)+"",E=e[14],I=[];for(let t=0;t<E.length;t+=1)I[t]=Fb(Ib(e,E,t));let U=e[9],F=[];for(let t=0;t<U.length;t+=1)F[t]=Db(Eb(e,U,t));function D(e,t){return"playing"===e[7]?Ob:Lb}let L=D(e),O=L(e),N=e[3],M=[];for(let t=0;t<N.length;t+=1)M[t]=Nb(Tb(e,N,t));function j(t){e[30](t)}let R={id:"skip",disabled:"skipping"===e[10],label:"skip inactive"};return void 0!==e[0]&&(R.checked=e[0]),b=new kb({props:R}),Dm.push((()=>function(e,t,n){const i=e.$$.props.checked;void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}(b,0,j))),{c(){t=vm("div"),n=vm("div"),i=vm("span"),r=bm(k),s=wm(),o=vm("div"),a=vm("div"),l=wm();for(let e=0;e<I.length;e+=1)I[e].c();u=wm();for(let e=0;e<F.length;e+=1)F[e].c();c=wm(),A=vm("div"),d=wm(),h=vm("span"),p=bm(T),f=wm(),g=vm("div"),m=vm("button"),O.c(),v=wm();for(let e=0;e<M.length;e+=1)M[e].c();y=wm(),$m(b.$$.fragment),C=wm(),x=vm("button"),x.innerHTML='<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M916 380c-26.4 0-48-21.6-48-48L868 223.2 613.6 477.6c-18.4\n            18.4-48.8 18.4-68 0-18.4-18.4-18.4-48.8 0-68L800 156 692 156c-26.4\n            0-48-21.6-48-48 0-26.4 21.6-48 48-48l224 0c26.4 0 48 21.6 48 48l0\n            224C964 358.4 942.4 380 916 380zM231.2 860l108.8 0c26.4 0 48 21.6 48\n            48s-21.6 48-48 48l-224 0c-26.4 0-48-21.6-48-48l0-224c0-26.4 21.6-48\n            48-48 26.4 0 48 21.6 48 48L164 792l253.6-253.6c18.4-18.4 48.8-18.4\n            68 0 18.4 18.4 18.4 48.8 0 68L231.2 860z" p-id="1286"></path></svg>',xm(i,"class","rr-timeline__time svelte-19ke1iv"),xm(a,"class","rr-progress__step svelte-19ke1iv"),Sm(a,"width",e[13]),xm(A,"class","rr-progress__handler svelte-19ke1iv"),Sm(A,"left",e[13]),xm(o,"class","rr-progress svelte-19ke1iv"),_m(o,"disabled","skipping"===e[10]),xm(h,"class","rr-timeline__time svelte-19ke1iv"),xm(n,"class","rr-timeline svelte-19ke1iv"),xm(m,"class","svelte-19ke1iv"),xm(x,"class","svelte-19ke1iv"),xm(g,"class","rr-controller__btns svelte-19ke1iv"),xm(t,"class","rr-controller svelte-19ke1iv")},m(w,k){fm(w,t,k),pm(t,n),pm(n,i),pm(i,r),pm(n,s),pm(n,o),pm(o,a),e[27](a),pm(o,l);for(let e=0;e<I.length;e+=1)I[e]&&I[e].m(o,null);pm(o,u);for(let e=0;e<F.length;e+=1)F[e]&&F[e].m(o,null);pm(o,c),pm(o,A),e[28](o),pm(n,d),pm(n,h),pm(h,p),pm(t,f),pm(t,g),pm(g,m),O.m(m,null),pm(g,v);for(let e=0;e<M.length;e+=1)M[e]&&M[e].m(g,null);pm(g,y),Xm(b,g,null),pm(g,C),pm(g,x),B=!0,S||(_=[Cm(o,"click",e[16]),Cm(m,"click",e[4]),Cm(x,"click",e[31])],S=!0)},p(e,t){if((!B||64&t[0])&&k!==(k=wb(e[6])+"")&&Bm(r,k),(!B||8192&t[0])&&Sm(a,"width",e[13]),16384&t[0]){let n;for(E=e[14],n=0;n<E.length;n+=1){const i=Ib(e,E,n);I[n]?I[n].p(i,t):(I[n]=Fb(i),I[n].c(),I[n].m(o,u))}for(;n<I.length;n+=1)I[n].d(1);I.length=E.length}if(512&t[0]){let n;for(U=e[9],n=0;n<U.length;n+=1){const i=Eb(e,U,n);F[n]?F[n].p(i,t):(F[n]=Db(i),F[n].c(),F[n].m(o,c))}for(;n<F.length;n+=1)F[n].d(1);F.length=U.length}if((!B||8192&t[0])&&Sm(A,"left",e[13]),(!B||1024&t[0])&&_m(o,"disabled","skipping"===e[10]),(!B||256&t[0])&&T!==(T=wb(e[8].totalTime)+"")&&Bm(p,T),L!==(L=D(e))&&(O.d(1),O=L(e),O&&(O.c(),O.m(m,null))),1066&t[0]){let n;for(N=e[3],n=0;n<N.length;n+=1){const i=Tb(e,N,n);M[n]?M[n].p(i,t):(M[n]=Nb(i),M[n].c(),M[n].m(g,y))}for(;n<M.length;n+=1)M[n].d(1);M.length=N.length}const n={};var i;1024&t[0]&&(n.disabled="skipping"===e[10]),!w&&1&t[0]&&(w=!0,n.checked=e[0],i=()=>w=!1,Om.push(i)),b.$set(n)},i(e){B||(Gm(b.$$.fragment,e),B=!0)},o(e){Wm(b.$$.fragment,e),B=!1},d(n){n&&gm(t),e[27](null),mm(I,n),mm(F,n),e[28](null),O.d(),mm(M,n),Ym(b),S=!1,cm(_)}}}function Fb(e){let t,n;return{c(){t=vm("div"),xm(t,"title",n=e[45].name),Sm(t,"width",e[45].width),Sm(t,"height","4px"),Sm(t,"position","absolute"),Sm(t,"background",e[45].background),Sm(t,"left",e[45].position)},m(e,n){fm(e,t,n)},p(e,i){16384&i[0]&&n!==(n=e[45].name)&&xm(t,"title",n),16384&i[0]&&Sm(t,"width",e[45].width),16384&i[0]&&Sm(t,"background",e[45].background),16384&i[0]&&Sm(t,"left",e[45].position)},d(e){e&&gm(t)}}}function Db(e){let t,n;return{c(){t=vm("div"),xm(t,"title",n=e[42].name),Sm(t,"width","10px"),Sm(t,"height","5px"),Sm(t,"position","absolute"),Sm(t,"top","2px"),Sm(t,"transform","translate(-50%, -50%)"),Sm(t,"background",e[42].background),Sm(t,"left",e[42].position)},m(e,n){fm(e,t,n)},p(e,i){512&i[0]&&n!==(n=e[42].name)&&xm(t,"title",n),512&i[0]&&Sm(t,"background",e[42].background),512&i[0]&&Sm(t,"left",e[42].position)},d(e){e&&gm(t)}}}function Lb(e){let t,n;return{c(){t=ym("svg"),n=ym("path"),xm(n,"d","M170.65984 896l0-768 640 384zM644.66944\n              512l-388.66944-233.32864 0 466.65728z"),xm(t,"class","icon"),xm(t,"viewBox","0 0 1024 1024"),xm(t,"version","1.1"),xm(t,"xmlns","http://www.w3.org/2000/svg"),xm(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),xm(t,"width","16"),xm(t,"height","16")},m(e,i){fm(e,t,i),pm(t,n)},d(e){e&&gm(t)}}}function Ob(e){let t,n;return{c(){t=ym("svg"),n=ym("path"),xm(n,"d","M682.65984 128q53.00224 0 90.50112 37.49888t37.49888 90.50112l0\n              512q0 53.00224-37.49888 90.50112t-90.50112\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\n              37.49888-90.50112t90.50112-37.49888zM341.34016 128q53.00224 0\n              90.50112 37.49888t37.49888 90.50112l0 512q0 53.00224-37.49888\n              90.50112t-90.50112\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\n              37.49888-90.50112t90.50112-37.49888zM341.34016 213.34016q-17.67424\n              0-30.16704 12.4928t-12.4928 30.16704l0 512q0 17.67424 12.4928\n              30.16704t30.16704 12.4928 30.16704-12.4928\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM682.65984\n              213.34016q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 512q0\n              17.67424 12.4928 30.16704t30.16704 12.4928 30.16704-12.4928\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928z"),xm(t,"class","icon"),xm(t,"viewBox","0 0 1024 1024"),xm(t,"version","1.1"),xm(t,"xmlns","http://www.w3.org/2000/svg"),xm(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),xm(t,"width","16"),xm(t,"height","16")},m(e,i){fm(e,t,i),pm(t,n)},d(e){e&&gm(t)}}}function Nb(e){let t,n,i,r,s,o,a=e[39]+"";function l(){return e[29](e[39])}return{c(){t=vm("button"),n=bm(a),i=bm("x"),t.disabled=r="skipping"===e[10],xm(t,"class","svelte-19ke1iv"),_m(t,"active",e[39]===e[1]&&"skipping"!==e[10])},m(e,r){fm(e,t,r),pm(t,n),pm(t,i),s||(o=Cm(t,"click",l),s=!0)},p(i,s){e=i,8&s[0]&&a!==(a=e[39]+"")&&Bm(n,a),1024&s[0]&&r!==(r="skipping"===e[10])&&(t.disabled=r),1034&s[0]&&_m(t,"active",e[39]===e[1]&&"skipping"!==e[10])},d(e){e&&gm(t),s=!1,o()}}}function Mb(e){let t,n,i=e[2]&&Ub(e);return{c(){i&&i.c(),t=bm("")},m(e,r){i&&i.m(e,r),fm(e,t,r),n=!0},p(e,n){e[2]?i?(i.p(e,n),4&n[0]&&Gm(i,1)):(i=Ub(e),i.c(),Gm(i,1),i.m(t.parentNode,t)):i&&(zm(),Wm(i,1,1,(()=>{i=null})),Km())},i(e){n||(Gm(i),n=!0)},o(e){Wm(i),n=!1},d(e){i&&i.d(e),e&&gm(t)}}}function jb(e,t,n){return(100-(t-n)/(t-e)*100).toFixed(2)}function Rb(e,t,n){const i=function(){const e=Em();return(t,n,{cancelable:i=!1}={})=>{const r=e.$$.callbacks[t];if(r){const s=function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,i,t),r}(t,n,{cancelable:i});return r.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}();let r,s,o,a,l,u,c,A,d,h,{replayer:p}=t,{showController:f}=t,{autoPlay:g}=t,{skipInactive:m}=t,{speedOption:v}=t,{speed:y=(v.length?v[0]:1)}=t,{tags:b={}}=t,{inactiveColor:w}=t,C=0,x=null,B=!1,S=null;const _=()=>{x&&(cancelAnimationFrame(x),x=null)},k=()=>{"paused"===r&&(l?(p.play(),l=!1):p.play(C))},T=()=>{"playing"===r&&(p.pause(),B=!1)},E=(e,t)=>{n(6,C=e),B=!1,l=!1,("boolean"==typeof t?t:"playing"===r)?p.play(e):p.pause(e)},I=(e,t,i=!1,r)=>{S=i?{start:e,end:t}:null,n(6,C=e),B=t,u=r,p.play(e)},U=e=>{let t="playing"===r;n(1,y=e),t&&p.pause(),p.setConfig({speed:y}),t&&p.play(C)};var F;return Im((()=>{n(7,r=p.service.state.value),n(10,s=p.speedService.state.value),p.on("state-change",(e=>{const{player:t,speed:i}=e;if((null==t?void 0:t.value)&&r!==t.value)switch(n(7,r=t.value),r){case"playing":_(),x=requestAnimationFrame((function e(){n(6,C=p.getCurrentTime()),B&&C>=B&&(S?I(S.start,S.end,!0,void 0):(p.pause(),u&&(u(),u=null))),C<c.totalTime&&(x=requestAnimationFrame(e))}));break;case"paused":_()}(null==i?void 0:i.value)&&s!==i.value&&n(10,s=i.value)})),p.on("finish",(()=>{l=!0,u&&(u(),u=null)})),g&&p.play()})),F=()=>{m!==p.config.skipInactive&&p.setConfig({skipInactive:m})},Em().$$.after_update.push(F),Um((()=>{p.pause(),_()})),e.$$set=e=>{"replayer"in e&&n(17,p=e.replayer),"showController"in e&&n(2,f=e.showController),"autoPlay"in e&&n(18,g=e.autoPlay),"skipInactive"in e&&n(0,m=e.skipInactive),"speedOption"in e&&n(3,v=e.speedOption),"speed"in e&&n(1,y=e.speed),"tags"in e&&n(19,b=e.tags),"inactiveColor"in e&&n(20,w=e.inactiveColor)},e.$$.update=()=>{if(64&e.$$.dirty[0]&&i("ui-update-current-time",{payload:C}),128&e.$$.dirty[0]&&i("ui-update-player-state",{payload:r}),131072&e.$$.dirty[0]&&n(8,c=p.getMetaData()),320&e.$$.dirty[0]){const e=Math.min(1,C/c.totalTime);n(13,A=100*e+"%"),i("ui-update-progress",{payload:e})}655360&e.$$.dirty[0]&&n(9,d=(()=>{const{context:e}=p.service.state,t=e.events.length,n=e.events[0].timestamp,i=e.events[t-1].timestamp,r=[];return e.events.forEach((e=>{if(e.type===kv.Custom){const t={name:e.data.tag,background:b[e.data.tag]||"rgb(73, 80, 246)",position:`${jb(n,i,e.timestamp)}%`};r.push(t)}})),r})()),1179648&e.$$.dirty[0]&&n(14,h=(()=>{try{const{context:e}=p.service.state,t=e.events.length,n=e.events[0].timestamp,i=e.events[t-1].timestamp,r=function(e){const t=[];let n=e[0].timestamp;for(const i of e)Bb(i)&&(i.timestamp-n>1e4&&t.push([n,i.timestamp]),n=i.timestamp);return t}(e.events),s=(e,t,n,i)=>((i-n)/(t-e)*100).toFixed(2);return r.map((e=>({name:"inactive period",background:w,position:`${jb(n,i,e[0])}%`,width:`${s(n,i,e[0],e[1])}%`})))}catch(e){return[]}})())},[m,y,f,v,()=>{switch(r){case"playing":T();break;case"paused":k()}},U,C,r,c,d,s,o,a,A,h,i,e=>{if("skipping"===s)return;const t=o.getBoundingClientRect();let n=(e.clientX-t.left)/t.width;n<0?n=0:n>1&&(n=1);const i=c.totalTime*n;E(i)},p,g,b,w,k,T,E,I,()=>{n(0,m=!m)},()=>Promise.resolve().then((()=>{n(8,c=p.getMetaData())})),function(e){Dm[e?"unshift":"push"]((()=>{a=e,n(12,a)}))},function(e){Dm[e?"unshift":"push"]((()=>{o=e,n(11,o)}))},e=>U(e),function(e){m=e,n(0,m)},()=>i("fullscreen")]}class Qb extends Zm{constructor(e){super(),Jm(this,e,Rb,Mb,dm,{replayer:17,showController:2,autoPlay:18,skipInactive:0,speedOption:3,speed:1,tags:19,inactiveColor:20,toggle:4,play:21,pause:22,goto:23,playRange:24,setSpeed:5,toggleSkipInactive:25,triggerUpdateMeta:26},null,[-1,-1])}get toggle(){return this.$$.ctx[4]}get play(){return this.$$.ctx[21]}get pause(){return this.$$.ctx[22]}get goto(){return this.$$.ctx[23]}get playRange(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[5]}get toggleSkipInactive(){return this.$$.ctx[25]}get triggerUpdateMeta(){return this.$$.ctx[26]}}function Pb(e){let t,n,i={replayer:e[7],showController:e[3],autoPlay:e[1],speedOption:e[2],skipInactive:e[0],tags:e[4],inactiveColor:e[5]};return t=new Qb({props:i}),e[32](t),t.$on("fullscreen",e[33]),{c(){$m(t.$$.fragment)},m(e,i){Xm(t,e,i),n=!0},p(e,n){const i={};128&n[0]&&(i.replayer=e[7]),8&n[0]&&(i.showController=e[3]),2&n[0]&&(i.autoPlay=e[1]),4&n[0]&&(i.speedOption=e[2]),1&n[0]&&(i.skipInactive=e[0]),16&n[0]&&(i.tags=e[4]),32&n[0]&&(i.inactiveColor=e[5]),t.$set(i)},i(e){n||(Gm(t.$$.fragment,e),n=!0)},o(e){Wm(t.$$.fragment,e),n=!1},d(n){e[32](null),Ym(t,n)}}}function Hb(e){let t,n,i,r,s=e[7]&&Pb(e);return{c(){t=vm("div"),n=vm("div"),i=wm(),s&&s.c(),xm(n,"class","rr-player__frame"),xm(n,"style",e[11]),xm(t,"class","rr-player"),xm(t,"style",e[12])},m(o,a){fm(o,t,a),pm(t,n),e[31](n),pm(t,i),s&&s.m(t,null),e[34](t),r=!0},p(e,i){(!r||2048&i[0])&&xm(n,"style",e[11]),e[7]?s?(s.p(e,i),128&i[0]&&Gm(s,1)):(s=Pb(e),s.c(),Gm(s,1),s.m(t,null)):s&&(zm(),Wm(s,1,1,(()=>{s=null})),Km()),(!r||4096&i[0])&&xm(t,"style",e[12])},i(e){r||(Gm(s),r=!0)},o(e){Wm(s),r=!1},d(n){n&&gm(t),e[31](null),s&&s.d(),e[34](null)}}}function qb(e,t,n){let i,r,s,o,a,l,u,{width:c=1024}=t,{height:A=576}=t,{maxScale:d=1}=t,{events:h=[]}=t,{skipInactive:p=!0}=t,{autoPlay:f=!0}=t,{speedOption:g=[1,2,4,8]}=t,{speed:m=1}=t,{showController:v=!0}=t,{tags:y={}}=t,{inactiveColor:b="#D4D4D4"}=t,w=c,C=A;const x=(e,t)=>{const n=[c/t.width,A/t.height];d&&n.push(d),e.style.transform=`scale(${Math.min(...n)})translate(-50%, -50%)`},B=()=>{var e;r&&(Cb()?document.exitFullscreen?document.exitFullscreen():document.mozExitFullscreen?document.mozExitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():(e=r).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())};return Im((()=>{if(void 0!==g&&"array"!==xb(g))throw new Error("speedOption must be array");if(g.forEach((e=>{if("number"!==xb(e))throw new Error("item of speedOption must be number")})),g.indexOf(m)<0)throw new Error(`speed must be one of speedOption,\n        current config:\n        {\n          ...\n          speed: ${m},\n          speedOption: [${g.toString()}]\n          ...\n        }\n        `);var e;n(7,i=new vb(h,Object.assign({speed:m,root:s,unpackFn:Vy},t))),i.on("resize",(e=>{x(i.wrapper,e)})),e=()=>{Cb()?setTimeout((()=>{w=c,C=A,n(13,c=r.offsetWidth),n(14,A=r.offsetHeight-(v?80:0)),x(i.wrapper,{width:i.iframe.offsetWidth,height:i.iframe.offsetHeight})}),0):(n(13,c=w),n(14,A=C),x(i.wrapper,{width:i.iframe.offsetWidth,height:i.iframe.offsetHeight}))},document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),o=()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}})),Um((()=>{o&&o()})),e.$$set=e=>{n(39,t=am(am({},t),hm(e))),"width"in e&&n(13,c=e.width),"height"in e&&n(14,A=e.height),"maxScale"in e&&n(15,d=e.maxScale),"events"in e&&n(16,h=e.events),"skipInactive"in e&&n(0,p=e.skipInactive),"autoPlay"in e&&n(1,f=e.autoPlay),"speedOption"in e&&n(2,g=e.speedOption),"speed"in e&&n(17,m=e.speed),"showController"in e&&n(3,v=e.showController),"tags"in e&&n(4,y=e.tags),"inactiveColor"in e&&n(5,b=e.inactiveColor)},e.$$.update=()=>{24576&e.$$.dirty[0]&&n(11,l=yb({width:`${c}px`,height:`${A}px`})),24584&e.$$.dirty[0]&&n(12,u=yb({width:`${c}px`,height:`${A+(v?80:0)}px`}))},t=hm(t),[p,f,g,v,y,b,B,i,r,s,a,l,u,c,A,d,h,m,()=>i.getMirror(),()=>{x(i.wrapper,{width:i.iframe.offsetWidth,height:i.iframe.offsetHeight})},(e,t)=>{switch(i.on(e,t),e){case"ui-update-current-time":case"ui-update-progress":case"ui-update-player-state":a.$on(e,(({detail:e})=>t(e)))}},e=>{i.addEvent(e),a.triggerUpdateMeta()},()=>i.getMetaData(),()=>i,()=>{a.toggle()},e=>{a.setSpeed(e)},()=>{a.toggleSkipInactive()},()=>{a.play()},()=>{a.pause()},(e,t)=>{a.goto(e,t)},(e,t,n=!1,i)=>{a.playRange(e,t,n,i)},function(e){Dm[e?"unshift":"push"]((()=>{s=e,n(9,s)}))},function(e){Dm[e?"unshift":"push"]((()=>{a=e,n(10,a)}))},()=>B(),function(e){Dm[e?"unshift":"push"]((()=>{r=e,n(8,r)}))}]}class Vb extends Zm{constructor(e){super(),Jm(this,e,qb,Hb,dm,{width:13,height:14,maxScale:15,events:16,skipInactive:0,autoPlay:1,speedOption:2,speed:17,showController:3,tags:4,inactiveColor:5,getMirror:18,triggerResize:19,toggleFullscreen:6,addEventListener:20,addEvent:21,getMetaData:22,getReplayer:23,toggle:24,setSpeed:25,toggleSkipInactive:26,play:27,pause:28,goto:29,playRange:30},null,[-1,-1])}get getMirror(){return this.$$.ctx[18]}get triggerResize(){return this.$$.ctx[19]}get toggleFullscreen(){return this.$$.ctx[6]}get addEventListener(){return this.$$.ctx[20]}get addEvent(){return this.$$.ctx[21]}get getMetaData(){return this.$$.ctx[22]}get getReplayer(){return this.$$.ctx[23]}get toggle(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[25]}get toggleSkipInactive(){return this.$$.ctx[26]}get play(){return this.$$.ctx[27]}get pause(){return this.$$.ctx[28]}get goto(){return this.$$.ctx[29]}get playRange(){return this.$$.ctx[30]}}class zb extends Vb{constructor(e){super({target:e.target,props:e.data||e.props})}}var Kb=n(9096),Gb={};Gb.styleTagTransform=ql(),Gb.setAttributes=Rl(),Gb.insert=Ml().bind(null,"head"),Gb.domAPI=Ol(),Gb.insertStyleElement=Pl();Dl()(Kb.A,Gb),Kb.A&&Kb.A.locals&&Kb.A.locals;var Wb=()=>{var e,n,i,r,s,o,a,l,u,c,A;const{rrwebRePlayer:d,setRRwebRePlayer:h,isRewindPlaying:p,setIsRewindPlaying:f}=(0,nr.useContext)(Kr),{updateTrimDuration:g,totalVideoSec:m,activeSession:v}=(0,nr.useContext)(Kr),[y,b]=(0,nr.useState)([]),[w,C]=(0,nr.useState)(!1),[x,B]=(0,nr.useState)(!1),S=(0,nr.useRef)({minValue:0,maxValue:m}),[_,k]=(0,nr.useState)(null),[T,E]=(0,nr.useState)({height:0,width:0}),I=(0,nr.useRef)(null);(0,nr.useEffect)((()=>{var e,t,n,i,r,s,o,a;if((null===(t=null===(e=null==v?void 0:v.sessionHasRewind)||void 0===e?void 0:e.trim)||void 0===t?void 0:t.maxVal)||(null===(i=null===(n=null==v?void 0:v.sessionHasRewind)||void 0===n?void 0:n.trim)||void 0===i?void 0:i.minVal)){const e=null===(s=null===(r=null==v?void 0:v.sessionHasRewind)||void 0===r?void 0:r.trim)||void 0===s?void 0:s.maxVal,t=null===(a=null===(o=null==v?void 0:v.sessionHasRewind)||void 0===o?void 0:o.trim)||void 0===a?void 0:a.minVal;S.current={maxValue:e,minValue:t}}}),[null===(n=null===(e=null==v?void 0:v.sessionHasRewind)||void 0===e?void 0:e.trim)||void 0===n?void 0:n.minVal,null===(r=null===(i=null==v?void 0:v.sessionHasRewind)||void 0===i?void 0:i.trim)||void 0===r?void 0:r.maxVal]);const U=e=>{var t,n,i,r,s,o;"Space"===e.code&&"input"!==(null===(n=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.tagName)||void 0===n?void 0:n.toLowerCase())&&"textarea"!==(null===(r=null===(i=null===document||void 0===document?void 0:document.activeElement)||void 0===i?void 0:i.tagName)||void 0===r?void 0:r.toLowerCase())&&"select"!==(null===(o=null===(s=null===document||void 0===document?void 0:document.activeElement)||void 0===s?void 0:s.tagName)||void 0===o?void 0:o.toLowerCase())&&(p?(null==d||d.pause(),f(!1)):(null==d||d.play(),f(!0)))},F=()=>{p?(null==d||d.pause(),f(!1)):(null==d||d.play(),f(!0))};(0,nr.useEffect)((()=>{var e,t;(null===(e=null==v?void 0:v.sessionHasRewind)||void 0===e?void 0:e.events)&&b(null===(t=null==v?void 0:v.sessionHasRewind)||void 0===t?void 0:t.events)}),[null===(s=null==v?void 0:v.sessionHasRewind)||void 0===s?void 0:s.events]),(0,nr.useEffect)((()=>(null===document||void 0===document||document.addEventListener("keyup",U),()=>{null===document||void 0===document||document.removeEventListener("keyup",U)})),[U]),(0,nr.useEffect)((()=>{var e,n,i;return d&&(null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".replayer-wrapper"))||void 0===i||i.addEventListener("click",F)),()=>{var e,n,i;null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".replayer-wrapper"))||void 0===i||i.removeEventListener("click",F)}}),[F,d]);(0,nr.useEffect)((()=>((()=>{var e,n;const i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".rr-player");i&&i.remove();const r=null==y?void 0:y.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0)));if(I.current&&r.length>2){E({height:I.current.clientHeight,width:I.current.clientWidth});const e=I.current.getRootNode();document.querySelectorAll("style").forEach((t=>{var n,i;if((null===(n=t.textContent)||void 0===n?void 0:n.includes("rr-player"))||(null===(i=t.textContent)||void 0===i?void 0:i.includes("multi-range-slider"))){const n=document.createElement("style");n.textContent=t.textContent,e.appendChild(n),t.remove()}}));const n=new zb({target:I.current,props:{events:r,showController:!1,maxScale:0,mouseTail:!1,width:I.current.clientWidth,height:I.current.clientHeight,triggerFocus:!1,autoPlay:!1,liveMode:!1,showWarning:!1,skipInactive:!0,useVirtualDom:!0}});h(n),null==n||n.addEventListener("pause",(()=>{f(!1)})),null==n||n.addEventListener("ui-update-progress",(e=>{var n,i,r,s;const o=100*(null==e?void 0:e.payload);null===(s=null===(r=null===(i=null===(n=document.getElementById(t))||void 0===n?void 0:n.shadowRoot)||void 0===i?void 0:i.querySelector("div"))||void 0===r?void 0:r.style)||void 0===s||s.setProperty("--left-pos-bar",o+"%")})),null==n||n.addEventListener("ui-update-player-state",(e=>{const t=null==e?void 0:e.payload;"playing"===t?f(!0):"paused"===t&&f(!1)})),null==n||n.addEventListener("start",(()=>{f(!0)}))}})(),()=>{var e,n;const i=null==d?void 0:d.getReplayer();i&&"function"==typeof(null==i?void 0:i.destroy)&&(null==i||i.destroy());const r=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bb-rrweb-player");r&&(r.innerHTML="")})),[null==y?void 0:y.length]),(0,nr.useEffect)((()=>{var e,n,i,r;const s=((e,t)=>{var n,i;const{height:r,width:s}=e,o=(null===(n=null==t?void 0:t.current)||void 0===n?void 0:n.offsetWidth)||0,a=(null===(i=null==t?void 0:t.current)||void 0===i?void 0:i.offsetHeight)||0,l=a/r;return{scale:l,transformLeft:Math.round(o-l*s)/2/l,transformTop:Math.round(a-l*r)/2/l}})(T,I),o=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".replayer-wrapper");if(o){const e=/scale\(([^)]+)\)/,t=null===(i=null==o?void 0:o.style)||void 0===i?void 0:i.transform,n=e.exec(t);if(n&&n[1]){const e=parseFloat(n[1]);(null==o?void 0:o.style)&&Math.floor(o.offsetWidth*e*s.scale)<=((null===(r=null==I?void 0:I.current)||void 0===r?void 0:r.offsetWidth)||0)&&(o.style.scale=s.scale+""),(null==o?void 0:o.style)&&(o.style.transform=`scale(${e}) translate(-50%, -50%)`)}}}),[null===(o=null==I?void 0:I.current)||void 0===o?void 0:o.offsetWidth,null===(a=null==I?void 0:I.current)||void 0===a?void 0:a.offsetHeight]),(0,nr.useEffect)((()=>{var e,n,i,r,s,o,a,l,u,c,A;g(null===(e=null==S?void 0:S.current)||void 0===e?void 0:e.minValue,null===(n=null==S?void 0:S.current)||void 0===n?void 0:n.maxValue);const h=null===(i=null==v?void 0:v.sessionHasRewind)||void 0===i?void 0:i.events[0].timestamp,p=h+1e3*(null===(r=null==S?void 0:S.current)||void 0===r?void 0:r.minValue)-1e3,f=h+1e3*(null===(s=null==S?void 0:S.current)||void 0===s?void 0:s.maxValue)+1e3,m=null===(a=null===(o=null==v?void 0:v.sessionHasRewind)||void 0===o?void 0:o.events)||void 0===a?void 0:a.filter((e=>e.timestamp>p&&e.timestamp<f));b(m),null==d||d.pause(),null===(A=null===(c=null===(u=null===(l=document.getElementById(t))||void 0===l?void 0:l.shadowRoot)||void 0===u?void 0:u.querySelector("div"))||void 0===c?void 0:c.style)||void 0===A||A.setProperty("--left-pos-bar","-1px")}),[null===(l=null==S?void 0:S.current)||void 0===l?void 0:l.maxValue,null===(u=null==S?void 0:S.current)||void 0===u?void 0:u.minValue]);const D=e=>{var n,i;const r=e;e.preventDefault(),e.stopPropagation();const s=null==d?void 0:d.getReplayer(),o=null==s?void 0:s.getMetaData(),a=(null===(i=null===(n=document.getElementById(t))||void 0===n?void 0:n.shadowRoot)||void 0===i?void 0:i.querySelector(".bar-inner")).getBoundingClientRect();let l=(r.clientX-a.left)/a.width;l<0?l=0:l>1&&(l=1),null==d||d.goto(Math.round(o.totalTime*l))};(0,nr.useEffect)((()=>{var e,n,i;return null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i||i.addEventListener("click",D),()=>{var e,n,i;return null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i?void 0:i.removeEventListener("click",D)}}),[D]);const L=()=>{C(!0),null==d||d.pause(),B(p)};(0,nr.useEffect)((()=>{var e,n,i;return null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i||i.addEventListener("mousedown",L),()=>{var e,n,i;null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i||i.removeEventListener("mousedown",L)}}),[L]);const O=e=>{var n,i,r,s,o,a;const l=e;if(w){const e=(null===(i=null===(n=document.getElementById(t))||void 0===n?void 0:n.shadowRoot)||void 0===i?void 0:i.querySelector(".bar-inner")).getBoundingClientRect();let u=(l.clientX-e.left)/e.width;u<0?u=0:u>1&&(u=1),null===(a=null===(o=null===(s=null===(r=document.getElementById(t))||void 0===r?void 0:r.shadowRoot)||void 0===s?void 0:s.querySelector("div"))||void 0===o?void 0:o.style)||void 0===a||a.setProperty("--left-pos-bar",100*u+"%")}};(0,nr.useEffect)((()=>{var e,n,i;return null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i||i.addEventListener("mousemove",O),()=>{var e,n,i;null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i||i.removeEventListener("mousemove",O)}}),[O]);const N=e=>{var n,i;const r=e;if(C(!1),w){const e=null==d?void 0:d.getReplayer(),s=null==e?void 0:e.getMetaData(),o=(null===(i=null===(n=document.getElementById(t))||void 0===n?void 0:n.shadowRoot)||void 0===i?void 0:i.querySelector(".bar-inner")).getBoundingClientRect();let a=(r.clientX-o.left)/o.width;a<0?a=0:a>1&&(a=1),null==d||d.goto(Math.round(s.totalTime*a),x),B(!1)}};(0,nr.useEffect)((()=>{var e,n,i;return null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i||i.addEventListener("mouseup",N),()=>{var e,n,i;null===(i=null===(n=null===(e=document.getElementById(t))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector(".bar-inner"))||void 0===i||i.removeEventListener("mouseup",N)}}),[N]);const M=()=>{w&&(null==d||d.play()),C(!1),B(!1)};(0,nr.useEffect)((()=>{var e;return null===(e=document.body)||void 0===e||e.addEventListener("mouseup",M),()=>{var e;null===(e=document.body)||void 0===e||e.removeEventListener("mouseup",M)}}),[M]);const j=()=>{p?(null==d||d.pause(),f(!1)):(null==d||d.play(),f(!0))};return(0,tr.jsx)("div",{className:"flex-100",children:(0,tr.jsx)("div",{className:"bb-editor-container",children:(0,tr.jsxs)("div",{className:"rrweb-player-wrap h-full",children:[(0,tr.jsx)("div",{className:"bb-rrweb-player h-[80%]",ref:I}),(0,tr.jsx)("div",{className:"bb-player-controller",children:(0,tr.jsxs)("div",{className:"controller-wrap",children:[(0,tr.jsxs)("div",{className:"row-1",children:[(0,tr.jsxs)("div",{className:"wrap-play-pause",children:[(0,tr.jsx)("div",{className:"btn-play-pause",children:p?(0,tr.jsx)(tr.Fragment,{children:(0,tr.jsx)("svg",{onClick:j,width:"22",height:"22",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,tr.jsx)("g",{id:"play-pause",children:(0,tr.jsxs)("g",{id:"Vector",children:[(0,tr.jsx)("path",{d:"M8.38802 4.5C7.76918 4.5 7.17569 4.74583 6.73811 5.18342C6.30052 5.621 6.05469 6.21449 6.05469 6.83333V18.1667C6.05469 18.7855 6.30052 19.379 6.73811 19.8166C7.17569 20.2542 7.76918 20.5 8.38802 20.5C9.00686 20.5 9.60035 20.2542 10.0379 19.8166C10.4755 19.379 10.7214 18.7855 10.7214 18.1667V6.83333C10.7214 6.21449 10.4755 5.621 10.0379 5.18342C9.60035 4.74583 9.00686 4.5 8.38802 4.5Z",fill:"#fff"}),(0,tr.jsx)("path",{d:"M15.7214 4.5C15.1025 4.5 14.509 4.74583 14.0714 5.18342C13.6339 5.621 13.388 6.21449 13.388 6.83333V18.1667C13.388 18.7855 13.6339 19.379 14.0714 19.8166C14.509 20.2542 15.1025 20.5 15.7214 20.5C16.3402 20.5 16.9337 20.2542 17.3713 19.8166C17.8089 19.379 18.0547 18.7855 18.0547 18.1667V6.83333C18.0547 6.21449 17.8089 5.621 17.3713 5.18342C16.9337 4.74583 16.3402 4.5 15.7214 4.5Z",fill:"#fff"})]})})})}):(0,tr.jsx)(tr.Fragment,{children:(0,tr.jsx)("svg",{onClick:j,width:"22",height:"22",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,tr.jsx)("g",{id:"Basics / play",children:(0,tr.jsx)("path",{id:"Vector",d:"M5.79102 3.40743C5.60691 3.27592 5.36474 3.25834 5.16356 3.36187C4.96238 3.4654 4.83594 3.67268 4.83594 3.89893V15.9791C4.83594 16.2053 4.96238 16.4126 5.16356 16.5161C5.36474 16.6197 5.60691 16.6021 5.79102 16.4706L14.2471 10.4305C14.4059 10.3171 14.5001 10.1341 14.5001 9.93901C14.5001 9.74394 14.4059 9.56089 14.2471 9.44751L5.79102 3.40743Z",fill:"white"})})})})}),(0,tr.jsx)("div",{className:"rewind-text",children:"Rewind"})]}),(0,tr.jsx)("div",{className:"rewind-duration",children:_&&`${_.min?_.min+" minutes":""} ${_.sec?_.sec+" seconds":""}`}),(0,tr.jsx)("div",{})]}),(0,tr.jsx)("div",{className:"row-2",children:d&&(0,tr.jsx)("div",{className:"bb-seek-bar",children:(0,tr.jsx)(sm(),{min:0,max:m,step:5,minValue:null===(c=null==S?void 0:S.current)||void 0===c?void 0:c.minValue,maxValue:null===(A=null==S?void 0:S.current)||void 0===A?void 0:A.maxValue,minCaption:"",maxCaption:"",ruler:!1,subSteps:!1,stepOnly:!1,label:!1,onInput:e=>{(e=>{const t=e.maxValue-e.minValue,n=Math.floor(t/60),i=Math.floor(t%60);k({min:n,sec:i}),S.current={minValue:e.minValue,maxValue:e.maxValue}})(e)}})})})]})})]})})})},$b=n(9840),Xb=n.n($b),Yb=n(9697),Jb=n.n(Yb),Zb=n(1036),ew=n.n(Zb),tw=n(4784),nw=n.n(tw);function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},iw.apply(null,arguments)}var rw="https://example.com",sw=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=Xb().location&&Xb().location.href||"");var n=/^\/\//.test(e),i=!Xb().location&&!/\/\//i.test(e);e=new(Xb().URL)(e,Xb().location||rw);var r=new URL(t,e);return i?r.href.slice(19):n?r.href.slice(r.protocol.length):r.href},ow=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=t.length,o=0;o<s;++o)t[o].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function aw(e){for(var t=function(e){return Xb().atob?Xb().atob(e):Buffer.from(e,"base64").toString("binary")}(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class lw extends ow{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const uw=String.fromCharCode(9),cw=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},Aw=function(e){const t={};if(!e)return t;const n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let i,r=n.length;for(;r--;)""!==n[r]&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),t[i[0]]=i[1]);return t},dw=e=>{const t=e.split("x"),n={};return t[0]&&(n.width=parseInt(t[0],10)),t[1]&&(n.height=parseInt(t[1],10)),n};class hw extends ow{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,n;if(0===(e=e.trim()).length)return;if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});this.tagMappers.reduce(((t,n)=>{const i=n(e);return i===e?t:t.concat([i])}),[e]).forEach((e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return n=iw(cw(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(n={type:"tag",tagType:"map"},t[1]){const e=Aw(t[1]);e.URI&&(n.uri=e.URI),e.BYTERANGE&&(n.byterange=cw(e.BYTERANGE))}this.trigger("data",n)}else{if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t)return n={type:"tag",tagType:"stream-inf"},t[1]&&(n.attributes=Aw(t[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=dw(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=Aw(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=Aw(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=Aw(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"skip"},n.attributes=Aw(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(uw)),void this.trigger("data",n);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part"},n.attributes=Aw(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=cw(n.attributes.BYTERANGE)),void this.trigger("data",n);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"server-control"},n.attributes=Aw(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void this.trigger("data",n);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part-inf"},n.attributes=Aw(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void this.trigger("data",n);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"preload-hint"},n.attributes=Aw(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);const t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void this.trigger("data",n);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"rendition-report"},n.attributes=Aw(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void this.trigger("data",n);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(e),t&&t[1]){n={type:"tag",tagType:"daterange"},n.attributes=Aw(t[1]),["ID","CLASS"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=String(n.attributes[e]))})),["START-DATE","END-DATE"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=new Date(n.attributes[e]))})),["DURATION","PLANNED-DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["END-ON-NEXT"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/i.test(n.attributes[e]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=n.attributes[e].toString(16))}));const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in n.attributes){if(!e.test(t))continue;const i=/[0-9A-Fa-f]{6}/g.test(n.attributes[t]),r=/^\d+(\.\d+)?$/.test(n.attributes[t]);n.attributes[t]=i?n.attributes[t].toString(16):r?parseFloat(n.attributes[t]):String(n.attributes[t])}this.trigger("data",n)}else if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e),t)this.trigger("data",{type:"tag",tagType:"independent-segments"});else if(t=/^#EXT-X-I-FRAMES-ONLY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"i-frames-only"});else{if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(e),t)return n={type:"tag",tagType:"content-steering"},n.attributes=Aw(t[1]),void this.trigger("data",n);if(t=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(e),t)return n={type:"tag",tagType:"i-frame-playlist"},n.attributes=Aw(t[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=dw(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),void this.trigger("data",n);if(t=/^#EXT-X-DEFINE:(.*)$/.exec(e),t)return n={type:"tag",tagType:"define"},n.attributes=Aw(t[1]),void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}}else this.trigger("data",{type:"comment",text:e.slice(1)})}))}addParser({expression:e,customType:t,dataParser:n,segment:i}){"function"!=typeof n&&(n=e=>e),this.customParsers.push((r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:n(r),customType:t,segment:i}),!0}))}addTagMapper({expression:e,map:t}){this.tagMappers.push((n=>e.test(n)?t(n):n))}}const pw=function(e){const t={};return Object.keys(e).forEach((function(n){var i;t[(i=n,i.toLowerCase().replace(/-(\w)/g,(e=>e[1].toUpperCase())))]=e[n]})),t},fw=function(e){const{serverControl:t,targetDuration:n,partTargetDuration:i}=e;if(!t)return;const r="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",a=n&&3*n,l=i&&2*i;n&&!t.hasOwnProperty(s)&&(t[s]=a,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&t[s]<a&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${t[s]}) to targetDuration * 3 (${a})`}),t[s]=a),i&&!t.hasOwnProperty(o)&&(t[o]=3*i,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[o]}).`})),i&&t[o]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${t[o]}) to partTargetDuration * 2 (${l}).`}),t[o]=l)};class gw extends ow{constructor(e={}){super(),this.lineStream=new lw,this.parseStream=new hw,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const t=this,n=[];let i,r,s={},o=!1;const a=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let u=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let c=0,A=0;const d={};this.on("end",(()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&i&&(s.map=i),!s.key&&r&&(s.key=r),s.timeline||"number"!=typeof u||(s.timeline=u),this.manifest.preloadSegment=s)})),this.parseStream.on("data",(function(e){let h,p;if(t.manifest.definitions)for(const n in t.manifest.definitions)if(e.uri&&(e.uri=e.uri.replace(`{$${n}}`,t.manifest.definitions[n])),e.attributes)for(const i in e.attributes)"string"==typeof e.attributes[i]&&(e.attributes[i]=e.attributes[i].replace(`{$${n}}`,t.manifest.definitions[n]));({tag(){({version(){e.version&&(this.manifest.version=e.version)},"allow-cache"(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const t={};"length"in e&&(s.byterange=t,t.length=e.length,"offset"in e||(e.offset=c)),"offset"in e&&(s.byterange=t,t.offset=e.offset),c=t.offset+t.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.title&&(s.title=e.title),e.duration>0&&(s.duration=e.duration),0===e.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:aw(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence"(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,u=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type"(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map(){i={},e.uri&&(i.uri=e.uri),e.byterange&&(i.byterange=e.byterange),r&&(i.key=r)},"stream-inf"(){this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(s.attributes||(s.attributes={}),iw(s.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const t=this.manifest.mediaGroups[e.attributes.TYPE];t[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},h=t[e.attributes["GROUP-ID"]],p={default:/yes/i.test(e.attributes.DEFAULT)},p.default?p.autoselect=!0:p.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(p.language=e.attributes.LANGUAGE),e.attributes.URI&&(p.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(p.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(p.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(p.forced=/yes/i.test(e.attributes.FORCED)),h[e.attributes.NAME]=p},discontinuity(){u+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),s.dateTimeString=e.dateTimeString,s.dateTimeObject=e.dateTimeObject;const{lastProgramDateTime:t}=this;this.lastProgramDateTime=new Date(e.dateTimeString).getTime(),null===t&&this.manifest.segments.reduceRight(((e,t)=>(t.programDateTime=e-1e3*t.duration,t.programDateTime)),this.lastProgramDateTime)},targetduration(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,fw.call(this,this.manifest))},start(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){s.cueOut=e.data},"cue-out-cont"(){s.cueOutCont=e.data},"cue-in"(){s.cueIn=e.data},skip(){this.manifest.skip=pw(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const t=this.manifest.segments.length,n=pw(e.attributes);s.parts=s.parts||[],s.parts.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=A),A=n.byterange.offset+n.byterange.length);const i=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${i} for segment #${t}`,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`})}))},"server-control"(){const t=this.manifest.serverControl=pw(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),fw.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const t=this.manifest.segments.length,n=pw(e.attributes),i=n.type&&"PART"===n.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=i?A:0,i&&(A=n.byterange.offset+n.byterange.length)));const r=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${r} for segment #${t}`,e.attributes,["TYPE","URI"]),n.type)for(let e=0;e<s.preloadHints.length-1;e++){const i=s.preloadHints[e];i.type&&(i.type===n.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${r} for segment #${t} has the same TYPE ${n.type} as preload hint #${e}`}))}},"rendition-report"(){const t=pw(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);const n=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];o&&i.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${n}`,e.attributes,i)},"part-inf"(){this.manifest.partInf=pw(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),fw.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(pw(e.attributes));const t=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${t}`,e.attributes,["ID","START-DATE"]);const n=this.manifest.dateRanges[t];n.endDate&&n.startDate&&new Date(n.endDate)<new Date(n.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),n.duration&&n.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),n.plannedDuration&&n.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const i=!!n.endOnNext;if(i&&!n.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),i&&(n.duration||n.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),n.duration&&n.endDate){const e=n.startDate.getTime()+1e3*n.duration;this.manifest.dateRanges[t].endDate=new Date(e)}if(d[n.id]){for(const e in d[n.id])if(n[e]&&JSON.stringify(d[n.id][e])!==JSON.stringify(n[e])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const e=this.manifest.dateRanges.findIndex((e=>e.id===n.id));this.manifest.dateRanges[e]=iw(this.manifest.dateRanges[e],n),d[n.id]=iw(d[n.id],n),this.manifest.dateRanges.pop()}else d[n.id]=n},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=pw(e.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",e.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const t=(e,t)=>{e in this.manifest.definitions?this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${e}`}):this.manifest.definitions[e]=t};if("QUERYPARAM"in e.attributes){if("NAME"in e.attributes||"IMPORT"in e.attributes)return void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});const n=this.params.get(e.attributes.QUERYPARAM);return n?void t(e.attributes.QUERYPARAM,decodeURIComponent(n)):void this.trigger("error",{message:`EXT-X-DEFINE: No query param ${e.attributes.QUERYPARAM}`})}return"NAME"in e.attributes?"IMPORT"in e.attributes?void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"}):"VALUE"in e.attributes&&"string"==typeof e.attributes.VALUE?void t(e.attributes.NAME,e.attributes.VALUE):void this.trigger("error",{message:`EXT-X-DEFINE: No value for ${e.attributes.NAME}`}):"IMPORT"in e.attributes?this.mainDefinitions[e.attributes.IMPORT]?void t(e.attributes.IMPORT,this.mainDefinitions[e.attributes.IMPORT]):void this.trigger("error",{message:`EXT-X-DEFINE: No value ${e.attributes.IMPORT} to import, or IMPORT used on main playlist`}):void this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:e.attributes,uri:e.uri,timeline:u}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",e.attributes,["BANDWIDTH","URI"])}}[e.tagType]||a).call(t)},uri(){s.uri=e.uri,n.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),r&&(s.key=r),s.timeline=u,i&&(s.map=i),A=0,null!==this.lastProgramDateTime&&(s.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=1e3*s.duration),s={}},comment(){},custom(){e.segment?(s.custom=s.custom||{},s.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(t)}))}requiredCompatibilityversion(e,t){(e<t||!e)&&this.trigger("warn",{message:`manifest must be at least version ${t}`})}warnOnMissingAttributes_(e,t,n){const i=[];n.forEach((function(e){t.hasOwnProperty(e)||i.push(e)})),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&null===this.lastProgramDateTime&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var mw={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},vw=["video","audio","text"],yw=["Video","Audio","Text"],bw=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},ww=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),vw.forEach((function(i){var r=mw[i].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=i;var s=e.substring(0,r[1].length),o=e.replace(s,"");n.push({type:s,details:o,mediaType:i})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},Cw=function(e){return void 0===e&&(e=""),mw.audio.test(e.trim().toLowerCase())},xw=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return bw(e.trim())})),i="video";1===n.length&&Cw(n[0])?i="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),mw.text.test(t.trim().toLowerCase()))&&(i="application");var r="mp4";return n.every((function(e){return mw.mp4.test(e)}))?r="mp4":n.every((function(e){return mw.webm.test(e)}))?r="webm":n.every((function(e){return mw.ogg.test(e)}))&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},Bw=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),Xb().MediaSource&&Xb().MediaSource.isTypeSupported&&Xb().MediaSource.isTypeSupported(xw(e))||t&&Xb().ManagedMediaSource&&Xb().ManagedMediaSource.isTypeSupported&&Xb().ManagedMediaSource.isTypeSupported(xw(e))||!1},Sw=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<yw.length;t++){if(mw["muxer"+yw[t]].test(e))return!0}return!1}))},_w="mp4a.40.2",kw=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Tw=/^application\/dash\+xml/i,Ew=function(e){return kw.test(e)?"hls":Tw.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},Iw=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Uw=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Iw(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Fw=Xb().BigInt||Number,Dw=[Fw("0x1"),Fw("0x100"),Fw("0x10000"),Fw("0x1000000"),Fw("0x100000000"),Fw("0x10000000000"),Fw("0x1000000000000"),Fw("0x100000000000000"),Fw("0x10000000000000000")],Lw=(function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}(),function(e,t){var n=void 0===t?{}:t,i=n.signed,r=void 0!==i&&i,s=n.le,o=void 0!==s&&s;e=Uw(e);var a=o?"reduce":"reduceRight",l=(e[a]?e[a]:Array.prototype[a]).call(e,(function(t,n,i){var r=o?i:Math.abs(i+1-e.length);return t+Fw(n)*Dw[r]}),Fw(0));if(r){var u=Dw[e.length]/Fw(2)-Fw(1);(l=Fw(l))>u&&(l-=u,l-=u,l-=Fw(2))}return Number(l)}),Ow=function(e,t){var n=(void 0===t?{}:t).le,i=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var r=function(e){return Math.ceil(function(e){return e.toString(2).length}(e)/8)}(e=Fw(e)),s=new Uint8Array(new ArrayBuffer(r)),o=0;o<r;o++){var a=i?o:Math.abs(o+1-s.length);s[a]=Number(e/Dw[o]&Fw(255)),e<0&&(s[a]=Math.abs(~s[a]),s[a]-=0===o?1:2)}return s},Nw=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},Mw=function(e,t,n){var i=void 0===n?{}:n,r=i.offset,s=void 0===r?0:r,o=i.mask,a=void 0===o?[]:o;e=Uw(e);var l=(t=Uw(t)).every?t.every:Array.prototype.every;return t.length&&e.length-s>=t.length&&l.call(t,(function(t,n){return t===(a[n]?a[n]&e[s+n]:e[s+n])}))},jw=n(7842),Rw=n.n(jw),Qw="http://example.com",Pw=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=Xb().location&&Xb().location.href||"");var n="function"==typeof Xb().URL,i=/^\/\//.test(e),r=!Xb().location&&!/\/\//i.test(e);if(n?e=new(Xb().URL)(e,Xb().location||Qw):/\/\//i.test(e)||(e=Rw().buildAbsoluteURL(Xb().location&&Xb().location.href||"",e)),n){var s=new URL(t,e);return r?s.href.slice(18):i?s.href.slice(s.protocol.length):s.href}return Rw().buildAbsoluteURL(e,t)};function Hw(e){for(var t=function(e){return Xb().atob?Xb().atob(e):Buffer.from(e,"base64").toString("binary")}(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var qw=n(8978);const Vw=e=>!!e&&"object"==typeof e,zw=(...e)=>e.reduce(((e,t)=>("object"!=typeof t||Object.keys(t).forEach((n=>{Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=e[n].concat(t[n]):Vw(e[n])&&Vw(t[n])?e[n]=zw(e[n],t[n]):e[n]=t[n]})),e)),{}),Kw=e=>Object.keys(e).map((t=>e[t])),Gw=e=>e.reduce(((e,t)=>e.concat(t)),[]),Ww=e=>{if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t};var $w="INVALID_NUMBER_OF_PERIOD",Xw="DASH_EMPTY_MANIFEST",Yw="DASH_INVALID_XML",Jw="NO_BASE_URL",Zw="SEGMENT_TIME_UNSPECIFIED",eC="UNSUPPORTED_UTC_TIMING_SCHEME";const tC=({baseUrl:e="",source:t="",range:n="",indexRange:i=""})=>{const r={uri:t,resolvedUri:Pw(e||"",t)};if(n||i){const e=(n||i).split("-");let t,s=Xb().BigInt?Xb().BigInt(e[0]):parseInt(e[0],10),o=Xb().BigInt?Xb().BigInt(e[1]):parseInt(e[1],10);s<Number.MAX_SAFE_INTEGER&&"bigint"==typeof s&&(s=Number(s)),o<Number.MAX_SAFE_INTEGER&&"bigint"==typeof o&&(o=Number(o)),t="bigint"==typeof o||"bigint"==typeof s?Xb().BigInt(o)-Xb().BigInt(s)+Xb().BigInt(1):o-s+1,"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),r.byterange={length:t,offset:s}}return r},nC=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),iC={static(e){const{duration:t,timescale:n=1,sourceDuration:i,periodDuration:r}=e,s=nC(e.endNumber),o=t/n;return"number"==typeof s?{start:0,end:s}:"number"==typeof r?{start:0,end:r/o}:{start:0,end:i/o}},dynamic(e){const{NOW:t,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:s,periodStart:o=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=e,u=nC(e.endNumber),c=(t+n)/1e3,A=i+o,d=c+a-A,h=Math.ceil(d*r/s),p=Math.floor((c-A-l)*r/s),f=Math.floor((c-A)*r/s);return{start:Math.max(0,p),end:"number"==typeof u?u:Math.min(h,f)}}},rC=e=>{const{type:t,duration:n,timescale:i=1,periodDuration:r,sourceDuration:s}=e,{start:o,end:a}=iC[t](e),l=((e,t)=>{const n=[];for(let i=e;i<t;i++)n.push(i);return n})(o,a).map((e=>t=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:s=1}=e;return{number:s+t,duration:n/i,timeline:r,time:t*n}})(e));if("static"===t){const e=l.length-1,t="number"==typeof r?r:s;l[e].duration=t-n/i*e}return l},sC=e=>{const{baseUrl:t,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:s,presentationTime:o,number:a=0,duration:l}=e;if(!t)throw new Error(Jw);const u=tC({baseUrl:t,source:n.sourceURL,range:n.range}),c=tC({baseUrl:t,source:t,indexRange:r});if(c.map=u,l){const t=rC(e);t.length&&(c.duration=t[0].duration,c.timeline=t[0].timeline)}else i&&(c.duration=i,c.timeline=s);return c.presentationTime=o||s,c.number=a,[c]},oC=(e,t,n)=>{const i=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,a=o.offset+o.length,l=t.timescale,u=t.references.filter((e=>1!==e.referenceType)),c=[],A=e.endList?"static":"dynamic",d=e.sidx.timeline;let h,p=d,f=e.mediaSequence||0;h="bigint"==typeof t.firstOffset?Xb().BigInt(a)+t.firstOffset:a+t.firstOffset;for(let e=0;e<u.length;e++){const o=t.references[e],a=o.referencedSize,u=o.subsegmentDuration;let g;g="bigint"==typeof h?h+Xb().BigInt(a)-Xb().BigInt(1):h+a-1;const m=sC({baseUrl:n,timescale:l,timeline:s,periodStart:d,presentationTime:p,number:f,duration:u,sourceDuration:r,indexRange:`${h}-${g}`,type:A})[0];i&&(m.map=i),c.push(m),h+="bigint"==typeof h?Xb().BigInt(a):a,p+=u/l,f++}return e.segments=c,e},aC=["AUDIO","SUBTITLES"],lC=1/60,uC=e=>{return(t=e,n=({timeline:e})=>e,Kw(t.reduce(((e,t)=>(t.forEach((t=>{e[n(t)]=t})),e)),{}))).sort(((e,t)=>e.timeline>t.timeline?1:-1));var t,n},cC=e=>{let t=[];var n,i;return n=e,i=(e,n,i,r)=>{t=t.concat(e.playlists||[])},aC.forEach((function(e){for(var t in n.mediaGroups[e])for(var r in n.mediaGroups[e][t]){var s=n.mediaGroups[e][t][r];i(s,e,t,r)}})),t},AC=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach(((t,n)=>{t.number=e.mediaSequence+n}))},dC=({oldManifest:e,newManifest:t})=>{const n=e.playlists.concat(cC(e)),i=t.playlists.concat(cC(t));return t.timelineStarts=uC([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:n})=>{t.forEach((t=>{t.discontinuitySequence=n.findIndex((function({timeline:e}){return e===t.timeline}));const i=((e,t)=>{for(let n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null})(e,t.attributes.NAME);if(!i)return;if(t.sidx)return;const r=t.segments[0],s=i.segments.findIndex((function(e){return Math.abs(e.presentationTime-r.presentationTime)<lC}));if(-1===s)return AC({playlist:t,mediaSequence:i.mediaSequence+i.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!i.segments.length&&t.timeline>i.timeline||i.segments.length&&t.timeline>i.segments[i.segments.length-1].timeline)&&t.discontinuitySequence--);i.segments[s].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),AC({playlist:t,mediaSequence:i.segments[s].number})}))})({oldPlaylists:n,newPlaylists:i,timelineStarts:t.timelineStarts}),t},hC=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?Xb().BigInt(e.offset)+Xb().BigInt(e.length)-Xb().BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),pC=e=>{const t=e.reduce((function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e}),{});let n=[];return Object.values(t).forEach((e=>{const t=Kw(e.reduce(((e,t)=>{const n=t.attributes.id+(t.attributes.lang||"");return e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[n].segments.push(...t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{}));n=n.concat(t)})),n.map((e=>(e.discontinuityStarts=((e,t)=>e.reduce(((e,n,i)=>(n[t]&&e.push(i),e)),[]))(e.segments||[],"discontinuity"),e)))},fC=(e,t)=>{const n=hC(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&oC(e,i,e.sidx.resolvedUri),e},gC=(e,t={})=>{if(!Object.keys(t).length)return e;for(const n in e)e[n]=fC(e[n],t);return e},mC=({attributes:e,segments:t,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:i,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(r.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(r.contentProtection=e.contentProtection),e.serviceLocation&&(r.attributes.serviceLocation=e.serviceLocation),n&&(r.sidx=n),r},vC=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,yC=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,bC=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,wC=e=>e?Object.keys(e).reduce(((t,n)=>{const i=e[n];return t.concat(i.playlists)}),[]):[],CC=({dashPlaylists:e,locations:t,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:s})=>{if(!e.length)return{};const{sourceDuration:o,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=e[0].attributes,c=pC(e.filter(vC)).map(mC),A=pC(e.filter(yC)),d=pC(e.filter(bC)),h=e.map((e=>e.attributes.captionServices)).filter(Boolean),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:gC(c,i)};u>=0&&(p.minimumUpdatePeriod=1e3*u),t&&(p.locations=t),n&&(p.contentSteering=n),"dynamic"===a&&(p.suggestedPresentationDelay=l),s&&s.length>0&&(p.eventStream=s);const f=0===p.playlists.length,g=A.length?((e,t={},n=!1)=>{let i;const r=e.reduce(((e,r)=>{const s=r.attributes.role&&r.attributes.role.value||"",o=r.attributes.lang||"";let a=r.attributes.label||"main";if(o&&!r.attributes.label){const e=s?` (${s})`:"";a=`${r.attributes.lang}${e}`}e[a]||(e[a]={language:o,autoselect:!0,default:"main"===s,playlists:[],uri:""});const l=fC((({attributes:e,segments:t,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:s},o)=>{const a={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:r,discontinuityStarts:s,timelineStarts:e.timelineStarts,mediaSequence:i,segments:t};return e.contentProtection&&(a.contentProtection=e.contentProtection),e.serviceLocation&&(a.attributes.serviceLocation=e.serviceLocation),n&&(a.sidx=n),o&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a})(r,n),t);return e[a].playlists.push(l),void 0===i&&"main"===s&&(i=r,i.default=!0),e}),{});i||(r[Object.keys(r)[0]].default=!0);return r})(A,i,f):null,m=d.length?((e,t={})=>e.reduce(((e,n)=>{const i=n.attributes.label||n.attributes.lang||"text",r=n.attributes.lang||"und";return e[i]||(e[i]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(fC((({attributes:e,segments:t,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const s={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(s.CODECS=e.codecs);const o={attributes:s,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:t};return e.serviceLocation&&(o.attributes.serviceLocation=e.serviceLocation),o})(n),t)),e}),{}))(d,i):null,v=c.concat(wC(g),wC(m)),y=v.map((({timelineStarts:e})=>e));var b,w;return p.timelineStarts=uC(y),b=v,w=p.timelineStarts,b.forEach((e=>{e.mediaSequence=0,e.discontinuitySequence=w.findIndex((function({timeline:t}){return t===e.timeline})),e.segments&&e.segments.forEach(((e,t)=>{e.number=t}))})),g&&(p.mediaGroups.AUDIO.audio=g),m&&(p.mediaGroups.SUBTITLES.subs=m),h.length&&(p.mediaGroups["CLOSED-CAPTIONS"].cc=h.reduce(((e,t)=>t?(t.forEach((t=>{const{channel:n,language:i}=t;e[i]={autoselect:!1,default:!1,instreamId:n,language:i},t.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])})),e):e),{})),r?dC({oldManifest:r,newManifest:p}):p},xC=(e,t,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:s,timescale:o=1,periodStart:a=0,minimumUpdatePeriod:l=0}=e,u=(i+r)/1e3+l-(s+a);return Math.ceil((u*o-t)/n)},BC=(e,t)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:s,timescale:o=1,startNumber:a=1,periodStart:l}=e,u=[];let c=-1;for(let A=0;A<t.length;A++){const d=t[A],h=d.d,p=d.r||0,f=d.t||0;let g;if(c<0&&(c=f),f&&f>c&&(c=f),p<0){const a=A+1;g=a===t.length?"dynamic"===n&&i>0&&r.indexOf("$Number$")>0?xC(e,c,h):(s*o-c)/h:(t[a].t-c)/h}else g=p+1;const m=a+u.length+g;let v=a+u.length;for(;v<m;)u.push({number:v,duration:h/o,time:c,timeline:l}),c+=h,v++}return u},SC=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,_C=(e,t)=>e.replace(SC,(e=>(t,n,i,r)=>{if("$$"===t)return"$";if(void 0===e[n])return t;const s=""+e[n];return"RepresentationID"===n?s:(r=i?parseInt(r,10):1,s.length>=r?s:`${new Array(r-s.length+1).join("0")}${s}`)})(t)),kC=(e,t)=>{const n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=e,r=tC({baseUrl:e.baseUrl,source:_C(i.sourceURL,n),range:i.range}),s=((e,t)=>e.duration||t?e.duration?rC(e):BC(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t);return s.map((t=>{n.Number=t.number,n.Time=t.time;const i=_C(e.media||"",n),s=e.timescale||1,o=e.presentationTimeOffset||0,a=e.periodStart+(t.time-o)/s;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:Pw(e.baseUrl||"",i),map:r,number:t.number,presentationTime:a}}))},TC=(e,t)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=e;if(!n&&!t||n&&t)throw new Error(Zw);const s=i.map((t=>((e,t)=>{const{baseUrl:n,initialization:i={}}=e,r=tC({baseUrl:n,source:i.sourceURL,range:i.range}),s=tC({baseUrl:n,source:t.media,range:t.mediaRange});return s.map=r,s})(e,t)));let o;n&&(o=rC(e)),t&&(o=BC(e,t));return o.map(((t,n)=>{if(s[n]){const i=s[n],o=e.timescale||1,a=e.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=r+(t.time-a)/o,i}})).filter((e=>e))},EC=({attributes:e,segmentInfo:t})=>{let n,i;t.template?(i=kC,n=zw(e,t.template)):t.base?(i=sC,n=zw(e,t.base)):t.list&&(i=TC,n=zw(e,t.list));const r={attributes:e};if(!i)return r;const s=i(n,t.segmentTimeline);if(n.duration){const{duration:e,timescale:t=1}=n;n.duration=e/t}else s.length?n.duration=s.reduce(((e,t)=>Math.max(e,Math.ceil(t.duration))),0):n.duration=0;return r.attributes=n,r.segments=s,t.base&&n.indexRange&&(r.sidx=s[0],r.segments=[]),r},IC=(e,t)=>Ww(e.childNodes).filter((({tagName:e})=>e===t)),UC=e=>e.textContent.trim(),FC=e=>{const t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;const[n,i,r,s,o,a]=t.slice(1);return 31536e3*parseFloat(n||0)+2592e3*parseFloat(i||0)+86400*parseFloat(r||0)+3600*parseFloat(s||0)+60*parseFloat(o||0)+parseFloat(a||0)},DC={mediaPresentationDuration(e){return FC(e)},availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod(e){return FC(e)},suggestedPresentationDelay(e){return FC(e)},type(e){return e},timeShiftBufferDepth(e){return FC(e)},start(e){return FC(e)},width(e){return parseInt(e,10)},height(e){return parseInt(e,10)},bandwidth(e){return parseInt(e,10)},frameRate(e){return(e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))))(e)},startNumber(e){return parseInt(e,10)},timescale(e){return parseInt(e,10)},presentationTimeOffset(e){return parseInt(e,10)},duration(e){const t=parseInt(e,10);return isNaN(t)?FC(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},presentationTime(e){return parseInt(e,10)},DEFAULT(e){return e}},LC=e=>e&&e.attributes?Ww(e.attributes).reduce(((e,t)=>{const n=DC[t.name]||DC.DEFAULT;return e[t.name]=n(t.value),e}),{}):{},OC={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},NC=(e,t)=>t.length?Gw(e.map((function(e){return t.map((function(t){const n=UC(t),i=Pw(e.baseUrl,n),r=zw(LC(t),{baseUrl:i});return i!==n&&!r.serviceLocation&&e.serviceLocation&&(r.serviceLocation=e.serviceLocation),r}))}))):e,MC=e=>{const t=IC(e,"SegmentTemplate")[0],n=IC(e,"SegmentList")[0],i=n&&IC(n,"SegmentURL").map((e=>zw({tag:"SegmentURL"},LC(e)))),r=IC(e,"SegmentBase")[0],s=n||t,o=s&&IC(s,"SegmentTimeline")[0],a=n||r||t,l=a&&IC(a,"Initialization")[0],u=t&&LC(t);u&&l?u.initialization=l&&LC(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:o&&IC(o,"S").map((e=>LC(e))),list:n&&zw(LC(n),{segmentUrls:i,initialization:LC(l)}),base:r&&zw(LC(r),{initialization:LC(l)})};return Object.keys(c).forEach((e=>{c[e]||delete c[e]})),c},jC=e=>Gw(IC(e.node,"EventStream").map((t=>{const n=LC(t),i=n.schemeIdUri;return IC(t,"Event").map((t=>{const r=LC(t),s=r.presentationTime||0,o=n.timescale||1,a=r.duration||0,l=s/o+e.attributes.start;return{schemeIdUri:i,value:n.value,id:r.id,start:l,end:l+a/o,messageData:UC(t)||r.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}}))}))),RC=(e,t,n)=>i=>{const r=LC(i),s=NC(t,IC(i,"BaseURL")),o=IC(i,"Role")[0],a={role:LC(o)};let l=zw(e,r,a);const u=IC(i,"Accessibility")[0],c=(e=>{if("urn:scte:dash:cc:cea-608:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{let t,n;return n=e,/^CC\d=/.test(e)?[t,n]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:n}}));if("urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{const t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[n,i=""]=e.split("=");t.channel=n,t.language=e,i.split(",").forEach((e=>{const[n,i]=e.split(":");"lang"===n?t.language=i:"er"===n?t.easyReader=Number(i):"war"===n?t.aspectRatio=Number(i):"3D"===n&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}))})(LC(u));c&&(l=zw(l,{captionServices:c}));const A=IC(i,"Label")[0];if(A&&A.childNodes.length){const e=A.childNodes[0].nodeValue.trim();l=zw(l,{label:e})}const d=IC(i,"ContentProtection").reduce(((e,t)=>{const n=LC(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=OC[n.schemeIdUri];if(i){e[i]={attributes:n};const r=IC(t,"cenc:pssh")[0];if(r){const t=UC(r);e[i].pssh=t&&Hw(t)}}return e}),{});Object.keys(d).length&&(l=zw(l,{contentProtection:d}));const h=MC(i),p=IC(i,"Representation"),f=zw(n,h);return Gw(p.map(((e,t,n)=>i=>{const r=IC(i,"BaseURL"),s=NC(t,r),o=zw(e,LC(i)),a=MC(i);return s.map((e=>({segmentInfo:zw(n,a),attributes:zw(o,e)})))})(l,s,f)))},QC=(e,t)=>(n,i)=>{const r=NC(t,IC(n.node,"BaseURL")),s=zw(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(s.periodDuration=n.attributes.duration);const o=IC(n.node,"AdaptationSet"),a=MC(n.node);return Gw(o.map(RC(s,r,a)))},PC=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const n=zw({serverURL:UC(e[0])},LC(e[0]));return n.queryBeforeStart="true"===n.queryBeforeStart,n},HC=e=>{if(""===e)throw new Error(Xw);const t=new qw.DOMParser;let n,i;try{n=t.parseFromString(e,"application/xml"),i=n&&"MPD"===n.documentElement.tagName?n.documentElement:null}catch(e){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(Yw);return i},qC=(e,t={})=>{const n=((e,t={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=t,o=IC(e,"Period");if(!o.length)throw new Error($w);const a=IC(e,"Location"),l=LC(e),u=NC([{baseUrl:n}],IC(e,"BaseURL")),c=IC(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=r,a.length&&(l.locations=a.map(UC));const A=[];return o.forEach(((e,t)=>{const n=LC(e),i=A[t-1];n.start=(({attributes:e,priorPeriodAttributes:t,mpdType:n})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==n?null:0)({attributes:n,priorPeriodAttributes:i?i.attributes:null,mpdType:l.type}),A.push({node:e,attributes:n})})),{locations:l.locations,contentSteeringInfo:PC(c,s),representationInfo:Gw(A.map(QC(l,u))),eventStream:Gw(A.map(jC))}})(HC(e),t),i=n.representationInfo.map(EC);return CC({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})},VC=e=>(e=>{const t=IC(e,"UTCTiming")[0];if(!t)return null;const n=LC(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(eC)}return n})(HC(e));var zC,KC=n(8962),GC=n.n(KC),WC=Uw([73,68,51]),$C=function e(t,n){return void 0===n&&(n=0),(t=Uw(t)).length-n<10||!Mw(t,WC,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=Uw(e))[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?i+20:i+10}(t,n),e(t,n))},XC=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"==typeof e?Nw(e):e}),YC=function(e){e=Uw(e);for(var t=[],n=0;e.length>n;){var i=e[n],r=0,s=0,o=e[++s];for(s++;128&o;)r=(127&o)<<7,o=e[s],s++;r+=127&o;for(var a=0;a<zC.length;a++){var l=zC[a],u=l.id,c=l.parser;if(i===u){t.push(c(e.subarray(s,s+r)));break}}n+=r+s}return t};zC=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,Uw(e));try{return decodeURIComponent(escape(t))}catch(e){}return t}(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=YC(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:YC(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var JC=function e(t,n,i){void 0===i&&(i=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return XC(e)})):[XC(e)]}(n),t=Uw(t);var r=[];if(!n.length)return r;for(var s=0;s<t.length;){var o=(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3])>>>0,a=t.subarray(s+4,s+8);if(0===o)break;var l=s+o;if(l>t.length){if(i)break;l=t.length}var u=t.subarray(s+8,l);Mw(a,n[0])&&(1===n.length?r.push(u):r.push.apply(r,e(u,n.slice(1),i))),s=l}return r},ZC={EBML:Uw([26,69,223,163]),DocType:Uw([66,130]),Segment:Uw([24,83,128,103]),SegmentInfo:Uw([21,73,169,102]),Tracks:Uw([22,84,174,107]),Track:Uw([174]),TrackNumber:Uw([215]),DefaultDuration:Uw([35,227,131]),TrackEntry:Uw([174]),TrackType:Uw([131]),FlagDefault:Uw([136]),CodecID:Uw([134]),CodecPrivate:Uw([99,162]),VideoTrack:Uw([224]),AudioTrack:Uw([225]),Cluster:Uw([31,67,182,117]),Timestamp:Uw([231]),TimestampScale:Uw([42,215,177]),BlockGroup:Uw([160]),BlockDuration:Uw([155]),Block:Uw([161]),SimpleBlock:Uw([163])},ex=[128,64,32,16,8,4,2,1],tx=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var r=function(e){for(var t=1,n=0;n<ex.length&&!(e&ex[n]);n++)t++;return t}(e[t]),s=e.subarray(t,t+r);return n&&((s=Array.prototype.slice.call(e,t,t+r))[0]^=ex[r-1]),{length:r,value:Lw(s,{signed:i}),bytes:s}},nx=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?Ow(t):t},ix=function e(t,n,i){if(i>=n.length)return n.length;var r=tx(n,i,!1);if(Mw(t.bytes,r.bytes))return i;var s=tx(n,i+r.length);return e(t,n,i+s.length+s.value+r.length)},rx=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return nx(e)})):[nx(e)]}(n),t=Uw(t);var i=[];if(!n.length)return i;for(var r=0;r<t.length;){var s=tx(t,r,!1),o=tx(t,r+s.length),a=r+s.length+o.length;127===o.value&&(o.value=ix(s,t,a),o.value!==t.length&&(o.value-=a));var l=a+o.value>t.length?t.length:a+o.value,u=t.subarray(a,l);Mw(n[0],s.bytes)&&(1===n.length?i.push(u):i=i.concat(e(u,n.slice(1)))),r+=s.length+o.length+u.length}return i},sx=Uw([0,0,0,1]),ox=Uw([0,0,1]),ax=Uw([0,0,3]),lx=function(e){for(var t=[],n=1;n<e.length-2;)Mw(e.subarray(n,n+3),ax)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var i=e.length-t.length,r=new Uint8Array(i),s=0;for(n=0;n<i;s++,n++)s===t[0]&&(s++,t.shift()),r[n]=e[s];return r},ux=function(e,t,n,i){void 0===i&&(i=1/0),e=Uw(e),n=[].concat(n);for(var r,s=0,o=0;s<e.length&&(o<i||r);){var a=void 0;if(Mw(e.subarray(s),sx)?a=4:Mw(e.subarray(s),ox)&&(a=3),a){if(o++,r)return lx(e.subarray(r,s));var l=void 0;"h264"===t?l=31&e[s+a]:"h265"===t&&(l=e[s+a]>>1&63),-1!==n.indexOf(l)&&(r=s+a),s+=a+("h264"===t?1:2)}else s++}return e.subarray(0,0)},cx={webm:Uw([119,101,98,109]),matroska:Uw([109,97,116,114,111,115,107,97]),flac:Uw([102,76,97,67]),ogg:Uw([79,103,103,83]),ac3:Uw([11,119]),riff:Uw([82,73,70,70]),avi:Uw([65,86,73]),wav:Uw([87,65,86,69]),"3gp":Uw([102,116,121,112,51,103]),mp4:Uw([102,116,121,112]),fmp4:Uw([115,116,121,112]),mov:Uw([102,116,121,112,113,116]),moov:Uw([109,111,111,118]),moof:Uw([109,111,111,102])},Ax={aac:function(e){var t=$C(e);return Mw(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=$C(e);return Mw(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=rx(e,[ZC.EBML,ZC.DocType])[0];return Mw(t,cx.webm)},mkv:function(e){var t=rx(e,[ZC.EBML,ZC.DocType])[0];return Mw(t,cx.matroska)},mp4:function(e){return!Ax["3gp"](e)&&!Ax.mov(e)&&(!(!Mw(e,cx.mp4,{offset:4})&&!Mw(e,cx.fmp4,{offset:4}))||(!(!Mw(e,cx.moof,{offset:4})&&!Mw(e,cx.moov,{offset:4}))||void 0))},mov:function(e){return Mw(e,cx.mov,{offset:4})},"3gp":function(e){return Mw(e,cx["3gp"],{offset:4})},ac3:function(e){var t=$C(e);return Mw(e,cx.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=$C(e);return Mw(e,cx.flac,{offset:t})},ogg:function(e){return Mw(e,cx.ogg)},avi:function(e){return Mw(e,cx.riff)&&Mw(e,cx.avi,{offset:8})},wav:function(e){return Mw(e,cx.riff)&&Mw(e,cx.wav,{offset:8})},h264:function(e){return function(e,t,n){return ux(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return ux(e,"h265",t,n)}(e,[32,33],3).length}},dx=Object.keys(Ax).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);dx.forEach((function(e){var t=Ax[e];Ax[e]=function(e){return t(Uw(e))}}));var hx=Ax,px=function(e){e=Uw(e);for(var t=0;t<dx.length;t++){var n=dx[t];if(hx[n](e))return n}return""},fx=n(9622),gx="8.22.0";const mx={},vx=function(e,t){return mx[e]=mx[e]||[],t&&(mx[e]=mx[e].concat(t)),mx[e]},yx=function(e,t){const n=vx(e).indexOf(t);return!(n<=-1)&&(mx[e]=mx[e].slice(),mx[e].splice(n,1),!0)},bx={prefixed:!0},wx=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Cx=wx[0];let xx;for(let e=0;e<wx.length;e++)if(wx[e][1]in Jb()){xx=wx[e];break}if(xx){for(let e=0;e<xx.length;e++)bx[Cx[e]]=xx[e];bx.prefixed=xx[0]!==Cx[0]}let Bx=[];const Sx=function e(t,n=":",i=""){let r,s="info";function o(...e){r("log",s,e)}return r=((e,t,n)=>(i,r,s)=>{const o=t.levels[r],a=new RegExp(`^(${o})$`);let l=e;if("log"!==i&&s.unshift(i.toUpperCase()+":"),n&&(l=`%c${e}`,s.unshift(n)),s.unshift(l+":"),Bx){Bx.push([].concat(s));const e=Bx.length-1e3;Bx.splice(0,e>0?e:0)}if(!Xb().console)return;let u=Xb().console[i];u||"debug"!==i||(u=Xb().console.info||Xb().console.log),u&&o&&a.test(i)&&u[Array.isArray(s)?"apply":"call"](Xb().console,s)})(t,o,i),o.createLogger=(r,s,o)=>{const a=void 0!==s?s:n;return e(`${t} ${a} ${r}`,a,void 0!==o?o:i)},o.createNewLogger=(t,n,i)=>e(t,n,i),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},o.level=e=>{if("string"==typeof e){if(!o.levels.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log level`);s=e}return s},o.history=()=>Bx?[].concat(Bx):[],o.history.filter=e=>(Bx||[]).filter((t=>new RegExp(`.*${e}.*`).test(t[0]))),o.history.clear=()=>{Bx&&(Bx.length=0)},o.history.disable=()=>{null!==Bx&&(Bx.length=0,Bx=null)},o.history.enable=()=>{null===Bx&&(Bx=[])},o.error=(...e)=>r("error",s,e),o.warn=(...e)=>r("warn",s,e),o.debug=(...e)=>r("debug",s,e),o}("VIDEOJS"),_x=Sx.createLogger,kx=Object.prototype.toString,Tx=function(e){return Ux(e)?Object.keys(e):[]};function Ex(e,t){Tx(e).forEach((n=>t(e[n],n)))}function Ix(e,t,n=0){return Tx(e).reduce(((n,i)=>t(n,e[i],i)),n)}function Ux(e){return!!e&&"object"==typeof e}function Fx(e){return Ux(e)&&"[object Object]"===kx.call(e)&&e.constructor===Object}function Dx(...e){const t={};return e.forEach((e=>{e&&Ex(e,((e,n)=>{Fx(e)?(Fx(t[n])||(t[n]={}),t[n]=Dx(t[n],e)):t[n]=e}))})),t}function Lx(e={}){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];t.push(i)}return t}function Ox(e,t,n,i=!0){const r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const e=n();return r(e),e}};return i&&(s.set=r),Object.defineProperty(e,t,s)}var Nx=Object.freeze({__proto__:null,each:Ex,reduce:Ix,isObject:Ux,isPlain:Fx,merge:Dx,values:Lx,defineLazyProperty:Ox});let Mx,jx=!1,Rx=null,Qx=!1,Px=!1,Hx=!1,qx=!1,Vx=!1,zx=null,Kx=null;const Gx=Boolean(Xb().cast&&Xb().cast.framework&&Xb().cast.framework.CastReceiverContext);let Wx=null,$x=!1,Xx=!1,Yx=!1,Jx=!1,Zx=!1,eB=!1,tB=!1;const nB=Boolean(lB()&&("ontouchstart"in Xb()||Xb().navigator.maxTouchPoints||Xb().DocumentTouch&&Xb().document instanceof Xb().DocumentTouch)),iB=Xb().navigator&&Xb().navigator.userAgentData;if(iB&&iB.platform&&iB.brands&&(Qx="Android"===iB.platform,Hx=Boolean(iB.brands.find((e=>"Microsoft Edge"===e.brand))),qx=Boolean(iB.brands.find((e=>"Chromium"===e.brand))),Vx=!Hx&&qx,zx=Kx=(iB.brands.find((e=>"Chromium"===e.brand))||{}).version||null,Xx="Windows"===iB.platform),!qx){const e=Xb().navigator&&Xb().navigator.userAgent||"";jx=/iPod/i.test(e),Rx=function(){const t=e.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Qx=/Android/i.test(e),Mx=function(){const t=e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;const n=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return n&&i?parseFloat(t[1]+"."+t[2]):n||null}(),Px=/Firefox/i.test(e),Hx=/Edg/i.test(e),qx=/Chrome/i.test(e)||/CriOS/i.test(e),Vx=!Hx&&qx,zx=Kx=function(){const t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Wx=function(){const t=/MSIE\s(\d+)\.\d/.exec(e);let n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(n=11),n}(),Zx=/Tizen/i.test(e),eB=/Web0S/i.test(e),tB=Zx||eB,$x=/Safari/i.test(e)&&!Vx&&!Qx&&!Hx&&!tB,Xx=/Windows/i.test(e),Yx=/iPad/i.test(e)||$x&&nB&&!/iPhone/i.test(e),Jx=/iPhone/i.test(e)&&!Yx}const rB=Jx||Yx||jx,sB=($x||rB)&&!Vx;var oB=Object.freeze({__proto__:null,get IS_IPOD(){return jx},get IOS_VERSION(){return Rx},get IS_ANDROID(){return Qx},get ANDROID_VERSION(){return Mx},get IS_FIREFOX(){return Px},get IS_EDGE(){return Hx},get IS_CHROMIUM(){return qx},get IS_CHROME(){return Vx},get CHROMIUM_VERSION(){return zx},get CHROME_VERSION(){return Kx},IS_CHROMECAST_RECEIVER:Gx,get IE_VERSION(){return Wx},get IS_SAFARI(){return $x},get IS_WINDOWS(){return Xx},get IS_IPAD(){return Yx},get IS_IPHONE(){return Jx},get IS_TIZEN(){return Zx},get IS_WEBOS(){return eB},get IS_SMART_TV(){return tB},TOUCH_ENABLED:nB,IS_IOS:rB,IS_ANY_SAFARI:sB});function aB(e){return"string"==typeof e&&Boolean(e.trim())}function lB(){return Jb()===Xb().document}function uB(e){return Ux(e)&&1===e.nodeType}function cB(){try{return Xb().parent!==Xb().self}catch(e){return!0}}function AB(e){return function(t,n){if(!aB(t))return Jb()[e](null);aB(n)&&(n=Jb().querySelector(n));const i=uB(n)?n:Jb();return i[e]&&i[e](t)}}function dB(e="div",t={},n={},i){const r=Jb().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){const n=t[e];"textContent"===e?hB(r,n):r[e]===n&&"tabIndex"!==e||(r[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&FB(r,i),r}function hB(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function pB(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function fB(e,t){return function(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function gB(e,...t){return e.classList.add(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e}function mB(e,...t){return e?(e.classList.remove(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e):(Sx.warn("removeClass was called with an element that doesn't exist"),null)}function vB(e,t,n){return"function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=void 0),t.split(/\s+/).forEach((t=>e.classList.toggle(t,n))),e}function yB(e,t){Object.getOwnPropertyNames(t).forEach((function(n){const i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function bB(e){const t={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const i=e.attributes;for(let e=i.length-1;e>=0;e--){const r=i[e].name;let s=i[e].value;n.includes(r)&&(s=null!==s),t[r]=s}}return t}function wB(e,t){return e.getAttribute(t)}function CB(e,t,n){e.setAttribute(t,n)}function xB(e,t){e.removeAttribute(t)}function BB(){Jb().body.focus(),Jb().onselectstart=function(){return!1}}function SB(){Jb().onselectstart=function(){return!0}}function _B(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((e=>{void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(MB(e,"height"))),n.width||(n.width=parseFloat(MB(e,"width"))),n}}function kB(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,n=e.offsetHeight;let i=0,r=0;for(;e.offsetParent&&e!==Jb()[bx.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function TB(e,t){const n={x:0,y:0};if(rB){let t=e;for(;t&&"html"!==t.nodeName.toLowerCase();){const e=MB(t,"transform");if(/^matrix/.test(e)){const t=e.slice(7,-1).split(/,\s/).map(Number);n.x+=t[4],n.y+=t[5]}else if(/^matrix3d/.test(e)){const t=e.slice(9,-1).split(/,\s/).map(Number);n.x+=t[12],n.y+=t[13]}if(t.assignedSlot&&t.assignedSlot.parentElement&&Xb().WebKitCSSMatrix){const e=Xb().getComputedStyle(t.assignedSlot.parentElement).transform,i=new(Xb().WebKitCSSMatrix)(e);n.x+=i.m41,n.y+=i.m42}t=t.parentNode||t.host}}const i={},r=kB(t.target),s=kB(e),o=s.width,a=s.height;let l=t.offsetY-(s.top-r.top),u=t.offsetX-(s.left-r.left);return t.changedTouches&&(u=t.changedTouches[0].pageX-s.left,l=t.changedTouches[0].pageY+s.top,rB&&(u-=n.x,l-=n.y)),i.y=1-Math.max(0,Math.min(1,l/a)),i.x=Math.max(0,Math.min(1,u/o)),i}function EB(e){return Ux(e)&&3===e.nodeType}function IB(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function UB(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((e=>("function"==typeof e&&(e=e()),uB(e)||EB(e)?e:"string"==typeof e&&/\S/.test(e)?Jb().createTextNode(e):void 0))).filter((e=>e))}function FB(e,t){return UB(t).forEach((t=>e.appendChild(t))),e}function DB(e,t){return FB(IB(e),t)}function LB(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||("mousedown"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons)))}const OB=AB("querySelector"),NB=AB("querySelectorAll");function MB(e,t){if(!e||!t)return"";if("function"==typeof Xb().getComputedStyle){let n;try{n=Xb().getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}function jB(e){[...Jb().styleSheets].forEach((t=>{try{const n=[...t.cssRules].map((e=>e.cssText)).join(""),i=Jb().createElement("style");i.textContent=n,e.document.head.appendChild(i)}catch(n){const i=Jb().createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media.mediaText,i.href=t.href,e.document.head.appendChild(i)}}))}var RB=Object.freeze({__proto__:null,isReal:lB,isEl:uB,isInFrame:cB,createEl:dB,textContent:hB,prependTo:pB,hasClass:fB,addClass:gB,removeClass:mB,toggleClass:vB,setAttributes:yB,getAttributes:bB,getAttribute:wB,setAttribute:CB,removeAttribute:xB,blockTextSelection:BB,unblockTextSelection:SB,getBoundingClientRect:_B,findPosition:kB,getPointerPosition:TB,isTextNode:EB,emptyEl:IB,normalizeContent:UB,appendContent:FB,insertContent:DB,isSingleLeftClick:LB,$:OB,$$:NB,computedStyle:MB,copyStyleSheetsToWindow:jB});let QB,PB=!1;const HB=function(){if(!1===QB.options.autoSetup)return;const e=Array.prototype.slice.call(Jb().getElementsByTagName("video")),t=Array.prototype.slice.call(Jb().getElementsByTagName("audio")),n=Array.prototype.slice.call(Jb().getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(let e=0,t=i.length;e<t;e++){const t=i[e];if(!t||!t.getAttribute){qB(1);break}if(void 0===t.player){null!==t.getAttribute("data-setup")&&QB(t)}}else PB||qB(1)};function qB(e,t){lB()&&(t&&(QB=t),Xb().setTimeout(HB,e))}function VB(){PB=!0,Xb().removeEventListener("load",VB)}lB()&&("complete"===Jb().readyState?VB():Xb().addEventListener("load",VB));const zB=function(e){const t=Jb().createElement("style");return t.className=e,t},KB=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var GB=new WeakMap;let WB,$B=3;function XB(){return $B++}function YB(e,t){if(!GB.has(e))return;const n=GB.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&GB.delete(e)}function JB(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function ZB(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const i=e||Xb().event;e={};const r=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const t in i)r.includes(t)||"returnValue"===t&&i.preventDefault||(e[t]=i[t]);if(e.target||(e.target=e.srcElement||Jb()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){const t=Jb().documentElement,n=Jb().body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t&&t.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t&&t.clientTop||n&&n.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}const eS=["touchstart","touchmove"];function tS(e,t,n){if(Array.isArray(t))return JB(tS,e,t,n);GB.has(e)||GB.set(e,{});const i=GB.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=XB()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(i.disabled)return;t=ZB(t);const r=i.handlers[t.type];if(r){const i=r.slice(0);for(let r=0,s=i.length;r<s&&!t.isImmediatePropagationStopped();r++)try{i[r].call(e,t,n)}catch(e){Sx.error(e)}}}),1===i.handlers[t].length)if(e.addEventListener){let n=!1;(function(){if("boolean"!=typeof WB){WB=!1;try{const e=Object.defineProperty({},"passive",{get(){WB=!0}});Xb().addEventListener("test",null,e),Xb().removeEventListener("test",null,e)}catch(e){}}return WB})()&&eS.indexOf(t)>-1&&(n={passive:!0}),e.addEventListener(t,i.dispatcher,n)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function nS(e,t,n){if(!GB.has(e))return;const i=GB.get(e);if(!i.handlers)return;if(Array.isArray(t))return JB(nS,e,t,n);const r=function(e,t){i.handlers[t]=[],YB(e,t)};if(void 0===t){for(const t in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},t)&&r(e,t);return}const s=i.handlers[t];if(s)if(n){if(n.guid)for(let e=0;e<s.length;e++)s[e].guid===n.guid&&s.splice(e--,1);YB(e,t)}else r(e,t)}function iS(e,t,n){const i=GB.has(e)?GB.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ZB(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)iS.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){GB.has(t.target)||GB.set(t.target,{});const e=GB.get(t.target);t.target[t.type]&&(e.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function rS(e,t,n){if(Array.isArray(t))return JB(rS,e,t,n);const i=function(){nS(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||XB(),tS(e,t,i)}function sS(e,t,n){const i=function(){nS(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||XB(),tS(e,t,i)}var oS=Object.freeze({__proto__:null,fixEvent:ZB,on:tS,off:nS,trigger:iS,one:rS,any:sS});const aS=30,lS=function(e,t,n){t.guid||(t.guid=XB());const i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},uS=function(e,t){let n=Xb().performance.now();return function(...i){const r=Xb().performance.now();r-n>=t&&(e(...i),n=r)}},cS=function(e,t,n,i=Xb()){let r;const s=function(){const s=this,o=arguments;let a=function(){r=null,a=null,n||e.apply(s,o)};!r&&n&&e.apply(s,o),i.clearTimeout(r),r=i.setTimeout(a,t)};return s.cancel=()=>{i.clearTimeout(r),r=null},s};var AS=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:aS,bind_:lS,throttle:uS,debounce:cS});let dS;class hS{on(e,t){const n=this.addEventListener;this.addEventListener=()=>{},tS(this,e,t),this.addEventListener=n}off(e,t){nS(this,e,t)}one(e,t){const n=this.addEventListener;this.addEventListener=()=>{},rS(this,e,t),this.addEventListener=n}any(e,t){const n=this.addEventListener;this.addEventListener=()=>{},sS(this,e,t),this.addEventListener=n}trigger(e){const t=e.type||e;"string"==typeof e&&(e={type:t}),e=ZB(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),iS(this,e)}queueTrigger(e){dS||(dS=new Map);const t=e.type||e;let n=dS.get(this);n||(n=new Map,dS.set(this,n));const i=n.get(t);n.delete(t),Xb().clearTimeout(i);const r=Xb().setTimeout((()=>{n.delete(t),0===n.size&&(n=null,dS.delete(this)),this.trigger(e)}),0);n.set(t,r)}}hS.prototype.allowedEvents_={},hS.prototype.addEventListener=hS.prototype.on,hS.prototype.removeEventListener=hS.prototype.off,hS.prototype.dispatchEvent=hS.prototype.trigger;const pS=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,fS=e=>e instanceof hS||!!e.eventBusEl_&&["on","one","off","trigger"].every((t=>"function"==typeof e[t])),gS=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,mS=(e,t,n)=>{if(!e||!e.nodeName&&!fS(e))throw new Error(`Invalid target for ${pS(t)}#${n}; must be a DOM node or evented object.`)},vS=(e,t,n)=>{if(!gS(e))throw new Error(`Invalid event type for ${pS(t)}#${n}; must be a non-empty string or array.`)},yS=(e,t,n)=>{if("function"!=typeof e)throw new Error(`Invalid listener for ${pS(t)}#${n}; must be a function.`)},bS=(e,t,n)=>{const i=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let r,s,o;return i?(r=e.eventBusEl_,t.length>=3&&t.shift(),[s,o]=t):(r=t[0],s=t[1],o=t[2]),mS(r,e,n),vS(s,e,n),yS(o,e,n),o=lS(e,o),{isTargetingSelf:i,target:r,type:s,listener:o}},wS=(e,t,n,i)=>{mS(e,e,t),e.nodeName?oS[t](e,n,i):e[t](n,i)},CS={on(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=bS(this,e,"on");if(wS(n,"on",i,r),!t){const e=()=>this.off(n,i,r);e.guid=r.guid;const t=()=>this.off("dispose",e);t.guid=r.guid,wS(this,"on","dispose",e),wS(n,"on","dispose",t)}},one(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=bS(this,e,"one");if(t)wS(n,"one",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,wS(n,"one",i,e)}},any(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=bS(this,e,"any");if(t)wS(n,"any",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,wS(n,"any",i,e)}},off(e,t,n){if(!e||gS(e))nS(this.eventBusEl_,e,t);else{const i=e,r=t;mS(i,this,"off"),vS(r,this,"off"),yS(n,this,"off"),n=lS(this,n),this.off("dispose",n),i.nodeName?(nS(i,r,n),nS(i,"dispose",n)):fS(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(e,t){mS(this.eventBusEl_,this,"trigger");const n=e&&"string"!=typeof e?e.type:e;if(!gS(n))throw new Error(`Invalid event type for ${pS(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return iS(this.eventBusEl_,e,t)}};function xS(e,t={}){const{eventBusKey:n}=t;if(n){if(!e[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);e.eventBusEl_=e[n]}else e.eventBusEl_=dB("span",{className:"vjs-event-bus"});return Object.assign(e,CS),e.eventedCallbacks&&e.eventedCallbacks.forEach((e=>{e()})),e.on("dispose",(()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&GB.has(e)&&GB.delete(e)})),Xb().setTimeout((()=>{e.eventBusEl_=null}),0)})),e}const BS={state:{},setState(e){let t;return"function"==typeof e&&(e=e()),Ex(e,((e,n)=>{this.state[n]!==e&&(t=t||{},t[n]={from:this.state[n],to:e}),this.state[n]=e})),t&&fS(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function SS(e,t){return Object.assign(e,BS),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&fS(e)&&e.on("statechanged",e.handleStateChanged),e}const _S=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toLowerCase()))},kS=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},TS=function(e,t){return kS(e)===kS(t)};var ES=Object.freeze({__proto__:null,toLowerCase:_S,toTitleCase:kS,titleCaseEquals:TS});class IS{constructor(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Dx({},this.options_),t=this.options_=Dx(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const t=e&&e.id&&e.id()||"no_player";this.id_=`${t}_component_${XB()}`}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((e=>this.addClass(e))),["on","off","one","any","trigger"].forEach((e=>{this[e]=void 0})),!1!==t.evented&&(xS(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),SS(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return Boolean(this.isDisposed_)}player(){return this.player_}options(e){return e?(this.options_=Dx(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,n){return dB(e,t,n)}localize(e,t,n=e){const i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[i],o=i&&i.split("-")[0],a=r&&r[o];let l=n;return s&&s[e]?l=s[e]:a&&a[e]&&(l=a[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){const i=t[n-1];let r=i;return void 0===i&&(r=e),r}))),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce(((e,t)=>e.concat(t)),[]);let t=this;for(let n=0;n<e.length;n++)if(t=t.getChild(e[n]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=dB("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=Jb().createElementNS(n,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const s=Jb().createElementNS(n,"use");return r.appendChild(s),s.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(r),this.iconIsSet_?t.replaceChild(i,t.querySelector(".vjs-icon-placeholder")):t.appendChild(i),this.iconIsSet_=!0,i}addChild(e,t={},n=this.children_.length){let i,r;if("string"==typeof e){r=kS(e);const n=t.componentClass||r;t.name=r;const s=IS.getComponent(n);if(!s)throw new Error(`Component ${n} does not exist`);if("function"!=typeof s)return null;i=new s(this.player_||this,t)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),r=r||i.name&&kS(i.name()),r&&(this.childNameIndex_[r]=i,this.childNameIndex_[_S(r)]=i),"function"==typeof i.el&&i.el()){let e=null;this.children_[n+1]&&(this.children_[n+1].el_?e=this.children_[n+1].el_:uB(this.children_[n+1])&&(e=this.children_[n+1])),this.contentEl().insertBefore(i.el(),e)}return i}removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[kS(e.name())]=null,this.childNameIndex_[_S(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,n=e=>{const n=e.name;let i=e.opts;if(void 0!==t[n]&&(i=t[n]),!1===i)return;!0===i&&(i={}),i.playerOptions=this.options_.playerOptions;const r=this.addChild(n,i);r&&(this[n]=r)};let i;const r=IS.getComponent("Tech");i=Array.isArray(e)?e:Object.keys(e),i.concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((t=>{let n,i;return"string"==typeof t?(n=t,i=e[n]||this.options_[n]||{}):(n=t.name,i=t),{name:n,opts:i}})).filter((e=>{const t=IS.getComponent(e.opts.componentClass||kS(e.name));return t&&!r.isTech(t)})).forEach(n)}}buildCSSClass(){return""}ready(e,t=!1){if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}triggerReady(){this.isReady_=!0,this.setTimeout((function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)}$(e,t){return OB(e,t||this.contentEl())}$$(e,t){return NB(e,t||this.contentEl())}hasClass(e){return fB(this.el_,e)}addClass(...e){gB(this.el_,...e)}removeClass(...e){mB(this.el_,...e)}toggleClass(e,t){vB(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return wB(this.el_,e)}setAttribute(e,t){CB(this.el_,e,t)}removeAttribute(e){xB(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;const i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+kS(e)],10)}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=MB(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){const n=`offset${kS(e)}`;t=this.el_[n]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect();return{boundingClientRect:{x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},center:{x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2}}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&("Tab"===e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,t=null;let n;this.on("touchstart",(function(i){1===i.touches.length&&(t={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=Xb().performance.now(),n=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)n=!1;else if(t){const i=e.touches[0].pageX-t.pageX,r=e.touches[0].pageY-t.pageY;Math.sqrt(i*i+r*r)>10&&(n=!1)}}));const i=function(){n=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){if(t=null,!0===n){Xb().performance.now()-e<200&&(i.preventDefault(),this.trigger("tap"))}}))}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=lS(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));const n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,t){var n;return e=lS(this,e),this.clearTimersOnDispose_(),n=Xb().setTimeout((()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Xb().clearTimeout(e)),e}setInterval(e,t){e=lS(this,e),this.clearTimersOnDispose_();const n=Xb().setInterval(e,t);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),Xb().clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=lS(this,e),t=Xb().requestAnimationFrame((()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()})),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),t=lS(this,t);const n=this.requestAnimationFrame((()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)}));return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),Xb().cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((([e,t])=>{this[e].forEach(((e,n)=>this[t](n)))})),this.clearingTimersOnDispose_=!1})))}getIsDisabled(){return Boolean(this.el_.disabled)}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function t(e){const t=Xb().getComputedStyle(e,null),n=t.getPropertyValue("visibility");return"none"!==t.getPropertyValue("display")&&!["hidden","collapse"].includes(n)}return e||(e=this.el()),!!(function(e){if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0)return!1;if(t.x>(Jb().documentElement.clientWidth||Xb().innerWidth))return!1;if(t.y<0)return!1;if(t.y>(Jb().documentElement.clientHeight||Xb().innerHeight))return!1;let n=Jb().elementFromPoint(t.x,t.y);for(;n;){if(n===e)return!0;if(!n.parentNode)return!1;n=n.parentNode}}(e)&&(n=e,t(n.parentElement)&&t(n)&&"0"!==n.style.opacity&&"0px"!==Xb().getComputedStyle(n).height&&"0px"!==Xb().getComputedStyle(n).width)&&(!e.parentElement||e.tabIndex>=0));var n}static registerComponent(e,t){if("string"!=typeof e||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=IS.getComponent("Tech"),i=n&&n.isTech(t),r=IS===t||IS.prototype.isPrototypeOf(t.prototype);if(i||!r){let t;throw t=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${e}"; ${t}.`)}e=kS(e),IS.components_||(IS.components_={});const s=IS.getComponent("Player");if("Player"===e&&s&&s.players){const e=s.players,t=Object.keys(e);if(e&&t.length>0)for(let n=0;n<t.length;n++)if(null!==e[t[n]])throw new Error("Can not register Player component after player has been created.")}return IS.components_[e]=t,IS.components_[_S(e)]=t,t}static getComponent(e){if(e&&IS.components_)return IS.components_[e]}}function US(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${n}).`)}(e,i,n.length-1),n[i][t]}function FS(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:US.bind(null,"start",0,e),end:US.bind(null,"end",1,e)},Xb().Symbol&&Xb().Symbol.iterator&&(t[Xb().Symbol.iterator]=()=>(e||[]).values()),t}function DS(e,t){return Array.isArray(e)?FS(e):void 0===e||void 0===t?FS():FS([[e,t]])}IS.registerComponent("Component",IS);const LS=function(e,t){e=e<0?0:e;let n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600);const s=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),r=r>0||o>0?r+":":"",i=((r||s>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let OS=LS;function NS(e){OS=e}function MS(){OS=LS}function jS(e,t=e){return OS(e,t)}var RS=Object.freeze({__proto__:null,createTimeRanges:DS,createTimeRange:DS,setFormatTime:NS,resetFormatTime:MS,formatTime:jS});function QS(e,t){let n,i,r=0;if(!t)return 0;e&&e.length||(e=DS(0,0));for(let s=0;s<e.length;s++)n=e.start(s),i=e.end(s),i>t&&(i=t),r+=i-n;return r/t}function PS(e){if(e instanceof PS)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Ux(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=PS.defaultMessages[this.code]||"")}function HS(e){return null!=e&&"function"==typeof e.then}function qS(e){HS(e)&&e.then(null,(e=>{}))}PS.prototype.code=0,PS.prototype.message="",PS.prototype.status=null,PS.prototype.metadata=null,PS.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],PS.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},PS.MEDIA_ERR_CUSTOM=0,PS.prototype.MEDIA_ERR_CUSTOM=0,PS.MEDIA_ERR_ABORTED=1,PS.prototype.MEDIA_ERR_ABORTED=1,PS.MEDIA_ERR_NETWORK=2,PS.prototype.MEDIA_ERR_NETWORK=2,PS.MEDIA_ERR_DECODE=3,PS.prototype.MEDIA_ERR_DECODE=3,PS.MEDIA_ERR_SRC_NOT_SUPPORTED=4,PS.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,PS.MEDIA_ERR_ENCRYPTED=5,PS.prototype.MEDIA_ERR_ENCRYPTED=5;const VS=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(((t,n,i)=>(e[n]&&(t[n]=e[n]),t)),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})};var zS=function(e){const t=e.$$("track"),n=Array.prototype.map.call(t,(e=>e.track));return Array.prototype.map.call(t,(function(e){const t=VS(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(VS))},KS=function(e,t){return e.forEach((function(e){const n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((e=>n.addCue(e)))})),t.textTracks()};const GS="vjs-modal-dialog";class WS extends IS{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=dB("div",{className:`${GS}-content`},{role:"document"}),this.descEl_=dB("p",{className:`${GS}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),hB(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${GS} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_)return void(this.options_.fillAlways&&this.fill());const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if("boolean"==typeof e){const t=this.closeable_=!!e;let n=this.getChild("closeButton");if(t&&!n){const e=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),DB(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);const r=this.getChild("closeButton");r&&n.appendChild(r.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),IB(this.contentEl()),this.trigger("modalempty")}content(e){return void 0!==e&&(this.content_=e),this.content_}conditionalFocus_(){const e=Jb().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),"Escape"===e.key&&this.closeable())return e.preventDefault(),void this.close();if("Tab"!==e.key)return;const t=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let e=0;e<t.length;e++)if(n===t[e]){i=e;break}Jb().activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(e=>(e instanceof Xb().HTMLAnchorElement||e instanceof Xb().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof Xb().HTMLInputElement||e instanceof Xb().HTMLSelectElement||e instanceof Xb().HTMLTextAreaElement||e instanceof Xb().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof Xb().HTMLIFrameElement||e instanceof Xb().HTMLObjectElement||e instanceof Xb().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")))}}WS.prototype.options_={pauseOnOpen:!0,temporary:!0},IS.registerComponent("ModalDialog",WS);class $S extends hS{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},fS(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}$S.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const e in $S.prototype.allowedEvents_)$S.prototype["on"+e]=null;const XS=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)};const YS=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)};class JS extends $S{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class ZS{constructor(e){ZS.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const r=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)}getCueById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}const e_={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},t_={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},n_={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i_={disabled:"disabled",hidden:"hidden",showing:"showing"};class r_ extends hS{constructor(e={}){super();const t={id:e.id||"vjs_track_"+XB(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const e in t)Object.defineProperty(this,e,{get(){return t[e]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(e){e!==n&&(n=e,this.trigger("labelchange"))}})}}const s_=function(e){return new URL(e,Jb().baseURI)},o_=function(e){return new URL(e,Jb().baseURI).href},a_=function(e){if("string"==typeof e){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},l_=function(e,t=Xb().location){return s_(e).origin!==t.origin};var u_=Object.freeze({__proto__:null,parseUrl:s_,getAbsoluteURL:o_,getFileExtension:a_,isCrossOrigin:l_});const c_=function(e,t){const n=new(Xb().WebVTT.Parser)(Xb(),Xb().vttjs,Xb().WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(Xb().console&&Xb().console.groupCollapsed&&Xb().console.groupCollapsed(`Text Track parsing errors for ${t.src}`),i.forEach((e=>Sx.error(e))),Xb().console&&Xb().console.groupEnd&&Xb().console.groupEnd()),n.flush()},A_=function(e,t){const n={uri:e},i=l_(e);i&&(n.cors=i);const r="use-credentials"===t.tech_.crossOrigin();r&&(n.withCredentials=r),ew()(n,lS(this,(function(e,n,i){if(e)return Sx.error(e,n);t.loaded_=!0,"function"!=typeof Xb().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(e=>{if("vttjserror"!==e.type)return c_(i,t);Sx.error(`vttjs failed to load, stopping trying to process ${t.src}`)})):c_(i,t)})))};class d_ extends r_{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=Dx(e,{kind:n_[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=i_[t.mode]||"disabled";const i=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(n="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const r=new ZS(this.cues_),s=new ZS(this.activeCues_);let o=!1;this.timeupdateHandler=lS(this,(function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}));this.tech_.one("dispose",(()=>{this.stopTracking()})),"disabled"!==n&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(e){i_[e]&&n!==e&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||A_(this.src,this),this.stopTracking(),"disabled"!==n&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return s;const e=this.tech_.currentTime(),t=[];for(let n=0,i=this.cues.length;n<i;n++){const i=this.cues[n];i.startTime<=e&&i.endTime>=e&&t.push(i)}if(o=!1,t.length!==this.activeCues_.length)o=!0;else for(let e=0;e<t.length;e++)-1===this.activeCues_.indexOf(t[e])&&(o=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&A_(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){t=new(Xb().vttjs.VTTCue)(e.startTime,e.endTime,e.text);for(const n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}const n=this.tech_.textTracks();for(let e=0;e<n.length;e++)n[e]!==this&&n[e].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}d_.prototype.allowedEvents_={cuechange:"cuechange"};class h_ extends r_{constructor(e={}){const t=Dx(e,{kind:t_[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class p_ extends r_{constructor(e={}){const t=Dx(e,{kind:e_[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class f_ extends hS{constructor(e={}){let t;super();const n=new d_(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return t}},track:{get(){return n}}}),t=f_.NONE,n.addEventListener("loadeddata",(()=>{t=f_.LOADED,this.trigger({type:"load",target:this})}))}}f_.prototype.allowedEvents_={load:"load"},f_.NONE=0,f_.LOADING=1,f_.LOADED=2,f_.ERROR=3;const g_={audio:{ListClass:class extends $S{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){XS(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&XS(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,XS(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}},TrackClass:h_,capitalName:"Audio"},video:{ListClass:class extends $S{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){YS(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set(){}})}addTrack(e){e.selected&&YS(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,YS(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},TrackClass:p_,capitalName:"Video"},text:{ListClass:JS,TrackClass:d_,capitalName:"Text"}};Object.keys(g_).forEach((function(e){g_[e].getterName=`${e}Tracks`,g_[e].privateName=`${e}Tracks_`}));const m_={remoteText:{ListClass:JS,TrackClass:d_,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t}removeTrackElement_(e){for(let t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},TrackClass:f_,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},v_=Object.assign({},g_,m_);m_.names=Object.keys(m_),g_.names=Object.keys(g_),v_.names=[].concat(m_.names).concat(g_.names);class y_ extends IS{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",(function(){this.hasStarted_=!0})),this.on("loadstart",(function(){this.hasStarted_=!1})),v_.names.forEach((t=>{const n=v_[t];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])})),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((t=>{!1===e[`native${t}Tracks`]&&(this[`featuresNative${t}Tracks`]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==e.preloadTextTracks,this.autoRemoteTextTracks_=new v_.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",(()=>this.setTimeout((()=>this.triggerSourceset(e)),1))),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(lS(this,(function(){const e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return DS(0,0)}bufferedPercent(){return QS(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(g_.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach((e=>{const t=this[`${e}Tracks`]()||[];let n=t.length;for(;n--;){const i=t[n];"text"===e&&this.removeRemoteTextTrack(i),t.removeTrack(i)}}))}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const n=e[t];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new PS(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?DS(0,0):DS()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){g_.names.forEach((e=>{const t=g_[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",(()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)}))}))}addWebVttScript_(){if(!Xb().WebVTT)if(Jb().body.contains(this.el())){if(!this.options_["vtt.js"]&&Fx(nw())&&Object.keys(nw()).length>0)return void this.trigger("vttjsloaded");const e=Jb().createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",(()=>{e.onload=null,e.onerror=null})),Xb().WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),n=t=>e.addTrack(t.track),i=t=>e.removeTrack(t.track);t.on("addtrack",n),t.on("removetrack",i),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),s=()=>{r();for(let t=0;t<e.length;t++){const n=e[t];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",(function(){t.off("addtrack",n),t.off("removetrack",i),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(let t=0;t<e.length;t++){e[t].removeEventListener("cuechange",r)}}))}addTextTrack(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r={}){const s=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;const o=new v_.text.TrackClass(r);return s.addTrack(o),o}(this,e,t,n)}createRemoteTextTrack(e){const t=Dx(e,{tech:this});return new m_.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const n=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!1===t&&this.ready((()=>this.autoRemoteTextTracks_.addTrack(n.track))),n}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=XB();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",(()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())}))):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return y_.canPlayType(e.type)}static isTech(e){return e.prototype instanceof y_||e instanceof y_||e===y_}static registerTech(e,t){if(y_.techs_||(y_.techs_={}),!y_.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!y_.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!y_.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=kS(e),y_.techs_[e]=t,y_.techs_[_S(e)]=t,"Tech"!==e&&y_.defaultTechOrder_.push(e),t}static getTech(e){if(e)return y_.techs_&&y_.techs_[e]?y_.techs_[e]:(e=kS(e),Xb()&&Xb().videojs&&Xb().videojs[e]?(Sx.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),Xb().videojs[e]):void 0)}}v_.names.forEach((function(e){const t=v_[e];y_.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),y_.prototype.featuresVolumeControl=!0,y_.prototype.featuresMuteControl=!0,y_.prototype.featuresFullscreenResize=!1,y_.prototype.featuresPlaybackRate=!1,y_.prototype.featuresProgressEvents=!1,y_.prototype.featuresSourceset=!1,y_.prototype.featuresTimeupdateEvents=!1,y_.prototype.featuresNativeTextTracks=!1,y_.prototype.featuresVideoFrameCallback=!1,y_.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){let i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){const n=e.sourceHandlers||[];let i;for(let e=0;e<n.length;e++)if(i=n[e].canPlayType(t),i)return i;return""},e.selectSourceHandler=function(t,n){const i=e.sourceHandlers||[];let r;for(let e=0;e<i.length;e++)if(r=i[e].canHandleSource(t,n),r)return i[e];return null},e.canPlaySource=function(t,n){const i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){const t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){let n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Sx.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},IS.registerComponent("Tech",y_),y_.registerTech("Tech",y_),y_.defaultTechOrder_=[];const b_={},w_={},C_={};function x_(e,t,n){e.setTimeout((()=>E_(t,b_[t.type],n,e)),1)}function B_(e,t,n,i=null){const r="call"+kS(n),s=e.reduce(T_(r),i),o=s===C_,a=o?null:t[n](s);return function(e,t,n,i){for(let r=e.length-1;r>=0;r--){const s=e[r];s[t]&&s[t](i,n)}}(e,n,a,o),a}const S_={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},__={setCurrentTime:1,setMuted:1,setVolume:1},k_={play:1,pause:1};function T_(e){return(t,n)=>t===C_?C_:n[e]?n[e](t):t}function E_(e={},t=[],n,i,r=[],s=!1){const[o,...a]=t;if("string"==typeof o)E_(e,b_[o],n,i,r,s);else if(o){const t=function(e,t){const n=w_[e.id()];let i=null;if(null==n)return i=t(e),w_[e.id()]=[[t,i]],i;for(let e=0;e<n.length;e++){const[r,s]=n[e];r===t&&(i=s)}return null===i&&(i=t(e),n.push([t,i])),i}(i,o);if(!t.setSource)return r.push(t),E_(e,a,n,i,r,s);t.setSource(Object.assign({},e),(function(o,l){if(o)return E_(e,a,n,i,r,s);r.push(t),E_(l,e.type===l.type?a:b_[l.type],n,i,r,s)}))}else a.length?E_(e,a,n,i,r,s):s?n(e,r):E_(e,b_["*"],n,i,r,!0)}const I_={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},U_=function(e=""){const t=a_(e);return I_[t.toLowerCase()]||""},F_=function(e){if(Array.isArray(e)){let t=[];e.forEach((function(e){e=F_(e),Array.isArray(e)?t=t.concat(e):Ux(e)&&t.push(e)})),e=t}else e="string"==typeof e&&e.trim()?[D_({src:e})]:Ux(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[D_(e)]:[];return e};function D_(e){if(!e.type){const t=U_(e.src);t&&(e.type=t)}return e}const L_=Zx?10009:eB?461:8,O_={codes:{play:415,pause:19,ff:417,rw:412,back:L_},names:{415:"play",19:"pause",417:"ff",412:"rw",[L_]:"back"},isEventKey(e,t){return t=t.toLowerCase(),!(!this.names[e.keyCode]||this.names[e.keyCode]!==t)},getEventName(e){if(this.names[e.keyCode])return this.names[e.keyCode];if(this.codes[e.code]){const t=this.codes[e.code];return this.names[t]}return null}};class N_ extends hS{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",(()=>{this.focus(this.updateFocusableComponents()[0])})),this.player_.on("modalclose",(()=>{this.refocusComponent()})),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",(()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())})))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();const e=t.key.substring(5).toLowerCase();this.move(e)}else if(O_.isEventKey(t,"play")||O_.isEventKey(t,"pause")||O_.isEventKey(t,"ff")||O_.isEventKey(t,"rw")){t.preventDefault();const e=O_.getEventName(t);this.performMediaAction_(e)}else O_.isEventKey(t,"Back")&&e.target&&"function"==typeof e.target.closeable&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+5);break;case"rw":this.userSeek_(this.player_.currentTime()-5)}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const t=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);t&&(n=Boolean(t.closest(".video-js")),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(e.currentTarget.contains(e.relatedTarget)||n)&&t||(i&&"CloseButton"===i.name()?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,t=[];function n(e){for(const i of e)i.hasOwnProperty("el_")&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())&&t.push(i),i.hasOwnProperty("children_")&&i.children_.length>0&&n(i.children_)}return e.children_.forEach((e=>{if(e.hasOwnProperty("el_")){if(e.getIsFocusable&&e.getIsAvailableToBeFocused&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el()))return void t.push(e);e.hasOwnProperty("children_")&&e.children_.length>0?n(e.children_):e.hasOwnProperty("items")&&e.items.length>0?n(e.items):this.findSuitableDOMChild(e)&&t.push(e)}if("ErrorDisplay"===e.name_&&e.opened_){const n=e.el_.querySelector(".vjs-errors-ok-button-container");if(n){n.querySelectorAll("button").forEach(((e,n)=>{t.push({name:()=>"ModalButton"+(n+1),el:()=>e,getPositions:()=>{const t=e.getBoundingClientRect();return{boundingClientRect:{x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left},center:{x:t.left+t.width/2,y:t.top+t.height/2,width:0,height:0,top:t.top+t.height/2,right:t.left+t.width/2,bottom:t.top+t.height/2,left:t.left+t.width/2}}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:e=>!0,focus:()=>e.focus()})}))}}})),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){return e.el()?function t(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let e=0;e<n.children.length;e++){const i=t(n.children[e]);if(i)return i}return null}(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const t=e||document.activeElement;if(this.focusableComponents.length)for(const e of this.focusableComponents)if(e.el()===t)return e}add(e){const t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name())return this.focusableComponents.splice(t,1),void this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const t=this.getCurrentComponent();if(!t)return;const n=t.getPositions(),i=this.focusableComponents.filter((i=>i!==t&&this.isInDirection_(n.boundingClientRect,i.getPositions().boundingClientRect,e))),r=this.findBestCandidate_(n.center,i,e);r?this.focus(r):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,n){let i=1/0,r=null;for(const s of t){const t=s.getPositions().center,o=this.calculateDistance_(e,t,n);o<i&&(i=o,r=s)}return r}isInDirection_(e,t,n){switch(n){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name())return void this.focus(this.focusableComponents[e])}else this.focus(this.updateFocusableComponents()[0])}focus(e){"object"==typeof e&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,t,n){const i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);let s;switch(n){case"right":case"left":s=i+100*r;break;case"up":s=2*r+.5*i;break;case"down":s=5*r+i;break;default:s=i+r}return s}searchForTrackSelect_(){const e=this;for(const t of e.updateFocusableComponents())if("TextTrackSelect"===t.constructor.name){e.focus(t);break}}}IS.registerComponent("MediaLoader",class extends IS{constructor(e,t,n){if(super(e,Dx({createEl:!1},t),n),t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(let n=0,i=t.playerOptions.techOrder;n<i.length;n++){const t=kS(i[n]);let r=y_.getTech(t);if(t||(r=IS.getComponent(t)),r&&r.isSupported()){e.loadTech_(t);break}}}});class M_ extends IS{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}createEl(e="div",t={},n={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Sx.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=t.tabIndex;const i=dB(e,t,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(dB("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=dB("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(void 0===e)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,hB(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){" "===e.key||"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}IS.registerComponent("ClickableComponent",M_);class j_ extends M_{constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return dB("div",{className:"vjs-poster"})}crossOrigin(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(dB("picture",{className:"vjs-poster",tabIndex:-1},{},dB("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?qS(this.player_.play()):this.player_.pause())}}j_.prototype.crossorigin=j_.prototype.crossOrigin,IS.registerComponent("PosterImage",j_);const R_="#222",Q_="#ccc",P_={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function H_(e,t){let n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function q_(e,t,n){try{e.style[t]=n}catch(e){return}}function V_(e){return e?`${e}px`:""}IS.registerComponent("TextTrackDisplay",class extends IS{constructor(e,t,n){super(e,t,n);const i=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",(e=>this.toggleDisplay(e))),e.on("texttrackchange",(e=>this.updateDisplay(e))),e.on("loadedmetadata",(e=>{this.updateDisplayOverlay(),this.preselectTrack(e)})),e.ready(lS(this,(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",i),e.on("playerresize",i);const t=Xb().screen.orientation||Xb(),n=Xb().screen.orientation?"change":"orientationchange";t.addEventListener(n,i),e.on("dispose",(()=>t.removeEventListener(n,i)));const r=this.options_.playerOptions.tracks||[];for(let e=0;e<r.length;e++)this.player_.addRemoteTextTrack(r[e],!0);this.preselectTrack()})))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,r,s;for(let o=0;o<t.length;o++){const a=t[o];n&&n.enabled&&n.language&&n.language===a.language&&a.kind in e?a.kind===n.kind?s=a:s||(s=a):n&&!n.enabled?(s=null,i=null,r=null):a.default&&("descriptions"!==a.kind||i?a.kind in e&&!r&&(r=a):i=a)}s?s.mode="showing":r?r.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof Xb().WebVTT&&Xb().WebVTT.processCues(Xb(),[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const t=[];for(let n=0;n<e.length;++n){const i=e[n];"showing"===i.mode&&t.push(i)}return void this.updateForTrack(t)}let n=null,i=null,r=e.length;for(;r--;){const t=e[r];"showing"===t.mode&&("descriptions"===t.kind?n=t:i=t)}if(i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n)),!Xb().CSS.supports("inset","10px")){const e=this.el_,t=e.querySelectorAll(".vjs-text-track-cue"),n=this.player_.controlBar.el_.getBoundingClientRect().height,i=this.player_.el_.getBoundingClientRect().height;e.style="",q_(e,"position","relative"),q_(e,"height",i-n+"px"),q_(e,"top","unset"),q_(e,"bottom",tB?i+"px":"0px"),t.length>0&&t.forEach((e=>{if(e.style.inset){const t=e.style.inset.split(" ");3===t.length&&Object.assign(e.style,{top:t[0],right:t[1],bottom:t[2],left:"unset"})}}))}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!Xb().CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),n=e/t,i=this.player_.videoWidth()/this.player_.videoHeight();let r=0,s=0;Math.abs(n-i)>.1&&(n>i?r=Math.round((e-t*i)/2):s=Math.round((t-e/i)/2)),q_(this.el_,"insetInline",V_(r)),q_(this.el_,"insetBlock",V_(s))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const e=n[i];if(!e)continue;const r=e.displayState;if(t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&q_(r.firstChild,"color",H_(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&q_(r.firstChild,"backgroundColor",H_(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?q_(r,"backgroundColor",H_(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow=`2px 2px 3px ${R_}, 2px 2px 4px ${R_}, 2px 2px 5px ${R_}`:"raised"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${R_}, 2px 2px ${R_}, 3px 3px ${R_}`:"depressed"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${Q_}, 0 1px ${Q_}, -1px -1px ${R_}, 0 -1px ${R_}`:"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow=`0 0 4px ${R_}, 0 0 4px ${R_}, 0 0 4px ${R_}, 0 0 4px ${R_}`)),t.fontPercent&&1!==t.fontPercent){const e=Xb().parseFloat(r.style.fontSize);r.style.fontSize=e*t.fontPercent+"px",r.style.height="auto",r.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=P_[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof Xb().WebVTT||e.every((e=>!e.activeCues)))return;const t=[];for(let n=0;n<e.length;++n){const i=e[n];for(let e=0;e<i.activeCues.length;++e)t.push(i.activeCues[e])}Xb().WebVTT.processCues(Xb(),t,this.el_);for(let t=0;t<e.length;++t){const n=e[t];for(let e=0;e<n.activeCues.length;++e){const i=n.activeCues[e].displayState;gB(i,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:t)),n.language&&CB(i,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}});IS.registerComponent("LoadingSpinner",class extends IS{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=dB("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class z_ extends M_{createEl(e,t={},n={}){const i=dB("button",t=Object.assign({className:this.buildCSSClass()},t),n=Object.assign({type:"button"},n));return this.player_.options_.experimentalSvgIcons||i.appendChild(dB("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,t={}){const n=this.constructor.name;return Sx.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),IS.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){" "!==e.key&&"Enter"!==e.key?super.handleKeyDown(e):e.stopPropagation()}}IS.registerComponent("Button",z_);class K_ extends z_{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",(e=>this.handleMouseDown(e)))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e)return qS(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.tech(!0).focus();const r=()=>i.focus();HS(t)?t.then(r,(()=>{})):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}K_.prototype.controlText_="Play Video",IS.registerComponent("BigPlayButton",K_);IS.registerComponent("CloseButton",class extends z_{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}});class G_ extends z_{constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.setIcon("play"),this.on(e,"play",(e=>this.handlePlay(e))),this.on(e,"pause",(e=>this.handlePause(e))),t.replay&&this.on(e,"ended",(e=>this.handleEnded(e)))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?qS(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",(e=>this.handleSeeked(e)))}}G_.prototype.controlText_="Play",IS.registerComponent("PlayToggle",G_);class W_ extends IS{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],(e=>this.update(e))),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=dB("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return t.appendChild(n),this.contentEl_=dB("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){(this.player_.options_.enableSmoothSeeking||"seeking"!==e.type)&&this.updateContent(e)}updateTextNode_(e=0){e=jS(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(()=>{if(!this.contentEl_)return;let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,Sx.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Jb().createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))})))}updateContent(e){}}W_.prototype.labelText_="Time",W_.prototype.controlText_="Time",IS.registerComponent("TimeDisplay",W_);class $_ extends W_{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}$_.prototype.labelText_="Current Time",$_.prototype.controlText_="Current Time",IS.registerComponent("CurrentTimeDisplay",$_);class X_ extends W_{constructor(e,t){super(e,t);const n=e=>this.updateContent(e);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}}X_.prototype.labelText_="Duration",X_.prototype.controlText_="Duration",IS.registerComponent("DurationDisplay",X_);IS.registerComponent("TimeDivider",class extends IS{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return t.appendChild(n),e.appendChild(t),e}});class Y_ extends W_{constructor(e,t){super(e,t),this.on(e,"durationchange",(e=>this.updateContent(e)))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(dB("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"!=typeof this.player_.duration())return;let t;t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t)}}Y_.prototype.labelText_="Remaining Time",Y_.prototype.controlText_="Remaining Time",IS.registerComponent("RemainingTimeDisplay",Y_);IS.registerComponent("LiveDisplay",class extends IS{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",(e=>this.updateShowing(e)))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=dB("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(dB("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(Jb().createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}});class J_ extends z_{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=dB("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function Z_(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}J_.prototype.controlText_="Seek to live, currently playing live",IS.registerComponent("SeekToLive",J_);var ek=Object.freeze({__proto__:null,clamp:Z_});class tk extends IS{constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},n={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,t,n)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Vx||e.preventDefault(),BB(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;SB(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(100*e).toFixed(2)+"%"}))),e}getProgress(){return Number(Z_(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=TB(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){const t=this.options_.playerOptions.spatialNavigation,n=t&&t.enabled,i=t&&t.horizontalSeek;n?i&&"ArrowLeft"===e.key||!i&&"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&"ArrowRight"===e.key||!i&&"ArrowUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):"ArrowUp"===e.key||"ArrowRight"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}IS.registerComponent("Slider",tk);const nk=(e,t)=>Z_(e/t*100,0,100).toFixed(2)+"%";IS.registerComponent("LoadProgressBar",class extends IS{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",(e=>this.update(e)))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=dB("span",{className:"vjs-control-text"}),n=dB("span",{textContent:this.localize("Loaded")}),i=Jb().createTextNode(": ");return this.percentageEl_=dB("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(n),t.appendChild(i),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",(()=>{const e=this.player_.liveTracker,t=this.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,s=nk(i,n);this.percent_!==s&&(this.el_.style.width=s,hB(this.percentageEl_,s),this.percent_=s);for(let e=0;e<t.length;e++){const n=t.start(e),s=t.end(e);let o=r[e];o||(o=this.el_.appendChild(dB()),r[e]=o),o.dataset.start===n&&o.dataset.end===s||(o.dataset.start=n,o.dataset.end=s,o.style.left=nk(n,i),o.style.width=nk(s-n,i))}for(let e=r.length;e>t.length;e--)this.el_.removeChild(r[e-1]);r.length=t.length}))}});IS.registerComponent("TimeTooltip",class extends IS{constructor(e,t){super(e,t),this.update=uS(lS(this,this.update),aS)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,n){const i=kB(this.el_),r=_B(this.player_.el()),s=e.width*t;if(!r||!i)return;let o=e.left-r.left+s,a=e.width-s+(r.right-e.right);a||(a=e.width-s,o=s);let l=i.width/2;o<l?l+=l-o:a<l&&(l=a),l<0?l=0:l>i.width&&(l=i.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(n)}write(e){hB(this.el_,e)}updateTime(e,t,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",(()=>{let r;const s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const e=this.player_.liveTracker.liveWindow(),n=e-t*e;r=(n<1?"":"-")+jS(n,e)}else r=jS(n,s);this.update(e,t,r),i&&i()}))}});class ik extends IS{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=uS(lS(this,this.update),aS)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}}ik.prototype.options_={children:[]},rB||Qx||ik.prototype.options_.children.push("timeTooltip"),IS.registerComponent("PlayProgressBar",ik);class rk extends IS{constructor(e,t){super(e,t),this.update=uS(lS(this,this.update),aS)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,(()=>{this.el_.style.left=e.width*t+"px"}))}}rk.prototype.options_={children:["timeTooltip"]},IS.registerComponent("MouseTimeDisplay",rk);class sk extends tk{constructor(e,t){(t=Dx(sk.prototype.options_,t)).children=[...t.children];const n=e.options_.disableSeekWhileScrubbingOnMobile&&(rB||Qx);(!rB&&!Qx||n)&&t.children.splice(1,0,"mouseTimeDisplay"),super(e,t),this.shouldDisableSeekWhileScrubbingOnMobile_=n,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=lS(this,this.update),this.update=uS(this.update_,aS),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Jb()&&"visibilityState"in Jb()&&this.on(Jb(),"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===Jb().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,aS))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"===Jb().visibilityState)return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",(()=>{const e=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let i=this.player_.duration();n&&n.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.percent_=t),this.currentTime_===e&&this.duration_===i||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[jS(e,i),jS(i,i)],"{1} of {2}")),this.currentTime_=e,this.duration_=i),this.bar&&this.bar.update(_B(this.el()),this.getProgress())})),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let t;const n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){LB(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!LB(e)||isNaN(this.player_.duration()))return;let n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);const i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();const e=r.seekableStart(),t=r.liveCurrentTime();if(n=e+i*r.liveWindow(),n>=t&&(n=t),n<=e&&(n=e+.1),n===1/0)return}else n=i*this.player_.duration(),n===this.player_.duration()&&(n-=.1);this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=n:this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?qS(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(" "===e.key||"Enter"===e.key)e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if("Home"===e.key)e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if("End"===e.key)e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=.1*parseInt(e.key,10);t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else"PageDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):"PageUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Jb()&&"visibilityState"in Jb()&&this.off(Jb(),"visibilitychange",this.toggleVisibility_),super.dispose()}}sk.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12},IS.registerComponent("SeekBar",sk);class ok extends IS{constructor(e,t){super(e,t),this.handleMouseMove=uS(lS(this,this.handleMouseMove),aS),this.throttledHandleMouseSeek=uS(lS(this,this.handleMouseSeek),aS),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(!n&&!i)return;const r=t.el(),s=kB(r);let o=TB(r,e).x;o=Z_(o,0,1),i&&i.update(s,o),n&&n.update(s,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach((e=>e.disable&&e.disable())),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&qS(this.player_.play())}}enable(){this.children().forEach((e=>e.enable&&e.enable())),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}ok.prototype.options_={children:["seekBar"]},IS.registerComponent("ProgressControl",ok);class ak extends z_{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],(e=>this.handlePictureInPictureChange(e))),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],(e=>this.handlePictureInPictureEnabledChange(e))),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(()=>this.handlePictureInPictureAudioModeChange())),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){"audio"===this.player_.currentType().substring(0,5)||this.player_.audioPosterMode()||this.player_.audioOnlyMode()?(this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()):this.show()}handlePictureInPictureEnabledChange(){Jb().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in Xb()?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){"function"==typeof Jb().exitPictureInPicture&&super.show()}}ak.prototype.controlText_="Picture-in-Picture",IS.registerComponent("PictureInPictureToggle",ak);class lk extends z_{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",(e=>this.handleFullscreenChange(e))),!1===Jb()[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}lk.prototype.controlText_="Fullscreen",IS.registerComponent("FullscreenToggle",lk);IS.registerComponent("VolumeLevel",class extends IS{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}});IS.registerComponent("VolumeLevelTooltip",class extends IS{constructor(e,t){super(e,t),this.update=uS(lS(this,this.update),aS)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,n,i){if(!n){const n=_B(this.el_),i=_B(this.player_.el()),r=e.width*t;if(!i||!n)return;const s=e.left-i.left+r,o=e.width-r+(i.right-e.right);let a=n.width/2;s<a?a+=a-s:o<a&&(a=o),a<0?a=0:a>n.width&&(a=n.width),this.el_.style.right=`-${a}px`}this.write(`${i}%`)}write(e){hB(this.el_,e)}updateVolume(e,t,n,i,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(()=>{this.update(e,t,n,i.toFixed(0)),r&&r()}))}});class uk extends IS{constructor(e,t){super(e,t),this.update=uS(lS(this,this.update),aS)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,n){const i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,(()=>{n?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"}))}}uk.prototype.options_={children:["volumeLevelTooltip"]},IS.registerComponent("MouseVolumeLevelDisplay",uk);class ck extends tk{constructor(e,t){super(e,t),this.on("slideractive",(e=>this.updateLastVolume_(e))),this.on(e,"volumechange",(e=>this.updateARIAAttributes(e))),e.ready((()=>this.updateARIAAttributes()))}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){LB(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const n=this.el(),i=_B(n),r=this.vertical();let s=TB(n,e);s=r?s.y:s.x,s=Z_(s,0,1),t.update(i,s,r)}LB(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",(()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)}))}}ck.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},rB||Qx||ck.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),ck.prototype.playerEvent="volumechange",IS.registerComponent("VolumeBar",ck);class Ak extends IS{constructor(e,t={}){t.vertical=t.vertical||!1,(void 0===t.volumeBar||Fx(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.throttledHandleMouseMove=uS(lS(this,this.handleMouseMove),aS),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",(e=>this.handleMouseDown(e))),this.on("touchstart",(e=>this.handleMouseDown(e))),this.on("mousemove",(e=>this.handleMouseMove(e))),this.on(this.volumeBar,["focus","slideractive"],(()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")})),this.on(this.volumeBar,["blur","sliderinactive"],(()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")}))}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}Ak.prototype.options_={children:["volumeBar"]},IS.registerComponent("VolumeControl",Ak);class dk extends z_{constructor(e,t){super(e,t),function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.on(e,["loadstart","volumechange"],(e=>this.update(e)))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){const e=n<.1?.1:n;this.player_.volume(e),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),rB&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),mB(this.el_,[0,1,2,3].reduce(((e,t)=>e+`${t?" ":""}vjs-vol-${t}`),"")),gB(this.el_,`vjs-vol-${t}`)}updateControlText_(){const e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}dk.prototype.controlText_="Mute",IS.registerComponent("MuteToggle",dk);class hk extends IS{constructor(e,t={}){void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||Fx(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],(e=>this.volumePanelState_(e))),this.on(this.muteToggle,"keyup",(e=>this.handleKeyPress(e))),this.on(this.volumeControl,"keyup",(e=>this.handleVolumeControlKeyUp(e))),this.on("keydown",(e=>this.handleKeyPress(e))),this.on("mouseover",(e=>this.handleMouseOver(e))),this.on("mouseout",(e=>this.handleMouseOut(e))),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){"Escape"===e.key&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),tS(Jb(),"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),nS(Jb(),"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){"Escape"===e.key&&this.handleMouseOut()}}hk.prototype.options_={children:["muteToggle","volumeControl"]},IS.registerComponent("VolumePanel",hk);class pk extends z_{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let r;r=t+this.skipTime<=i?t+this.skipTime:i,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}pk.prototype.controlText_="Skip Forward",IS.registerComponent("SkipForward",pk);class fk extends z_{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let r;r=i&&t-this.skipTime<=i?i:t>=this.skipTime?t-this.skipTime:0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}fk.prototype.controlText_="Skip Backward",IS.registerComponent("SkipBackward",fk);class gk extends IS{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",(e=>this.handleKeyDown(e))),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}addEventListenerForItem(e){e instanceof IS&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof IS&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=dB(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),tS(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||Jb().activeElement;if(!this.children().some((e=>e.el()===t))){const e=this.menuButton_;e&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const n=t.filter((t=>t.el()===e.target))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}}handleKeyDown(e){"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}IS.registerComponent("Menu",gk);class mk extends IS{constructor(e,t={}){super(e,t),this.menuButton_=new z_(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=z_.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",(e=>this.handleKeyDown(e))),this.on(this.menuButton_,"mouseenter",(()=>{this.addClass("vjs-hover"),this.menu.show(),tS(Jb(),"keyup",this.handleMenuKeyUp_)})),this.on("mouseleave",(e=>this.handleMouseLeave(e))),this.on("keydown",(e=>this.handleSubmenuKeyDown(e)))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new gk(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=dB("li",{className:"vjs-menu-title",textContent:kS(this.options_.title),tabIndex:-1}),n=new IS(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";return`vjs-menu-button ${e} ${z_.prototype.buildCSSClass()} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),nS(Jb(),"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){"Escape"===e.key||"Tab"===e.key?(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus())):"Up"!==e.key&&("Down"!==e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)||this.buttonPressed_||(e.preventDefault(),this.pressButton())}handleMenuKeyUp(e){"Escape"!==e.key&&"Tab"!==e.key||this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){"Escape"!==e.key&&"Tab"!==e.key||(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),rB&&cB())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}IS.registerComponent("MenuButton",mk);class vk extends mk{constructor(e,t){const n=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!n)return;const i=lS(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",(function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)}))}}IS.registerComponent("TrackButton",vk);class yk extends M_{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),n),r=dB("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(r):i.replaceChild(r,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}IS.registerComponent("MenuItem",yk);class bk extends yk{constructor(e,t){const n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode,super(e,t),this.track=n,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const r=(...e)=>{this.handleTracksChange.apply(this,e)},s=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],r),i.addEventListener("change",r),i.addEventListener("selectedlanguagechange",s),this.on("dispose",(function(){e.off(["loadstart","texttrackchange"],r),i.removeEventListener("change",r),i.removeEventListener("selectedlanguagechange",s)})),void 0===i.onchange){let e;this.on(["tap","click"],(function(){if("object"!=typeof Xb().Event)try{e=new(Xb().Event)("change")}catch(e){}e||(e=Jb().createEvent("Event"),e.initEvent("change",!0,!0)),i.dispatchEvent(e)}))}this.handleTracksChange()}handleClick(e){const t=this.track,n=this.player_.textTracks();if(super.handleClick(e),n)for(let e=0;e<n.length;e++){const i=n[e];-1!==this.kinds.indexOf(i.kind)&&(i===t?"showing"!==i.mode&&(i.mode="showing"):"disabled"!==i.mode&&(i.mode="disabled"))}}handleTracksChange(e){const t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if("showing"===this.track.mode){const e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}IS.registerComponent("TextTrackMenuItem",bk);class wk extends bk{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let n=!0;for(let e=0,i=t.length;e<i;e++){const i=t[e];if(this.options_.kinds.indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let n=!0;for(let e=0,i=t.length;e<i;e++){const i=t[e];if(["captions","descriptions","subtitles"].indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}IS.registerComponent("OffTextTrackMenuItem",wk);class Ck extends vk{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=bk){let n;this.label_&&(n=`${this.label_} off`),e.push(new wk(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let n=0;n<i.length;n++){const r=i[n];if(this.kinds_.indexOf(r.kind)>-1){const n=new t(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});n.addClass(`vjs-${r.kind}-menu-item`),e.push(n)}}return e}}IS.registerComponent("TextTrackButton",Ck);class xk extends yk{constructor(e,t){const n=t.track,i=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,super(e,t),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}IS.registerComponent("ChaptersTrackMenuItem",xk);class Bk extends Ck{constructor(e,t,n){super(e,t,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach((e=>{e.selected(this.track_.activeCues[0]===e.cue)}))}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&"chapters"!==e.track.kind)return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(kS(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new xk(this.player_,{track:this.track_,cue:i});e.push(r)}return e}}Bk.prototype.kind_="chapters",Bk.prototype.controlText_="Chapters",IS.registerComponent("ChaptersButton",Bk);class Sk extends Ck{constructor(e,t,n){super(e,t,n),this.setIcon("audio-description");const i=e.textTracks(),r=lS(this,this.handleTracksChange);i.addEventListener("change",r),this.on("dispose",(function(){i.removeEventListener("change",r)}))}handleTracksChange(e){const t=this.player().textTracks();let n=!1;for(let e=0,i=t.length;e<i;e++){const i=t[e];if(i.kind!==this.kind_&&"showing"===i.mode){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Sk.prototype.kind_="descriptions",Sk.prototype.controlText_="Descriptions",IS.registerComponent("DescriptionsButton",Sk);class _k extends Ck{constructor(e,t,n){super(e,t,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}_k.prototype.kind_="subtitles",_k.prototype.controlText_="Subtitles",IS.registerComponent("SubtitlesButton",_k);class kk extends bk{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}IS.registerComponent("CaptionSettingsMenuItem",kk);class Tk extends Ck{constructor(e,t,n){super(e,t,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new kk(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}Tk.prototype.kind_="captions",Tk.prototype.controlText_="Captions",IS.registerComponent("CaptionsButton",Tk);class Ek extends bk{createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):r.appendChild(dB("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(dB("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}IS.registerComponent("SubsCapsMenuItem",Ek);class Ik extends Ck{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(kS(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new kk(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Ek),e}}Ik.prototype.kinds_=["captions","subtitles"],Ik.prototype.controlText_="Subtitles",IS.registerComponent("SubsCapsButton",Ik);class Uk extends yk{constructor(e,t){const n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled,super(e,t),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const r=(...e)=>{this.handleTracksChange.apply(this,e)};i.addEventListener("change",r),this.on("dispose",(()=>{i.removeEventListener("change",r)}))}createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(dB("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(dB("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const e=this.player_.audioTracks();for(let t=0;t<e.length;t++){const n=e[t];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}IS.registerComponent("AudioTrackMenuItem",Uk);class Fk extends vk{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let n=0;n<t.length;n++){const i=t[n];e.push(new Uk(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}Fk.prototype.controlText_="Audio Track",IS.registerComponent("AudioTrackButton",Fk);class Dk extends yk{constructor(e,t){const n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=i===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=n,this.rate=i,this.on(e,"ratechange",(e=>this.update(e)))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Dk.prototype.contentElType="button",IS.registerComponent("PlaybackRateMenuItem",Dk);class Lk extends mk{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",(e=>this.updateVisibility(e))),this.on(e,"ratechange",(e=>this.updateLabel(e))),this.on(e,"playbackrateschange",(e=>this.handlePlaybackRateschange(e)))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=dB("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let n=e.length-1;n>=0;n--)t.push(new Dk(this.player(),{rate:e[n]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Lk.prototype.controlText_="Playback Rate",IS.registerComponent("PlaybackRateMenuButton",Lk);class Ok extends IS{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},n={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,n)}}IS.registerComponent("Spacer",Ok);IS.registerComponent("CustomControlSpacer",class extends Ok{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}});class Nk extends IS{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}Nk.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},IS.registerComponent("ControlBar",Nk);class Mk extends WS{constructor(e,t){super(e,t),this.on(e,"error",(e=>{this.open(e)}))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}Mk.prototype.options_=Object.assign({},WS.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),IS.registerComponent("ErrorDisplay",Mk);class jk extends IS{constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim();return dB("select",{id:this.options_.id},{},this.options_.SelectOptions.map((e=>{const t=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${XB()}`)+"-"+e[1].replace(/\W+/g,""),n=dB("option",{id:t,value:this.localize(e[0]),textContent:this.localize(e[1])});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${t}`),n})))}}IS.registerComponent("TextTrackSelect",jk);class Rk extends IS{constructor(e,t={}){super(e,t);const n=dB("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const t of i){const n=this.options_.selectConfigs[t],i=n.className,r=n.id.replace("%s",this.options_.id_);let s=null;const o=`vjs_select_${XB()}`;if("colors"===this.options_.type){s=dB("span",{className:i});const e=dB("label",{id:r,className:"vjs-label",textContent:this.localize(n.label)});e.setAttribute("for",o),s.appendChild(e)}const a=new jk(e,{SelectOptions:n.options,legendId:this.options_.legendId,id:o,labelId:r});this.addChild(a),"colors"===this.options_.type&&(s.appendChild(a.el()),this.el().appendChild(s))}}createEl(){return dB("fieldset",{className:this.options_.className})}}IS.registerComponent("TextTrackFieldset",Rk);class Qk extends IS{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new Rk(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const r=new Rk(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const s=new Rk(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s)}createEl(){return dB("div",{className:"vjs-track-settings-colors"})}}IS.registerComponent("TextTrackSettingsColors",Qk);class Pk extends IS{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new Rk(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const r=new Rk(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const s=new Rk(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s)}createEl(){return dB("div",{className:"vjs-track-settings-font"})}}IS.registerComponent("TextTrackSettingsFont",Pk);class Hk extends IS{constructor(e,t={}){super(e,t);const n=this.localize("restore all settings to the default values"),i=new z_(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const r=new z_(e,{controlText:n,className:"vjs-done-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Done"),this.addChild(r)}createEl(){return dB("div",{className:"vjs-track-settings-controls"})}}IS.registerComponent("TrackSettingsControls",Hk);const qk="vjs-text-track-settings",Vk=["#000","Black"],zk=["#00F","Blue"],Kk=["#0FF","Cyan"],Gk=["#0F0","Green"],Wk=["#F0F","Magenta"],$k=["#F00","Red"],Xk=["#FFF","White"],Yk=["#FF0","Yellow"],Jk=["1","Opaque"],Zk=["0.5","Semi-Transparent"],eT=["0","Transparent"],tT={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Vk,Xk,$k,Gk,zk,Yk,Wk,Kk],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Jk,Zk,eT],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Xk,Vk,$k,Gk,zk,Yk,Wk,Kk],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Jk,Zk],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[eT,Zk,Jk],className:"vjs-window-opacity vjs-opacity"}};function nT(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}tT.windowColor.options=tT.backgroundColor.options;IS.registerComponent("TextTrackSettings",class extends WS{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=dB("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const t=new Qk(e,{textTrackComponentid:this.id_,selectConfigs:tT,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);const n=new Pk(e,{textTrackComponentid:this.id_,selectConfigs:tT,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new Hk(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],(()=>{this.saveSettings(),this.close()})),this.on(this.$(".vjs-default-button"),["click","tap"],(()=>{this.setDefaults(),this.updateDisplay()})),Ex(tT,(e=>{this.on(this.$(e.selector),"change",this.updateDisplay)}))}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Ix(tT,((e,t,n)=>{const i=(r=this.$(t.selector),s=t.parser,nT(r.options[r.options.selectedIndex].value,s));var r,s;return void 0!==i&&(e[n]=i),e}),{})}setValues(e){Ex(tT,((t,n)=>{!function(e,t,n){if(t)for(let i=0;i<e.options.length;i++)if(nT(e.options[i].value,n)===t){e.selectedIndex=i;break}}(this.$(t.selector),e[n],t.parser)}))}setDefaults(){Ex(tT,(e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t}))}restoreSettings(){let e;try{e=JSON.parse(Xb().localStorage.getItem(qk))}catch(e){Sx.warn(e)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?Xb().localStorage.setItem(qk,JSON.stringify(e)):Xb().localStorage.removeItem(qk)}catch(e){Sx.warn(e)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}});IS.registerComponent("ResizeManager",class extends IS{constructor(e,t){let n=t.ResizeObserver||Xb().ResizeObserver;null===t.ResizeObserver&&(n=!1);super(e,Dx({createEl:!n,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||Xb().ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=cS((()=>{this.resizeHandler()}),100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const e=this.debouncedHandler_;let t=this.unloadListener_=function(){nS(this,"resize",e),nS(this,"unload",t),t=null};tS(this.el_.contentWindow,"unload",t),tS(this.el_.contentWindow,"resize",e)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}});const iT={trackingThreshold:20,liveTolerance:15};IS.registerComponent("LiveTracker",class extends IS{constructor(e,t){super(e,Dx(iT,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",(e=>this.handleDurationchange(e))),this.on(this.player_,"canplay",(()=>this.toggleTracking()))}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(Xb().performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),r=this.player_.currentTime();let s=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-r)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,aS),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}});IS.registerComponent("TitleBar",class extends IS{constructor(e,t){super(e,t),this.on("statechanged",(e=>this.updateDom_())),this.updateDom_()}createEl(){return this.els={title:dB("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${XB()}`}),description:dB("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${XB()}`})},dB("div",{className:"vjs-title-bar"},{},Lx(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach((e=>{const i=this.state[e],r=this.els[e],s=n[e];IB(r),i&&hB(r,i),t&&(t.removeAttribute(s),i&&t.setAttribute(s,r.id))})),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}});const rT={initialDisplay:4e3,position:[],takeFocus:!1};IS.registerComponent("TransientButton",class extends z_{constructor(e,t){super(e,t=Dx(rT,t)),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],(e=>{this.removeClass("force-display")}))}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map((e=>`vjs-${e}`)).join(" ")}`}createEl(){const e=dB("button",{},{type:"button",class:this.buildCSSClass()},dB("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout((()=>{this.removeClass("force-display")}),this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}});const sT=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const n=e.$$("source"),i=[];let r="";if(!n.length)return!1;for(let e=0;e<n.length;e++){const t=n[e].src;t&&-1===i.indexOf(t)&&i.push(t)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},oT=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=Jb().createElement(this.nodeName.toLowerCase());t.innerHTML=e;const n=Jb().createDocumentFragment();for(;t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",Xb().Element.prototype.appendChild.call(this,n),this.innerHTML}}),aT=(e,t)=>{let n={};for(let i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],t),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},lT=function(e){const t=e.el();if(t.resetSourceWatch_)return;const n={},i=(e=>aT([e.el(),Xb().HTMLMediaElement.prototype,Xb().Element.prototype,oT],"innerHTML"))(e),r=n=>(...i)=>{const r=n.apply(t,i);return sT(e),r};["append","appendChild","insertAdjacentHTML"].forEach((e=>{t[e]&&(n[e]=t[e],t[e]=r(n[e]))})),Object.defineProperty(t,"innerHTML",Dx(i,{set:r(i.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(n).forEach((e=>{t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)},uT=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?o_(Xb().Element.prototype.getAttribute.call(this,"src")):""},set(e){return Xb().Element.prototype.setAttribute.call(this,"src",e),e}}),cT=function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const n=(e=>aT([e.el(),Xb().HTMLMediaElement.prototype,uT],"src"))(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",Dx(n,{set:i=>{const r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=(n,r)=>{const s=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),s},t.load=()=>{const n=r.call(t);return sT(e)||(e.triggerSourceset(""),lT(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):sT(e)||lT(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}};class AT extends y_{constructor(e,t){super(e,t);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,n&&(this.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const e=this.el_.childNodes;let t=e.length;const n=[];for(;t--;){const r=e[t];"track"===r.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),this.textTracks().addTrack(r.track),i||this.el_.hasAttribute("crossorigin")||!l_(r.src)||(i=!0)):n.push(r))}for(let e=0;e<n.length;e++)this.el_.removeChild(n[e])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&Sx.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(nB||Jx)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),AT.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){cT(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const n=()=>{t=[];for(let n=0;n<e.length;n++){const i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(()=>e.removeEventListener("change",n)));const i=()=>{for(let e=0;e<t.length;e++){const n=t[e];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach((e=>{this.el()[`${n}Tracks`].removeEventListener(e,this[`${n}TracksListeners_`][e])})),this[`featuresNative${e}Tracks`]=!t,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=g_[e],n=this.el()[t.getterName],i=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!n||!n.addEventListener)return;const r={change:t=>{const n={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(n),"text"===e&&this[m_.remoteText.getterName]().trigger(n)},addtrack(e){i.addTrack(e.track)},removetrack(e){i.removeTrack(e.track)}},s=function(){const e=[];for(let t=0;t<i.length;t++){let r=!1;for(let e=0;e<n.length;e++)if(n[e]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=r,Object.keys(r).forEach((e=>{const t=r[e];n.addEventListener(e,t),this.on("dispose",(i=>n.removeEventListener(e,t)))})),this.on("loadstart",s),this.on("dispose",(e=>this.off("loadstart",s)))}proxyNativeTracks_(){g_.names.forEach((e=>{this.proxyNativeTracksForType_(e)}))}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),AT.disposeMediaElement(e),e=t}else{e=Jb().createElement("video");const t=Dx({},this.options_.tag&&bB(this.options_.tag));nB&&!0===this.options_.nativeControlsForTouch||delete t.controls,yB(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&CB(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let n=0;n<t.length;n++){const i=t[n],r=this.options_[i];void 0!==r&&(r?CB(e,i,i):xB(e,i),e[i]=r)}return e}handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){let e=!1;const t=function(){e=!0};this.on("loadstart",t);const n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",t),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready((function(){t.forEach((function(e){this.trigger(e)}),this)}))}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&sB?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){Sx(e,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Qx&&Vx&&0===this.el_.currentTime){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",(()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)}))}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)qS(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}addSourceElement(e,t){if(!e)return Sx.error("Invalid source URL."),!1;const n={src:e};t&&(n.type=t);const i=dB("source",{},n);return this.el_.appendChild(i),!0}removeSourceElement(e){if(!e)return Sx.error("Source URL is required to remove the source element."),!1;const t=this.el_.querySelectorAll("source");for(const n of t)if(n.src===e)return this.el_.removeChild(n),!0;return Sx.warn(`No matching source element found with src: ${e}`),!1}reset(){AT.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):super.addTextTrack(e,t,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=Jb().createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const n=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let n=t.length;for(;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();const e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Xb().performance&&(e.creationTime=Xb().performance.now()),e}}Ox(AT,"TEST_VID",(function(){if(!lB())return;const e=Jb().createElement("video"),t=Jb().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e})),AT.isSupported=function(){try{AT.TEST_VID.volume=.5}catch(e){return!1}return!(!AT.TEST_VID||!AT.TEST_VID.canPlayType)},AT.canPlayType=function(e){return AT.TEST_VID.canPlayType(e)},AT.canPlaySource=function(e,t){return AT.canPlayType(e.type)},AT.canControlVolume=function(){try{const e=AT.TEST_VID.volume;AT.TEST_VID.volume=e/2+.1;const t=e!==AT.TEST_VID.volume;return t&&rB?(Xb().setTimeout((()=>{AT&&AT.prototype&&(AT.prototype.featuresVolumeControl=e!==AT.TEST_VID.volume)})),!1):t}catch(e){return!1}},AT.canMuteVolume=function(){try{const e=AT.TEST_VID.muted;return AT.TEST_VID.muted=!e,AT.TEST_VID.muted?CB(AT.TEST_VID,"muted","muted"):xB(AT.TEST_VID,"muted"),e!==AT.TEST_VID.muted}catch(e){return!1}},AT.canControlPlaybackRate=function(){if(Qx&&Vx&&Kx<58)return!1;try{const e=AT.TEST_VID.playbackRate;return AT.TEST_VID.playbackRate=e/2+.1,e!==AT.TEST_VID.playbackRate}catch(e){return!1}},AT.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(Jb().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(Jb().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(Jb().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(Jb().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},AT.supportsNativeTextTracks=function(){return sB||rB&&Vx},AT.supportsNativeVideoTracks=function(){return!(!AT.TEST_VID||!AT.TEST_VID.videoTracks)},AT.supportsNativeAudioTracks=function(){return!(!AT.TEST_VID||!AT.TEST_VID.audioTracks)},AT.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function([e,t]){Ox(AT.prototype,e,(()=>AT[t]()),!0)})),AT.prototype.featuresVolumeControl=AT.canControlVolume(),AT.prototype.movingMediaElementInDOM=!rB,AT.prototype.featuresFullscreenResize=!0,AT.prototype.featuresProgressEvents=!0,AT.prototype.featuresTimeupdateEvents=!0,AT.prototype.featuresVideoFrameCallback=!(!AT.TEST_VID||!AT.TEST_VID.requestVideoFrameCallback),AT.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},AT.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let n=t.length;for(;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){AT.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){AT.prototype["set"+kS(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){AT.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){AT.prototype["set"+kS(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){AT.prototype[e]=function(){return this.el_[e]()}})),y_.withSourceHandlers(AT),AT.nativeSourceHandler={},AT.nativeSourceHandler.canPlayType=function(e){try{return AT.TEST_VID.canPlayType(e)}catch(e){return""}},AT.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return AT.nativeSourceHandler.canPlayType(e.type);if(e.src){const t=a_(e.src);return AT.nativeSourceHandler.canPlayType(`video/${t}`)}return""},AT.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},AT.nativeSourceHandler.dispose=function(){},AT.registerSourceHandler(AT.nativeSourceHandler),y_.registerTech("Html5",AT);const dT=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],hT={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},pT=["tiny","xsmall","small","medium","large","xlarge","huge"],fT={};pT.forEach((e=>{const t="x"===e.charAt(0)?`x-${e.substring(1)}`:e;fT[e]=`vjs-layout-${t}`}));const gT={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class mT extends IS{constructor(e,t,n){if(e.id=e.id||t.id||`vjs_video_${XB()}`,(t=Object.assign(mT.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const n=e.closest("[lang]");n&&(t.language=n.getAttribute("lang"))}if(super(null,t,n),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.boundUpdatePlayerHeightOnAudioOnlyMode_=e=>this.updatePlayerHeightOnAudioOnlyMode_(e),this.isFullscreen_=!1,this.log=_x(this.id_),this.fsApi_=bx,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&bB(e),this.language(this.options_.language),t.languages){const e={};Object.getOwnPropertyNames(t.languages).forEach((function(n){e[n.toLowerCase()]=t.languages[n]})),this.languages_=e}else this.languages_=mT.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach((e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)})),this.scrubbing_=!1,this.el_=this.createEl(),xS(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(tS(Jb(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Dx(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach((e=>{this[e](t.plugins[e])})),t.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const e=(new(Xb().DOMParser)).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>',"image/svg+xml");if(e.querySelector("parsererror"))Sx.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new N_(this),this.addClass("vjs-spatial-navigation-enabled")),nB&&this.addClass("vjs-touch-enabled"),rB||this.addClass("vjs-workinghover"),mT.players[this.id_]=this;const r=gx.split(".")[0];this.addClass(`vjs-v${r}`),this.userActive(!0),this.reportUserActivity(),this.one("play",(e=>this.listenForUserActivity_(e))),this.on("keydown",(e=>this.handleKeyDown(e))),this.on("languagechange",(e=>this.handleLanguagechange(e))),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",(()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)}))}dispose(){var e;this.trigger("dispose"),this.off("dispose"),nS(Jb(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),nS(Jb(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),mT.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),e=this,w_.hasOwnProperty(e.id())&&delete w_[e.id()],v_.names.forEach((e=>{const t=this[v_[e].getterName]();t&&t.off&&t.off()})),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,n=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const i="video-js"===this.tag.tagName.toLowerCase();n?e=this.el_=t.parentNode:i||(e=this.el_=super.createEl("div"));const r=bB(t);if(i){for(e=this.el_=t,t=this.tag=Jb().createElement("video");e.children.length;)t.appendChild(e.firstChild);fB(e,"video-js")||gB(e,"video-js"),e.appendChild(t),n=this.playerElIngest_=e,Object.keys(e).forEach((n=>{try{t[n]=e[n]}catch(e){}}))}t.setAttribute("tabindex","-1"),r.tabindex="-1",Vx&&Xx&&(t.setAttribute("role","application"),r.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach((function(n){i&&"class"===n||e.setAttribute(n,r[n]),i&&t.setAttribute(n,r[n])})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused");const s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter((e=>oB[e])).map((e=>"vjs-device-"+e.substring(3).toLowerCase().replace(/\_/g,"-")));if(this.addClass(...s),!0!==Xb().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=zB("vjs-styles-dimensions");const e=OB(".vjs-styles-defaults"),t=OB("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=t.getElementsByTagName("a");for(let e=0;e<o.length;e++){const t=o.item(e);gB(t,"vjs-hidden"),t.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!n&&t.parentNode.insertBefore(e,t),pB(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}crossOrigin(e){if(void 0===e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):Sx.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();const i=parseFloat(t);isNaN(i)?Sx.error(`Improper value "${t}" supplied for for ${e}`):(this[n]=i,this.updateStyleEl_())}fluid(e){if(void 0===e)return!!this.fluid_;var t,n;this.fluid_=!!e,fS(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)},fS(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===Xb().VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}let e,t,n,i;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const r=n.split(":"),s=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*s,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),KB(this.styleEl_,`\n      .${i} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*s}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const n=kS(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(y_.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let r=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(r=!1);const s={source:t,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};v_.names.forEach((e=>{const t=v_[e];s[t.getterName]=this[t.privateName]})),Object.assign(s,this.options_[n]),Object.assign(s,this.options_[i]),Object.assign(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);const o=y_.getTech(e);if(!o)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new o(s),this.tech_.ready(lS(this,this.handleTechReady_),!0),KS(this.textTracksJson_||[],this.tech_),dT.forEach((e=>{this.on(this.tech_,e,(t=>this[`handleTech${kS(e)}_`](t)))})),Object.keys(hT).forEach((e=>{this.on(this.tech_,e,(t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${hT[e]}_`].bind(this),event:t}):this[`handleTech${hT[e]}_`](t)}))})),this.on(this.tech_,"loadstart",(e=>this.handleTechLoadStart_(e))),this.on(this.tech_,"sourceset",(e=>this.handleTechSourceset_(e))),this.on(this.tech_,"waiting",(e=>this.handleTechWaiting_(e))),this.on(this.tech_,"ended",(e=>this.handleTechEnded_(e))),this.on(this.tech_,"seeking",(e=>this.handleTechSeeking_(e))),this.on(this.tech_,"play",(e=>this.handleTechPlay_(e))),this.on(this.tech_,"pause",(e=>this.handleTechPause_(e))),this.on(this.tech_,"durationchange",(e=>this.handleTechDurationChange_(e))),this.on(this.tech_,"fullscreenchange",((e,t)=>this.handleTechFullscreenChange_(e,t))),this.on(this.tech_,"fullscreenerror",((e,t)=>this.handleTechFullscreenError_(e,t))),this.on(this.tech_,"enterpictureinpicture",(e=>this.handleTechEnterPictureInPicture_(e))),this.on(this.tech_,"leavepictureinpicture",(e=>this.handleTechLeavePictureInPicture_(e))),this.on(this.tech_,"error",(e=>this.handleTechError_(e))),this.on(this.tech_,"posterchange",(e=>this.handleTechPosterChange_(e))),this.on(this.tech_,"textdata",(e=>this.handleTechTextData_(e))),this.on(this.tech_,"ratechange",(e=>this.handleTechRateChange_(e))),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||pB(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){v_.names.forEach((e=>{const t=v_[e];this[t.privateName]=this[t.getterName]()})),this.textTracksJson_=zS(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&Sx.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":gx}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||"string"!=typeof e)return;const t=()=>{const e=this.muted();this.muted(!0);const t=()=>{this.muted(e)};this.playTerminatedQueue_.push(t);const n=this.play();if(HS(n))return n.catch((e=>{throw t(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${e||""}`)}))};let n;return"any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():t():(n=this.play(),HS(n)&&(n=n.catch(t))),HS(n)?n.then((()=>{this.trigger({type:"autoplay-success",autoplay:e})})).catch((()=>{this.trigger({type:"autoplay-failure",autoplay:e})})):void 0}updateSourceCaches_(e=""){let t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const n=e.cache_.sources.filter((e=>e.src===t));if(n.length)return n[0].type;const i=e.$$("source");for(let e=0;e<i.length;e++){const n=i[e];if(n.type&&n.src&&n.src===t)return n.type}return U_(t)})(this,t)),this.cache_.source=Dx({},e,{src:t,type:n});const i=this.cache_.sources.filter((e=>e.src&&e.src===t)),r=[],s=this.$$("source"),o=[];for(let e=0;e<s.length;e++){const n=bB(s[e]);r.push(n),n.src&&n.src===t&&o.push(n.src)}o.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=e=>this.updateSourceCaches_(e);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(t=()=>{}),t(i),e.src||this.tech_.any(["sourceset","loadstart"],(e=>{if("sourceset"===e.type)return;const t=this.techGet_("currentSrc");this.lastSource_.tech=t,this.updateSourceCaches_(t)}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((e=>e.callback(e.event))),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?qS(this.play()):this.pause()))}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(t=>t.contains(e.target)))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Jb().pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const n=this.el();let i=Jb()[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(()=>{this.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready((function(){if(e in __)return function(e,t,n,i){return t[n](e.reduce(T_(n),i))}(this.middleware_,this.tech_,e,t);if(e in k_)return B_(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Sx(e),e}}),!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in S_)return function(e,t,n){return e.reduceRight(T_(n),t[n]())}(this.middleware_,this.tech_,e);if(e in k_)return B_(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Sx(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,t),t;if("TypeError"===t.name)throw Sx(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,t),this.tech_.isReady_=!1,t;throw Sx(t),t}}}play(){return new Promise((e=>{this.play_(e)}))}play_(e=qS){this.playCallbacks_.push(e);const t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),n=Boolean(sB||rB);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!t&&n&&this.load());const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||DS(0,0)}scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return void 0===e?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),this.cache_.initTime=0,void(isFinite(e)&&(this.cache_.currentTime=Number(e)))):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_)))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e&&e.length||(e=DS(0,0)),e}seekable(){let e=this.techGet_("seekable");return e&&e.length||(e=DS(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return QS(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let n=e.end(e.length-1);return n>t&&(n=t),n}volume(e){let t;return void 0!==e?(t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(void 0!==e){const t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise(((n,i)=>{function r(){t.off("fullscreenerror",o),t.off("fullscreenchange",s)}function s(){r(),n()}function o(e,t){r(),i(t)}t.one("fullscreenchange",s),t.one("fullscreenerror",o);const a=t.requestFullscreenHelper_(e);a&&(a.then(r,r),a.then(n,i))}))}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){const e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then((()=>this.isFullscreen(!0)),(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise(((t,n)=>{function i(){e.off("fullscreenerror",s),e.off("fullscreenchange",r)}function r(){i(),t()}function s(e,t){i(),n(t)}e.one("fullscreenchange",r),e.one("fullscreenerror",s);const o=e.exitFullscreenHelper_();o&&(o.then(i,i),o.then(t,n))}))}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Jb()[this.fsApi_.exitFullscreen]();return e&&qS(e.then((()=>this.isFullscreen(!1)))),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Jb().documentElement.style.overflow,tS(Jb(),"keydown",this.boundFullWindowOnEscKey_),Jb().documentElement.style.overflow="hidden",gB(Jb().body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){"Escape"===e.key&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,nS(Jb(),"keydown",this.boundFullWindowOnEscKey_),Jb().documentElement.style.overflow=this.docOrigOverflow,mB(Jb().body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&Xb().documentPictureInPicture){const e=Jb().createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(dB("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),Xb().documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then((t=>(jB(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",(t=>{const n=t.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")})),t)))}return"pictureInPictureEnabled"in Jb()&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return Xb().documentPictureInPicture&&Xb().documentPictureInPicture.window?(Xb().documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in Jb()?Jb().exitPictureInPicture():void 0}handleKeyDown(e){const{userActions:t}=this.options_;if(!t||!t.hotkeys)return;(e=>{const t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=t=>"f"===e.key.toLowerCase(),muteKey:i=t=>"m"===e.key.toLowerCase(),playPauseKey:r=t=>"k"===e.key.toLowerCase()||" "===e.key.toLowerCase()}=t;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const t=IS.getComponent("FullscreenToggle");!1!==Jb()[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else if(i.call(this,e)){e.preventDefault(),e.stopPropagation();IS.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(r.call(this,e)){e.preventDefault(),e.stopPropagation();IS.getComponent("PlayToggle").prototype.handleClick.call(this,e)}}canPlayType(e){let t;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const r=i[n];let s=y_.getTech(r);if(s||(s=IS.getComponent(r)),s){if(s.isSupported()&&(t=s.canPlayType(e),t))return t}else Sx.error(`The "${r}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(e){const t=this.options_.techOrder.map((e=>[e,y_.getTech(e)])).filter((([e,t])=>t?t.isSupported():(Sx.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),!1))),n=function(e,t,n){let i;return e.some((e=>t.some((t=>{if(i=n(e,t),i)return!0})))),i};let i;const r=([e,t],n)=>{if(t.canPlaySource(n,this.options_[e.toLowerCase()]))return{source:n,tech:e}};return i=this.options_.sourceOrder?n(e,t,(e=>(t,n)=>e(n,t))(r)):n(t,e,r),i||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=F_(e);if(n.length){if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),x_(this,n[0],((e,i)=>{this.middleware_=i,t||(this.cache_.sources=n),this.updateSourceCaches_(e);if(this.src_(e))return n.length>1?this.handleSrc_(n.slice(1)):(this.changingSrc_=!1,this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void this.triggerReady());var r,s;r=i,s=this.tech_,r.forEach((e=>e.setTech&&e.setTech(s)))})),n.length>1){const e=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},t=()=>{this.off("error",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return!t||(TS(t.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready((()=>{this.changingSrc_=!1})),!1))}addSourceElement(e,t){return!!this.tech_&&this.tech_.addSourceElement(e,t)}removeSourceElement(e){return!!this.tech_&&this.tech_.removeSourceElement(e)}load(){this.tech_&&this.tech_.vhs?this.src(this.currentSource()):this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{qS(this.play().then((()=>this.doReset_())))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),fS(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:r}=n||{};e&&e.updateContent(),t&&t.updateContent(),i&&i.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}autoplay(e){if(void 0===e)return this.options_.autoplay||!1;let t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}poster(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(void 0===e)return this.error_||null;if(vx("beforeerror").forEach((t=>{const n=t(this,e);Ux(n)&&!Array.isArray(n)||"string"==typeof n||"number"==typeof n||null===n?e=n:this.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){const t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=null,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new PS(e),this.addClass("vjs-error"),Sx.error(`(CODE:${this.error_.code} ${PS.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),vx("error").forEach((e=>e(this,this.error_)))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,n;const i=lS(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);const s=this.getChild("controlBar");let o;!s||rB||Qx||(s.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),s.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i);this.setInterval((function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);const e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}),250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");e&&this.audioOnlyCache_.controlBarHeight!==e.currentHeight()&&(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),n=t&&t.currentHeight();e.forEach((e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach((e=>e.show())),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then((()=>this.enableAudioOnlyUI_()))}return Promise.resolve().then((()=>this.disableAudioOnlyUI_()))}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;if(this.audioPosterMode_=e,e){if(this.audioOnlyMode()){return this.audioOnlyMode(!1).then((()=>{this.enablePosterModeUI_()}))}return Promise.resolve().then((()=>{this.enablePosterModeUI_()}))}return Promise.resolve().then((()=>{this.disablePosterModeUI_()}))}addTextTrack(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),fS(this)&&this.trigger("languagechange"))}languages(){return Dx(mT.prototype.options_.languages,this.languages_)}toJSON(){const e=Dx(this.options_),t=e.tracks;e.tracks=[];for(let n=0;n<t.length;n++){let i=t[n];i=Dx(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,t){(t=t||{}).content=e||"";const n=new WS(this,t);return this.addChild(n),n.on("dispose",(()=>{this.removeChild(n)})),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let n=0;n<pT.length;n++){const i=pT[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(fT[e]),this.addClass(fT[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},gT,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){if(void 0===e)return this.responsive_;return(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return fT[this.breakpoint_]||""}loadMedia(e,t){if(!e||"object"!=typeof e)return;const n=this.crossOrigin();this.reset(),this.cache_.media=Dx(e);const{artist:i,artwork:r,description:s,poster:o,src:a,textTracks:l,title:u}=this.cache_.media;!r&&o&&(this.cache_.media.artwork=[{src:o,type:U_(o)}]),n&&this.crossOrigin(n),a&&this.src(a),o&&this.poster(o),Array.isArray(l)&&l.forEach((e=>this.addRemoteTextTrack(e,!1))),this.titleBar&&this.titleBar.update({title:u,description:s||i||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),(e=>({kind:e.kind,label:e.label,language:e.language,src:e.src}))),i={src:t,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:U_(i.poster)}]),i}return Dx(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},n=bB(e),i=n["data-setup"];if(fB(e,"vjs-fill")&&(n.fill=!0),fB(e,"vjs-fluid")&&(n.fluid=!0),null!==i)try{Object.assign(n,JSON.parse(i||"{}"))}catch(e){Sx.error("data-setup",e)}if(Object.assign(t,n),e.hasChildNodes()){const n=e.childNodes;for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.nodeName.toLowerCase();"source"===r?t.sources.push(bB(i)):"track"===r&&t.tracks.push(bB(i))}}return t}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((e=>"number"==typeof e))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}v_.names.forEach((function(e){const t=v_[e];mT.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),mT.prototype.crossorigin=mT.prototype.crossOrigin,mT.players={};const vT=Xb().navigator;mT.prototype.options_={techOrder:y_.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:vT&&(vT.languages&&vT.languages[0]||vT.userLanguage||vT.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1},dT.forEach((function(e){mT.prototype[`handleTech${kS(e)}_`]=function(){return this.trigger(e)}})),IS.registerComponent("Player",mT);const yT="plugin",bT="activePlugins_",wT={},CT=e=>wT.hasOwnProperty(e),xT=e=>CT(e)?wT[e]:void 0,BT=(e,t)=>{e[bT]=e[bT]||{},e[bT][t]=!0},ST=(e,t,n)=>{const i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},_T=(e,t)=>(t.prototype.name=e,function(...n){ST(this,{name:e,plugin:t,instance:null},!0);const i=new t(...[this,...n]);return this[e]=()=>i,ST(this,i.getEventHash()),i});class kT{constructor(e){if(this.constructor===kT)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),xS(this),delete this.trigger,SS(this,this.constructor.defaultState),BT(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return iS(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[bT][e]=!1,this.player=this.state=null,t[e]=_T(e,wT[e])}static isBasic(e){const t="string"==typeof e?xT(e):e;return"function"==typeof t&&!kT.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(CT(e))Sx.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(mT.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if("function"!=typeof t)throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return wT[e]=t,e!==yT&&(kT.isBasic(t)?mT.prototype[e]=function(e,t){const n=function(){ST(this,{name:e,plugin:t,instance:null},!0);const n=t.apply(this,arguments);return BT(this,e),ST(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(e,t):mT.prototype[e]=_T(e,t)),t}static deregisterPlugin(e){if(e===yT)throw new Error("Cannot de-register base plugin.");CT(e)&&(delete wT[e],delete mT.prototype[e])}static getPlugins(e=Object.keys(wT)){let t;return e.forEach((e=>{const n=xT(e);n&&(t=t||{},t[e]=n)})),t}static getPluginVersion(e){const t=xT(e);return t&&t.VERSION||""}}function TT(e,t,n,i){return function(e,t){let n=!1;return function(...i){return n||Sx.warn(e),n=!0,t.apply(this,i)}}(`${t} is deprecated and will be removed in ${e}.0; please use ${n} instead.`,i)}kT.getPlugin=xT,kT.BASE_PLUGIN_NAME=yT,kT.registerPlugin(yT,kT),mT.prototype.usingPlugin=function(e){return!!this[bT]&&!0===this[bT][e]},mT.prototype.hasPlugin=function(e){return!!CT(e)};const ET=e=>0===e.indexOf("#")?e.slice(1):e;function IT(e,t,n){let i=IT.getPlayer(e);if(i)return t&&Sx.warn(`Player "${e}" is already initialised. Options will not be applied.`),n&&i.ready(n),i;const r="string"==typeof e?OB("#"+ET(e)):e;if(!uB(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s="getRootNode"in r&&r.getRootNode()instanceof Xb().ShadowRoot?r.getRootNode():r.ownerDocument.body;r.ownerDocument.defaultView&&s.contains(r)||Sx.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),vx("beforesetup").forEach((e=>{const n=e(r,Dx(t));Ux(n)&&!Array.isArray(n)?t=Dx(t,n):Sx.error("please return an object in beforesetup hooks")}));const o=IS.getComponent("Player");return i=new o(r,t,n),vx("setup").forEach((e=>e(i))),i}if(IT.hooks_=mx,IT.hooks=vx,IT.hook=function(e,t){vx(e,t)},IT.hookOnce=function(e,t){vx(e,[].concat(t).map((t=>{const n=(...i)=>(yx(e,n),t(...i));return n})))},IT.removeHook=yx,!0!==Xb().VIDEOJS_NO_DYNAMIC_STYLE&&lB()){let e=OB(".vjs-styles-defaults");if(!e){e=zB("vjs-styles-defaults");const t=OB("head");t&&t.insertBefore(e,t.firstChild),KB(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}qB(1,IT),IT.VERSION=gx,IT.options=mT.prototype.options_,IT.getPlayers=()=>mT.players,IT.getPlayer=e=>{const t=mT.players;let n;if("string"==typeof e){const i=ET(e),r=t[i];if(r)return r;n=OB("#"+i)}else n=e;if(uB(n)){const{player:e,playerId:i}=n;if(e||t[i])return e||t[i]}},IT.getAllPlayers=()=>Object.keys(mT.players).map((e=>mT.players[e])).filter(Boolean),IT.players=mT.players,IT.getComponent=IS.getComponent,IT.registerComponent=(e,t)=>(y_.isTech(t)&&Sx.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),IS.registerComponent.call(IS,e,t)),IT.getTech=y_.getTech,IT.registerTech=y_.registerTech,IT.use=function(e,t){b_[e]=b_[e]||[],b_[e].push(t)},Object.defineProperty(IT,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(IT.middleware,"TERMINATOR",{value:C_,writeable:!1,enumerable:!0}),IT.browser=oB,IT.obj=Nx,IT.mergeOptions=TT(9,"videojs.mergeOptions","videojs.obj.merge",Dx),IT.defineLazyProperty=TT(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Ox),IT.bind=TT(9,"videojs.bind","native Function.prototype.bind",lS),IT.registerPlugin=kT.registerPlugin,IT.deregisterPlugin=kT.deregisterPlugin,IT.plugin=(e,t)=>(Sx.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),kT.registerPlugin(e,t)),IT.getPlugins=kT.getPlugins,IT.getPlugin=kT.getPlugin,IT.getPluginVersion=kT.getPluginVersion,IT.addLanguage=function(e,t){return e=(""+e).toLowerCase(),IT.options.languages=Dx(IT.options.languages,{[e]:t}),IT.options.languages[e]},IT.log=Sx,IT.createLogger=_x,IT.time=RS,IT.createTimeRange=TT(9,"videojs.createTimeRange","videojs.time.createTimeRanges",DS),IT.createTimeRanges=TT(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",DS),IT.formatTime=TT(9,"videojs.formatTime","videojs.time.formatTime",jS),IT.setFormatTime=TT(9,"videojs.setFormatTime","videojs.time.setFormatTime",NS),IT.resetFormatTime=TT(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",MS),IT.parseUrl=TT(9,"videojs.parseUrl","videojs.url.parseUrl",s_),IT.isCrossOrigin=TT(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",l_),IT.EventTarget=hS,IT.any=sS,IT.on=tS,IT.one=rS,IT.off=nS,IT.trigger=iS,IT.xhr=ew(),IT.TextTrack=d_,IT.AudioTrack=h_,IT.VideoTrack=p_,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((e=>{IT[e]=function(){return Sx.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),RB[e].apply(null,arguments)}})),IT.computedStyle=TT(9,"videojs.computedStyle","videojs.dom.computedStyle",MB),IT.dom=RB,IT.fn=AS,IT.num=ek,IT.str=ES,IT.url=u_,IT.Error={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};class UT{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get(){return t.enabled_()},set(e){t.enabled_(e)}}),t}}class FT extends IT.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const n=this.levels_.length;return t=new UT(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,n=this.length;t<n;t++){const n=this[t];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}FT.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in FT.prototype.allowedEvents_)FT.prototype["on"+e]=null;var DT="4.1.0";const LT=function(e){return function(e){const t=e.qualityLevels,n=new FT,i=function(){n.dispose(),e.qualityLevels=t,e.off("dispose",i)};return e.on("dispose",i),e.qualityLevels=()=>n,e.qualityLevels.VERSION=DT,n}(this,IT.obj.merge({},e))};IT.registerPlugin("qualityLevels",LT),LT.VERSION=DT;const OT=sw,NT=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,MT=e=>IT.log.debug?IT.log.debug.bind(IT,"VHS:",`${e} >`):function(){};function jT(...e){const t=IT.obj||IT;return(t.merge||t.mergeOptions).apply(t,e)}function RT(...e){const t=IT.time||IT;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}const QT=1/30,PT=.1,HT=function(e,t){const n=[];let i;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return RT(n)},qT=function(e,t){return HT(e,(function(e,n){return e-PT<=t&&n+PT>=t}))},VT=function(e,t){return HT(e,(function(e){return e-QT>=t}))},zT=e=>{const t=[];if(!e||!e.length)return"";for(let n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},KT=e=>{const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},GT=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},WT=function(e,t){let n=0;if(!e||!e.length)return n;for(let i=0;i<e.length;i++){const r=e.start(i),s=e.end(i);t>s||(n+=t>r&&t<=s?s-t:s-r)}return n},$T=(e,t)=>{if(!t.preload)return t.duration;let n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},XT=e=>(e.segments||[]).reduce(((e,t,n)=>(t.parts?t.parts.forEach((function(i,r){e.push({duration:i.duration,segmentIndex:n,partIndex:r,part:i,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e)),[]),YT=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},JT=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:n}=e;let i=(n||[]).reduce(((e,t)=>e+("PART"===t.type?1:0)),0);return i+=t&&t.length?t.length:0,i},ZT=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const n=YT(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},eE=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const i=function(e,t){let n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=e.segments[i],void 0!==r.end)return{result:n+r.end,precise:!0};if(n+=$T(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(i.precise)return i.result;const r=function(e,t){let n,i=0,r=t-e.mediaSequence;for(;r<e.segments.length;r++){if(n=e.segments[r],void 0!==n.start)return{result:n.start-i,precise:!0};if(i+=$T(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:i.result+n},tE=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return Xb()[1/0]}return eE(e,t,n)},nE=function({defaultDuration:e,durationList:t,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let t=n;t<Math.min(0,i);t++)r+=e;n=0}for(let e=n;e<i;e++)r+=t[e].duration;return r},iE=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return tE(e);if(null===t)return null;t=t||0;let r=eE(e,e.mediaSequence+e.segments.length,t);return n&&(r-=i="number"==typeof i?i:ZT(null,e)),Math.max(0,r)},rE=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},sE=function(e){return e.excludeUntil&&e.excludeUntil===1/0},oE=function(e){const t=rE(e);return!e.disabled&&!t},aE=function(e,t){return t.attributes&&t.attributes[e]},lE=(e,t)=>{if(1===e.playlists.length)return!0;const n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((e=>!!oE(e)&&(e.attributes.BANDWIDTH||0)<n)).length},uE=(e,t)=>!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri)))),cE=function(e,t){const n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let i=!1;for(const e in n){for(const r in n[e])if(i=t(n[e][r]),i)break;if(i)break}return!!i},AE=e=>{if(!e||!e.playlists||!e.playlists.length){return cE(e,(e=>e.playlists&&e.playlists.length||e.uri))}for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;if(i&&i.split(",").every((e=>Cw(e))))continue;if(!cE(e,(e=>uE(n,e))))return!1}return!0};var dE={liveEdgeDelay:ZT,duration:tE,seekable:function(e,t,n){const i=t||0;let r=iE(e,t,!0,n);return null===r?RT():(r<i&&(r=i),RT(i,r))},getMediaInfoForTime:function({playlist:e,currentTime:t,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:s}){let o=t-r;const a=XT(e);let l=0;for(let e=0;e<a.length;e++){const t=a[e];if(n===t.segmentIndex&&("number"!=typeof i||"number"!=typeof t.partIndex||i===t.partIndex)){l=e;break}}if(o<0){if(l>0)for(let t=l-1;t>=0;t--){const n=a[t];if(o+=n.duration,s){if(o<0)continue}else if(o+QT<=0)continue;return{partIndex:n.partIndex,segmentIndex:n.segmentIndex,startTime:r-nE({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:t})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t}}if(l<0){for(let n=l;n<0;n++)if(o-=e.targetDuration,o<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t};l=0}for(let t=l;t<a.length;t++){const n=a[t];o-=n.duration;const i=n.duration>QT;if(!(0===o)&&!(i&&o+QT>=0)||t===a.length-1){if(s){if(o>0)continue}else if(o-QT>=0)continue;return{partIndex:n.partIndex,segmentIndex:n.segmentIndex,startTime:r+nE({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:t})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:t}},isEnabled:oE,isDisabled:function(e){return e.disabled},isExcluded:rE,isIncompatible:sE,playlistEnd:iE,isAes:function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:aE,estimateSegmentRequestTime:function(e,t,n,i=0){if(!aE("BANDWIDTH",n))return NaN;return(e*n.attributes.BANDWIDTH-8*i)/t},isLowestEnabledRendition:lE,isAudioOnly:AE,playlistMatch:uE,segmentDurationWithParts:$T};const{log:hE}=IT,pE=(e,t)=>`${e}-${t}`,fE=(e,t,n)=>`placeholder-uri-${e}-${t}-${n}`,gE=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((n=>{if(e.mediaGroups[n])for(const i in e.mediaGroups[n])for(const r in e.mediaGroups[n][i]){const s=e.mediaGroups[n][i][r];t(s,n,i,r)}}))},mE=({playlist:e,uri:t,id:n})=>{e.id=n,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},vE=(e,t,n=fE)=>{e.uri=t;for(let t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){const n=`placeholder-uri-${t}`;e.playlists[t].uri=n}const i=AE(e);gE(e,((t,r,s,o)=>{if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===r&&!t.uri)for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t];if(n.attributes&&n.attributes.AUDIO&&n.attributes.AUDIO===s)return}t.playlists=[iw({},t)]}t.playlists.forEach((function(t,i){const a=n(r,s,o,t),l=pE(i,a);t.uri?t.resolvedUri=t.resolvedUri||OT(e.uri,t.uri):(t.uri=0===i?a:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),(e=>{let t=e.playlists.length;for(;t--;){const n=e.playlists[t];mE({playlist:n,id:pE(t,n.uri)}),n.resolvedUri=OT(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||hE.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(e),(e=>{gE(e,(t=>{t.uri&&(t.resolvedUri=OT(e.uri,t.uri))}))})(e)};class yE{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(null!==this.offset_)return;if(!e.length)return;const[t]=e;void 0!==t.programDateTime&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,n=t.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce(((e,t)=>(e.set(t.id,t),e)),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(null===this.offset_)return[];const e={},t=[];this.pendingDateRanges_.forEach(((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),t.push(n),n.class))if(e[n.class]){const t=e[n.class].push(n);n.classListIndex=t-1}else e[n.class]=[n],n.classListIndex=0}));for(const n of t){const t=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&t[n.classListIndex+1]?n.endTime=t[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach(((t,n)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(n)}))}}const bE=({requestType:e,request:t,error:n,parseFailure:i})=>{const r=t.status<200||t.status>299,s=t.status>=400&&t.status<=499,o={uri:t.uri,requestType:e},a=r&&!s||i;if(n&&s)o.error=iw({},n),o.errorType=IT.Error.NetworkRequestFailed;else if(t.aborted)o.errorType=IT.Error.NetworkRequestAborted;else if(t.timedout)o.erroType=IT.Error.NetworkRequestTimeout;else if(a){const e=i?IT.Error.NetworkBodyParserFailed:IT.Error.NetworkBadStatus;o.errorType=e,o.status=t.status,o.headers=t.headers}return o},wE=MT("CodecUtils"),CE=function(e){const t=e.attributes||{};if(t.CODECS)return ww(t.CODECS)},xE=(e,t)=>{const n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},BE=function(e){const t={};return e.forEach((({mediaType:e,type:n,details:i})=>{t[e]=t[e]||[],t[e].push(bw(`${n}${i}`))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return wE(`multiple ${e} codecs found as attributes: ${t[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),void(t[e]=null);t[e]=t[e][0]})),t},SE=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},_E=function(e,t){const n=t.attributes||{},i=BE(CE(t)||[]);if(xE(e,t)&&!i.audio&&!((e,t)=>{if(!xE(e,t))return!0;const n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(const e in i)if(!i[e].uri&&!i[e].playlists)return!0;return!1})(e,t)){const t=BE(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return ww(r.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);t.audio&&(i.audio=t.audio)}return i},{EventTarget:kE}=IT,TE=(e,t)=>{if(!e)return t;const n=jT(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(let i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=jT(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},EE=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=OT(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=OT(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=OT(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=OT(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((e=>{e.resolvedUri||(e.resolvedUri=OT(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((e=>{e.resolvedUri||(e.resolvedUri=OT(t,e.uri))}))},IE=function(e){const t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(let e=0;e<n.preloadHints.length;e++)if("MAP"===n.preloadHints[e].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},UE=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,FE=(e,t,n=UE)=>{const i=jT(e,{}),r=i.playlists[t.id];if(!r)return null;if(n(r,t))return null;t.segments=IE(t);const s=jT(r,t);if(s.preloadSegment&&!t.preloadSegment&&delete s.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}s.segments=((e,t,n)=>{const i=e.slice(),r=t.slice();n=n||0;const s=[];let o;for(let e=0;e<r.length;e++){const t=i[e+n],a=r[e];t?(o=t.map||o,s.push(TE(t,a))):(o&&!a.map&&(a.map=o),s.push(a))}return s})(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}s.segments.forEach((e=>{EE(e,s.resolvedUri)}));for(let e=0;e<i.playlists.length;e++)i.playlists[e].id===t.id&&(i.playlists[e]=s);return i.playlists[t.id]=s,i.playlists[t.uri]=s,gE(e,((e,n,i,r)=>{if(e.playlists)for(let n=0;n<e.playlists.length;n++)t.id===e.playlists[n].id&&(e.playlists[n]=s)})),i},DE=(e,t)=>{const n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],s=r&&r.duration||i&&i.duration;return t&&s?1e3*s:500*(e.partTargetDuration||e.targetDuration||10)},LE=(e,t,n)=>{if(!e)return;const i=[];return e.forEach((e=>{if(!e.attributes)return;const{BANDWIDTH:t,RESOLUTION:n,CODECS:r}=e.attributes;i.push({id:e.id,bandwidth:t,resolution:n,codecs:r})})),{type:t,isLive:n,renditions:i}};class OE extends kE{constructor(e,t,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=MT("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=t,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const r=t.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new yE,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();t.length&&this.addDateRangesToTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;const e=this.media();let t=OT(this.main.uri,e.uri);this.llhls&&(t=((e,t)=>{if(t.endList||!t.serverControl)return e;const n={};if(t.serverControl.canBlockReload){const{preloadSegment:e}=t;let i=t.mediaSequence+t.segments.length;if(e){const r=e.parts||[],s=JT(t)-1;s>-1&&s!==r.length-1&&(n._HLS_part=s),(s>-1||r.length)&&i--}n._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const t=new(Xb().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&t.searchParams.set(e,n[e])})),e=t.toString()}return e})(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},((e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}))}playlistRequestError(e,t,n){const{uri:i,id:r}=t;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[r],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:bE({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{const n=(({onwarn:e,oninfo:t,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:s})=>{const o=new gw;e&&o.on("warn",e),t&&o.on("info",t),i.forEach((e=>o.addParser(e))),r.forEach((e=>o.addTagMapper(e))),o.push(n),o.end();const a=o.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){a.hasOwnProperty(e)&&delete a[e]})),a.segments&&a.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!a.targetDuration){let t=10;a.segments&&a.segments.length&&(t=a.segments.reduce(((e,t)=>Math.max(e,t.duration)),0)),e&&e({message:`manifest has no targetDuration defaulting to ${t}`}),a.targetDuration=t}const l=YT(a);if(l.length&&!a.partTargetDuration){const t=l.reduce(((e,t)=>Math.max(e,t.duration)),0);e&&(e({message:`manifest has no partTargetDuration defaulting to ${t}`}),hE.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=t}return a})({onwarn:({message:t})=>this.logger_(`m3u8-parser warn for ${e}: ${t}`),oninfo:({message:t})=>this.logger_(`m3u8-parser info for ${e}: ${t}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return n.playlists&&n.playlists.length?(this.excludeAudioOnlyVariants(n.playlists),n):n}catch(e){this.error=e,this.error.metadata={errorType:IT.Error.StreamingHlsPlaylistParserError,error:e}}}excludeAudioOnlyVariants(e){const t=e=>{const t=e.attributes||{},{width:n,height:i}=t.RESOLUTION||{};if(n&&i)return!0;const r=CE(e)||[],s=BE(r);return Boolean(s.video)};e.some(t)&&e.forEach((e=>{t(e)||(e.excludeUntil=1/0)}))}haveMetadata({playlistString:e,playlistObject:t,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const r={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:r});const s=t||this.parseManifest_({url:n,manifestString:e});s.lastRequest=Date.now(),mE({playlist:s,uri:n,id:i});const o=FE(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(DE(this.media(),!!o)),r.parsedPlaylist=LE(this.main.playlists,r.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:r}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),Xb().clearTimeout(this.mediaUpdateTimeout),Xb().clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new yE,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(Xb().clearTimeout(this.finalRenditionTimeout),t){const t=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=Xb().setTimeout(this.media.bind(this,e,!1),t))}const n=this.state,i=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(DE(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const s={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:s}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},((t,i)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=NT(e.resolvedUri,i),t)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:s}),this.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")}}))}pause(){this.mediaUpdateTimeout&&(Xb().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(Xb().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Xb().setTimeout((()=>{this.mediaUpdateTimeout=null,this.load()}),e)}else this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(Xb().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=Xb().setTimeout((()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)}),e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=Xb().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((()=>{this.setupInitialPlaylist(this.src)}),0);const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},((t,n)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:bE({requestType:n.requestType,request:n,error:t})},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=NT(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=LE(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)}))}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,vE(this.main,this.srcUri()),e.playlists.forEach((e=>{e.segments=IE(e),e.segments.forEach((t=>{EE(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const t=this.srcUri()||Xb().location.href;this.main=((e,t)=>{const n=pE(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Xb().location.href,resolvedUri:Xb().location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i})(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){const n=this.main,i=e.ID;let r=n.playlists.length;for(;r--;){const s=n.playlists[r];if(s.attributes["PATHWAY-ID"]===i){const o=s.resolvedUri,a=s.id;if(t){const t=this.createCloneURI_(s.resolvedUri,e),o=pE(i,t),a=this.createCloneAttributes_(i,s.attributes),l=this.createClonePlaylist_(s,o,e,a);n.playlists[r]=l,n.playlists[o]=l,n.playlists[t]=l}else n.playlists.splice(r,1);delete n.playlists[a],delete n.playlists[o]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((e=>{if(n.mediaGroups[e]&&n.mediaGroups[e][i])for(const t in n.mediaGroups[e])if(t===i){for(const i in n.mediaGroups[e][t]){n.mediaGroups[e][t][i].playlists.forEach(((e,t)=>{const i=n.playlists[e.id],r=i.id,s=i.resolvedUri;delete n.playlists[r],delete n.playlists[s]}))}delete n.mediaGroups[e][t]}})),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){const n=this.main,i=n.playlists.length,r=this.createCloneURI_(t.resolvedUri,e),s=pE(e.ID,r),o=this.createCloneAttributes_(e.ID,t.attributes),a=this.createClonePlaylist_(t,s,e,o);n.playlists[i]=a,n.playlists[s]=a,n.playlists[r]=a,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const t=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((r=>{if(i.mediaGroups[r]&&!i.mediaGroups[r][t])for(const s in i.mediaGroups[r])if(s===n){i.mediaGroups[r][t]={};for(const n in i.mediaGroups[r][s]){const o=i.mediaGroups[r][s][n];i.mediaGroups[r][t][n]=iw({},o);const a=i.mediaGroups[r][t][n],l=this.createCloneURI_(o.resolvedUri,e);a.resolvedUri=l,a.uri=l,a.playlists=[],o.playlists.forEach(((s,o)=>{const l=i.playlists[s.id],u=fE(r,t,n),c=pE(t,u);if(l&&!i.playlists[c]){const t=this.createClonePlaylist_(l,c,e),n=t.resolvedUri;i.playlists[c]=t,i.playlists[n]=t}a.playlists[o]=this.createClonePlaylist_(s,c,e)}))}}}))}createClonePlaylist_(e,t,n,i){const r=this.createCloneURI_(e.resolvedUri,n),s={resolvedUri:r,uri:r,id:t};return e.segments&&(s.segments=[]),i&&(s.attributes=i),jT(e,s)}createCloneURI_(e,t){const n=new URL(e);n.hostname=t["URI-REPLACEMENT"].HOST;const i=t["URI-REPLACEMENT"].PARAMS;for(const e of Object.keys(i))n.searchParams.set(e,i[e]);return n.href}createCloneAttributes_(e,t){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((i=>{t[i]&&(n[i]=e)})),n}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&t.add(i.toLowerCase())}return t}}}const NE=function(e,t,n,i){const r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},ME=function(){const e=function e(t,n){t=jT({timeout:45e3},t);const i=e.beforeRequest||IT.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||IT.Vhs.xhr._requestCallbackSet||new Set,s=e._responseCallbackSet||IT.Vhs.xhr._responseCallbackSet;i&&"function"==typeof i&&(IT.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(i));const o=!0===IT.Vhs.xhr.original?IT.xhr:IT.Vhs.xhr,a=((e,t)=>{if(!e||!e.size)return;let n=t;return e.forEach((e=>{n=e(n)})),n})(r,t);r.delete(i);const l=o(a||t,(function(e,t){return((e,t,n,i)=>{e&&e.size&&e.forEach((e=>{e(t,n,i)}))})(s,l,e,t),NE(l,e,t,n)})),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=t.uri,l.requestType=t.requestType,l.requestTime=Date.now(),l};return e.original=!0,e},jE=function(e){const t={};return e.byterange&&(t.Range=function(e){let t;const n=e.offset;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?Xb().BigInt(e.offset)+Xb().BigInt(e.length)-Xb().BigInt(1):e.offset+e.length-1,"bytes="+n+"-"+t}(e.byterange)),t},RE=function(e,t){return e.start(t)+"-"+e.end(t)},QE=function(e,t){const n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},PE=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},HE=function(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];Iw(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},qE=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},VE=function(e){return e.resolvedUri},zE=e=>{const t=Array.prototype.slice.call(e),n=16;let i,r,s="";for(let e=0;e<t.length/n;e++)i=t.slice(e*n,e*n+n).map(QE).join(""),r=t.slice(e*n,e*n+n).map(PE).join(""),s+=i+" "+r+"\n";return s};var KE=Object.freeze({__proto__:null,createTransferableMessage:HE,initSegmentId:qE,segmentKeyId:VE,hexDump:zE,tagDump:({bytes:e})=>zE(e),textRanges:e=>{let t,n="";for(t=0;t<e.length;t++)n+=RE(e,t)+" ";return n}});const GE=({playlist:e,time:t,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===t)return n({message:"getProgramTime: playlist and time must be provided"});const i=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let n,i=0;for(let r=0;r<t.segments.length&&(n=t.segments[r],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(e<=i));r++);const r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+.25*r.duration)return null;n=r}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}})(t,e);if(!i)return n({message:"valid programTime was not found"});if("estimate"===i.type)return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:t},s=((e,t)=>{if(!t.dateTimeObject)return null;const n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)})(t,i.segment);return s&&(r.programDateTime=s.toISOString()),n(null,r)},WE=({programTime:e,playlist:t,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:s,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!t||!i)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!s.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!(e=>{if(!e.segments||0===e.segments.length)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0})(t))return o({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const a=((e,t)=>{let n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;let i=t.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let e=0;e<t.segments.length-1&&(i=t.segments[e],!(n<new Date(t.segments[e+1].dateTimeObject)));e++);const r=t.segments[t.segments.length-1],s=r.dateTimeObject,o=r.videoTimingInfo?(a=r.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:r.duration+.25*r.duration;var a;return n>new Date(s.getTime()+1e3*o)?null:(n>new Date(s)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:dE.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})})(e,t);if(!a)return o({message:`${e} was not found in the stream`});const l=a.segment,u=((e,t)=>{let n,i;try{n=new Date(e),i=new Date(t)}catch(e){}const r=n.getTime();return(i.getTime()-r)/1e3})(l.dateTimeObject,e);if("estimate"===a.type)return 0===n?o({message:`${e} is not buffered yet. Try again`}):(i(a.estimatedStart+u),void s.one("seeked",(()=>{WE({programTime:e,playlist:t,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:s,callback:o})})));const c=l.start+u;s.one("seeked",(()=>o(null,s.currentTime()))),r&&s.pause(),i(c)},$E=(e,t)=>{if(4===e.readyState)return t()},XE=(e,t,n,i)=>{let r,s=[],o=!1;const a=function(e,t,i,r){return t.abort(),o=!0,n(e,t,i,r)},l=function(e,t){if(o)return;if(e)return e.metadata=bE({requestType:i,request:t,error:e}),a(e,t,"",s);const n=t.responseText.substring(s&&s.byteLength||0,t.responseText.length);if(s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return Uw(t[0]);var i=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),r=new Uint8Array(i),s=0;return t.forEach((function(e){e=Uw(e),r.set(e,s),s+=e.byteLength})),r}(s,Nw(n,!0)),r=r||$C(s),s.length<10||r&&s.length<r+2)return $E(t,(()=>a(e,t,"",s)));const l=px(s);return"ts"===l&&s.length<188||!l&&s.length<376?$E(t,(()=>a(e,t,"",s))):a(null,t,l,s)},u={uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function({total:t,loaded:n}){return NE(e,null,{statusCode:e.status},l)}))}},c=t(u,(function(e,t){return NE(c,e,t,l)}));return c},{EventTarget:YE}=IT,JE=function(e,t){if(!UE(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let n=0;n<e.segments.length;n++){const i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const s=i.byterange,o=r.byterange;if(s&&!o||!s&&o)return!1;if(s.offset!==o.offset||s.length!==o.length)return!1}return!0},ZE=(e,t,n,i)=>`placeholder-uri-${e}-${t}-${i.attributes.NAME||n}`,eI=(e,t,n)=>{let i=!0,r=jT(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let e=0;e<t.playlists.length;e++){const s=t.playlists[e];if(s.sidx){const e=hC(s.sidx);n&&n[e]&&n[e].sidx&&oC(s,n[e].sidx,s.sidx.resolvedUri)}const o=FE(r,s,JE);o&&(r=o,i=!1)}return gE(t,((e,t,n,s)=>{if(e.playlists&&e.playlists.length){const o=e.playlists[0].id,a=FE(r,e.playlists[0],JE);a&&(r=a,s in r.mediaGroups[t][n]||(r.mediaGroups[t][n][s]=e),r.mediaGroups[t][n][s].playlists[0]=r.playlists[o],i=!1)}})),((e,t)=>{gE(e,((n,i,r,s)=>{t.mediaGroups[i][r]&&s in t.mediaGroups[i][r]||delete e.mediaGroups[i][r][s]}))})(r,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r},tI=(e,t)=>(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,nI=(e,t)=>{const n={};for(const i in e){const r=e[i].sidx;if(r){const e=hC(r);if(!t[e])break;const i=t[e].sidxInfo;tI(i,r)&&(n[e]=t[e])}}return n};class iI extends YE{constructor(e,t,n={},i){super(),this.isPaused_=!0,this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:r=!1}=n;if(this.vhs_=t,this.withCredentials=r,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",(()=>{this.refreshXml_()})),this.on("mediaupdatetimeout",(()=>{this.refreshMedia_(this.media().id)})),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=MT("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)}addSidxSegments_(e,t,n){const i=e.sidx&&hC(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i])return Xb().clearTimeout(this.mediaRequest_),void(this.mediaRequest_=Xb().setTimeout((()=>n(!1)),0));const r=NT(e.sidx.resolvedUri),s=(r,s)=>{if(this.requestErrored_(r,s,t))return;const o=this.mainPlaylistLoader_.sidxMapping_,{requestType:a}=s;let l;try{l=GC()(Uw(s.response).subarray(8))}catch(e){return e.metadata=bE({requestType:a,request:s,parseFailure:!0}),void this.requestErrored_(e,s,t)}return o[i]={sidxInfo:e.sidx,sidx:l},oC(e,l,e.sidx.resolvedUri),n(!0)};this.request=XE(r,this.vhs_.xhr,((t,n,i,o)=>{if(t)return s(t,n);if(!i||"mp4"!==i){const t=i||"unknown";return s({status:n.status,message:`Unsupported ${t} container type for sidx segment at URL: ${r}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},n)}const{offset:a,length:l}=e.sidx.byterange;if(o.length>=l+a)return s(t,{response:o.subarray(a,a+l),status:n.status,uri:n.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",requestType:"dash-sidx",headers:jE({byterange:e.sidx.byterange})},s)}),"dash-sidx")}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Xb().clearTimeout(this.minimumUpdatePeriodTimeout_),Xb().clearTimeout(this.mediaRequest_),Xb().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if("string"==typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,(n=>{this.haveMetadata({startingState:t,playlist:e})})))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,Xb().clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MAIN_MANIFEST"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Xb().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(Xb().clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){this.isPaused_=!1,Xb().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const e=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Xb().setTimeout((()=>this.load()),e)}else this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){if(this.started=!0,!this.isMain_)return Xb().clearTimeout(this.mediaRequest_),void(this.mediaRequest_=Xb().setTimeout((()=>this.haveMain_()),0));this.requestMain_(((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])}))}requestMain_(e){const t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},((n,i)=>{if(n){const{requestType:e}=i;n.metadata=bE({requestType:e,request:i,error:n})}if(this.requestErrored_(n,i))return void("HAVE_NOTHING"===this.state&&(this.started=!1));this.trigger({type:"manifestrequestcomplete",metadata:t});const r=i.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=NT(this.mainPlaylistLoader_.srcUrl,i),r?(this.handleMain_(),void this.syncClientServerClock_((()=>e(i,r)))):e(i,r)}))}syncClientServerClock_(e){const t=VC(this.mainPlaylistLoader_.mainXml_);return null===t?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===t.method?(this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:OT(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},((n,i)=>{if(!this.request)return;if(n){const{requestType:t}=i;return this.error.metadata=bE({requestType:t,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let r;r="HEAD"===t.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):this.mainLoaded_:Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()})))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){Xb().clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};let n;this.trigger({type:"manifestparsestart",metadata:t});try{n=(({mainXml:e,srcUrl:t,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const s=qC(e,{manifestUri:t,clientOffset:n,sidxMapping:i,previousManifest:r});return vE(s,t,ZE),s})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(e){this.error=e,this.error.metadata={errorType:IT.Error.StreamingDashManifestParserError,error:e},this.trigger("error")}e&&(n=eI(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:e,endList:i}=n,r=[];n.playlists.forEach((e=>{r.push({id:e.id,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS})}));const s={duration:e,isLive:!i,renditions:r};t.parsedManifest=s,this.trigger({type:"manifestparsecomplete",metadata:t})}return Boolean(n)}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Xb().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`):this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=Xb().setTimeout((()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)}refreshXml_(){this.requestMain_(((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((e,t)=>{let n=nI(e.playlists,t);return gE(e,((e,i,r,s)=>{if(e.playlists&&e.playlists.length){const i=e.playlists;n=jT(n,nI(i,t))}})),n})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,(e=>{this.refreshMedia_(this.media().id)})))}))}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==t[e];if(n?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const e=()=>{this.media().endList||(this.mediaUpdateTimeout=Xb().setTimeout((()=>{this.trigger("mediaupdatetimeout"),e()}),DE(this.media(),Boolean(n))))};e()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const e=this.mainPlaylistLoader_.main.eventStream.map((e=>({cueTime:e.start,frames:[{data:e.messageData}]})));this.addMetadataToTextTrack("EventStream",e,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&t.add(i.replace(/-/g,"").toLowerCase())}return t}}}var rI={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const sI=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},oI=function(e){return function(){const t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(t){const n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}}(e),n=sI(new Worker(t));n.objURL=t;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},aI=function(e){return`var browserWorkerPolyFill = ${sI.toString()};\nbrowserWorkerPolyFill(self);\n`+e},lI=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},uI=aI(lI((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},t=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,s;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(s=[],i=arguments.length,i=1;i<arguments.length;++i)s.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,s)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)};var i,r,s,o,a,l,u,c,A,d,h,p,f,g,m,v,y,b,w,C,x,B,S,_,k,T,E,I,U,F,D,L,O,N,M,j,R,Q,P,H,q=t,V=Math.pow(2,32),z={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*V+n.getUint32(4)},MAX_UINT32:V},K=z.MAX_UINT32;!function(){var e;if(B={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in B)B.hasOwnProperty(e)&&(B[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),k=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),_=new Uint8Array([0,0,0,1]),T=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:T,audio:E},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),F=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),O=L,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),M=L,U=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),i=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},r=function(){return i(B.dinf,i(B.dref,D))},s=function(e){return i(B.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},m=function(e){return i(B.hdlr,I[e])},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),i(B.mdhd,t)},f=function(e){return i(B.mdia,g(e),m(e.type),l(e))},a=function(e){return i(B.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return i(B.minf,"video"===e.type?i(B.vmhd,U):i(B.smhd,F),r(),y(e))},u=function(e,t){for(var n=[],r=t.length;r--;)n[r]=w(t[r]);return i.apply(null,[B.moof,a(e)].concat(n))},c=function(e){for(var t=e.length,n=[];t--;)n[t]=h(e[t]);return i.apply(null,[B.moov,d(4294967295)].concat(n).concat(A(e)))},A=function(e){for(var t=e.length,n=[];t--;)n[t]=C(e[t]);return i.apply(null,[B.mvex].concat(n))},d=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(B.mvhd,t)},v=function(e){var t,n,r=e.samples||[],s=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)t=r[n].flags,s[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return i(B.sdtp,s)},y=function(e){return i(B.stbl,b(e),i(B.stts,M),i(B.stsc,O),i(B.stsz,N),i(B.stco,L))},b=function(e){return i(B.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?j(e):R(e))},j=function(e){var t,n,r=e.sps||[],s=e.pps||[],o=[],a=[];for(t=0;t<r.length;t++)o.push((65280&r[t].byteLength)>>>8),o.push(255&r[t].byteLength),o=o.concat(Array.prototype.slice.call(r[t]));for(t=0;t<s.length;t++)a.push((65280&s[t].byteLength)>>>8),a.push(255&s[t].byteLength),a=a.concat(Array.prototype.slice.call(s[t]));if(n=[B.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(B.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],o,[s.length],a))),i(B.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];n.push(i(B.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return i.apply(null,n)},R=function(e){return i(B.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),s(e))},p=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return i(B.tkhd,t)},w=function(e){var t,n,r,s,o,a;return t=i(B.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/K),a=Math.floor(e.baseMediaDecodeTime%K),n=i(B.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),"audio"===e.type?(r=x(e,92),i(B.traf,t,n,r)):(s=v(e),r=x(e,s.length+92),i(B.traf,t,n,r,s))},h=function(e){return e.duration=e.duration||4294967295,i(B.trak,p(e),f(e))},C=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),i(B.trex,t)},H=function(e,t){var n=0,i=0,r=0,s=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(s=8)),[0,0,n|i|r|s,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},P=function(e,t){var n,r,s,o,a,l;for(t+=20+16*(o=e.samples||[]).length,s=H(o,t),(r=new Uint8Array(s.length+16*o.length)).set(s),n=s.length,l=0;l<o.length;l++)a=o[l],r[n++]=(4278190080&a.duration)>>>24,r[n++]=(16711680&a.duration)>>>16,r[n++]=(65280&a.duration)>>>8,r[n++]=255&a.duration,r[n++]=(4278190080&a.size)>>>24,r[n++]=(16711680&a.size)>>>16,r[n++]=(65280&a.size)>>>8,r[n++]=255&a.size,r[n++]=a.flags.isLeading<<2|a.flags.dependsOn,r[n++]=a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,r[n++]=61440&a.flags.degradationPriority,r[n++]=15&a.flags.degradationPriority,r[n++]=(4278190080&a.compositionTimeOffset)>>>24,r[n++]=(16711680&a.compositionTimeOffset)>>>16,r[n++]=(65280&a.compositionTimeOffset)>>>8,r[n++]=255&a.compositionTimeOffset;return i(B.trun,r)},Q=function(e,t){var n,r,s,o,a,l;for(t+=20+8*(o=e.samples||[]).length,s=H(o,t),(n=new Uint8Array(s.length+8*o.length)).set(s),r=s.length,l=0;l<o.length;l++)a=o[l],n[r++]=(4278190080&a.duration)>>>24,n[r++]=(16711680&a.duration)>>>16,n[r++]=(65280&a.duration)>>>8,n[r++]=255&a.duration,n[r++]=(4278190080&a.size)>>>24,n[r++]=(16711680&a.size)>>>16,n[r++]=(65280&a.size)>>>8,n[r++]=255&a.size;return i(B.trun,n)},x=function(e,t){return"audio"===e.type?Q(e,t):P(e,t)};var G,W,$,X,Y,J,Z,ee,te={ftyp:o=function(){return i(B.ftyp,S,_,S,k)},mdat:function(e){return i(B.mdat,e)},moof:u,moov:c,initSegment:function(e){var t,n=o(),i=c(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}},ne=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ie={groupNalsIntoFrames:function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},groupFramesIntoGops:function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var n,i,r,s,o,a=t||0,l=[];for(n=0;n<e.length;n++)for(s=e[n],i=0;i<s.length;i++)o=s[i],a+=(r=ne(o,a)).size,l.push(r);return l},concatenateNalData:function(e){var t,n,i,r,s,o,a=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),A=new DataView(c.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(s=r[n],i=0;i<s.length;i++)o=s[i],A.setUint32(a,o.data.byteLength),a+=4,c.set(o.data,a),a+=o.data.byteLength;return c},generateSampleTableForFrame:function(e,t){var n,i=[];return n=ne(e,t||0),i.push(n),i},concatenateNalDataForFrame:function(e){var t,n,i=0,r=e.byteLength,s=e.length,o=new Uint8Array(r+4*s),a=new DataView(o.buffer);for(t=0;t<e.length;t++)n=e[t],a.setUint32(i,n.data.byteLength),i+=4,o.set(n.data,i),i+=n.data.byteLength;return o}},re=[33,16,5,32,164,27],se=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],oe=function(e){for(var t=[];e--;)t.push(0);return t},ae=9e4;J=function(e,t){return W(Y(e,t))},Z=function(e,t){return $(X(e),t)},ee=function(e,t,n){return X(n?e:e-t)};var le={ONE_SECOND_IN_TS:ae,secondsToVideoTs:W=function(e){return e*ae},secondsToAudioTs:$=function(e,t){return e*t},videoTsToSeconds:X=function(e){return e/ae},audioTsToSeconds:Y=function(e,t){return e/t},audioTsToVideoTs:J,videoTsToAudioTs:Z,metadataTsToSeconds:ee},ue=function(){if(!G){var e={96e3:[re,[227,64],oe(154),[56]],88200:[re,[231],oe(170),[56]],64e3:[re,[248,192],oe(240),[56]],48e3:[re,[255,192],oe(268),[55,148,128],oe(54),[112]],44100:[re,[255,192],oe(268),[55,163,128],oe(84),[112]],32e3:[re,[255,192],oe(268),[55,234],oe(226),[112]],24e3:[re,[255,192],oe(268),[55,255,128],oe(268),[111,112],oe(126),[224]],16e3:[re,[255,192],oe(268),[55,255,128],oe(268),[111,255],oe(269),[223,108],oe(195),[1,192]],12e3:[se,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,253,128],oe(259),[56]],11025:[se,oe(268),[3,127,248],oe(268),[6,255,240],oe(268),[13,255,224],oe(268),[27,255,192],oe(268),[55,175,128],oe(108),[112]],8e3:[se,oe(268),[3,121,16],oe(47),[7]]};t=e,G=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return G},ce=le,Ae={prefixWithSilence:function(e,t,n,i){var r,s,o,a,l,u=0,c=0,A=0;if(t.length&&(r=ce.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(ce.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&i&&(u=r-Math.max(n,i),A=(c=Math.floor(u/s))*s),!(c<1||A>ce.ONE_SECOND_IN_TS/2))){for((o=ue()[e.samplerate])||(o=t[0].data),a=0;a<c;a++)l=t[0],t.splice(0,0,{data:o,dts:l.dts-s,pts:l.pts-s});return e.baseMediaDecodeTime-=Math.floor(ce.videoTsToAudioTs(A,e.samplerate)),A}},trimAdtsFramesByEarliestDts:function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},concatenateFrameData:function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}},de=le.ONE_SECOND_IN_TS,he={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/de,n=Math.floor(n)),n},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},pe={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,i=0,r=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,i,r,s,o=[];if(!(64&t[0]))return o;for(i=31&t[0],n=0;n<i;n++)s={type:3&t[(r=3*n)+2],pts:e},4&t[r+2]&&(s.ccData=t[r+3]<<8|t[r+4],o.push(s));return o},discardEmulationPreventionBytes:function(e){for(var t,n,i=e.byteLength,r=[],s=1;s<i-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(s=0;s<t;o++,s++)o===r[0]&&(o++,r.shift()),n[s]=e[o];return n},USER_DATA_REGISTERED_ITU_T_T35:4},fe=q,ge=pe,me=function(e){e=e||{},me.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new ke(0,0),new ke(0,1),new ke(1,0),new ke(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ce({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};me.prototype=new fe,me.prototype.push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=ge.parseSei(e.escapedRBSP)).payload&&t.payloadType===ge.USER_DATA_REGISTERED_ITU_T_T35&&(n=ge.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=ge.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},me.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},me.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},me.prototype.flush=function(){return this.flushStream("flush")},me.prototype.partialFlush=function(){return this.flushStream("partialFlush")},me.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},me.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},me.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},me.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},me.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},me.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ve={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ye=function(e){return 32<=e&&e<=127||160<=e&&e<=255},be=function(e){this.windowNum=e,this.reset()};be.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},be.prototype.getText=function(){return this.rows.join("\n")},be.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},be.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},be.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},be.prototype.addText=function(e){this.rows[this.rowIdx]+=e},be.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var we=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new be(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};we.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new be(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},we.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},we.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Ce=function(e){e=e||{},Ce.prototype.init.call(this);var t,n=this,i=e.captionServices||{},r={};Object.keys(i).forEach((e=>{t=i[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)})),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(n.new708Packet(),n.add708Bytes(e)):(null===n.current708Packet&&n.new708Packet(),n.add708Bytes(e))}};Ce.prototype=new fe,Ce.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ce.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,i=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(i)},Ce.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,i=null,r=0,s=t[r++];for(e.seq=s>>6,e.sizeCode=63&s;r<t.length;r++)i=31&(s=t[r++]),7===(n=s>>5)&&i>0&&(n=s=t[r++]),this.pushServiceBlock(n,r,i),i>0&&(r+=i-1)},Ce.prototype.pushServiceBlock=function(e,t,n){var i,r=t,s=this.current708Packet.data,o=this.services[e];for(o||(o=this.initService(e,r));r<t+n&&r<s.length;r++)i=s[r],ye(i)?r=this.handleText(r,o):24===i?r=this.multiByteCharacter(r,o):16===i?r=this.extendedCommands(r,o):128<=i&&i<=135?r=this.setCurrentWindow(r,o):152<=i&&i<=159?r=this.defineWindow(r,o):136===i?r=this.clearWindows(r,o):140===i?r=this.deleteWindows(r,o):137===i?r=this.displayWindows(r,o):138===i?r=this.hideWindows(r,o):139===i?r=this.toggleWindows(r,o):151===i?r=this.setWindowAttributes(r,o):144===i?r=this.setPenAttributes(r,o):145===i?r=this.setPenColor(r,o):146===i?r=this.setPenLocation(r,o):143===i?o=this.reset(r,o):8===i?o.currentWindow.backspace():12===i?o.currentWindow.clearText():13===i?o.currentWindow.pendingNewLine=!0:14===i?o.currentWindow.clearText():141===i&&r++},Ce.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return ye(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},Ce.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Ce.prototype.initService=function(e,t){var n,i,r=this;return(n="SERVICE"+e)in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new we(e,i,r),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},Ce.prototype.handleText=function(e,t,n){var i,r,s,o,a=n&&n.isExtended,l=n&&n.isMultiByte,u=this.current708Packet.data,c=a?4096:0,A=u[e],d=u[e+1],h=t.currentWindow;if(l?(r=[A,d],e++):r=[A],t.textDecoder_&&!a)i=t.textDecoder_.decode(new Uint8Array(r));else if(l){const e=r.map((e=>("0"+(255&e).toString(16)).slice(-2))).join("");i=String.fromCharCode(parseInt(e,16))}else o=ve[s=c|A]||s,i=4096&s&&s===o?"":String.fromCharCode(o);return h.pendingNewLine&&!h.isEmpty()&&h.newLine(this.getPts(e)),h.pendingNewLine=!1,h.addText(i),e},Ce.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return ye(i)&&ye(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Ce.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Ce.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var s=t.currentWindow;return i=n[++e],s.visible=(32&i)>>5,s.rowLock=(16&i)>>4,s.columnLock=(8&i)>>3,s.priority=7&i,i=n[++e],s.relativePositioning=(128&i)>>7,s.anchorVertical=127&i,i=n[++e],s.anchorHorizontal=i,i=n[++e],s.anchorPoint=(240&i)>>4,s.rowCount=15&i,i=n[++e],s.columnCount=63&i,i=n[++e],s.windowStyle=(56&i)>>3,s.penStyle=7&i,s.virtualRowCount=s.rowCount+1,e},Ce.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.winAttr;return i=n[++e],r.fillOpacity=(192&i)>>6,r.fillRed=(48&i)>>4,r.fillGreen=(12&i)>>2,r.fillBlue=3&i,i=n[++e],r.borderType=(192&i)>>6,r.borderRed=(48&i)>>4,r.borderGreen=(12&i)>>2,r.borderBlue=3&i,i=n[++e],r.borderType+=(128&i)>>5,r.wordWrap=(64&i)>>6,r.printDirection=(48&i)>>4,r.scrollDirection=(12&i)>>2,r.justify=3&i,i=n[++e],r.effectSpeed=(240&i)>>4,r.effectDirection=(12&i)>>2,r.displayEffect=3&i,e},Ce.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Ce.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Ce.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},Ce.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},Ce.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},Ce.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},Ce.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},Ce.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penAttr;return i=n[++e],r.textTag=(240&i)>>4,r.offset=(12&i)>>2,r.penSize=3&i,i=n[++e],r.italics=(128&i)>>7,r.underline=(64&i)>>6,r.edgeType=(56&i)>>3,r.fontStyle=7&i,e},Ce.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penColor;return i=n[++e],r.fgOpacity=(192&i)>>6,r.fgRed=(48&i)>>4,r.fgGreen=(12&i)>>2,r.fgBlue=3&i,i=n[++e],r.bgOpacity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12&i)>>2,r.bgBlue=3&i,i=n[++e],r.edgeRed=(48&i)>>4,r.edgeGreen=(12&i)>>2,r.edgeBlue=3&i,e},Ce.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,i=n[++e],r.row=15&i,i=n[++e],r.column=63&i,e},Ce.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var xe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Be=function(e){return null===e?"":(e=xe[e]||e,String.fromCharCode(e))},Se=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],_e=function(){for(var e=[],t=15;t--;)e.push({text:"",indent:0,offset:0});return e},ke=function(e,t){ke.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,s;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=_e();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=_e();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=_e()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))s=Be((i=(3&i)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),s=Be((i=(3&i)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14&~r||this.addFormatting(e.pts,["i"]),1&~r||this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r)){const e=3&r;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(i,r)){var o=Se.indexOf(7968&t);if("rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&o>=0&&o<=14&&(this.clearFormatting(e.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),!(16&~t)){const e=(14&t)>>1;this.column_=4*e,this.nonDisplayed_[this.row_].indent+=e}this.isColorPAC(r)&&(14&~r||this.addFormatting(e.pts,["i"]))}else this.isNormalChar(i)&&(0===r&&(r=null),s=Be(i),s+=Be(r),this[this.mode_](e.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};ke.prototype=new fe,ke.prototype.flushDisplayed=function(e){const t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."})},n=[];this.displayed_.forEach(((e,i)=>{if(e&&e.text&&e.text.length){try{e.text=e.text.trim()}catch(e){t(i)}e.text.length&&n.push({text:e.text,line:i+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(i)})),n.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:n,stream:this.name_})},ke.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_e(),this.nonDisplayed_=_e(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},ke.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},ke.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},ke.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},ke.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},ke.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},ke.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},ke.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},ke.prototype.isNormalChar=function(e){return e>=32&&e<=127},ke.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=_e(),this.displayed_=_e()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]={text:"",indent:0,offset:0};void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},ke.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},ke.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},ke.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_].text;n+=t,this.nonDisplayed_[this.row_].text=n},ke.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n},ke.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.row_+1;e<15;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},ke.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n};var Te={CaptionStream:me,Cea608Stream:ke,Cea708Stream:Ce},Ee={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ie=q,Ue="shared",Fe=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},De=function(e){var t,n;De.prototype.init.call(this),this.type_=e||Ue,this.push=function(e){"metadata"!==e.type?this.type_!==Ue&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=Fe(e.dts,n),e.pts=Fe(e.pts,n),t=e.dts,this.trigger("data",e)):this.trigger("data",e)},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};De.prototype=new Ie;var Le,Oe={TimestampRolloverStream:De,handleRollover:Fe},Ne=(e,t,n)=>{if(!e)return-1;for(var i=n;i<e.length;i++)if(e[i]===t)return i;return-1},Me=Ne,je=3,Re=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},Qe=function(e,t,n){return decodeURIComponent(Re(e,t,n))},Pe=function(e,t,n){return unescape(Re(e,t,n))},He=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},qe={APIC:function(e){var t,n,i=1;e.data[0]===je&&((t=Me(e.data,0,i))<0||(e.mimeType=Pe(e.data,i,t),i=t+1,e.pictureType=e.data[i],i++,(n=Me(e.data,0,i))<0||(e.description=Qe(e.data,i,n),i=n+1,"--\x3e"===e.mimeType?e.url=Pe(e.data,i,e.data.length):e.pictureData=e.data.subarray(i,e.data.length))))},"T*":function(e){e.data[0]===je&&(e.value=Qe(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;e.data[0]===je&&-1!==(t=Me(e.data,0,1))&&(e.description=Qe(e.data,1,t),e.value=Qe(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=Pe(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;e.data[0]===je&&-1!==(t=Me(e.data,0,1))&&(e.description=Qe(e.data,1,t),e.url=Pe(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=Pe(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},Ve={parseId3Frames:function(e){var t,n=10,i=0,r=[];if(!(e.length<10||e[0]!=="I".charCodeAt(0)||e[1]!=="D".charCodeAt(0)||e[2]!=="3".charCodeAt(0))){i=He(e.subarray(6,10)),i+=10,64&e[5]&&(n+=4,n+=He(e.subarray(10,14)),i-=He(e.subarray(16,20)));do{if((t=He(e.subarray(n+4,n+8)))<1)break;var s={id:String.fromCharCode(e[n],e[n+1],e[n+2],e[n+3]),data:e.subarray(n+10,n+t+10)};s.key=s.id,qe[s.id]?qe[s.id](s):"T"===s.id[0]?qe["T*"](s):"W"===s.id[0]&&qe["W*"](s),r.push(s),n+=10,n+=t}while(n<i);return r}},parseSyncSafeInteger:He,frameParsers:qe},ze=q,Ke=Ee,Ge=Ve;Le=function(e){var t,n={descriptor:e&&e.descriptor},i=0,r=[],s=0;if(Le.prototype.init.call(this),this.dispatchType=Ke.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,o,a,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),s+=e.data.byteLength,1===r.length&&(i=Ge.parseSyncSafeInteger(e.data.subarray(6,10)),i+=10),!(s<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)t.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();n=10,64&t.data[5]&&(n+=4,n+=Ge.parseSyncSafeInteger(t.data.subarray(10,14)),i-=Ge.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((o=Ge.parseSyncSafeInteger(t.data.subarray(n+4,n+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((a={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+o+10)}).key=a.id,Ge.frameParsers[a.id]?Ge.frameParsers[a.id](a):"T"===a.id[0]?Ge.frameParsers["T*"](a):"W"===a.id[0]&&Ge.frameParsers["W*"](a),"com.apple.streaming.transportStreamTimestamp"===a.owner){var u=a.data,c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;c*=4,c+=3&u[7],a.timeStamp=c,void 0===t.pts&&void 0===t.dts&&(t.pts=a.timeStamp,t.dts=a.timeStamp),this.trigger("timestamp",a)}t.frames.push(a),n+=10,n+=o}while(n<i);this.trigger("data",t)}}},Le.prototype=new ze;var We,$e,Xe,Ye=Le,Je=q,Ze=Te,et=Ee,tt=Oe.TimestampRolloverStream,nt=188;(We=function(){var e=new Uint8Array(nt),t=0;We.prototype.init.call(this),this.push=function(n){var i,r=0,s=nt;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;s<i.byteLength;)71!==i[r]||71!==i[s]?(r++,s++):(this.trigger("data",i.subarray(r,s)),r+=nt,s+=nt);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===nt&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new Je,$e=function(){var e,t,n,i;$e.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var s=e[r],o=(31&e[r+1])<<8|e[r+2];s===et.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=o:s===et.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=o:s===et.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][o]=s),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=et.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=et.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},$e.prototype=new Je,$e.STREAM_TYPES={h264:27,adts:15},Xe=function(){var e,t=this,n=!1,i={data:[],size:0},r={data:[],size:0},s={data:[],size:0},o=function(e,n,i){var r,s,o=new Uint8Array(e.size),a={type:n},l=0,u=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,l=0;l<e.data.length;l++)s=e.data[l],o.set(s.data,u),u+=s.data.byteLength;!function(e,t){var n;const i=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===i&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=!!(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}(o,a),r="video"===n||a.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",a)}};Xe.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case et.H264_STREAM_TYPE:e=i,t="video";break;case et.ADTS_STREAM_TYPE:e=r,t="audio";break;case et.METADATA_STREAM_TYPE:e=s,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",i)}})[a.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(i,"video"),o(r,"audio"),o(s,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracks:[]};null!==e.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}n=!1,this.flushStreams_(),this.trigger("done")}},Xe.prototype=new Je;var it={PAT_PID:0,MP2T_PACKET_LENGTH:nt,TransportPacketStream:We,TransportParseStream:$e,ElementaryStream:Xe,TimestampRolloverStream:tt,CaptionStream:Ze.CaptionStream,Cea608Stream:Ze.Cea608Stream,Cea708Stream:Ze.Cea708Stream,MetadataStream:Ye};for(var rt in et)et.hasOwnProperty(rt)&&(it[rt]=et[rt]);var st,ot=it,at=q,lt=le.ONE_SECOND_IN_TS,ut=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];st=function(e){var t,n=0;st.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:`adts skiping bytes ${e} to ${t} in frame ${n} outside syncword`})},this.push=function(i){var r,s,o,a,l,u=0;if(e||(n=0),"audio"===i.type){var c;for(t&&t.length?(o=t,(t=new Uint8Array(o.byteLength+i.data.byteLength)).set(o),t.set(i.data,o.byteLength)):t=i.data;u+7<t.length;)if(255===t[u]&&240==(246&t[u+1])){if("number"==typeof c&&(this.skipWarn_(c,u),c=null),s=2*(1&~t[u+1]),r=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,l=(a=1024*(1+(3&t[u+6])))*lt/ut[(60&t[u+2])>>>2],t.byteLength-u<r)break;this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:a,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:ut[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+s,u+r)}),n++,u+=r}else"number"!=typeof c&&(c=u),u++;"number"==typeof c&&(this.skipWarn_(c,u),c=null),t=t.subarray(u)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},st.prototype=new at;var ct,At,dt,ht=st,pt=q,ft=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,s=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");s.set(e.subarray(r,r+o)),n=new DataView(s.buffer).getUint32(0),i=8*o,t-=o},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),s=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(n&2147483648>>>e)return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};At=function(){var e,t,n=0;At.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var s=t.byteLength;n<s-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<s;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<s);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},At.prototype=new pt,dt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ct=function(){var e,t,n,i,r,s,o,a=new At;ct.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,a.push(e))},a.on("data",(function(o){var a={trackId:t,pts:n,dts:i,data:o,nalUnitTypeCode:31&o[0]};switch(a.nalUnitTypeCode){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=r(o.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=r(o.subarray(1)),a.config=s(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",a)})),a.on("done",(function(){e.trigger("done")})),a.on("partialdone",(function(){e.trigger("partialdone")})),a.on("reset",(function(){e.trigger("reset")})),a.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){a.flush()},this.partialFlush=function(){a.partialFlush()},this.reset=function(){a.reset()},this.endTimeline=function(){a.endTimeline()},o=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],s=1;s<i-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(s=0;s<t;o++,s++)o===r[0]&&(o++,r.shift()),n[s]=e[o];return n},s=function(e){var t,n,i,r,s,a,l,u,c,A,d,h,p=0,f=0,g=0,m=0,v=[1,1];if(n=(t=new ft(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),dt[n]&&(3===(s=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==s?8:12,h=0;h<d;h++)t.readBoolean()&&o(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),h=0;h<l;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(A=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:16*(u+1)-2*p-2*f,height:(2-A)*(c+1)*16-2*g-2*m,sarRatio:v}}},ct.prototype=new pt;var gt,mt={H264Stream:ct,NalByteStream:At},vt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],yt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},bt=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=yt(e,t),bt(e,t))},wt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ct={isLikelyAacData:function(e){var t=bt(e,0);return e.length>=t+2&&!(255&~e[t])&&!(240&~e[t+1])&&16==(22&e[t+1])},parseId3TagSize:yt,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&!(240&~e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return vt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=wt(e.subarray(10,14)));do{if((n=wt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){var s=unescape(function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,r));if("com.apple.streaming.transportStreamTimestamp"===s){var o=i.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return a*=4,a+=3&o[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}},xt=Ct;(gt=function(){var e=new Uint8Array,t=0;gt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,s,o,a=0,l=0;for(e.length?(o=e.length,(e=new Uint8Array(n.byteLength+o)).set(e.subarray(0,o)),e.set(n,o)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255&~e[l]||240&~e[l+1])l++;else{if(e.length-l<7)break;if(l+(a=xt.parseAdtsSize(e,l))>e.length)break;s={type:"audio",data:e.subarray(l,l+a),pts:t,dts:t},this.trigger("data",s),l+=a}else{if(e.length-l<10)break;if(l+(a=xt.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+a)},this.trigger("data",r),l+=a}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new q;var Bt,St,_t,kt,Tt=q,Et=te,It=ie,Ut=Ae,Ft=he,Dt=ot,Lt=le,Ot=ht,Nt=mt.H264Stream,Mt=gt,jt=Ct.isLikelyAacData,Rt=le.ONE_SECOND_IN_TS,Qt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Pt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ht=function(e,t){t.stream=e,this.trigger("log",t)},qt=function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",Ht.bind(e,r))}},Vt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},zt=function(e,t,n,i,r,s){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:s,baseMediaDecodeTime:e}};St=function(e,t){var n,i=[],r=0,s=0,o=1/0;n=(t=t||{}).firstSequenceNumber||0,St.prototype.init.call(this),this.push=function(t){Ft.collectDtsInfo(e,t),e&&Qt.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){s=e},this.flush=function(){var a,l,u,c,A,d,h;0!==i.length?(a=Ut.trimAdtsFramesByEarliestDts(i,e,r),e.baseMediaDecodeTime=Ft.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),h=Ut.prefixWithSilence(e,a,s,o),e.samples=Ut.generateSampleTable(a),u=Et.mdat(Ut.concatenateFrameData(a)),i=[],l=Et.moof(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),Ft.clearDtsInfo(e),A=Math.ceil(1024*Rt/e.samplerate),a.length&&(d=a.length*A,this.trigger("segmentTimingInfo",zt(Lt.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a[0].dts,a[0].pts,a[0].dts+d,a[0].pts+d,h||0)),this.trigger("timingInfo",{start:a[0].pts,end:a[0].pts+d})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ft.clearDtsInfo(e),i=[],this.trigger("reset")}},St.prototype=new Tt,Bt=function(e,t){var n,i,r,s=[],o=[];n=(t=t||{}).firstSequenceNumber||0,Bt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ft.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Pt.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.flush=function(){for(var i,r,a,l,u,c,A,d,h=0;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=It.groupNalsIntoFrames(s),(a=It.groupFramesIntoGops(i))[0][0].keyFrame||((r=this.getGopForFusion_(s[0],e))?(h=r.duration,a.unshift(r),a.byteLength+=r.byteLength,a.nalCount+=r.nalCount,a.pts=r.pts,a.dts=r.dts,a.duration+=r.duration):a=It.extendFirstKeyFrame(a)),o.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a)))return this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ft.clearDtsInfo(e),a=p}Ft.collectDtsInfo(e,a),e.samples=It.generateSampleTable(a),u=Et.mdat(It.concatenateNalData(a)),e.baseMediaDecodeTime=Ft.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),A=a[0],d=a[a.length-1],this.trigger("segmentTimingInfo",zt(e.baseMediaDecodeTime,A.dts,A.pts,d.dts+d.duration,d.pts+d.duration,h)),this.trigger("timingInfo",{start:a[0].pts,end:a[a.length-1].pts+a[a.length-1].duration}),this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=Et.moof(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,o.length=0,this.trigger("reset")},this.resetStream_=function(){Ft.clearDtsInfo(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,s,o,a=1/0;for(o=0;o<this.gopCache_.length;o++)r=(s=this.gopCache_[o]).gop,e.pps&&Vt(e.pps[0],s.pps[0])&&e.sps&&Vt(e.sps[0],s.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||a>n)&&(i=s,a=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,s,a,l,u;for(s=e.byteLength,a=e.nalCount,l=e.duration,t=n=0;t<o.length&&n<e.length&&(i=o[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,s-=r.byteLength,a-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=s,u.duration=l,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,i,r,s,a,l;for(t=o.length-1,n=e.length-1,s=null,a=!1;t>=0&&n>=0;){if(i=o[t],r=e[n],i.pts===r.pts){a=!0;break}i.pts>r.pts?t--:(t===o.length-1&&(s=n),n--)}if(!a&&null===s)return null;if(0===(l=a?n:s))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){o=e}},Bt.prototype=new Tt,kt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,kt.prototype.init.call(this),this.push=function(e){return e.content||e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},kt.prototype=new Tt,kt.prototype.flush=function(e){var t,n,i,r,s=0,o={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,Pt.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,Qt.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=Et.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=Lt.metadataTsToSeconds(t.startPts,a,this.keepOriginalTimestamps),t.endTime=Lt.metadataTsToSeconds(t.endPts,a,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=Lt.metadataTsToSeconds(n.pts,a,this.keepOriginalTimestamps),o.metadata.push(n);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),r=0;r<o.captions.length;r++)t=o.captions[r],this.trigger("caption",t);for(r=0;r<o.metadata.length;r++)n=o.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},kt.prototype.setRemux=function(e){this.remuxTracks=e},_t=function(e){var t,n,i=this,r=!0;_t.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Dt.MetadataStream,r.aacStream=new Mt,r.audioTimestampRolloverStream=new Dt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Dt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Ot,r.coalesceStream=new kt(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(s){"timed-metadata"!==s.type&&"audio"!==s.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new St(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),qt(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Dt.MetadataStream,r.packetStream=new Dt.TransportPacketStream,r.parseStream=new Dt.TransportParseStream,r.elementaryStream=new Dt.ElementaryStream,r.timestampRolloverStream=new Dt.TimestampRolloverStream,r.adtsStream=new Ot,r.h264Stream=new Nt,r.captionStream=new Dt.CaptionStream(e),r.coalesceStream=new kt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(s){var o;if("metadata"===s.type){for(o=s.tracks.length;o--;)t||"video"!==s.tracks[o].type?n||"audio"!==s.tracks[o].type||((n=s.tracks[o]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=s.tracks[o]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new Bt(t,e),r.videoSegmentStream.on("log",i.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new St(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),qt(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ft.clearDtsInfo(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ft.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(r){var t=jt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},_t.prototype=new Tt;var Kt,Gt,Wt={Transmuxer:_t,VideoSegmentStream:Bt,AudioSegmentStream:St,AUDIO_PROPERTIES:Qt,VIDEO_PROPERTIES:Pt,generateSegmentTimingInfo:zt},$t=function(e){return e>>>0},Xt=function(e){return("00"+e.toString(16)).slice(-2)},Yt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},Jt=$t,Zt=Yt,en=function(e,t){var n,i,r,s,o,a=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=Jt(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=Zt(e.subarray(n+4,n+8)),s=i>1?n+i:e.byteLength,r===t[0]&&(1===t.length?a.push(e.subarray(n+8,s)):(o=en(e.subarray(n+8,s),t.slice(1))).length&&(a=a.concat(o))),n=s;return a},tn=en,nn=$t,rn=z.getUint64,sn=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=rn(e.subarray(4)):t.baseMediaDecodeTime=nn(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},on=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],s=2&i.flags[2],o=8&i.flags[2],a=16&i.flags[2],l=32&i.flags[2],u=65536&i.flags[0],c=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),s&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),o&&(i.defaultSampleDuration=n.getUint32(t),t+=4),a&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),u&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},an=z.getUint64,ln=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=an(e.subarray(i)),n.firstOffset=an(e.subarray(i+8)),i+=16),i+=2;var r=t.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n},un=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},cn=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],s=4&n.flags[2],o=1&n.flags[1],a=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=i.getUint32(4),A=8;for(r&&(n.dataOffset=i.getInt32(A),A+=4),s&&c&&(t={flags:un(e.subarray(A,A+4))},A+=4,o&&(t.duration=i.getUint32(A),A+=4),a&&(t.size=i.getUint32(A),A+=4),u&&(1===n.version?t.compositionTimeOffset=i.getInt32(A):t.compositionTimeOffset=i.getUint32(A),A+=4),n.samples.push(t),c--);c--;)t={},o&&(t.duration=i.getUint32(A),A+=4),a&&(t.size=i.getUint32(A),A+=4),l&&(t.flags=un(e.subarray(A,A+4)),A+=4),u&&(1===n.version?t.compositionTimeOffset=i.getInt32(A):t.compositionTimeOffset=i.getUint32(A),A+=4),n.samples.push(t);return n},An=z.getUint64,dn=function(e){return new Date(1e3*e-20828448e5)},hn=Yt,pn=function(e){var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=n)if(n=i.getUint32(t),t+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31)}return r},fn={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:Kt(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,i,r,s=new DataView(e.buffer,e.byteOffset,e.byteLength),o={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},a=31&e[5];for(i=6,r=0;r<a;r++)n=s.getUint16(i),i+=2,o.sps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;for(t=e[i],i++,r=0;r<t;r++)n=s.getUint16(i),i+=2,o.pps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;return o},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},edts:function(e){return{boxes:Kt(e)}},elst:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),edits:[]},r=n.getUint32(4);for(t=8;r;r--)0===i.version?(i.edits.push({segmentDuration:n.getUint32(t),mediaTime:n.getInt32(t+4),mediaRate:n.getUint16(t+8)+n.getUint16(t+10)/65536}),t+=12):(i.edits.push({segmentDuration:An(e.subarray(t)),mediaTime:An(e.subarray(t+8)),mediaRate:n.getUint16(t+16)+n.getUint16(t+18)/65536}),t+=20);return i},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:hn(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(hn(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:Kt(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:Kt(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:hn(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:pn(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=dn(n.getUint32(i)),i+=8,r.modificationTime=dn(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=dn(n.getUint32(i)),i+=4,r.modificationTime=dn(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,t=n.getUint16(i),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:Kt(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:Kt(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=Kt(e.subarray(28))[0]),n},moof:function(e){return{boxes:Kt(e)}},moov:function(e){return{boxes:Kt(e)}},mvex:function(e){return{boxes:Kt(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=dn(t.getUint32(n)),n+=8,i.modificationTime=dn(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=dn(t.getUint32(n)),n+=4,i.modificationTime=dn(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,i.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=t.getUint32(n),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:ln,smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:Kt(e)}},ctts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),compositionOffsets:[]},r=n.getUint32(4);for(t=8;r;t+=8,r--)i.compositionOffsets.push({sampleCount:n.getUint32(t),sampleOffset:n[0===i.version?"getUint32":"getInt32"](t+4)});return i},stss:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),syncSamples:[]},r=n.getUint32(4);for(t=8;r;t+=4,r--)i.syncSamples.push(n.getUint32(t));return i},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(t=8;r;t+=4,r--)i.chunkOffsets.push(n.getUint32(t));return i},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=n.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;i;t+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:Kt(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)i.entries.push(n.getUint32(t));return i},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(t=8;r;t+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return i},styp:function(e){return fn.ftyp(e)},tfdt:sn,tfhd:on,tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=dn(t.getUint32(n)),n+=8,i.modificationTime=dn(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=8,i.duration=t.getUint32(n)):(i.creationTime=dn(t.getUint32(n)),n+=4,i.modificationTime=dn(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=4,i.duration=t.getUint32(n)),n+=4,n+=8,i.layer=t.getUint16(n),n+=2,i.alternateGroup=t.getUint16(n),n+=2,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,i.width=t.getUint16(n)+t.getUint16(n+2)/65536,n+=4,i.height=t.getUint16(n)+t.getUint16(n+2)/65536,i},traf:function(e){return{boxes:Kt(e)}},trak:function(e){return{boxes:Kt(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:cn,"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};Kt=function(e){for(var t,n,i,r,s,o=0,a=[],l=new ArrayBuffer(e.length),u=new Uint8Array(l),c=0;c<e.length;++c)u[c]=e[c];for(t=new DataView(l);o<e.byteLength;)n=t.getUint32(o),i=hn(e.subarray(o+4,o+8)),r=n>1?o+n:e.byteLength,(s=(fn[i]||function(e){return{data:e}})(e.subarray(o+8,r))).size=n,s.type=i,a.push(s),o=r;return a},Gt=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map((function(e,i){return n+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var i=n+"  "+t+": ",r=e[t];if(r instanceof Uint8Array||r instanceof Uint32Array){var s=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return s?1===s.length?i+"<"+s.join("").slice(1)+">":i+"<\n"+s.map((function(e){return n+"  "+e})).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map((function(e,t){return 0===t?e:n+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+Gt(e.boxes,t+1):"")})).join("\n")};var gn,mn,vn,yn,bn,wn,Cn,xn={inspect:Kt,textify:Gt,parseType:hn,findBox:tn,parseTraf:fn.traf,parseTfdt:fn.tfdt,parseHdlr:fn.hdlr,parseTfhd:fn.tfhd,parseTrun:fn.trun,parseSidx:fn.sidx},Bn=function(e){for(var t=0,n=String.fromCharCode(e[t]),i="";"\0"!==n;)i+=n,t++,n=String.fromCharCode(e[t]);return i+=n},Sn=z.getUint64,_n=function(e,t){var n="\0"!==t.scheme_id_uri,i=0===e&&kn(t.presentation_time_delta)&&n,r=1===e&&kn(t.presentation_time)&&n;return!(e>1)&&i||r},kn=function(e){return void 0!==e||null!==e},Tn={parseEmsgBox:function(e){var t,n,i,r,s,o,a,l=4,u=e[0];if(0===u)l+=(t=Bn(e.subarray(l))).length,l+=(n=Bn(e.subarray(l))).length,i=(c=new DataView(e.buffer)).getUint32(l),l+=4,s=c.getUint32(l),l+=4,o=c.getUint32(l),l+=4,a=c.getUint32(l),l+=4;else if(1===u){var c;i=(c=new DataView(e.buffer)).getUint32(l),l+=4,r=Sn(e.subarray(l)),l+=8,o=c.getUint32(l),l+=4,a=c.getUint32(l),l+=4,l+=(t=Bn(e.subarray(l))).length,l+=(n=Bn(e.subarray(l))).length}var A={scheme_id_uri:t,value:n,timescale:i||1,presentation_time:r,presentation_time_delta:s,event_duration:o,id:a,message_data:new Uint8Array(e.subarray(l,e.byteLength))};return _n(u,A)?A:void 0},scaleTime:function(e,t,n,i){return e||0===e?e/t:i+n/t}},En="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},In=$t,Un=Xt,Fn=tn,Dn=Yt,Ln=Tn,On=on,Nn=cn,Mn=sn,jn=z.getUint64,Rn=En,Qn=Ve.parseId3Frames;gn=function(e){return Fn(e,["moov","trak"]).reduce((function(e,t){var n,i,r,s,o;return(n=Fn(t,["tkhd"])[0])?(i=n[0],s=In(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(o=Fn(t,["mdia","mdhd"])[0])?(r=0===(i=o[0])?12:20,e[s]=In(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),e):null):null}),{})},mn=function(e,t){var n=Fn(t,["moof","traf"]).reduce((function(t,n){var i,r=Fn(n,["tfhd"])[0],s=In(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),o=e[s]||9e4,a=Fn(n,["tfdt"])[0],l=new DataView(a.buffer,a.byteOffset,a.byteLength);let u;return"bigint"==typeof(i=1===a[0]?jn(a.subarray(4,12)):l.getUint32(4))?u=i/Rn.BigInt(o):"number"!=typeof i||isNaN(i)||(u=i/o),u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),u<t&&(t=u),t}),1/0);return"bigint"==typeof n||isFinite(n)?n:0},vn=function(e,t){var n,i=Fn(t,["moof","traf"]),r=0,s=0;if(i&&i.length){var o=Fn(i[0],["tfhd"])[0],a=Fn(i[0],["trun"])[0],l=Fn(i[0],["tfdt"])[0];if(o)n=On(o).trackId;if(l)r=Mn(l).baseMediaDecodeTime;if(a){var u=Nn(a);u.samples&&u.samples.length&&(s=u.samples[0].compositionTimeOffset||0)}}var c=e[n]||9e4;"bigint"==typeof r&&(s=Rn.BigInt(s),c=Rn.BigInt(c));var A=(r+s)/c;return"bigint"==typeof A&&A<Number.MAX_SAFE_INTEGER&&(A=Number(A)),A},yn=function(e){var t=Fn(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=Fn(e,["mdia","hdlr"]),i=Fn(e,["tkhd"]);t.forEach((function(e,t){var r,s,o=Dn(e.subarray(8,12)),a=i[t];"vide"===o&&(s=0===(r=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(s))}))})),n},wn=function(e){var t=0===e[0]?12:20;return In(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},bn=function(e){var t=Fn(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},s=Fn(e,["tkhd"])[0];s&&(i=(t=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var o=Fn(e,["mdia","hdlr"])[0];if(o){var a=Dn(o.subarray(8,12));r.type="vide"===a?"video":"soun"===a?"audio":a}var l=Fn(e,["mdia","minf","stbl","stsd"])[0];if(l){var u=l.subarray(8);r.codec=Dn(u.subarray(4,8));var c,A=Fn(u,[r.codec])[0];A&&(/^[asm]vc[1-9]$/i.test(r.codec)?(c=A.subarray(78),"avcC"===Dn(c.subarray(4,8))&&c.length>11?(r.codec+=".",r.codec+=Un(c[9]),r.codec+=Un(c[10]),r.codec+=Un(c[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(c=A.subarray(28),"esds"===Dn(c.subarray(4,8))&&c.length>20&&0!==c[19]?(r.codec+="."+Un(c[19]),r.codec+="."+Un(c[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var d=Fn(e,["mdia","mdhd"])[0];d&&(r.timescale=wn(d)),n.push(r)})),n},Cn=function(e,t=0){return Fn(e,["emsg"]).map((e=>{var n=Ln.parseEmsgBox(new Uint8Array(e)),i=Qn(n.message_data);return{cueTime:Ln.scaleTime(n.presentation_time,n.timescale,n.presentation_time_delta,t),duration:Ln.scaleTime(n.event_duration,n.timescale),frames:i}}))};var Pn={findBox:Fn,parseType:Dn,timescale:gn,startTime:mn,compositionStartTime:vn,videoTrackIds:yn,tracks:bn,getTimescaleFromMediaHeader:wn,getEmsgID3:Cn};const{parseTrun:Hn}=xn,{findBox:qn}=Pn;var Vn=En,zn={getMdatTrafPairs:function(e){var t=qn(e,["moof","traf"]),n=qn(e,["mdat"]),i=[];return n.forEach((function(e,n){var r=t[n];i.push({mdat:e,traf:r})})),i},parseSamples:function(e,t,n){var i=t,r=n.defaultSampleDuration||0,s=n.defaultSampleSize||0,o=n.trackId,a=[];return e.forEach((function(e){var t=Hn(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=s),e.trackId=o,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+Vn.BigInt(e.compositionTimeOffset),i+=Vn.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)})),a=a.concat(t)})),a}},Kn=pe.discardEmulationPreventionBytes,Gn=Te.CaptionStream,Wn=tn,$n=sn,Xn=on,{getMdatTrafPairs:Yn,parseSamples:Jn}=zn,Zn=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},ei=function(e,t){var n={};return Yn(e).forEach((function(e){var i,r=e.mdat,s=e.traf,o=Wn(s,["tfhd"]),a=Xn(o[0]),l=a.trackId,u=Wn(s,["tfdt"]),c=u.length>0?$n(u[0]).baseMediaDecodeTime:0,A=Wn(s,["trun"]);t===l&&A.length>0&&(i=function(e,t,n){var i,r,s,o,a=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=s)if(s=a.getUint32(r),r+=4,!(s<=0))switch(31&e[r]){case 6:var u=e.subarray(r+1,r+1+s),c=Zn(r,t);if(i={nalUnitType:"sei_rbsp",size:s,data:u,escapedRBSP:Kn(u),trackId:n},c)i.pts=c.pts,i.dts=c.dts,o=c;else{if(!o){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+n+". See mux.js#223."});break}i.pts=o.pts,i.dts=o.dts}l.seiNals.push(i)}return l}(r,Jn(A,c,a),l),n[l]||(n[l]={seiNals:[],logs:[]}),n[l].seiNals=n[l].seiNals.concat(i.seiNals),n[l].logs=n[l].logs.concat(i.logs))})),n},ti=function(){var e,t,n,i,r,s,o=!1;this.isInitialized=function(){return o},this.init=function(t){e=new Gn,o=!0,s=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0})),e.on("log",(function(e){r.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||i!==t[n])},this.parse=function(e,s,o){var a;if(!this.isInitialized())return null;if(!s||!o)return null;if(this.isNewInit(s,o))n=s[0],i=o[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,s,o)}return a=function(e,t,n){if(null===t)return null;var i=ei(e,t)[t]||{};return{seiNals:i.seiNals,logs:i.logs,timescale:n}}(e,n,i),a&&a.logs&&(r.logs=r.logs.concat(a.logs)),null!==a&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;s?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()};const{parseTfdt:ni}=xn,ii=tn,{getTimescaleFromMediaHeader:ri}=Pn,{parseSamples:si,getMdatTrafPairs:oi}=zn;var ai=function(){let e=9e4;this.init=function(t){const n=ii(t,["moov","trak","mdia","mdhd"])[0];n&&(e=ri(n))},this.parseSegment=function(t){const n=[],i=oi(t);let r=0;return i.forEach((function(t){const i=t.mdat,s=t.traf,o=ii(s,["tfdt"])[0],a=ii(s,["tfhd"])[0],l=ii(s,["trun"]);if(o){const e=ni(o);r=e.baseMediaDecodeTime}if(l.length&&a){const t=si(l,r,a);let s=0;t.forEach((function(t){const r=new TextDecoder("utf-8"),o=i.slice(s,s+t.size);if(ii(o,["vtte"])[0])return void(s+=t.size);ii(o,["vttc"]).forEach((function(i){const s=ii(i,["payl"])[0],o=ii(i,["sttg"])[0],a=t.pts/e,l=(t.pts+t.duration)/e;let u,c;if(s)try{u=r.decode(s)}catch(e){}if(o)try{c=r.decode(o)}catch(e){}t.duration&&u&&n.push({cueText:u,start:a,end:l,settings:c})})),s+=t.size}))}})),n}},li=Ee,ui=function(e){var t=31&e[1];return t<<=8,t|=e[2]},ci=function(e){return!!(64&e[1])},Ai=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},di=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},hi={parseType:function(e,t){var n=ui(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=ci(e),n=4+Ai(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=ci(e),i=4+Ai(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var s=12+((15&e[i+10])<<8|e[i+11]);s<r;){var o=i+s;t[(31&e[o+1])<<8|e[o+2]]=e[o],s+=5+((15&e[o+3])<<8|e[o+4])}return t}},parsePayloadUnitStartIndicator:ci,parsePesType:function(e,t){switch(t[ui(e)]){case li.H264_STREAM_TYPE:return"video";case li.ADTS_STREAM_TYPE:return"audio";case li.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!ci(e))return null;var t=4+Ai(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+Ai(e),n=e.subarray(t),i=0,r=0,s=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===di(31&n[r+3])&&(s=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===di(31&n[r+3])&&(s=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===di(31&n[r+3])&&(s=!0),s}},pi=Ee,fi=Oe.handleRollover,gi={};gi.ts=hi,gi.aac=Ct;var mi=le.ONE_SECOND_IN_TS,vi=188,yi=71,bi=function(e,t,n){for(var i,r,s,o,a=0,l=vi,u=!1;l<=e.byteLength;)if(e[a]!==yi||e[l]!==yi&&l!==e.byteLength)a++,l++;else{if(i=e.subarray(a,l),"pes"===gi.ts.parseType(i,t.pid))r=gi.ts.parsePesType(i,t.table),s=gi.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&s&&(o=gi.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),u=!0);if(u)break;a+=vi,l+=vi}for(a=(l=e.byteLength)-vi,u=!1;a>=0;)if(e[a]!==yi||e[l]!==yi&&l!==e.byteLength)a--,l--;else{if(i=e.subarray(a,l),"pes"===gi.ts.parseType(i,t.pid))r=gi.ts.parsePesType(i,t.table),s=gi.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&s&&(o=gi.ts.parsePesTime(i))&&(o.type="audio",n.audio.push(o),u=!0);if(u)break;a-=vi,l-=vi}},wi=function(e,t,n){for(var i,r,s,o,a,l,u,c=0,A=vi,d=!1,h={data:[],size:0};A<e.byteLength;)if(e[c]!==yi||e[A]!==yi)c++,A++;else{if(i=e.subarray(c,A),"pes"===gi.ts.parseType(i,t.pid))if(r=gi.ts.parsePesType(i,t.table),s=gi.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(s&&!d&&(o=gi.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),d=!0),!n.firstKeyFrame)){if(s&&0!==h.size){for(a=new Uint8Array(h.size),l=0;h.data.length;)u=h.data.shift(),a.set(u,l),l+=u.byteLength;if(gi.ts.videoPacketContainsKeyFrame(a)){var p=gi.ts.parsePesTime(a);p&&(n.firstKeyFrame=p,n.firstKeyFrame.type="video")}h.size=0}h.data.push(i),h.size+=i.byteLength}if(d&&n.firstKeyFrame)break;c+=vi,A+=vi}for(c=(A=e.byteLength)-vi,d=!1;c>=0;)if(e[c]!==yi||e[A]!==yi)c--,A--;else{if(i=e.subarray(c,A),"pes"===gi.ts.parseType(i,t.pid))r=gi.ts.parsePesType(i,t.table),s=gi.ts.parsePayloadUnitStartIndicator(i),"video"===r&&s&&(o=gi.ts.parsePesTime(i))&&(o.type="video",n.video.push(o),d=!0);if(d)break;c-=vi,A-=vi}},Ci=function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=vi;r<e.byteLength;)if(e[i]!==yi||e[r]!==yi)i++,r++;else{switch(n=e.subarray(i,r),gi.ts.parseType(n,t.pid)){case"pat":t.pid=gi.ts.parsePat(n);break;case"pmt":var s=gi.ts.parsePmt(n);t.table=t.table||{},Object.keys(s).forEach((function(e){t.table[e]=s[e]}))}i+=vi,r+=vi}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case pi.H264_STREAM_TYPE:n.video=[],wi(e,t,n),0===n.video.length&&delete n.video;break;case pi.ADTS_STREAM_TYPE:n.audio=[],bi(e,t,n),0===n.audio.length&&delete n.audio}}return n},xi=function(e,t){var n;return n=gi.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,s=null,o=0,a=0;e.length-a>=3;){switch(gi.aac.parseType(e,a)){case"timed-metadata":if(e.length-a<10){n=!0;break}if((o=gi.aac.parseId3TagSize(e,a))>e.length){n=!0;break}null===s&&(t=e.subarray(a,a+o),s=gi.aac.parseAacTimestamp(t)),a+=o;break;case"audio":if(e.length-a<7){n=!0;break}if((o=gi.aac.parseAdtsSize(e,a))>e.length){n=!0;break}null===r&&(t=e.subarray(a,a+o),r=gi.aac.parseSampleRate(t)),i++,a+=o;break;default:a++}if(n)return null}if(null===r||null===s)return null;var l=mi/r;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*i*l,pts:s+1024*i*l}]}}(e):Ci(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=fi(e.dts,n),e.pts=fi(e.pts,n),e.dtsTime=e.dts/mi,e.ptsTime=e.pts/mi}))}if(e.video&&e.video.length){var i=t;if((void 0===i||isNaN(i))&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=fi(e.dts,i),e.pts=fi(e.pts,i),e.dtsTime=e.dts/mi,e.ptsTime=e.pts/mi})),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=fi(r.dts,i),r.pts=fi(r.pts,i),r.dtsTime=r.dts/mi,r.ptsTime=r.pts/mi}}}(n,t),n):null};class Bi{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Wt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){const n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};const i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){const n={start:{decode:le.videoTsToSeconds(t.start.dts),presentation:le.videoTsToSeconds(t.start.pts)},end:{decode:le.videoTsToSeconds(t.end.dts),presentation:le.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:le.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=le.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){const n={start:{decode:le.videoTsToSeconds(t.start.dts),presentation:le.videoTsToSeconds(t.start.pts)},end:{decode:le.videoTsToSeconds(t.end.dts),presentation:le.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:le.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=le.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:le.videoTsToSeconds(t.start),end:le.videoTsToSeconds(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:le.videoTsToSeconds(t.start),end:le.videoTsToSeconds(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)}pushMp4Captions(e){this.captionParser||(this.captionParser=new ti,this.captionParser.init());const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])}initMp4WebVttParser(e){this.webVttParser||(this.webVttParser=new ai);const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.webVttParser.init(t)}getMp4WebVttText(e){this.webVttParser||(this.webVttParser=new ai);const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.webVttParser.parseSegment(t);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:n||[],data:t.buffer},[t.buffer])}probeMp4StartTime({timescales:e,data:t}){const n=Pn.startTime(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:t},[t.buffer])}probeMp4Tracks({data:e}){const t=Pn.tracks(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])}probeEmsgID3({data:e,offset:t}){const n=Pn.getEmsgID3(e,t);this.self.postMessage({action:"probeEmsgID3",id3Frames:n,emsgData:e},[e.buffer])}probeTs({data:e,baseStartTime:t}){const n="number"!=typeof t||isNaN(t)?void 0:t*le.ONE_SECOND_IN_TS,i=xi(e,n);let r=null;i&&(r={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1},r.hasVideo&&(r.videoStart=i.video[0].ptsTime),r.hasAudio&&(r.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:r,data:e},[e.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}reset(){this.transmuxer.reset()}setTimestampOffset(e){const t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(le.secondsToVideoTs(t)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(le.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Bi(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new Bi(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})));var cI=oI(uI);const AI=e=>{const{transmuxer:t,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:s,onData:o,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:A,onId3:d,onCaptions:h,onDone:p,onEndedTimeline:f,onTransmuxerLog:g,isEndOfTimeline:m,segment:v,triggerSegmentEventFn:y}=e,b={buffer:[]};let w=m;if(t.onmessage=n=>{t.currentTransmux===e&&("data"===n.data.action&&((e,t,n)=>{const{type:i,initSegment:r,captions:s,captionStreams:o,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=e.data.segment;t.buffer.push({captions:s,captionStreams:o,metadata:a});const c=e.data.segment.boxes||{data:e.data.segment.data},A={type:i,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};void 0!==l&&(A.videoFrameDtsTime=l),void 0!==u&&(A.videoFramePtsTime=u),n(A)})(n,b,o),"trackinfo"===n.data.action&&a(n.data.trackInfo),"gopInfo"===n.data.action&&((e,t)=>{t.gopInfo=e.data.gopInfo})(n,b),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&u(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&c(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&A(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&d([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&h(n.data.caption),"endedtimeline"===n.data.action&&(w=!1,f()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(w||(t.onmessage=null,(({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)})({transmuxedData:b,callback:p}),dI(t))))},t.onerror=()=>{const e={message:"Received an error message from the transmuxer worker",metadata:{errorType:IT.Error.StreamingFailedToTransmuxSegment,segmentInfo:tU({segment:v})}};p(null,e)},i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==s&&t.postMessage({action:"setRemux",remux:s}),n.byteLength){const e=n instanceof ArrayBuffer?n:n.buffer,i=n instanceof ArrayBuffer?0:n.byteOffset;y({type:"segmenttransmuxingstart",segment:v}),t.postMessage({action:"push",data:e,byteOffset:i,byteLength:n.byteLength},[e])}m&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},dI=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():AI(e.currentTransmux))},hI=(e,t)=>{e.postMessage({action:t}),dI(e)},pI=(e,t)=>{if(!t.currentTransmux)return t.currentTransmux=e,void hI(t,e);t.transmuxQueue.push(hI.bind(null,t,e))},fI=e=>{if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void AI(e);e.transmuxer.transmuxQueue.push(e)};var gI=e=>{pI("reset",e)},mI=e=>{const t=new cI;t.currentTransmux=null,t.transmuxQueue=[];const n=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)),t.postMessage({action:"init",options:e}),t};const vI=function(e){const t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=iw({},e,{endAction:null,transmuxer:null,callback:null}),s=r=>{r.data.action===n&&(t.removeEventListener("message",s),r.data.data&&(r.data.data=new Uint8Array(r.data.data,e.byteOffset||0,e.byteLength||r.data.data.byteLength),e.data&&(e.data=r.data.data)),i(r.data))};if(t.addEventListener("message",s),e.data){const n=e.data instanceof ArrayBuffer;r.byteOffset=n?0:e.data.byteOffset,r.byteLength=e.data.byteLength;const i=[n?e.data:e.data.buffer];t.postMessage(r,i)}else t.postMessage(r)},yI=2,bI=-101,wI=-102,CI="wvtt",xI=e=>{e.forEach((e=>{e.abort()}))},BI=(e,t)=>{const{requestType:n}=t,i=bE({requestType:n,request:t,error:e});return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:bI,xhr:t,metadata:i}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:wI,xhr:t,metadata:i}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:yI,xhr:t,metadata:i}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:yI,xhr:t,metadata:i}:null},SI=(e,t,n,i)=>(r,s)=>{const o=s.response,a=BI(r,s);if(a)return n(a,e);if(16!==o.byteLength)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:yI,xhr:s},e);const l=new DataView(o),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=u;const c={uri:s.uri};return i({type:"segmentkeyloadcomplete",segment:e,keyInfo:c}),n(null,e)},_I=(e,t)=>{const n=px(e.map.bytes);if("mp4"!==n){const i=e.map.resolvedUri||e.map.uri,r=n||"unknown";return t({internal:!0,message:`Found unsupported ${r} container for initialization segment at URL: ${i}`,code:yI,metadata:{mediaType:r}})}vI({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:n,data:i})=>(e.map.bytes=i,n.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale),"text"===t.type&&((e,t)=>{t===CI&&e.transmuxer.postMessage({action:"initMp4WebVttParser",data:e.map.bytes})})(e,t.codec))})),t(null))})},kI=({segment:e,finishProcessingFn:t,responseType:n,triggerSegmentEventFn:i})=>(r,s)=>{const o=BI(r,s);if(o)return t(o,e);i({type:"segmentloaded",segment:e});const a="arraybuffer"!==n&&s.responseText?(e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer})(s.responseText.substring(e.lastReachedChar||0)):s.response;return e.stats=(e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}))(s),e.key?e.encryptedBytes=new Uint8Array(a):e.bytes=new Uint8Array(a),t(null,e)},TI=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h})=>{const p=e.map&&e.map.tracks||{},f=Boolean(p.audio&&p.video);let g=i.bind(null,e,"audio","start");const m=i.bind(null,e,"audio","end");let v=i.bind(null,e,"video","start");const y=i.bind(null,e,"video","end");vI({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:i=>{e.bytes=t=i.data;const p=i.result;p&&(n(e,{hasAudio:p.hasAudio,hasVideo:p.hasVideo,isMuxed:f}),n=null),fI({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:f,onData:t=>{t.type="combined"===t.type?"video":t.type,c(e,t)},onTrackInfo:t=>{n&&(f&&(t.isMuxed=!0),n(e,t))},onAudioTimingInfo:e=>{g&&void 0!==e.start&&(g(e.start),g=null),m&&void 0!==e.end&&m(e.end)},onVideoTimingInfo:e=>{v&&void 0!==e.start&&(v(e.start),v=null),y&&void 0!==e.end&&y(e.end)},onVideoSegmentTimingInfo:t=>{const n={pts:{start:t.start.presentation,end:t.end.presentation},dts:{start:t.start.decode,end:t.end.decode}};h({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),r(t)},onAudioSegmentTimingInfo:t=>{const n={pts:{start:t.start.pts,end:t.end.pts},dts:{start:t.start.dts,end:t.end.dts}};h({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),s(t)},onId3:(t,n)=>{o(e,t,n)},onCaptions:t=>{a(e,[t])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:d,onDone:(t,n)=>{A&&(t.type="combined"===t.type?"video":t.type,h({type:"segmenttransmuxingcomplete",segment:e}),A(n,e,t))},segment:e,triggerSegmentEventFn:h})}})},EI=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h})=>{let p=new Uint8Array(t);if(function(e){return JC(e,["moof"]).length>0}(p)){e.isFmp4=!0;const{tracks:r}=e.map;if(r.text&&(!r.audio||!r.video))return c(e,{data:p,type:"text"}),void((e,t,n)=>{t===CI&&vI({action:"getMp4WebVttText",data:e.bytes,transmuxer:e.transmuxer,callback:({data:t,mp4VttCues:i})=>{e.bytes=t,n(null,e,{mp4VttCues:i})}})})(e,r.text.codec,A);const s={isFmp4:!0,hasVideo:!!r.video,hasAudio:!!r.audio};r.audio&&r.audio.codec&&"enca"!==r.audio.codec&&(s.audioCodec=r.audio.codec),r.video&&r.video.codec&&"encv"!==r.video.codec&&(s.videoCodec=r.video.codec),r.video&&r.audio&&(s.isMuxed=!0),n(e,s);const l=(t,n)=>{c(e,{data:p,type:s.hasAudio&&!s.isMuxed?"audio":"video"}),n&&n.length&&o(e,n),t&&t.length&&a(e,t),A(null,e,{})};vI({action:"probeMp4StartTime",timescales:e.map.timescales,data:p,transmuxer:e.transmuxer,callback:({data:n,startTime:o})=>{t=n.buffer,e.bytes=p=n,s.hasAudio&&!s.isMuxed&&i(e,"audio","start",o),s.hasVideo&&i(e,"video","start",o),vI({action:"probeEmsgID3",data:p,transmuxer:e.transmuxer,offset:o,callback:({emsgData:n,id3Frames:i})=>{t=n.buffer,e.bytes=p=n,r.video&&n.byteLength&&e.transmuxer?vI({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:p,timescales:e.map.timescales,trackIds:[r.video.id],callback:n=>{t=n.data.buffer,e.bytes=p=n.data,n.logs.forEach((function(e){d(jT(e,{stream:"mp4CaptionParser"}))})),l(n.captions,i)}}):l(void 0,i)}})}})}else if(e.transmuxer){if(void 0===e.container&&(e.container=px(p)),"ts"!==e.container&&"aac"!==e.container)return n(e,{hasAudio:!1,hasVideo:!1}),void A(null,e,{});TI({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h})}else A(null,e,{})},II=function({id:e,key:t,encryptedBytes:n,decryptionWorker:i,segment:r,doneFn:s},o){const a=t=>{if(t.data.source===e){i.removeEventListener("message",a);const e=t.data.decrypted;o(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};let l;i.onerror=()=>{const e="An error occurred in the decryption worker",t=tU({segment:r}),n={message:e,metadata:{error:new Error(e),errorType:IT.Error.StreamingFailedToDecryptSegment,segmentInfo:t,keyInfo:{uri:r.key.resolvedUri||r.map.key.resolvedUri}}};s(n,r)},i.addEventListener("message",a),l=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),i.postMessage(HE({source:e,encrypted:n,key:l,iv:t.iv}),[n.buffer,l.buffer])},UI=({activeXhrs:e,decryptionWorker:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h})=>{let p=0,f=!1;return(g,m)=>{if(!f){if(g)return f=!0,xI(e),A(g,m);if(p+=1,p===e.length){const p=function(){if(m.encryptedBytes)return(({decryptionWorker:e,segment:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h})=>{h({type:"segmentdecryptionstart"}),II({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e,segment:t,doneFn:A},(e=>{t.bytes=e,h({type:"segmentdecryptioncomplete",segment:t}),EI({segment:t,bytes:t.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h})}))})({decryptionWorker:t,segment:m,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h});EI({segment:m,bytes:m.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:A,onTransmuxerLog:d,triggerSegmentEventFn:h})};if(m.endOfAllRequests=Date.now(),m.map&&m.map.encryptedBytes&&!m.map.bytes)return h({type:"segmentdecryptionstart",segment:m}),II({decryptionWorker:t,id:m.requestId+"-init",encryptedBytes:m.map.encryptedBytes,key:m.map.key,segment:m,doneFn:A},(t=>{m.map.bytes=t,h({type:"segmentdecryptioncomplete",segment:m}),_I(m,(t=>{if(t)return xI(e),A(t,m);p()}))}));p()}}}},FI=({segment:e,progressFn:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:o,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>n=>{if(!n.target.aborted)return e.stats=jT(e.stats,(e=>{const t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n})(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)},DI=({xhr:e,xhrOptions:t,decryptionWorker:n,segment:i,abortFn:r,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:A,isEndOfTimeline:d,endedTimelineFn:h,dataFn:p,doneFn:f,onTransmuxerLog:g,triggerSegmentEventFn:m})=>{const v=[],y=UI({activeXhrs:v,decryptionWorker:n,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:A,isEndOfTimeline:d,endedTimelineFn:h,dataFn:p,doneFn:f,onTransmuxerLog:g,triggerSegmentEventFn:m});if(i.key&&!i.key.bytes){const n=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&n.push(i.map.key);const r=jT(t,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),s=SI(i,n,y,m);m({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.key.resolvedUri}});const o=e(r,s);v.push(o)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const n=jT(t,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),r=SI(i,[i.map.key],y,m);m({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.map.key.resolvedUri}});const s=e(n,r);v.push(s)}const n=jT(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:jE(i.map),requestType:"segment-media-initialization"}),r=(({segment:e,finishProcessingFn:t,triggerSegmentEventFn:n})=>(i,r)=>{const s=BI(i,r);if(s)return t(s,e);const o=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:e}),e.map.key)return e.map.encryptedBytes=o,t(null,e);e.map.bytes=o,_I(e,(function(n){if(n)return n.xhr=r,n.status=r.status,t(n,e);t(null,e)}))})({segment:i,finishProcessingFn:y,triggerSegmentEventFn:m});m({type:"segmentloadstart",segment:i});const s=e(n,r);v.push(s)}const b=jT(t,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:jE(i),requestType:"segment"}),w=kI({segment:i,finishProcessingFn:y,responseType:b.responseType,triggerSegmentEventFn:m});m({type:"segmentloadstart",segment:i});const C=e(b,w);C.addEventListener("progress",FI({segment:i,progressFn:s,trackInfoFn:o,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:A,isEndOfTimeline:d,endedTimelineFn:h,dataFn:p})),v.push(C);const x={};return v.forEach((e=>{e.addEventListener("loadend",(({loadendState:e,abortFn:t})=>n=>{n.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)})({loadendState:x,abortFn:r}))})),()=>xI(v)},LI=MT("PlaylistSelector"),OI=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},NI=function(e,t){if(!e)return"";const n=Xb().getComputedStyle(e);return n?n[t]:""},MI=function(e,t){const n=e.slice();e.sort((function(e,i){const r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},jI=function(e,t){let n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||Xb().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||Xb().Number.MAX_VALUE,n-i};let RI=function(e){const{main:t,bandwidth:n,playerWidth:i,playerHeight:r,playerObjectFit:s,limitRenditionByPlayerDimensions:o,playlistController:a}=e;if(!t)return;const l={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:o};let u=t.playlists;dE.isAudioOnly(t)&&(u=a.getAudioTrackPlaylists_(),l.audioOnly=!0);let c=u.map((e=>{let t;const n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return t=e.attributes&&e.attributes.BANDWIDTH,t=t||Xb().Number.MAX_VALUE,{bandwidth:t,width:n,height:i,playlist:e}}));MI(c,((e,t)=>e.bandwidth-t.bandwidth)),c=c.filter((e=>!dE.isIncompatible(e.playlist)));let A=c.filter((e=>dE.isEnabled(e.playlist)));A.length||(A=c.filter((e=>!dE.isDisabled(e.playlist))));const d=A.filter((e=>e.bandwidth*rI.BANDWIDTH_VARIANCE<n));let h=d[d.length-1];const p=d.filter((e=>e.bandwidth===h.bandwidth))[0];if(!1===o){const e=p||A[0]||c[0];if(e&&e.playlist){let t="sortedPlaylistReps";return p&&(t="bandwidthBestRep"),A[0]&&(t="enabledPlaylistReps"),LI(`choosing ${OI(e)} using ${t} with options`,l),e.playlist}return LI("could not choose a playlist with options",l),null}const f=d.filter((e=>e.width&&e.height));MI(f,((e,t)=>e.width-t.width));const g=f.filter((e=>e.width===i&&e.height===r));h=g[g.length-1];const m=g.filter((e=>e.bandwidth===h.bandwidth))[0];let v,y,b,w;if(m||(v=f.filter((e=>"cover"===s?e.width>i&&e.height>r:e.width>i||e.height>r)),y=v.filter((e=>e.width===v[0].width&&e.height===v[0].height)),h=y[y.length-1],b=y.filter((e=>e.bandwidth===h.bandwidth))[0]),a.leastPixelDiffSelector){const e=f.map((e=>(e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-r),e)));MI(e,((e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff)),w=e[0]}const C=w||b||m||p||A[0]||c[0];if(C&&C.playlist){let e="sortedPlaylistReps";return w?e="leastPixelDiffRep":b?e="resolutionPlusOneRep":m?e="resolutionBestRep":p?e="bandwidthBestRep":A[0]&&(e="enabledPlaylistReps"),LI(`choosing ${OI(C)} using ${e} with options`,l),C.playlist}return LI("could not choose a playlist with options",l),null};const QI=function(){let e=this.useDevicePixelRatio&&Xb().devicePixelRatio||1;return isNaN(this.customPixelRatio)||(e=this.customPixelRatio),RI({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(NI(this.tech_.el(),"width"),10)*e,playerHeight:parseInt(NI(this.tech_.el(),"height"),10)*e,playerObjectFit:this.usePlayerObjectFit?NI(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})};function PI(e){try{return new URL(e).pathname.split("/").slice(-2).join("/")}catch(e){return""}}const HI=({inbandTextTracks:e,metadataArray:t,timestampOffset:n,videoDuration:i})=>{if(!t)return;const r=Xb().WebKitDataCue||Xb().VTTCue,s=e.metadataTrack_;if(!s)return;if(t.forEach((e=>{const t=e.cueTime+n;!("number"!=typeof t||Xb().isNaN(t)||t<0)&&t<1/0&&e.frames&&e.frames.length&&e.frames.forEach((e=>{const n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get(){return IT.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get(){return IT.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get(){return IT.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),s.addCue(n)}))})),!s.cues||!s.cues.length)return;const o=s.cues,a=[];for(let e=0;e<o.length;e++)o[e]&&a.push(o[e]);const l=a.reduce(((e,t)=>{const n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),u=Object.keys(l).sort(((e,t)=>Number(e)-Number(t)));u.forEach(((e,t)=>{const n=l[e],r=isFinite(i)?i:e,s=Number(u[t+1])||r;n.forEach((e=>{e.endTime=s}))}))},qI={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},VI=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),zI=(e,t,n)=>{e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,IT.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},KI=function(e,t,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=e&&r.endTime<=t&&n.removeCue(r)},GI=e=>"number"==typeof e&&isFinite(e),WI=1/60,$I=e=>{const{startOfSegment:t,duration:n,segment:i,part:r,playlist:{mediaSequence:s,id:o,segments:a=[]},mediaIndex:l,partIndex:u,timeline:c}=e,A=a.length-1;let d="mediaIndex/partIndex increment";e.getMediaInfoForTime?d=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(d="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(d+=` with independent ${e.independent}`);const h="number"==typeof u,p=e.segment.uri?"segment":"pre-segment",f=h?JT({preloadSegment:i})-1:0;return`${p} [${s+l}/${s+A}]`+(h?` part [${u}/${f}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(h?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${t}]`+` duration [${n}]`+` timeline [${c}]`+` selected by [${d}]`+` playlist [${o}]`},XI=e=>`${e}TimingInfo`,YI=({timelineChangeController:e,currentTimeline:t,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(t===n)return!1;if("audio"===i){const t=e.lastTimelineChange({type:"main"});return!t||t.to!==n}if("main"===i&&r){const t=e.pendingTimelineChange({type:"audio"});return!t||t.to!==n}return!1},JI=e=>{const t=e.pendingSegment_;if(!t)return;if(YI({timelineChangeController:e.timelineChangeController_,currentTimeline:e.currentTimeline_,segmentTimeline:t.timeline,loaderType:e.loaderType_,audioDisabled:e.audioDisabled_})&&(e=>{if(!e)return!1;const t=e.pendingTimelineChange({type:"audio"}),n=e.pendingTimelineChange({type:"main"}),i=t&&n,r=i&&t.to!==n.to;return!(!i||-1===t.from||-1===n.from||!r)})(e.timelineChangeController_)){if((e=>{const t=e.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=e.timelineChangeController_.pendingTimelineChange({type:"main"});return t&&n&&t.to<n.to})(e))return void e.timelineChangeController_.trigger("audioTimelineBehind");e.timelineChangeController_.trigger("fixBadTimelineChange")}},ZI=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+QT,eU=(e,t)=>{if("hls"!==t)return null;const n=(e=>{let t=0;return["video","audio"].forEach((function(n){const i=e[`${n}TimingInfo`];if(!i)return;const{start:r,end:s}=i;let o;"bigint"==typeof r||"bigint"==typeof s?o=Xb().BigInt(s)-Xb().BigInt(r):"number"==typeof r&&"number"==typeof s&&(o=s-r),void 0!==o&&o>t&&(t=o)})),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;const i=e.playlist.targetDuration,r=ZI({segmentDuration:n,maxDuration:2*i}),s=ZI({segmentDuration:n,maxDuration:i}),o=`Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${n} when the reported duration is ${e.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||s?{severity:r?"warn":"info",message:o}:null},tU=({type:e,segment:t})=>{if(!t)return;const n=Boolean(t.key||t.map&&t.map.ke),i=Boolean(t.map&&!t.map.bytes),r=void 0===t.startOfSegment?t.start:t.startOfSegment;return{type:e||t.type,uri:t.resolvedUri||t.uri,start:r,duration:t.duration,isEncrypted:n,isMediaInitialization:i}};class nU extends IT.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",(()=>{this.isEndOfStream_()||(this.ended_=!1)})),this.fetchAtBuffer_=!1,this.logger_=MT(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(`${this.state_} -> ${e}`),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",(()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():JI(this)})),this.sourceUpdater_.on("codecschange",(e=>{this.trigger(iw({type:"codecschange"},e))})),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",(()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():JI(this)})),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",(e=>{this.trigger(iw({type:"timelinechange"},e)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():JI(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():JI(this)}))}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return mI({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Xb().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if("WAITING"!==this.state)return this.pendingSegment_&&(this.pendingSegment_=null),void this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Xb().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&gI(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return RT();if("main"===this.loaderType_){const{hasAudio:t,hasVideo:n,isMuxed:i}=e;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const n=qE(e);let i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,t=!1){if(!e)return null;const n=VE(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;if(this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_(`playlist update [${r} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:\ncurrentTime: ${this.currentTime_()}\nbufferedEnd: ${GT(this.buffered_())}\n`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){if(null!==this.mediaIndex){!e.endList&&"number"==typeof e.partTargetDuration?this.resetLoader():this.resyncLoader()}return this.currentMediaInfo_=void 0,void this.trigger("playlistupdate")}const s=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${s}]`),null!==this.mediaIndex)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){const e=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=e}}i&&(i.mediaIndex-=s,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(Xb().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&gI(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;"hls"===this.sourceType_&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,n=()=>{},i=!1){if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let r=1;const s=()=>{r--,0===r&&n()};!i&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,s)),(i||"main"===this.loaderType_)&&(this.gopBuffer_=((e,t,n,i)=>{const r=Math.ceil((t-i)*fx.ONE_SECOND_IN_TS),s=Math.ceil((n-i)*fx.ONE_SECOND_IN_TS),o=e.slice();let a=e.length;for(;a--&&!(e[a].pts<=s););if(-1===a)return o;let l=a+1;for(;l--&&!(e[l].pts<=r););return l=Math.max(l,0),o.splice(l,a-l+1),o})(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,s));for(const n in this.inbandTextTracks_)KI(e,t,this.inbandTextTracks_[n]);KI(e,t,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&Xb().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Xb().setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&Xb().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Xb().setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const t={segmentInfo:tU({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),"number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,n=this.partIndex){if(!t||!this.mediaSource_)return!1;const i="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,s=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&s}chooseNextRequest_(){const e=this.buffered_(),t=GT(e)||0,n=WT(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(o.isSyncRequest)o.mediaIndex=function(e,t,n){t=t||[];const i=[];let r=0;for(let s=0;s<t.length;s++){const o=t[s];if(e===o.timeline&&(i.push(s),r+=o.duration,r>n))return s}return 0===i.length?0:i[i.length-1]}(this.currentTimeline_,s,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(null!==this.mediaIndex){const e=s[this.mediaIndex],n="number"==typeof this.partIndex?this.partIndex:-1;o.startOfSegment=e.end?e.end:t,e.parts&&e.parts[n+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=n+1):o.mediaIndex=this.mediaIndex+1}else{let e,n,i;const r=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ${r}.\nCurrentTime: ${this.currentTime_()}\nBufferedEnd: ${t}\nFetch At Buffer: ${this.fetchAtBuffer_}\n`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const t=this.getSyncInfoFromMediaSequenceSync_(r);if(!t){const e="No sync info found while using media sequence sync";return this.error({message:e,metadata:{errorType:IT.Error.StreamingFailedToSelectNextSegment,error:new Error(e)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${t.start} --\x3e ${t.end})`),e=t.segmentIndex,n=t.partIndex,i=t.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const t=dE.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:r,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});e=t.segmentIndex,n=t.partIndex,i=t.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${r}`:`currentTime ${r}`,o.mediaIndex=e,o.startOfSegment=i,o.partIndex=n,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const a=s[o.mediaIndex];let l=a&&"number"==typeof o.partIndex&&a.parts&&a.parts[o.partIndex];if(!a||"number"==typeof o.partIndex&&!l)return null;"number"!=typeof o.partIndex&&a.parts&&(o.partIndex=0,l=a.parts[0]);const u=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&l&&!u&&!l.independent)if(0===o.partIndex){const e=s[o.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.independent&&(o.mediaIndex-=1,o.partIndex=e.parts.length-1,o.independent="previous segment")}else a.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const c=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return o.mediaIndex>=s.length-1&&c&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:t,playlist:n,mediaIndex:i,startOfSegment:r,isSyncRequest:s,partIndex:o,forceTimestampOffset:a,getMediaInfoForTime:l}=e,u=n.segments[i],c="number"==typeof o&&u.parts[o],A={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||u.resolvedUri,mediaIndex:i,partIndex:c?o:null,isSyncRequest:s,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:c&&c.duration||u.duration,segment:u,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},d=void 0!==a?a:this.isPendingTimestampOffset_;A.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:d});const h=GT(this.sourceUpdater_.audioBuffered());return"number"==typeof h&&(A.audioAppendStart=h-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(A.gopsToAlignWith=((e,t,n)=>{if(null==t||!e.length)return[];const i=Math.ceil((t-n+3)*fx.ONE_SECOND_IN_TS);let r;for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),A}timestampOffsetForSegment_(e){return(({segmentTimeline:e,currentTimeline:t,startOfSegment:n,buffered:i,overrideCheck:r})=>r||e!==t?e<t?n:i.length?i.end(i.length-1):n:null)(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=dE.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),s=function(e,t,n=1){return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(r<=s)return;const o=function(e){const{main:t,currentTime:n,bandwidth:i,duration:r,segmentDuration:s,timeUntilRebuffer:o,currentTimeline:a,syncController:l}=e,u=t.playlists.filter((e=>!dE.isIncompatible(e)));let c=u.filter(dE.isEnabled);c.length||(c=u.filter((e=>!dE.isDisabled(e))));const A=c.filter(dE.hasAttribute.bind(null,"BANDWIDTH")).map((e=>{const t=l.getSyncPoint(e,r,a,n)?1:2;return{playlist:e,rebufferingImpact:dE.estimateSegmentRequestTime(s,i,e)*t-o}})),d=A.filter((e=>e.rebufferingImpact<=0));return MI(d,((e,t)=>jI(t.playlist,e.playlist))),d.length?d[0]:(MI(A,((e,t)=>e.rebufferingImpact-t.rebufferingImpact)),A[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const a=r-s-o.rebufferingImpact;let l=.5;s<=QT&&(l=1),!o.playlist||o.playlist.uri===this.playlist_.uri||a<l||(this.bandwidth=o.playlist.attributes.BANDWIDTH*rI.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${$I(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){const{hasAudio:n,hasVideo:i}=t,r={segmentInfo:tU({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:r}),this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(s!==i[r])return!1;if(e[s]!==t[s])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():JI(this)))}handleTimingInfo_(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,s=XI(t);r[s]=r[s]||{},r[s][n]=i,this.logger_(`timinginfo: ${t} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():JI(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));const n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach((e=>{i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};const t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+n),t.endTime=Math.max(t.endTime,e.endTime+n),t.captions.push(e)})),Object.keys(i).forEach((e=>{const{startTime:t,endTime:r,captions:s}=i[e],o=this.inbandTextTracks_;this.logger_(`adding cues from ${t} -> ${r} for ${e}`),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{let r=n,s=n,o=!1;const a=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i];a&&(r=a.label,s=a.language,o=a.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:o,label:r,language:s},!1).track}}}(o,this.vhs_.tech_,e),KI(t,r,o[e]),function({inbandTextTracks:e,captionArray:t,timestampOffset:n}){if(!t)return;const i=Xb().WebKitDataCue||Xb().VTTCue;t.forEach((t=>{const r=t.stream;t.content?t.content.forEach((s=>{const o=new i(t.startTime+n,t.endTime+n,s.text);o.line=s.line,o.align="left",o.position=s.position,o.positionAlign="line-left",e[r].addCue(o)})):e[r].addCue(new i(t.startTime+n,t.endTime+n,t.text))}))}({captionArray:s,inbandTextTracks:o,timestampOffset:n})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(n,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))}processMetadataQueue_(){this.metadataQueue_.id3.forEach((e=>e())),this.metadataQueue_.caption.forEach((e=>e())),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach((e=>e()))}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach((e=>e()))}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!YI({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:n,hasVideo:i,isMuxed:r}=t;return!(i&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo)&&!YI({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return JI(this),void this.callQueue_.push(this.handleData_.bind(this,e,t));const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[XI(t.type)].start;else{const e=this.getCurrentMediaInfo_(),t="main"===this.loaderType_&&e&&e.hasVideo;let i;t&&(i=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:t,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});const e=this.chooseNextRequest_();if(e.mediaIndex!==n.mediaIndex||e.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:n,playlist:i}){if(n){const e=qE(n);if(this.activeInitSegmentId_===e)return null;t=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=e}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n},i){const r=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();r.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+KT(r).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+KT(s).join(", "));const o=r.length?r.start(0):0,a=r.length?r.end(r.length-1):0,l=s.length?s.start(0):0,u=s.length?s.end(s.length-1):0;if(a-o<=1&&u-l<=1)return this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${KT(r).join(", ")}, video buffer: ${KT(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:n}));const c=this.currentTime_()-1;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${c}`),this.remove(0,c,(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=Xb().setTimeout((()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()}),1e3)}),!0)}handleAppendError_({segmentInfo:e,type:t,bytes:n},i){i&&(22!==i.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${t} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:IT.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n}))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:n,data:i,bytes:r}){if(!r){const e=[i];let t=i.byteLength;n&&(e.unshift(n),t+=n.byteLength),r=(e=>{let t,n=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach((e=>{t.set(e,n),n+=e.byteLength}))),t})({bytes:t,segments:e})}const s={segmentInfo:tU({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:s}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:r}))}handleSegmentTimingInfo_(e,t,n){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,r=`${e}TimingInfo`;i[r]||(i[r]={}),i[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[r].transmuxedPresentationStart=n.start.presentation,i[r].transmuxedDecodeStart=n.start.decode,i[r].transmuxedPresentationEnd=n.end.presentation,i[r].transmuxedDecodeEnd=n.end.decode,i[r].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,t){const{type:n,data:i}=t;if(!i||!i.byteLength)return;if("audio"===n&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_())return JI(this),void this.loadQueue_.push((()=>{const t=iw({},e,{forceTimestampOffset:!0});iw(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)}));this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,r=e.timeline!==this.currentTimeline_&&e.timeline>0,s=n||i&&r;this.logger_(`Requesting\n${PI(e.uri)}\n${$I(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=DI({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:t,level:n,stream:i})=>{this.logger_(`${$I(e)} logged from transmuxer stream ${i} as a ${n}: ${t}`)},triggerSegmentEventFn:({type:e,segment:t,keyInfo:n,trackInfo:i,timingInfo:r})=>{const s={segmentInfo:tU({segment:t})};n&&(s.keyInfo=n),i&&(s.trackInfo=i),r&&(s.timingInfo=r),this.trigger({type:e,metadata:s})}})}trimBackBuffer_(e){const t=((e,t,n)=>{let i=t-rI.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));const r=t-n;return Math.min(r,i)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,r=e.segment.map&&!e.segment.map.bytes,s={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:r},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===t.timeline&&(o.videoTimingInfo?s.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(s.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),t.key){const n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);s.key=this.segmentKey(t.key),s.key.iv=n}return t.map&&(s.map=this.initSegmentForMap(t.map)),s}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<WI)return void this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record 0.016666666666666666`);const n={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,n){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return;if(t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===wI)return;return this.pause(),e.code===bI?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=((e,t,n)=>{if(!t.length)return e;if(n)return t.slice();const i=t[0].pts;let r=0;for(;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)})(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:r,useVideoTimingInfo:s,videoTimingInfo:o,audioTimingInfo:a}){if(void 0!==e)return e;if(!s)return a.start;const l=t.segments[n-1];return 0!==n&&l&&void 0!==l.start&&l.end===i+r?o.start:i}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:n,hasVideo:i,isMuxed:r}=t,s="main"===this.loaderType_&&i,o=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);s&&e.waitingOnAppends++,o&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=((e,t,n)=>"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(e){if(null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_)return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const e={segmentInfo:tU({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:e})}if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});const t=eU(e,this.sourceType_);if(t&&("warn"===t.severity?IT.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${$I(e)}`);this.logger_(`Appended ${$I(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,r=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,s=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration;if(r||s)return this.logger_(`bad ${r?"segment":"part"} ${$I(e)}`),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<WI)return void this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record 0.016666666666666666`);const t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,n=t.start,i=t.end;if(!GI(n)||!GI(i))return;KI(n,i,this.segmentMetadataTrack_);const r=Xb().WebKitDataCue||Xb().VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},o=new r(n,i,JSON.stringify(s));o.value=s,this.segmentMetadataTrack_.addCue(o)}}function iU(){}const rU=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},sU=["video","audio"],oU=(e,t)=>{const n=t[`${e}Buffer`];return n&&n.updating||t.queuePending[e]},aU=(e,t)=>{if(0===t.queue.length)return;let n=0,i=t.queue[n];if("mediaSource"!==i.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!oU(e,t)){if(i.type!==e){if(n=((e,t)=>{for(let n=0;n<t.length;n++){const i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null})(e,t.queue),null===n)return;i=t.queue[n]}return t.queue.splice(n,1),t.queuePending[e]=i,i.action(e,t),i.doneFn?void 0:(t.queuePending[e]=null,void aU(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),i.action(t),i.doneFn&&i.doneFn(),aU("audio",t),aU("video",t))},lU=(e,t)=>{const n=t[`${e}Buffer`],i=rU(e);n&&(n.removeEventListener("updateend",t[`on${i}UpdateEnd_`]),n.removeEventListener("error",t[`on${i}Error_`]),t.codecs[e]=null,t[`${e}Buffer`]=null)},uU=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),cU=(e,t,n)=>(i,r)=>{const s=r[`${i}Buffer`];if(uU(r.mediaSource,s)){r.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${i}Buffer`);try{s.appendBuffer(e)}catch(e){r.logger_(`Error with code ${e.code} `+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${i}Buffer`),r.queuePending[i]=null,n(e)}}},AU=(e,t)=>(n,i)=>{const r=i[`${n}Buffer`];if(uU(i.mediaSource,r)){i.logger_(`Removing ${e} to ${t} from ${n}Buffer`);try{r.remove(e,t)}catch(r){i.logger_(`Remove ${e} to ${t} from ${n}Buffer failed`)}}},dU=e=>(t,n)=>{const i=n[`${t}Buffer`];uU(n.mediaSource,i)&&(n.logger_(`Setting ${t}timestampOffset to ${e}`),i.timestampOffset=e)},hU=e=>(t,n)=>{e()},pU=e=>t=>{if("open"===t.mediaSource.readyState){t.logger_(`Calling mediaSource endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(e){IT.log.warn("Failed to call media source endOfStream",e)}}},fU=e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(e){IT.log.warn("Failed to set media source duration",e)}},gU=()=>(e,t)=>{if("open"!==t.mediaSource.readyState)return;const n=t[`${e}Buffer`];if(uU(t.mediaSource,n)){t.logger_(`calling abort on ${e}Buffer`);try{n.abort()}catch(t){IT.log.warn(`Failed to abort on ${e}Buffer`,t)}}},mU=(e,t)=>n=>{const i=rU(e),r=xw(t);n.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const s=n.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",n[`on${i}UpdateEnd_`]),s.addEventListener("error",n[`on${i}Error_`]),n.codecs[e]=t,n[`${e}Buffer`]=s},vU=e=>t=>{const n=t[`${e}Buffer`];if(lU(e,t),uU(t.mediaSource,n)){t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(n)}catch(t){IT.log.warn(`Failed to removeSourceBuffer ${e}Buffer`,t)}}},yU=e=>(t,n)=>{const i=n[`${t}Buffer`],r=xw(e);if(!uU(n.mediaSource,i))return;const s=e.substring(0,e.indexOf(".")),o=n.codecs[t];if(o.substring(0,o.indexOf("."))===s)return;const a={codecsChangeInfo:{from:o,to:e}};n.trigger({type:"codecschange",metadata:a}),n.logger_(`changing ${t}Buffer codec from ${o} to ${e}`);try{i.changeType(r),n.codecs[t]=e}catch(e){a.errorType=IT.Error.StreamingCodecsChangeError,a.error=e,e.metadata=a,n.error_=e,n.trigger("error"),IT.log.warn(`Failed to changeType on ${t}Buffer`,e)}},bU=({type:e,sourceUpdater:t,action:n,doneFn:i,name:r})=>{t.queue.push({type:e,action:n,doneFn:i,name:r}),aU(e,t)},wU=(e,t)=>n=>{const i=function(e){if(0===e.length)return"Buffered Ranges are empty";let t="Buffered Ranges: \n";for(let n=0;n<e.length;n++){const i=e.start(n),r=e.end(n);t+=`${i} --\x3e ${r}. Duration (${r-i})\n`}return t}(t[`${e}Buffered`]());if(t.logger_(`received "updateend" event for ${e} Source Buffer: `,i),t.queuePending[e]){const n=t.queuePending[e].doneFn;t.queuePending[e]=null,n&&n(t[`${e}Error_`])}aU(e,t)};class CU extends IT.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>aU("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=MT("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=wU("video",this),this.onAudioUpdateEnd_=wU("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){bU({type:"mediaSource",sourceUpdater:this,action:mU(e,t),name:"addSourceBuffer"})}abort(e){bU({type:e,sourceUpdater:this,action:gU(e),name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?bU({type:"mediaSource",sourceUpdater:this,action:vU(e),name:"removeSourceBuffer"}):IT.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!IT.browser.IS_FIREFOX&&Xb().MediaSource&&Xb().MediaSource.prototype&&"function"==typeof Xb().MediaSource.prototype.removeSourceBuffer}static canChangeType(){return Xb().SourceBuffer&&Xb().SourceBuffer.prototype&&"function"==typeof Xb().SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?bU({type:e,sourceUpdater:this,action:yU(t),name:"changeType"}):IT.log.error("changeType is not supported!")}addOrChangeSourceBuffers(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((t=>{const n=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,n);this.canChangeType()&&this.changeType(t,n)}))}appendBuffer(e,t){const{segmentInfo:n,type:i,bytes:r}=e;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_(`delayed audio append of ${r.length} until video append`);if(bU({type:i,sourceUpdater:this,action:cU(r,n||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const e=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${e.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,e.forEach((e=>{this.appendBuffer.apply(this,e)}))}}audioBuffered(){return uU(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:RT()}videoBuffered(){return uU(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:RT()}buffered(){const e=uU(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=uU(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){let n=null,i=null,r=0;const s=[],o=[];if(!(e&&e.length&&t&&t.length))return RT();let a=e.length;for(;a--;)s.push({time:e.start(a),type:"start"}),s.push({time:e.end(a),type:"end"});for(a=t.length;a--;)s.push({time:t.start(a),type:"start"}),s.push({time:t.end(a),type:"end"});for(s.sort((function(e,t){return e.time-t.time})),a=0;a<s.length;a++)"start"===s[a].type?(r++,2===r&&(n=s[a].time)):"end"===s[a].type&&(r--,1===r&&(i=s[a].time)),null!==n&&null!==i&&(o.push([n,i]),n=null,i=null);return RT(o)}(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=iU){bU({type:"mediaSource",sourceUpdater:this,action:fU(e),name:"duration",doneFn:t})}endOfStream(e=null,t=iU){"string"!=typeof e&&(e=void 0),bU({type:"mediaSource",sourceUpdater:this,action:pU(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,n=iU){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?bU({type:"audio",sourceUpdater:this,action:AU(e,t),doneFn:n,name:"remove"}):n()}removeVideo(e,t,n=iU){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?bU({type:"video",sourceUpdater:this,action:AU(e,t),doneFn:n,name:"remove"}):n()}updating(){return!(!oU("audio",this)&&!oU("video",this))}audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(bU({type:"audio",sourceUpdater:this,action:dU(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(bU({type:"video",sourceUpdater:this,action:dU(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&bU({type:"audio",sourceUpdater:this,action:hU(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&bU({type:"video",sourceUpdater:this,action:hU(e),name:"callback"})}dispose(){this.trigger("dispose"),sU.forEach((e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`]((()=>lU(e,this)))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const xU=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),BU=new Uint8Array("\n\n".split("").map((e=>e.charCodeAt(0))));class SU extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class _U extends nU{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return RT();const e=this.subtitlesTrack_.cues;return RT([[e[0].startTime,e[e.length-1].startTime]])}initSegmentForMap(e,t=!1){if(!e)return null;const n=qE(e);let i=this.initSegments_[n];if(t&&!i&&e.bytes){const t=BU.byteLength+e.bytes.byteLength,r=new Uint8Array(t);r.set(e.bytes),r.set(BU,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:r}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){KI(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){const e=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};return this.syncController_.one("timestampoffset",e),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,n){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===bI&&this.handleTimeout_(),e.code===wI?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);const i=this.pendingSegment_,r=n.mp4VttCues&&n.mp4VttCues.length;r&&(i.mp4VttCues=n.mp4VttCues),this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!=typeof Xb().WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((()=>this.segmentRequestFinished_(e,t,n)),(()=>this.stopForError({message:"Error loading vtt.js"})));s.requested=!0;try{this.parseVTTCues_(i)}catch(e){return void this.stopForError({message:e.message,metadata:{errorType:IT.Error.StreamingVttParserError,error:e}})}if(r||this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach((e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new(Xb().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){const t=e.cues;if(!t)return;const n={};for(let i=t.length-1;i>=0;i--){const r=t[i],s=`${r.startTime}-${r.endTime}-${r.text}`;n[s]?e.removeCue(r):n[s]=r}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,t){const n=e&&"vtt"===e.type,i=t&&"text"===t.type;n&&i&&super.handleData_(e,t)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const t=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach((n=>{const i=n.start+t,r=n.end+t,s=new(Xb().VTTCue)(i,r,n.cueText);n.settings&&n.settings.split(" ").forEach((e=>{const t=e.split(":"),n=t[0],i=t[1];s[n]=isNaN(i)?i:Number(i)})),e.cues.push(s)}))}parseVTTCues_(e){let t,n=!1;if("function"!=typeof Xb().WebVTT)throw new SU;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues)return void this.parseMp4VttCues_(e);"function"==typeof Xb().TextDecoder?t=new(Xb().TextDecoder)("utf8"):(t=Xb().WebVTT.StringDecoder(),n=!0);const i=new(Xb().WebVTT.Parser)(Xb(),Xb().vttjs,t);if(i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=t=>{e.timestampmap=t},i.onparsingerror=e=>{IT.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){let t=e.segment.map.bytes;n&&(t=xU(t)),i.parse(t)}let r=e.bytes;n&&(r=xU(r)),i.parse(r),i.flush()}updateTimeMapping_(e,t,n){const i=e.segment;if(!t)return;if(!e.cues.length)return void(i.empty=!0);const{MPEGTS:r,LOCAL:s}=e.timestampmap,o=r/fx.ONE_SECOND_IN_TS-s+t.mapping;if(e.cues.forEach((e=>{const n=e.endTime-e.startTime,i=this.handleRollover_(e.startTime+o,t.time);e.startTime=Math.max(i,0),e.endTime=Math.max(i+n,0)})),!n.syncInfo){const t=e.cues[0].startTime,r=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(t,r-i.duration)}}}handleRollover_(e,t){if(null===t)return e;let n=e*fx.ONE_SECOND_IN_TS;const i=t*fx.ONE_SECOND_IN_TS;let r;for(r=i<n?-8589934592:8589934592;Math.abs(n-i)>4294967296;)n+=r;return n/fx.ONE_SECOND_IN_TS}}const kU=function(e,t){const n=e.cues;for(let e=0;e<n.length;e++){const i=n[e];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null};class TU{constructor({start:e,end:t,segmentIndex:n,partIndex:i=null,appended:r=!1}){this.start_=e,this.end_=t,this.segmentIndex_=n,this.partIndex_=i,this.appended_=r}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class EU{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach((e=>e.resetAppendedStatus()))}}class IU{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach((e=>e.resetAppendStatus()))}update(e,t){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,i,t))}getSyncInfoForTime(e){for(const{segmentSyncInfo:t,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const t of n)if(t.isInRange(e))return t}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,n){const i=new Map;let r="\n",s=n,o=t;this.start_=s,e.forEach(((e,t)=>{const n=this.storage_.get(o),a=s,l=a+e.duration,u=Boolean(n&&n.segmentSyncInfo&&n.segmentSyncInfo.isAppended),c=new TU({start:a,end:l,appended:u,segmentIndex:t});e.syncInfo=c;let A=s;const d=(e.parts||[]).map(((e,i)=>{const s=A,a=A+e.duration,l=Boolean(n&&n.partsSyncInfo&&n.partsSyncInfo[i]&&n.partsSyncInfo[i].isAppended),u=new TU({start:s,end:a,appended:l,segmentIndex:t,partIndex:i});return A=a,r+=`Media Sequence: ${o}.${i} | Range: ${s} --\x3e ${a} | Appended: ${l}\n`,e.syncInfo=u,u}));i.set(o,new EU(c,d)),r+=`${PI(e.resolvedUri)} | Media Sequence: ${o} | Range: ${a} --\x3e ${l} | Appended: ${u}\n`,o++,s=l})),this.end_=s,this.storage_=i,this.diagnostics_=r}calculateBaseTime_(e,t,n){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const i=Math.min(...this.storage_.keys());if(e<i){const n=i-e;let r=this.storage_.get(i).segmentSyncInfo.start;for(let e=0;e<n;e++){r-=t[e].duration}return r}return n}isReliablePlaylist_(e,t){return null!=e&&Array.isArray(t)&&t.length}}class UU extends IU{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t,n){if(!this.storage_.size){const t=this.parent_.getSyncInfoForMediaSequence(e);return t?t.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t,n)}}const FU=[{name:"VOD",run:(e,t,n,i,r)=>{if(n!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"MediaSequence",run:(e,t,n,i,r,s)=>{const o=e.getMediaSequenceSync(s);if(!o)return null;if(!o.isReliable)return null;const a=o.getSyncInfoForTime(r);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(e,t,n,i,r)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let s=null,o=null;const a=XT(t);r=r||0;for(let n=0;n<a.length;n++){const i=a[t.endList||0===r?n:a.length-(n+1)],l=i.segment,u=e.timelineToDatetimeMappings[l.timeline];if(!u||!l.dateTimeObject)continue;let c=l.dateTimeObject.getTime()/1e3+u;if(l.parts&&"number"==typeof i.partIndex)for(let e=0;e<i.partIndex;e++)c+=l.parts[e].duration;const A=Math.abs(r-c);if(null!==o&&(0===A||o<A))break;o=A,s={time:c,segmentIndex:i.segmentIndex,partIndex:i.partIndex}}return s}},{name:"Segment",run:(e,t,n,i,r)=>{let s=null,o=null;r=r||0;const a=XT(t);for(let e=0;e<a.length;e++){const n=a[t.endList||0===r?e:a.length-(e+1)],l=n.segment,u=n.part&&n.part.start||l&&l.start;if(l.timeline===i&&void 0!==u){const e=Math.abs(r-u);if(null!==o&&o<e)break;(!s||null===o||o>=e)&&(o=e,s={time:u,segmentIndex:n.segmentIndex,partIndex:n.partIndex})}}return s}},{name:"Discontinuity",run:(e,t,n,i,r)=>{let s=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length){let n=null;for(let i=0;i<t.discontinuityStarts.length;i++){const o=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,l=e.discontinuities[a];if(l){const e=Math.abs(r-l.time);if(null!==n&&n<e)break;(!s||null===n||n>=e)&&(n=e,s={time:l.time,segmentIndex:o,partIndex:null})}}}return s}},{name:"Playlist",run:(e,t,n,i,r)=>{if(t.syncInfo){return{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}}return null}}];class DU extends IT.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const t=new IU,n=new UU(t),i=new UU(t);this.mediaSequenceStorage_={main:t,audio:n,vtt:i},this.logger_=MT("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,n,i,r){if(t!==1/0){return FU.find((({name:e})=>"VOD"===e)).run(this,e,t)}const s=this.runStrategies_(e,t,n,i,r);if(!s.length)return null;for(const t of s){const{syncPoint:n,strategy:r}=t,{segmentIndex:s,time:o}=n;if(s<0)continue;const a=o,l=a+e.segments[s].duration;if(this.logger_(`Strategy: ${r}. Current time: ${i}. selected segment: ${s}. Time: [${a} -> ${l}]}`),i>=a&&i<l)return this.logger_("Found sync point with exact match: ",n),n}return this.selectSyncPoint_(s,{key:"time",value:i})}getExpiredTime(e,t){if(!e||!e.segments)return null;const n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+nE({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,t,n,i,r){const s=[];for(let o=0;o<FU.length;o++){const a=FU[o],l=a.run(this,e,t,n,i,r);l&&(l.strategy=a.name,s.push({strategy:a.name,syncPoint:l}))}return s}selectSyncPoint_(e,t){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy;for(let s=1;s<e.length;s++){const o=Math.abs(e[s].syncPoint[t.key]-t.value);o<i&&(i=o,n=e[s].syncPoint,r=e[s].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${r}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+("number"==typeof n.partIndex?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,t){const n=t.mediaSequence-e.mediaSequence;if(n>86400)IT.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);else for(let i=n-1;i>=0;i--){const n=e.segments[i];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const r=i.dateTimeObject;i.discontinuity&&t&&r&&(this.timelineToDatetimeMappings[i.timeline]=-r.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,n){const i=e.segment,r=e.part;let s,o,a=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),s=e.startOfSegment,o=t.end+a.mapping;else{if(!a)return!1;s=t.start+a.mapping,o=t.end+a.mapping}return r&&(r.start=s,r.end=o),(!i.start||s<i.start)&&(i.start=s),i.end=o,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let i=0;i<t.discontinuityStarts.length;i++){const r=t.discontinuityStarts[i],s=t.discontinuitySequence+i+1,o=r-e.mediaIndex,a=Math.abs(o);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>a){let i;i=o<0?n.start-nE({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):n.end+nE({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[s]={time:i,accuracy:a}}}}dispose(){this.trigger("dispose"),this.off()}}class LU extends IT.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:n}){return"number"==typeof t&&"number"==typeof n&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:n}){if("number"==typeof t&&"number"==typeof n){this.lastTimelineChanges_[e]={type:e,from:t,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:t,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const OU=aI(lI((function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=t.length,o=0;o<s;++o)t[o].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();let t=null;class i{constructor(e){let n,i,r;t||(t=function(){const e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4];let s,o,a;const l=[],u=[];let c,A,d,h,p,f;for(s=0;s<256;s++)u[(l[s]=s<<1^283*(s>>7))^s]=s;for(o=a=0;!i[o];o^=c||1,a=u[a]||1)for(h=a^a<<1^a<<2^a<<3^a<<4,h=h>>8^255&h^99,i[o]=h,r[h]=o,d=l[A=l[c=l[o]]],f=16843009*d^65537*A^257*c^16843008*o,p=257*l[h]^16843008*h,s=0;s<4;s++)t[s][o]=p=p<<24^p>>>8,n[s][h]=f=f<<24^f>>>8;for(s=0;s<5;s++)t[s]=t[s].slice(0),n[s]=n[s].slice(0);return e}()),this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];const s=this._tables[0][4],o=this._tables[1],a=e.length;let l=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");const u=e.slice(0),c=[];for(this._key=[u,c],n=a;n<4*a+28;n++)r=u[n-1],(n%a==0||8===a&&n%a==4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],n%a==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),u[n]=u[n-a]^r;for(i=0;n;i++,n--)r=u[3&i?n:n-4],c[i]=n<=4||i<4?r:o[0][s[r>>>24]]^o[1][s[r>>16&255]]^o[2][s[r>>8&255]]^o[3][s[255&r]]}decrypt(e,t,n,i,r,s){const o=this._key[1];let a,l,u,c=e^o[0],A=i^o[1],d=n^o[2],h=t^o[3];const p=o.length/4-2;let f,g=4;const m=this._tables[1],v=m[0],y=m[1],b=m[2],w=m[3],C=m[4];for(f=0;f<p;f++)a=v[c>>>24]^y[A>>16&255]^b[d>>8&255]^w[255&h]^o[g],l=v[A>>>24]^y[d>>16&255]^b[h>>8&255]^w[255&c]^o[g+1],u=v[d>>>24]^y[h>>16&255]^b[c>>8&255]^w[255&A]^o[g+2],h=v[h>>>24]^y[c>>16&255]^b[A>>8&255]^w[255&d]^o[g+3],g+=4,c=a,A=l,d=u;for(f=0;f<4;f++)r[(3&-f)+s]=C[c>>>24]<<24^C[A>>16&255]<<16^C[d>>8&255]<<8^C[255&h]^o[g++],a=c,c=A,A=d,d=h,h=a}}class r extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const s=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24};class o{constructor(e,t,n,i){const a=o.STEP,l=new Int32Array(e.buffer),u=new Uint8Array(e.byteLength);let c=0;for(this.asyncStream_=new r,this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+a),t,n,u)),c=a;c<l.length;c+=a)n=new Uint32Array([s(l[c-4]),s(l[c-3]),s(l[c-2]),s(l[c-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+a),t,n,u));this.asyncStream_.push((function(){var e;i(null,(e=u).subarray(0,e.byteLength-e[e.byteLength-1]))}))}static get STEP(){return 32e3}decryptChunk_(e,t,n,r){return function(){const o=function(e,t,n){const r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),o=new i(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),l=new Int32Array(a.buffer);let u,c,A,d,h,p,f,g,m;for(u=n[0],c=n[1],A=n[2],d=n[3],m=0;m<r.length;m+=4)h=s(r[m]),p=s(r[m+1]),f=s(r[m+2]),g=s(r[m+3]),o.decrypt(h,p,f,g,l,m),l[m]=s(l[m]^u),l[m+1]=s(l[m+1]^c),l[m+2]=s(l[m+2]^A),l[m+3]=s(l[m+3]^d),u=h,c=p,A=f,d=g;return a}(e,t,n);r.set(o,e.byteOffset)}}}var a,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};a="undefined"!=typeof window?window:void 0!==l?l:"undefined"!=typeof self?self:{};var u=a.BigInt||Number;u("0x1"),u("0x100"),u("0x10000"),u("0x1000000"),u("0x100000000"),u("0x10000000000"),u("0x1000000000000"),u("0x100000000000000"),u("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();const c=function(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];var r;r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t};self.onmessage=function(e){const t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),i=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new o(n,i,r,(function(e,n){self.postMessage(c({source:t.source,decrypted:n}),[n.buffer])}))}})));var NU=oI(OU);const MU=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},jU=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},RU=(e,t)=>{t.activePlaylistLoader=e,e.load()},QU={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:n},excludePlaylist:i}=t,r=n.activeTrack(),s=n.activeGroup(),o=(s.filter((e=>e.default))[0]||s[0]).id,a=n.tracks[o];if(r!==a){IT.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const e in n.tracks)n.tracks[e].enabled=n.tracks[e]===a;n.onTrackChanged()}else i({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:n}}=t;IT.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},PU={AUDIO:(e,t,n)=>{if(!t)return;const{tech:i,requestOptions:r,segmentLoaders:{[e]:s}}=n;t.on("loadedmetadata",(()=>{const e=t.media();s.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&s.load()})),t.on("loadedplaylist",(()=>{s.playlist(t.media(),r),i.paused()||s.load()})),t.on("error",QU[e](e,n))},SUBTITLES:(e,t,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[e]:s},mediaTypes:{[e]:o}}=n;t.on("loadedmetadata",(()=>{const e=t.media();s.playlist(e,r),s.track(o.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&s.load()})),t.on("loadedplaylist",(()=>{s.playlist(t.media(),r),i.paused()||s.load()})),t.on("error",QU[e](e,n))}},HU={AUDIO:(e,t)=>{const{vhs:n,sourceType:i,segmentLoaders:{[e]:r},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[e]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:c}=t,A=AE(c.main);o[e]&&0!==Object.keys(o[e]).length||(o[e]={main:{default:{default:!0}}},A&&(o[e].main.default.playlists=c.main.playlists));for(const r in o[e]){a[r]||(a[r]=[]);for(const d in o[e][r]){let h,p=o[e][r][d];if(A?(u(`AUDIO group '${r}' label '${d}' is a main playlist`),p.isMainPlaylist=!0,h=null):h="vhs-json"===i&&p.playlists?new OE(p.playlists[0],n,s):p.resolvedUri?new OE(p.resolvedUri,n,s):p.playlists&&"dash"===i?new iI(p.playlists[0],n,s,c):null,p=jT({id:d,playlistLoader:h},p),PU[e](e,p.playlistLoader,t),a[r].push(p),void 0===l[d]){const e=new IT.AudioTrack({id:d,kind:MU(p),enabled:!1,language:p.language,default:p.default,label:d});l[d]=e}}}r.on("error",QU[e](e,t))},SUBTITLES:(e,t)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[e]:s},requestOptions:o,main:{mediaGroups:a},mediaTypes:{[e]:{groups:l,tracks:u}},mainPlaylistLoader:c}=t;for(const s in a[e]){l[s]||(l[s]=[]);for(const A in a[e][s]){if(!i.options_.useForcedSubtitles&&a[e][s][A].forced)continue;let d,h=a[e][s][A];if("hls"===r)d=new OE(h.resolvedUri,i,o);else if("dash"===r){const e=h.playlists.filter((e=>e.excludeUntil!==1/0));if(!e.length)return;d=new iI(h.playlists[0],i,o,c)}else"vhs-json"===r&&(d=new OE(h.playlists?h.playlists[0]:h.resolvedUri,i,o));if(h=jT({id:A,playlistLoader:d},h),PU[e](e,h.playlistLoader,t),l[s].push(h),void 0===u[A]){const e=n.addRemoteTextTrack({id:A,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:A},!1).track;u[A]=e}}}s.on("error",QU[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[e]:{groups:r,tracks:s}}}=t;for(const t in i[e]){r[t]||(r[t]=[]);for(const o in i[e][t]){const a=i[e][t][o];if(!/^(?:CC|SERVICE)/.test(a.instreamId))continue;const l=n.options_.vhs&&n.options_.vhs.captionServices||{};let u={label:o,language:a.language,instreamId:a.instreamId,default:a.default&&a.autoselect};if(l[u.instreamId]&&(u=jT(u,l[u.instreamId])),void 0===u.default&&delete u.default,r[t].push(jT({id:o},a)),void 0===s[o]){const e=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default,language:u.language,label:u.label},!1).track;s[o]=e}}}}},qU=(e,t)=>{for(let n=0;n<e.length;n++){if(uE(t,e[n]))return!0;if(e[n].playlists&&qU(e[n].playlists,t))return!0}return!1},VU={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if(n[e].enabled)return n[e];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if("showing"===n[e].mode||"hidden"===n[e].mode)return n[e];return null}},zU=e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{HU[t](t,e)}));const{mediaTypes:t,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{AUDIO:s,main:o}}=e;["AUDIO","SUBTITLES"].forEach((n=>{t[n].activeGroup=((e,t)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[e]:{groups:r}}}=t,s=i.media();if(!s)return null;let o=null;s.attributes[e]&&(o=r[s.attributes[e]]);const a=Object.keys(r);if(!o)if("AUDIO"===e&&a.length>1&&AE(t.main))for(let e=0;e<a.length;e++){const t=r[a[e]];if(qU(t,s)){o=t;break}}else r.main?o=r.main:1===a.length&&(o=r[a[0]]);return void 0===n?o:null!==n&&o&&o.filter((e=>e.id===n.id))[0]||null})(n,e),t[n].activeTrack=VU[n](n,e),t[n].onGroupChanged=((e,t)=>()=>{const{segmentLoaders:{[e]:n,main:i},mediaTypes:{[e]:r}}=t,s=r.activeTrack(),o=r.getActiveGroup(),a=r.activePlaylistLoader,l=r.lastGroup_;o&&l&&o.id===l.id||(r.lastGroup_=o,r.lastTrack_=s,jU(n,r),o&&!o.isMainPlaylist&&(o.playlistLoader?(n.resyncLoader(),RU(o.playlistLoader,r)):a&&i.resetEverything()))})(n,e),t[n].onGroupChanging=((e,t)=>()=>{const{segmentLoaders:{[e]:n},mediaTypes:{[e]:i}}=t;i.lastGroup_=null,n.abort(),n.pause()})(n,e),t[n].onTrackChanged=((e,t)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[e]:i,main:r},mediaTypes:{[e]:s}}=t,o=s.activeTrack(),a=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if((!u||!o||u.id!==o.id)&&(s.lastGroup_=a,s.lastTrack_=o,jU(i,s),a)){if(a.isMainPlaylist){if(!o||!u||o.id===u.id)return;const e=t.vhs.playlistController_,i=e.selectPlaylist();if(e.media()===i)return;return s.logger_(`track change. Switching main audio from ${u.id} to ${o.id}`),n.pause(),r.resetEverything(),void e.fastQualityChange_(i)}if("AUDIO"===e){if(!a.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}l!==a.playlistLoader?(i.track&&i.track(o),i.resetEverything(),RU(a.playlistLoader,s)):RU(a.playlistLoader,s)}})(n,e),t[n].getActiveGroup=((e,{mediaTypes:t})=>()=>{const n=t[e].activeTrack();return n?t[e].activeGroup(n):null})(n,e)}));const a=t.AUDIO.activeGroup();if(a){const e=(a.filter((e=>e.default))[0]||a[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged();t.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),s.setAudio(!0)):o.setAudio(!0)}n.on("mediachange",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanged()))})),n.on("mediachanging",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanging()))}));const l=()=>{t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio");for(const e in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[e])};class KU{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){1===e&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=OT(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map((e=>[e.ID,e]))))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class GU extends IT.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new KU,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=MT("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const n=t.serverUri||t.serverURL;if(!n)return this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),void this.trigger("error");n.startsWith("data:")?this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1)):(this.steeringManifest.reloadUri=OT(e,n),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"))}requestSteeringManifest(e){const t=this.steeringManifest.reloadUri;if(!t)return;const n=e?t:this.getRequestURI(t);if(!n)return this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),void this.dispose();const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},((e,t)=>{if(e){if(410===t.status)return this.logger_(`manifest request 410 ${e}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),void this.excludedSteeringManifestURLs.add(n);if(429===t.status){const n=t.responseHeaders["retry-after"];return this.logger_(`manifest request 429 ${e}.`),this.logger_(`content steering will retry in ${n} seconds.`),void this.startTTLTimeout_(parseInt(n,10))}return this.logger_(`manifest failed to load ${e}.`),void this.startTTLTimeout_()}let r;this.trigger({type:"contentsteeringloadcomplete",metadata:i});try{r=JSON.parse(this.request_.responseText)}catch(e){const t={errorType:IT.Error.StreamingContentSteeringParserError,error:e};this.trigger({type:"error",metadata:t})}this.assignSteeringProperties_(r);const s={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:s}),this.startTTLTimeout_()}))}setProxyServerUrl_(e){const t=new(Xb().URL)(e),n=new(Xb().URL)(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const t=JSON.parse(Xb().atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new(Xb().URL)(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const e=`_${this.manifestType_}_pathway`;t.searchParams.set(e,n)}if(i){const e=`_${this.manifestType_}_throughput`;t.searchParams.set(e,i)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version)return this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),void this.trigger("error");this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const t=(e=>{for(const t of e)if(this.availablePathways_.has(t))return t;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==t&&(this.currentPathway=t,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=e=>this.excludedSteeringManifestURLs.has(e);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!t(n))return n}const n=this.setSteeringParams_(e);return t(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const t=1e3*e;this.ttlTimeout_=Xb().setTimeout((()=>{this.requestSteeringManifest()}),t)}clearTTLTimeout_(){Xb().clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new KU}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(OT(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}let WU;const $U=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],XU=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class YU extends IT.EventTarget{constructor(e){super(),this.fastQualityChange_=((e,t)=>{let n=null;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(null,i)}),t)}})(this.fastQualityChange_.bind(this),100);const{src:t,withCredentials:n,tech:i,bandwidth:r,externVhs:s,useCueTags:o,playlistExclusionDuration:a,enableLowInitialPlaylist:l,sourceType:u,cacheEncryptionKeys:c,bufferBasedABR:A,leastPixelDiffSelector:d,captionServices:h,experimentalUseMMS:p}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:f}=e;null==f&&(f=1/0),WU=s,this.bufferBasedABR=Boolean(A),this.leastPixelDiffSelector=Boolean(d),this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=u,this.useCueTags_=o,this.playlistExclusionDuration=a,this.maxPlaylistRetries=f,this.enableLowInitialPlaylist=l,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:f,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:iU,activeTrack:iU,getActiveGroup:iU,onGroupChanged:iU,onTrackChanged:iU,lastTrack_:null,logger_:MT(`MediaGroups[${t}]`)}})),e})(),p&&Xb().ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new(Xb().ManagedMediaSource),this.usingManagedMediaSource_=!0,IT.log("Using ManagedMediaSource")):Xb().MediaSource&&(this.mediaSource=new(Xb().MediaSource)),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=RT(),this.hasPlayed_=!1,this.syncController_=new DU(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new NU,this.sourceUpdater_=new CU(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new LU,this.keyStatusMap_=new Map;const g={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:h,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:r,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:c,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_="dash"===this.sourceType_?new iI(t,this.vhs_,jT(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new OE(t,this.vhs_,jT(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new nU(jT(g,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new nU(jT(g,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new _U(jT(g,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise(((e,t)=>{function n(){i.off("vttjserror",r),e()}function r(){i.off("vttjsloaded",n),t()}i.one("vttjsloaded",n),i.one("vttjserror",r),i.addWebVttScript_()}))}),e);this.contentSteeringController_=new GU(this.vhs_.xhr,(()=>this.mainSegmentLoader_.bandwidth)),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",(()=>this.startABRTimer_())),this.tech_.on("pause",(()=>this.stopABRTimer_())),this.tech_.on("play",(()=>this.startABRTimer_()))),$U.forEach((e=>{this[e+"_"]=XU.bind(this,e)})),this.logger_=MT("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const m="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(m,(()=>{const e=Date.now();this.tech_.one("loadeddata",(()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends}))}))}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,n){const i=this.media(),r=i&&(i.id||i.uri),s=e&&(e.id||e.uri);if(r&&r!==s){this.logger_(`switch media ${r} -> ${s} from ${t}`);const n={renditionInfo:{id:s,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:n}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((e=>{const t=this.mediaTypes_[e],n=t?t.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const t=(n.length?n[0].playlists:n.playlists).filter((e=>e.attributes.serviceLocation===i));t.length&&this.mediaTypes_[e].activePlaylistLoader.media(t[0])}}))}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=Xb().setInterval((()=>this.checkABR_()),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Xb().clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const e=n.main||i.length&&n[i[0]];for(const t in e)if(e[t].default){r={label:t};break}}if(!r)return t;const s=[];for(const t in n)if(n[t][r.label]){const i=n[t][r.label];if(i.playlists&&i.playlists.length)s.push.apply(s,i.playlists);else if(i.uri)s.push(i);else if(e.playlists.length)for(let n=0;n<e.playlists.length;n++){const i=e.playlists[n];i.attributes&&i.attributes.AUDIO&&i.attributes.AUDIO===t&&s.push(i)}}return s.length?s:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;lE(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),zU({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(()=>{this.trigger("selectedinitialmedia")}))})),this.mainPlaylistLoader_.on("loadedplaylist",(()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t))return;this.initialMedia_=t,this.switchMedia_(this.initialMedia_,"initial");if(!("vhs-json"===this.sourceType_&&this.initialMedia_.segments))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)})),this.mainPlaylistLoader_.on("error",(()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainPlaylistLoader_.on("mediachanging",(()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()})),this.mainPlaylistLoader_.on("mediachange",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;lE(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,"dash"===this.sourceType_&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})})),this.mainPlaylistLoader_.on("playlistunchanged",(()=>{const e=this.mainPlaylistLoader_.media();if("playlist-unchanged"===e.lastExcludeReason_)return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))})),this.mainPlaylistLoader_.on("renditiondisabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})})),this.mainPlaylistLoader_.on("renditionenabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}));["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach((e=>{this.mainPlaylistLoader_.on(e,(e=>{this.player_.trigger(iw({},e))}))}))}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const n=e.mediaGroups||{};let i=!0;const r=Object.keys(n.AUDIO);for(const e in n.AUDIO)for(const t in n.AUDIO[e]){n.AUDIO[e][t].uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),WU.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function({currentPlaylist:e,buffered:t,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:o,bufferBasedABR:a,log:l}){if(!i)return IT.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${e&&e.id||"null"} -> ${i.id}`;if(!e)return l(`${u} as current playlist is not set`),!0;if(i.id===e.id)return!1;const c=Boolean(qT(t,n).length);if(!e.endList)return c||"number"!=typeof e.partTargetDuration?(l(`${u} as current playlist is live`),!0):(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);const A=WT(t,n),d=a?rI.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:rI.MAX_BUFFER_LOW_WATER_LINE;if(o<d)return l(`${u} as duration < max low water line (${o} < ${d})`),!0;const h=i.attributes.BANDWIDTH,p=e.attributes.BANDWIDTH;if(h<p&&(!a||A<s)){let e=`${u} as next bandwidth < current bandwidth (${h} < ${p})`;return a&&(e+=` and forwardBuffer < bufferHighWaterLine (${A} < ${s})`),l(e),!0}if((!a||h>p)&&A>=r){let e=`${u} as forwardBuffer >= bufferLowWaterLine (${A} >= ${r})`;return a&&(e+=` and next bandwidth > current bandwidth (${h} > ${p})`),l(e),!0}return l(`not ${u} as no switching criteria met`),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",(()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()})),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",(()=>{this.trigger("progress")})),this.mainSegmentLoader_.on("error",(()=>{const e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainSegmentLoader_.on("appenderror",(()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("ended",(()=>{this.logger_("main segment loader ended"),this.onEndOfStream()})),this.timelineChangeController_.on("audioTimelineBehind",(()=>{const e=this.audioSegmentLoader_.pendingSegment_;if(!e||!e.segment||!e.segment.syncInfo)return;const t=e.segment.syncInfo.end+.01;this.tech_.setCurrentTime(t)})),this.timelineChangeController_.on("fixBadTimelineChange",(()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()})),this.mainSegmentLoader_.on("earlyabort",(e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:10}))}));const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}));["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach((e=>{this.mainSegmentLoader_.on(e,(e=>{this.player_.trigger(iw({},e))})),this.audioSegmentLoader_.on(e,(e=>{this.player_.trigger(iw({},e))})),this.subtitleSegmentLoader_.on(e,(e=>{this.player_.trigger(iw({},e))}))}))}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){e&&e===this.mainPlaylistLoader_.media()?this.logger_("skipping fastQualityChange because new media is same as old"):(this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0)}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const n=t.end(0);let i=n;if(e.start){const r=e.start.timeOffset;i=r<0?Math.max(n+r,t.start(0)):Math.min(n,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(e=>{}))}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;const n=WU.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=PT;const s=r.end(r.length-1);return s-i<=PT&&n-s<=PT}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||t.playlistExclusionDuration||this.playlistExclusionDuration,!e)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,r=i.filter(oE),s=1===r.length&&r[0]===e;if(1===i.length&&n!==1/0)return IT.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(s);if(s){if(this.main().contentSteering){const t=this.pathwayAttribute_(e),n=1e3*this.contentSteeringController_.steeringManifest.ttl;return this.contentSteeringController_.excludePathway(t),this.excludeThenChangePathway_(),void setTimeout((()=>{this.contentSteeringController_.addAvailablePathway(t)}),n)}let t=!1;i.forEach((n=>{if(n===e)return;const i=n.excludeUntil;void 0!==i&&i!==1/0&&(t=!0,delete n.excludeUntil)})),t&&(IT.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;o=e.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*n,e.excludeUntil=o,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const a=this.selectPlaylist();if(!a)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");const l=t.internal?this.logger_:IT.log.warn,u=t.message?" "+t.message:"";l(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${u} Switching to playlist ${a.id}.`),a.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),a.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const c=a.targetDuration/2*1e3||5e3,A="number"==typeof a.lastRequest&&Date.now()-a.lastRequest<=c;return this.switchMedia_(a,"exclude",s||A)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const n=[],i="all"===e;(i||"main"===e)&&n.push(this.mainPlaylistLoader_);const r=[];(i||"audio"===e)&&r.push("AUDIO"),(i||"subtitle"===e)&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach((e=>{const t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&n.push(t)})),["main","audio","subtitle"].forEach((t=>{const i=this[`${t}SegmentLoader_`];!i||e!==t&&"all"!==e||n.push(i)})),n.forEach((e=>t.forEach((t=>{"function"==typeof e[t]&&e[t]()}))))}setCurrentTime(e){const t=qT(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:WU.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,t){const n=e.media();if(!n)return null;const i=this.syncController_.getMediaSequenceSync(t);if(i&&i.isReliable){const e=i.start,t=i.end;if(!isFinite(e)||!isFinite(t))return null;const r=WU.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n);return RT([[e,Math.max(e,t-r)]])}const r=this.syncController_.getExpiredTime(n,this.duration());if(null===r)return null;const s=WU.Playlist.seekable(n,r,WU.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n));return s.length?s:null}computeFinalSeekable_(e,t){if(!t)return e;const n=e.start(0),i=e.end(0),r=t.start(0),s=t.end(0);return r>i||n>s?e:RT([[Math.max(n,r),Math.min(i,s)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let t;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!t))return;const n=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,t),!this.seekable_)return;if(n&&n.length&&this.seekable_.length&&n.start(0)===this.seekable_.start(0)&&n.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${zT(this.seekable_)}]`);const i={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:i}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){const e=this.seekable();if(!e.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1)))}const t=this.tech_.buffered();let n=WU.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(n=Math.max(n,t.end(t.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((e=>{const t=this.mediaTypes_[e].groups;for(const e in t)t[e].forEach((e=>{e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=_E(this.main(),t),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||_w}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||_w,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video)return void this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});const s=(e,t)=>e?Bw(t,this.usingManagedMediaSource_):Sw(t),o={};let a;if(["video","audio"].forEach((function(t){if(i.hasOwnProperty(t)&&!s(e[t].isFmp4,i[t])){const n=e[t].isFmp4?"browser":"muxer";o[n]=o[n]||[],o[n].push(i[t]),"audio"===t&&(a=n)}})),r&&a&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.forEach((n=>{(n.attributes&&n.attributes.AUDIO)===e&&n!==t&&(n.excludeUntil=1/0)})),this.logger_(`excluding audio group ${e} as ${a} does not support codec(s): "${i.audio}"`)}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const e=[];if(["video","audio"].forEach((t=>{const n=(ww(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(ww(i[t]||"")[0]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&e.push(`"${this.sourceUpdater_.codecs[t]}" -> "${i[t]}"`)})),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${e.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return i}{const e=Object.keys(o).reduce(((e,t)=>(e&&(e+=", "),e+=`${t} does not support codec(s): "${o[t].join(",")}"`)),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers())return;if(!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach((n=>{const i=e[n];if(-1!==t.indexOf(i.id))return;t.push(i.id);const r=_E(this.main,i),s=[];!r.audio||Sw(r.audio)||Bw(r.audio,this.usingManagedMediaSource_)||s.push(`audio codec ${r.audio}`),!r.video||Sw(r.video)||Bw(r.video,this.usingManagedMediaSource_)||s.push(`video codec ${r.video}`),r.text&&"stpp.ttml.im1t"===r.text&&s.push(`text codec ${r.text}`),s.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${s.join(", ")}`))}))}excludeIncompatibleVariants_(e){const t=[],n=this.main().playlists,i=BE(ww(e)),r=SE(i),s=i.video&&ww(i.video)[0]||null,o=i.audio&&ww(i.audio)[0]||null;Object.keys(n).forEach((e=>{const i=n[e];if(-1!==t.indexOf(i.id)||i.excludeUntil===1/0)return;t.push(i.id);const a=[],l=_E(this.mainPlaylistLoader_.main,i),u=SE(l);if(l.audio||l.video){if(u!==r&&a.push(`codec count "${u}" !== "${r}"`),!this.sourceUpdater_.canChangeType()){const e=l.video&&ww(l.video)[0]||null,t=l.audio&&ww(l.audio)[0]||null;e&&s&&e.type.toLowerCase()!==s.type.toLowerCase()&&a.push(`video codec "${e.type}" !== "${s.type}"`),t&&o&&t.type.toLowerCase()!==o.type.toLowerCase()&&a.push(`audio codec "${t.type}" !== "${o.type}"`)}a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id}: ${a.join(" && ")}`))}}))}updateAdCues_(e){let t=0;const n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n=0){if(!e.segments)return;let i,r=n;for(let n=0;n<e.segments.length;n++){const s=e.segments[n];if(i||(i=kU(t,r+s.duration/2)),i){if("cueIn"in s){i.endTime=r,i.adEndTime=r,r+=s.duration,i=null;continue}if(r<i.endTime){r+=s.duration;continue}i.endTime+=s.duration}else if("cueOut"in s&&(i=new(Xb().VTTCue)(r,r+s.duration,s.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(s.cueOut),t.addCue(i)),"cueOutCont"in s){const[e,n]=s.cueOutCont.split("/").map(parseFloat);i=new(Xb().VTTCue)(r,r+s.duration,""),i.adStartTime=r-e,i.adEndTime=i.adStartTime+n,t.addCue(i)}r+=s.duration}}(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=rI.GOAL_BUFFER_LENGTH,n=rI.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,rI.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=rI.BUFFER_LOW_WATER_LINE,n=rI.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,rI.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,rI.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.bufferBasedABR?r:i)}bufferHighWaterLine(){return rI.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){zI(this.inbandTextTracks_,"com.apple.streaming",this.tech_),(({inbandTextTracks:e,dateRanges:t})=>{const n=e.metadataTrack_;if(!n)return;const i=Xb().WebKitDataCue||Xb().VTTCue;t.forEach((e=>{for(const t of Object.keys(e)){if(VI.has(t))continue;const r=new i(e.startTime,e.endTime,"");r.id=e.id,r.type="com.apple.quicktime.HLS",r.value={key:qI[t],data:e[t]},"scte35Out"!==t&&"scte35In"!==t||(r.value.data=new Uint8Array(r.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(r)}e.processDateRange()}))})({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();zI(this.inbandTextTracks_,e,this.tech_),HI({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart?this.contentSteeringController_.requestSteeringManifest(!0):this.tech_.one("canplay",(()=>{this.contentSteeringController_.requestSteeringManifest()}))}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this));["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach((e=>{this.contentSteeringController_.on(e,(e=>{this.trigger(iw({},e))}))})),"dash"===this.sourceType_&&this.mainPlaylistLoader_.on("loadedplaylist",(()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const t=this.contentSteeringController_.getAvailablePathways(),n=[];for(const i of e.playlists){const e=i.attributes.serviceLocation;if(e&&(n.push(e),!t.has(e)))return!0}return!(n.length||!t.size)})())&&this.resetContentSteeringController_()}))}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const t=this.main().playlists,n=new Set;let i=!1;Object.keys(t).forEach((r=>{const s=t[r],o=this.pathwayAttribute_(s),a=o&&e!==o;s.excludeUntil===1/0&&"content-steering"===s.lastExcludeReason_&&!a&&(delete s.excludeUntil,delete s.lastExcludeReason_,i=!0);const l=!s.excludeUntil&&s.excludeUntil!==1/0;!n.has(s.id)&&a&&l&&(n.add(s.id),s.excludeUntil=1/0,s.lastExcludeReason_="content-steering",this.logger_(`excluding ${s.id} for ${s.lastExcludeReason_}`))})),"DASH"===this.contentSteeringController_.manifestType_&&Object.keys(this.mediaTypes_).forEach((t=>{const n=this.mediaTypes_[t];if(n.activePlaylistLoader){const t=n.activePlaylistLoader.media_;t&&t.attributes.serviceLocation!==e&&(i=!0)}})),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const e=this.main().playlists,t=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(t&&t.size||n&&n.size){for(const[e,i]of t.entries()){n.get(e)||(this.mainPlaylistLoader_.updateOrDeleteClone(i),this.contentSteeringController_.excludePathway(e))}for(const[i,r]of n.entries()){const n=t.get(i);if(n)this.equalPathwayClones_(n,r)||(this.mainPlaylistLoader_.updateOrDeleteClone(r,!0),this.contentSteeringController_.addAvailablePathway(i));else{const t=e.filter((e=>e.attributes["PATHWAY-ID"]===r["BASE-ID"]));t.forEach((e=>{this.mainPlaylistLoader_.addClonePathway(r,e)})),this.contentSteeringController_.addAvailablePathway(i)}}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=t["URI-REPLACEMENT"].PARAMS;for(const e in n)if(n[e]!==i[e])return!1;for(const e in i)if(n[e]!==i[e])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),"DASH"===this.contentSteeringController_.manifestType_&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach((n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);i&&i.size&&i.forEach((i=>{const r="usable",s=this.keyStatusMap_.has(i)&&this.keyStatusMap_.get(i)===r,o=n.lastExcludeReason_===t&&n.excludeUntil===1/0;s?s&&o&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${i} is ${r}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==t&&(n.excludeUntil=1/0,n.lastExcludeReason_=t,this.logger_(`excluding playlist ${n.id} because the key ID ${i} doesn't exist in the keyStatusMap or is not ${r}`)),e++)}))})),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach((e=>{const n=e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height<720,i=e.excludeUntil===1/0&&e.lastExcludeReason_===t;n&&i&&(delete e.excludeUntil,IT.log.warn(`enabling non-HD playlist ${e.id} because all playlists were excluded due to ${t} key IDs`))}))}addKeyStatus_(e,t){const n=("string"==typeof e?e:(e=>{const t=new Uint8Array(e);return Array.from(t).map((e=>e.toString(16).padStart(2,"0"))).join("")})(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${n} added to the keyStatusMap`),this.keyStatusMap_.set(n,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}class JU{constructor(e,t,n){const{playlistController_:i}=e,r=i.fastQualityChange_.bind(i);if(t.attributes){const e=t.attributes.RESOLUTION;this.width=e&&e.width,this.height=e&&e.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}var s,o,a;this.codecs=_E(i.main(),t),this.playlist=t,this.id=n,this.enabled=(s=e.playlists,o=t.id,a=r,e=>{const t=s.main.playlists[o],n=sE(t),i=oE(t);if(void 0===e)return i;e?delete t.disabled:t.disabled=!0;const r={renditionInfo:{id:o,bandwidth:t.attributes.BANDWIDTH,resolution:t.attributes.RESOLUTION,codecs:t.attributes.CODECS},cause:"fast-quality"};return e===i||n||(e?(a(t),s.trigger({type:"renditionenabled",metadata:r})):s.trigger({type:"renditiondisabled",metadata:r})),e})}}const ZU=["seeking","seeked","pause","playing","error"];class eF extends IT.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=MT("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),s=this.playlistController_,o=["main","subtitle","audio"],a={};o.forEach((e=>{a[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},s[`${e}SegmentLoader_`].on("appendsdone",a[e].updateend),s[`${e}SegmentLoader_`].on("playlistupdate",a[e].reset),this.tech_.on(["seeked","seeking"],a[e].reset)}));const l=e=>{["main","audio"].forEach((t=>{s[`${t}SegmentLoader_`][e]("appended",this.seekingAppendCheck_)}))};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(ZU,r),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(ZU,r),this.tech_.off("canplay",n),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach((e=>{s[`${e}SegmentLoader_`].off("appendsdone",a[e].updateend),s[`${e}SegmentLoader_`].off("playlistupdate",a[e].reset),this.tech_.off(["seeked","seeking"],a[e].reset)})),this.checkCurrentTimeTimeout_&&Xb().clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Xb().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Xb().setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,n=t[`${e}SegmentLoader_`],i=n.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,r){const n={bufferedRanges:i};return t.trigger({type:"bufferedrangeschanged",metadata:n}),void this.resetSegmentDownloads_(e)}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:KT(i)}),this[`${e}StalledDownloads_`]<10||(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),"subtitle"!==e&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+PT>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(RT([this.lastRecordedTime,e]));const t={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:t}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),t=this.tech_.currentTime();let n;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)){n=e.end(e.length-1)}if(this.beforeSeekableWindow_(e,t)){const t=e.start(0);n=t+(t===e.end(0)?0:PT)}if(void 0!==n)return this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${zT(e)}. Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0;const i=this.playlistController_.sourceUpdater_,r=this.tech_.buffered(),s=i.audioBuffer?i.audioBuffered():null,o=i.videoBuffer?i.videoBuffered():null,a=this.media(),l=a.partTargetDuration?a.partTargetDuration:2*(a.targetDuration-QT),u=[s,o];for(let e=0;e<u.length;e++){if(!u[e])continue;if(WT(u[e],t)<l)return!1}const c=VT(r,t);return 0!==c.length&&(n=c.start(0)+PT,this.logger_(`Buffered region starts (${c.start(0)})  just beyond seek point (${t}). Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),n=qT(t,e);return n.length&&e+3<=n.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const n=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${n}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const r=VT(i,t);return r.length>0&&(this.logger_(`Stopped at ${t} and seeking to ${r.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWindow_(e,t,n,i=!1){if(!e.length)return!1;let r=e.end(e.length-1)+PT;const s=!n.endList,o="number"==typeof n.partTargetDuration;return s&&(o||i)&&(r=e.end(e.length-1)+3*n.targetDuration),t>r}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:n}){if(!e)return;let i;if(e.length&&t.length){const r=qT(e,n-3),s=qT(e,n),o=qT(t,n);o.length&&!s.length&&r.length&&(i={start:r.end(0),end:o.end(0)})}else{VT(e,n).length||(i=this.gapFromVideoUnderflow_(e,n))}return!!i&&(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0)}skipTheGap_(e){const t=this.tech_.buffered(),n=this.tech_.currentTime(),i=VT(t,n);if(this.resetTimeUpdate_(),0===i.length||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+QT);const r={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:r}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){const n=function(e){if(e.length<2)return RT();const t=[];for(let n=1;n<e.length;n++){const i=e.end(n-1),r=e.start(n);t.push([i,r])}return RT(t)}(e);for(let e=0;e<n.length;e++){const i=n.start(e),r=n.end(e);if(t-i<4&&t-i>2)return{start:i,end:r}}return null}}const tF={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},nF=function(e,t){let n=0,i=0;const r=jT(tF,t);e.ready((()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})}));const s=function(){i&&e.currentTime(i)},o=function(t){null!=t&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},a=function(){if(Date.now()-n<1e3*r.errorInterval)e.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(r.getSource&&"function"==typeof r.getSource)return n=Date.now(),r.getSource.call(e,o);IT.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function(){e.off("loadedmetadata",s),e.off("error",a),e.off("dispose",l)};e.on("error",a),e.on("dispose",l),e.reloadSourceOnError=function(t){l(),nF(e,t)}},iF=function(e){nF(this,e)};var rF="3.17.0";const sF={PlaylistLoader:OE,Playlist:dE,utils:KE,STANDARD_PLAYLIST_SELECTOR:QI,INITIAL_PLAYLIST_SELECTOR:function(){const e=this.playlists.main.playlists.filter(dE.isEnabled);MI(e,((e,t)=>jI(e,t)));return e.filter((e=>!!_E(this.playlists.main,e).video))[0]||null},lastBandwidthSelector:QI,movingAverageBandwidthSelector:function(e){let t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&Xb().devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),RI({main:this.playlists.main,bandwidth:t,playerWidth:parseInt(NI(this.tech_.el(),"width"),10)*i,playerHeight:parseInt(NI(this.tech_.el(),"height"),10)*i,playerObjectFit:this.usePlayerObjectFit?NI(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},comparePlaylistBandwidth:jI,comparePlaylistResolution:function(e,t){let n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||Xb().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||Xb().Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:ME()};Object.keys(rI).forEach((e=>{Object.defineProperty(sF,e,{get(){return IT.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),rI[e]},set(t){IT.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?IT.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):rI[e]=t}})}));const oF="videojs-vhs",aF=function(e,t){const n=t.media();let i=-1;for(let t=0;t<e.length;t++)if(e[t].id===n.id){i=t;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};sF.canPlaySource=function(){return IT.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const lF=({player:e,sourceKeySystems:t,audioMedia:n,mainPlaylists:i})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const r=((e,t)=>e.reduce(((e,n)=>{if(!n.contentProtection)return e;const i=t.reduce(((e,t)=>{const i=n.contentProtection[t];return i&&i.pssh&&(e[t]={pssh:i.pssh}),e}),{});return Object.keys(i).length&&e.push(i),e}),[]))(n?i.concat([n]):i,Object.keys(t)),s=[],o=[];return r.forEach((t=>{o.push(new Promise(((t,n)=>{e.tech_.one("keysessioncreated",t)}))),s.push(new Promise(((n,i)=>{e.eme.initializeMediaKeys({keySystems:t},(e=>{e?i(e):n()}))})))})),Promise.race([Promise.all(s),Promise.race(o)])},uF=({player:e,sourceKeySystems:t,media:n,audioMedia:i})=>{const r=((e,t,n)=>{if(!e)return e;let i={};t&&t.attributes&&t.attributes.CODECS&&(i=BE(ww(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=xw(i.video),s=xw(i.audio),o={};for(const n in e)o[n]={},s&&(o[n].audioContentType=s),r&&(o[n].videoContentType=r),t.contentProtection&&t.contentProtection[n]&&t.contentProtection[n].pssh&&(o[n].pssh=t.contentProtection[n].pssh),"string"==typeof e[n]&&(o[n].url=e[n]);return jT(e,o)})(t,n,i);return!!r&&(e.currentSource().keySystems=r,!(r&&!e.eme)||(IT.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},cF=()=>{if(!Xb().localStorage)return null;const e=Xb().localStorage.getItem(oF);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},AF=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},dF=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},hF=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},pF=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};sF.supportsNativeHls=function(){if(!Jb()||!Jb().createElement)return!1;const e=Jb().createElement("video");if(!IT.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),sF.supportsNativeDash=!!(Jb()&&Jb().createElement&&IT.getTech("Html5").isSupported())&&/maybe|probably/i.test(Jb().createElement("video").canPlayType("application/dash+xml")),sF.supportsTypeNatively=e=>"hls"===e?sF.supportsNativeHls:"dash"===e&&sF.supportsNativeDash,sF.isSupported=function(){return IT.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},sF.xhr.onRequest=function(e){AF(sF.xhr,e)},sF.xhr.onResponse=function(e){dF(sF.xhr,e)},sF.xhr.offRequest=function(e){hF(sF.xhr,e)},sF.xhr.offResponse=function(e){pF(sF.xhr,e)};const fF=IT.getComponent("Component");class gF extends fF{constructor(e,t,n){if(super(t,n.vhs),"number"==typeof n.initialBandwidth&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=MT("VhsHandler"),t.options_&&t.options_.playerId){const e=IT.getPlayer(t.options_.playerId);this.player_=e}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Jb(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(e=>{const t=Jb().fullscreenElement||Jb().webkitFullscreenElement||Jb().mozFullScreenElement||Jb().msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()})),this.on(this.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),this.on(this.tech_,"error",(function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=jT(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=void 0===this.options_.useNetworkInformationApi||this.options_.useNetworkInformationApi,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const e=cF();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=rI.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===rI.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach((e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const t=this.options_.customPixelRatio;"number"==typeof t&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;var n;this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=sF,this.options_.sourceType=Ew(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.options_.player_=this.player_,this.playlistController_=new YU(this.options_);const i=jT({liveRangeSafeTimeDelta:PT},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new eF(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",(()=>{const e=IT.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));const r=this.options_.bufferBasedABR?sF.movingAverageBandwidthSelector(.55):sF.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=sF.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;const t=Xb().navigator.connection||Xb().navigator.mozConnection||Xb().navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){const i=1e3*t.downlink*1e3;e=i>=n&&e>=n?Math.max(e,i):i}return e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const e=1/(this.bandwidth||1);let t;t=this.throughput>0?1/this.throughput:0;return Math.floor(1/(e+t))},set(){IT.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>KT(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>KT(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",(()=>{this.options_.useBandwidthFromLocalStorage&&(e=>{if(!Xb().localStorage)return!1;let t=cF();t=t?jT(t,e):e;try{Xb().localStorage.setItem(oF,JSON.stringify(t))}catch(e){return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})})),this.playlistController_.on("selectedinitialmedia",(()=>{var e;(e=this).representations=()=>{const t=e.playlistController_.main(),n=AE(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((e=>!sE(e))).map(((t,n)=>new JU(e,t,t.id))):[]}})),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",(()=>{this.setupEme_()})),this.on(this.playlistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.playlistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Xb().URL.createObjectURL(this.playlistController_.mediaSource),(IT.browser.IS_ANY_SAFARI||IT.browser.IS_IOS)&&this.options_.overrideNative&&"hls"===this.options_.sourceType&&"function"==typeof this.tech_.addSourceElement?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),lF({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then((()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()})).catch((e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})}))}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=uF({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",(e=>{this.playlistController_.updatePlaylistByKeyStatus(e.keyId,e.status)})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const e=IT.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",(()=>{!function(e,t){t.representations().forEach((t=>{e.addQualityLevel(t)})),aF(e,t.playlists)}(this.qualityLevels_,this)})),this.playlists.on("mediachange",(()=>{aF(this.qualityLevels_,this.playlists)})))}static version(){return{"@videojs/http-streaming":rF,"mux.js":"7.1.0","mpd-parser":"1.3.1","m3u8-parser":"7.2.0","aes-decrypter":"4.0.2"}}version(){return this.constructor.version()}canChangeType(){return CU.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&Xb().URL.revokeObjectURL&&(Xb().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return GE({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,n=!0,i=2){return WE({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{AF(this.xhr,e)},this.xhr.onResponse=e=>{dF(this.xhr,e)},this.xhr.offRequest=e=>{hF(this.xhr,e)},this.xhr.offResponse=e=>{pF(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach((e=>{this.playlistController_.on(e,(e=>{this.player_.trigger(iw({},e))}))})),["gapjumped","playedrangeschanged"].forEach((e=>{this.playbackWatcher_.on(e,(e=>{this.player_.trigger(iw({},e))}))}))}}const mF={name:"videojs-http-streaming",VERSION:rF,canHandleSource(e,t={}){const n=jT(IT.options,t);return!(!n.vhs.experimentalUseMMS&&!Bw("avc1.4d400d,mp4a.40.2",!1))&&mF.canPlayType(e.type,n)},handleSource(e,t,n={}){const i=jT(IT.options,n);return t.vhs=new gF(e,t,i),t.vhs.xhr=ME(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const n=Ew(e);if(!n)return"";const i=mF.getOverrideNative(t);return!sF.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,n=!(IT.browser.IS_ANY_SAFARI||IT.browser.IS_IOS),{overrideNative:i=n}=t;return i}};Bw("avc1.4d400d,mp4a.40.2",!0)&&IT.getTech("Html5").registerSourceHandler(mF,0),IT.VhsHandler=gF,IT.VhsSourceHandler=mF,IT.Vhs=sF,IT.use||IT.registerComponent("Vhs",sF),IT.options.vhs=IT.options.vhs||{},IT.getPlugin&&IT.getPlugin("reloadSourceOnError")||IT.registerPlugin("reloadSourceOnError",iF);var vF=n(3024),yF={};yF.styleTagTransform=ql(),yF.setAttributes=Rl(),yF.insert=Ml().bind(null,"head"),yF.domAPI=Ol(),yF.insertStyleElement=Pl();Dl()(vF.A,yF),vF.A&&vF.A.locals&&vF.A.locals;const bF={controls:!0,fluid:!0,aspectRatio:"16:9",controlBar:{remainingTimeDisplay:{displayNegative:!1},skipButtons:{backward:5,forward:5},pictureInPictureToggle:!1},playbackRates:[.5,1,1.5,2],userActions:{hotkeys:!0},preload:"auto",liveui:!1,preferFullWindow:!0,playsinline:!0,liveTracker:!1,"vtt.js":"novtt"};var wF=({playerRef:e,options:t,duration:n,activeSession:i})=>{const r=(0,nr.useRef)(null);return(0,nr.useEffect)((()=>{(null==e?void 0:e.current)&&(null==i||i.type)}),[e]),(0,nr.useEffect)((()=>{var e;const t=null===(e=null==r?void 0:r.current)||void 0===e?void 0:e.getRootNode();document.querySelectorAll("style").forEach((e=>{var n;if(null===(n=e.textContent)||void 0===n?void 0:n.includes("video-js")){const n=document.createElement("style");n.textContent=e.textContent,t.appendChild(n),e.remove()}}))}),[null==i?void 0:i.id]),(0,nr.useEffect)((()=>{var n;if(e.current){const n=e.current;n.autoplay(t.autoplay),n.src(t.sources)}else{const i=document.createElement("video-js");i.classList.add("vjs-big-play-centered"),i.id="sessionVideo",null===(n=r.current)||void 0===n||n.appendChild(i);const s=e.current=IT(i,Object.assign(Object.assign({},bF),t),(()=>{var e,t,n,i,r,o,a,l,u,c,A;IT.log("player is ready");let d=s.getChild("bigPlayButton");const h=document.createElement("div");h.classList.add("videoPlayerOverlay"),h.onclick=()=>{s.play()},s.el().append(h);d=d.el(),d.innerHTML='\n        <div class="customBigButtonPlay w-[98px] h-[98px] rounded-full"> <div class=" bg-white customBigButtonPlayChild"><svg width="31" height="36" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M30 17.3205C30.6667 17.7054 30.6667 18.6677 30 19.0526L1.5 35.507C0.833335 35.8919 4.20613e-08 35.4108 7.57103e-08 34.641L1.51421e-06 1.73205C1.54786e-06 0.962252 0.833335 0.481125 1.5 0.866026L30 17.3205Z" fill="#00DA92"/>\n        <path d="M30 17.3205C30.6667 17.7054 30.6667 18.6677 30 19.0526L1.5 35.507C0.833335 35.8919 4.20613e-08 35.4108 7.57103e-08 34.641L1.51421e-06 1.73205C1.54786e-06 0.962252 0.833335 0.481125 1.5 0.866026L30 17.3205Z" fill="url(#paint0_linear_1577_18059)" fill-opacity="0.2"/>\n        <defs>\n        <linearGradient id="paint0_linear_1577_18059" x1="3.15" y1="-5.1656e-07" x2="16.2174" y2="0.342296" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n        </linearGradient>\n        </defs>\n        </svg>\n        </div>\n        </div>\n        ';const p=null===(t=null===(e=s.controlBar)||void 0===e?void 0:e.playToggle)||void 0===t?void 0:t.el(),f=null===(i=null===(n=s.controlBar)||void 0===n?void 0:n.skipBackward)||void 0===i?void 0:i.el(),g=null===(o=null===(r=s.controlBar)||void 0===r?void 0:r.skipForward)||void 0===o?void 0:o.el(),m=null===(u=null===(l=null===(a=s.controlBar)||void 0===a?void 0:a.volumePanel)||void 0===l?void 0:l.muteToggle)||void 0===u?void 0:u.el();(null===(A=null===(c=s.controlBar)||void 0===c?void 0:c.fullscreenToggle)||void 0===A?void 0:A.el()).innerHTML='\n        <svg class="defaultscreen" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.75 14.25C4.16421 14.25 4.5 14.5858 4.5 15V19.5H9C9.41421 19.5 9.75 19.8358 9.75 20.25C9.75 20.6642 9.41421 21 9 21H4.5C3.67157 21 3 20.3284 3 19.5V15C3 14.5858 3.33579 14.25 3.75 14.25Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 3.75C14.25 3.33579 14.5858 3 15 3H19.5C20.3284 3 21 3.67157 21 4.5V9C21 9.41421 20.6642 9.75 20.25 9.75C19.8358 9.75 19.5 9.41421 19.5 9V4.5H15C14.5858 4.5 14.25 4.16421 14.25 3.75Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 20.25C14.25 20.6642 14.5858 21 15 21H19.5C20.3284 21 21 20.3284 21 19.5V15C21 14.5858 20.6642 14.25 20.25 14.25C19.8358 14.25 19.5 14.5858 19.5 15V19.5H15C14.5858 19.5 14.25 19.8358 14.25 20.25Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4.5 4.5L4.5 9C4.5 9.41421 4.16421 9.75 3.75 9.75C3.33579 9.75 3 9.41421 3 9L3 4.5C3 3.67157 3.67157 3 4.5 3L9 3C9.41421 3 9.75 3.33579 9.75 3.75C9.75 4.16421 9.41421 4.5 9 4.5L4.5 4.5Z" fill="white"/>\n</svg>\n\n\n<svg class="fullscreen" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6 18C5.58579 18 5.25 17.6642 5.25 17.25V12.75H0.75C0.335786 12.75 0 12.4142 0 12C0 11.5858 0.335786 11.25 0.75 11.25H5.25C6.07843 11.25 6.75 11.9216 6.75 12.75V17.25C6.75 17.6642 6.41421 18 6 18Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18 6C18 6.41421 17.6642 6.75 17.25 6.75H12.75C11.9216 6.75 11.25 6.07843 11.25 5.25V0.75C11.25 0.335787 11.5858 3.24844e-07 12 3.24844e-07C12.4142 3.24844e-07 12.75 0.335787 12.75 0.75V5.25H17.25C17.6642 5.25 18 5.58579 18 6Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18 12C18 11.5858 17.6642 11.25 17.25 11.25H12.75C11.9216 11.25 11.25 11.9216 11.25 12.75V17.25C11.25 17.6642 11.5858 18 12 18C12.4142 18 12.75 17.6642 12.75 17.25V12.75H17.25C17.6642 12.75 18 12.4142 18 12Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.25 5.25L5.25 0.75C5.25 0.335786 5.58579 1.81059e-08 6 0C6.41421 -1.81058e-08 6.75 0.335786 6.75 0.75V5.25C6.75 6.07843 6.07843 6.75 5.25 6.75H0.75C0.335787 6.75 -4.34883e-07 6.41421 2.62267e-07 6C2.44162e-07 5.58579 0.335787 5.25 0.75 5.25H5.25Z" fill="white"/>\n</svg>\n',m.innerHTML='\n      <svg class="mute" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4697 3.97117C11.9421 3.4987 12.75 3.83332 12.75 4.5015V19.5015C12.75 20.1697 11.9421 20.5043 11.4697 20.0318L6.43934 15.0015H4.5C3.67157 15.0015 3 14.3299 3 13.5015V10.5015C3 9.67308 3.67157 9.0015 4.5 9.0015H6.43934L11.4697 3.97117ZM11.25 6.31216L7.06066 10.5015H4.5V13.5015H7.06066L11.25 17.6908V6.31216Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.2143 7.75877C15.4959 7.46588 15.9561 7.46356 16.2047 7.78712C16.5849 8.28189 16.897 8.83084 17.131 9.4183C17.4571 10.2372 17.625 11.115 17.625 12.0014C17.625 12.8878 17.4571 13.7656 17.131 14.5845C16.897 15.172 16.5849 15.7209 16.2047 16.2157C15.9561 16.5393 15.4959 16.5369 15.2143 16.2441C14.9327 15.9512 14.9376 15.479 15.1762 15.1474C15.4279 14.7977 15.5136 14.4159 15.675 14.0105C15.9287 13.3735 16.125 12.6909 16.125 12.0014C16.125 11.312 15.9287 10.6293 15.675 9.99233C15.5136 9.58696 15.4279 9.20516 15.1762 8.85545C14.9376 8.52384 14.9327 8.05167 15.2143 7.75877Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5084 4.99447C17.7919 4.70157 18.2538 4.69993 18.5166 5.01269C19.2441 5.87811 19.8327 6.86036 20.2585 7.92229C20.7771 9.21555 21.0439 10.6017 21.0439 12.0015C21.0439 13.4013 20.7771 14.7874 20.2585 16.0806C19.8327 17.1426 19.2441 18.1248 18.5166 18.9902C18.2538 19.303 17.7919 19.3013 17.5084 19.0085C17.2249 18.7156 17.2274 18.2425 17.4868 17.9267C18.0813 17.2027 18.4722 16.3865 18.825 15.5066C19.2706 14.3953 19.545 13.2043 19.545 12.0015C19.545 10.7986 19.2706 9.60758 18.825 8.49632C18.4722 7.61642 18.0813 6.80019 17.4868 6.07624C17.2274 5.76037 17.2249 5.28736 17.5084 4.99447Z" fill="white"/>\n</svg>\n\n\n       <svg class="unmute" width="18" height="18" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.64645 0.646472C5.96143 0.33149 6.5 0.554573 6.5 1.00003V11C6.5 11.4455 5.96143 11.6686 5.64645 11.3536L2.29289 8.00003H1C0.447716 8.00003 0 7.55231 0 7.00003V5.00003C0 4.44774 0.447716 4.00003 1 4.00003H2.29289L5.64645 0.646472ZM5.5 2.20713L2.70711 5.00003H1V7.00003H2.70711L5.5 9.79292V2.20713Z" fill="white"/>\n<path d="M8.14645 4.8535C7.95118 4.65824 7.95118 4.34166 8.14645 4.1464C8.34171 3.95113 8.65829 3.95113 8.85355 4.1464L10 5.29284L11.1464 4.1464C11.3417 3.95113 11.6583 3.95113 11.8536 4.1464C12.0488 4.34166 12.0488 4.65824 11.8536 4.8535L10.7071 5.99995L11.8536 7.1464C12.0488 7.34166 12.0488 7.65824 11.8536 7.8535C11.6583 8.04877 11.3417 8.04877 11.1464 7.8535L10 6.70706L8.85355 7.8535C8.65829 8.04877 8.34171 8.04877 8.14645 7.8535C7.95119 7.65824 7.95119 7.34166 8.14645 7.1464L9.29289 5.99995L8.14645 4.8535Z" fill="white"/>\n</svg>\n',p.innerHTML='<svg class="play" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.99282 3.22846C7.99282 3.22846 7.99282 3.22847 7.99282 3.22846L18.8786 10.7508C19.7071 11.3234 19.7071 12.6765 18.8786 13.2491L7.99282 20.7716C7.04468 21.4267 6 20.5677 6 19.5224V4.47762C6 3.43221 7.0447 2.57328 7.99282 3.22846ZM7.5 4.82347L17.8853 12L7.5 19.1765V4.82347Z" fill="white"/>\n</svg>\n\n                       \n\n<svg class="pause" width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1.75 1.63636V16.3636H4.75V1.63636H1.75ZM0.25 1.51948C0.25 0.643137 0.922898 0 1.675 0H4.825C5.5771 0 6.25 0.643136 6.25 1.51948V16.4805C6.25 17.3569 5.57708 18 4.825 18H1.675C0.922923 18 0.25 17.3569 0.25 16.4805V1.51948Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M9.25 1.63636V16.3636H12.25V1.63636H9.25ZM7.75 1.51948C7.75 0.643162 8.42284 0 9.175 0H12.325C13.0772 0 13.75 0.643162 13.75 1.51948V16.4805C13.75 17.3569 13.0771 18 12.325 18H9.175C8.42287 18 7.75 17.3569 7.75 16.4805V1.51948Z" fill="white"/>\n</svg>\n\n\n\n        ',f.innerHTML='\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.6608 3.1876C7.35019 2.91357 6.87624 2.94322 6.60221 3.25383L3.18759 7.12426C2.93746 7.40777 2.93747 7.83315 3.18762 8.11665L6.60224 11.9866C6.87629 12.2972 7.35024 12.3268 7.66084 12.0527C7.97143 11.7787 8.00105 11.3047 7.727 10.9941L5.41198 8.37043H13.9411C15.8402 8.37043 17.2096 9.07581 18.1118 10.0918C19.0264 11.1217 19.4998 12.5161 19.4998 13.9352C19.4998 15.3543 19.0264 16.7488 18.1119 17.7786C17.2096 18.7946 15.8403 19.5 13.9411 19.5C13.5269 19.5 13.1911 19.8358 13.1911 20.25C13.1911 20.6642 13.5269 21 13.9411 21C16.2478 21 18.0328 20.1267 19.2334 18.7746C20.4218 17.4364 20.9998 15.6735 20.9998 13.9352C20.9998 12.1969 20.4217 10.434 19.2334 9.0958C18.0327 7.74376 16.2477 6.87043 13.9411 6.87043H5.41183L7.72703 4.24619C8.00106 3.93558 7.97141 3.46163 7.6608 3.1876Z" fill="white"/>\n<path d="M8.97797 21C8.40096 21 7.88874 20.9001 7.44131 20.7002C6.99633 20.4978 6.64547 20.2197 6.38875 19.8656C6.13447 19.5116 6.00489 19.1045 6 18.6445H7.98043C7.98776 18.8998 8.088 19.1033 8.28116 19.2551C8.47675 19.4068 8.70903 19.4827 8.97797 19.4827C9.1858 19.4827 9.36917 19.4393 9.52809 19.3526C9.68702 19.2635 9.81171 19.1383 9.90217 18.9769C9.99264 18.8155 10.0366 18.6277 10.0342 18.4133C10.0366 18.1965 9.99264 18.0087 9.90217 17.8497C9.81171 17.6884 9.68702 17.5643 9.52809 17.4776C9.36917 17.3885 9.1858 17.3439 8.97797 17.3439C8.76282 17.3439 8.56355 17.3957 8.38018 17.4993C8.19925 17.6004 8.066 17.7413 7.98043 17.922L6.19071 17.5752L6.4841 13.5H11.5305V15.1041H8.15646L8.00977 16.737H8.05377C8.17113 16.513 8.37407 16.3276 8.66257 16.1806C8.95108 16.0313 9.28604 15.9567 9.66746 15.9567C10.1149 15.9567 10.5134 16.059 10.863 16.2637C11.2151 16.4685 11.4926 16.7515 11.6956 17.1127C11.9009 17.4716 12.0024 17.8858 12 18.3555C12.0024 18.8709 11.8777 19.3285 11.6259 19.7283C11.3765 20.1257 11.0256 20.4376 10.5733 20.664C10.121 20.888 9.58922 21 8.97797 21Z" fill="white"/>\n</svg>\n',g.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M16.339 3.1876C16.6496 2.91357 17.1236 2.94322 17.3976 3.25383L20.8122 7.12426C21.0623 7.40777 21.0623 7.83315 20.8122 8.11665L17.3976 11.9866C17.1235 12.2972 16.6496 12.3268 16.339 12.0527C16.0284 11.7787 15.9987 11.3047 16.2728 10.9941L18.5878 8.37043H10.0587C8.1596 8.37043 6.79024 9.07581 5.888 10.0918C4.97345 11.1217 4.50001 12.5161 4.5 13.9352C4.49999 15.3543 4.97341 16.7488 5.88795 17.7786C6.79018 18.7946 8.15955 19.5 10.0587 19.5C10.4729 19.5 10.8087 19.8358 10.8087 20.25C10.8087 20.6642 10.4729 21 10.0587 21C7.75201 21 5.96702 20.1267 4.76635 18.7746C3.578 17.4364 2.99999 15.6735 3 13.9352C3.00001 12.1969 3.57805 10.434 4.76641 9.0958C5.96707 7.74376 7.75206 6.87043 10.0587 6.87043H18.588L16.2728 4.24619C15.9987 3.93558 16.0284 3.46163 16.339 3.1876Z" fill="white"/>\n<path d="M14.978 21C14.401 21 13.8887 20.9 13.4413 20.7001C12.9963 20.4978 12.6455 20.2197 12.3888 19.8656C12.1345 19.5116 12.0049 19.1045 12 18.6445H13.9804C13.9878 18.8998 14.088 19.1033 14.2812 19.2551C14.4768 19.4068 14.709 19.4827 14.978 19.4827C15.1858 19.4827 15.3692 19.4393 15.5281 19.3526C15.687 19.2635 15.8117 19.1382 15.9022 18.9769C15.9926 18.8155 16.0366 18.6276 16.0342 18.4133C16.0366 18.1965 15.9926 18.0087 15.9022 17.8497C15.8117 17.6883 15.687 17.5643 15.5281 17.4776C15.3692 17.3885 15.1858 17.3439 14.978 17.3439C14.7628 17.3439 14.5636 17.3957 14.3802 17.4993C14.1993 17.6004 14.066 17.7413 13.9804 17.922L12.1907 17.5751L12.4841 13.5H17.5305V15.104H14.1565L14.0098 16.737H14.0538C14.1711 16.513 14.3741 16.3276 14.6626 16.1806C14.9511 16.0313 15.286 15.9566 15.6675 15.9566C16.1149 15.9566 16.5134 16.059 16.863 16.2637C17.2151 16.4684 17.4926 16.7514 17.6956 17.1127C17.9009 17.4716 18.0024 17.8858 18 18.3555C18.0024 18.8709 17.8777 19.3285 17.6259 19.7283C17.3765 20.1257 17.0256 20.4376 16.5733 20.664C16.121 20.888 15.5892 21 14.978 21Z" fill="white"/>\n</svg>\n',s.currentTime(0);const v=()=>{s.off("canplaythrough",v)};s.on("canplaythrough",v)}))}}),[r]),(0,nr.useEffect)((()=>{const t=e.current;null==t||t.on("durationchange",(()=>{isFinite((null==t?void 0:t.duration())||0)||null==t||t.duration(Number(n))}))}),[e]),(0,tr.jsx)("div",{className:"flex-100",children:(0,tr.jsx)("div",{className:"bb-editor-container",children:(0,tr.jsx)("div",{"data-vjs-player":!0,className:"bb-video-player video-js vjs-theme-city",ref:r})})})};var CF=()=>{var e,t,n,i;const{setOpenRecordingPreview:r,activeSession:s,setOpenBugReportForm:o,cleanUp:a,totalVideoSec:l,recordType:u,isUpdatingVideo:c,setWidgetOpen:A}=(0,nr.useContext)(Kr),d=(0,nr.useRef)(null),h=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);return(0,tr.jsxs)(tr.Fragment,{children:[(0,tr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-40"}),(0,tr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,tr.jsxs)("div",{className:"bg-[#1E1E1E] rounded-lg p-6 max-w-6xl w-full mx-4",children:[(0,tr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,tr.jsx)("h3",{className:"text-white text-xl font-medium",children:"Video Preview"}),(0,tr.jsx)("button",{onClick:()=>{a(),r(!1)},className:"text-gray-400 hover:text-white transition-colors",children:(0,tr.jsx)(sr,{className:"w-4 h-4"})})]}),(0,tr.jsxs)("div",{className:"relative",children:["rrweb"===u||h&&(null===(t=null===(e=null==s?void 0:s.sessionHasRewind)||void 0===e?void 0:e.events)||void 0===t?void 0:t.length)>0&&l>0&&(0,tr.jsx)(Wb,{}),"getDisplayMedia"===u&&!h&&(c?(0,tr.jsx)("div",{className:"flex items-center justify-center h-[400px] bg-[#2A2A2A] rounded-lg",children:(0,tr.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,tr.jsx)("div",{className:"w-48 h-3 bg-gray-600 rounded mb-3"}),(0,tr.jsx)("div",{className:"w-32 h-3 bg-gray-600 rounded"})]})}):(0,tr.jsx)(wF,{activeSession:s,playerRef:d,duration:null===(n=null==s?void 0:s.sessionHasVideo)||void 0===n?void 0:n.duration,options:{sources:[{src:null===(i=null==s?void 0:s.sessionHasVideo)||void 0===i?void 0:i.url,type:"video/webm"}]}}))]}),(0,tr.jsx)("div",{className:"mt-4 flex justify-end space-x-3",children:(0,tr.jsx)("button",{onClick:()=>{r(!1),o(!0),A(!0)},className:"px-4 py-2 text-black bg-success rounded-lg transition-colors",children:"Save & Report"})})]})})]})},xF=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};var BF=({recordingWidgetPosition:e,setRecordingWidgetPosition:t,widgetRef:n})=>{const{isRecording:i,recordingStackTrace:r,position:s,stopScreenRecord:o,maxRecordingMinutes:a}=(0,nr.useContext)(Kr),[l,u]=(0,nr.useState)(0),c=(0,nr.useRef)({x:0,y:0}),A=(0,nr.useRef)(!1);or((()=>{e&&sessionStorage.setItem("recordingWidgetPosition",JSON.stringify(e))}),[e]),(0,nr.useEffect)((()=>{const e=sessionStorage.getItem("recordingWidgetPosition");t(e?e?JSON.parse(e):void 0:{left:s.left,top:s.top,right:s.right,bottom:s.bottom})}),[]),(0,nr.useEffect)((()=>{var e;let t;return i&&(null===(e=null==r?void 0:r[0])||void 0===e?void 0:e.startTime)?(t=setInterval((()=>{u(Math.floor((Date.now()-r[0].startTime)/1e3)),l>=60*a&&o()}),1e3),u(Math.floor((Date.now()-r[0].startTime)/1e3))):u(0),()=>{t&&clearInterval(t)}}),[i,r]);const d=e=>{if(!A.current||!n.current)return;const i=n.current,r=i.offsetWidth,s=i.offsetHeight,o=e.clientX-c.current.x,a=e.clientY-c.current.y,l=Math.max(0,Math.min(window.innerWidth-r,o)),u=Math.max(0,Math.min(window.innerHeight-s,a));t({left:`${l}px`,top:`${u}px`,right:void 0,bottom:void 0})},h=()=>{A.current=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h)};return(0,tr.jsxs)("div",{className:"bg-[#232728] rounded-full shadow-xl px-4 py-2 flex items-center gap-4 border border-[#2A2A2A]",children:[(0,tr.jsxs)("svg",{className:"cursor-grab",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",onMouseDown:e=>{if(n.current){A.current=!0;const t=n.current.getBoundingClientRect();c.current={x:e.clientX-t.left,y:e.clientY-t.top},document.addEventListener("mousemove",d),document.addEventListener("mouseup",h)}},children:[(0,tr.jsx)("rect",{width:"3",height:"3",x:"4",y:"3.48",fill:"#9797A4",rx:"1.5"}),(0,tr.jsx)("rect",{width:"3",height:"3",x:"10",y:"3.48",fill:"#9797A4",rx:"1.5"}),(0,tr.jsx)("rect",{width:"3",height:"3",x:"4",y:"9.48",fill:"#9797A4",rx:"1.5"}),(0,tr.jsx)("rect",{width:"3",height:"3",x:"10",y:"9.48",fill:"#9797A4",rx:"1.5"})]}),(0,tr.jsx)("button",{onClick:()=>xF(void 0,void 0,void 0,(function*(){yield o(),sessionStorage.removeItem("recordingWidgetPosition"),t({left:s.left,top:s.top,right:s.right,bottom:s.bottom})})),"aria-label":"Stop Recording",className:"w-[32px] h-[32px] flex items-center justify-center bg-[#FD4243] rounded-full shadow hover:opacity-90 transition",children:(0,tr.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",children:(0,tr.jsx)("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2",fill:"white"})})}),(0,tr.jsx)("div",{className:"flex items-center gap-2 bg-[rgba(39, 45, 44, 1)] rounded-full px-3 py-1 border border-white/[0.12]",children:(0,tr.jsx)("span",{className:"text-[#BDBDBD] font-medium text-lg tabular-nums",children:(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(l)})})]})};var SF=()=>{var e;const{widgetOpen:t,setWidgetOpen:n,isRecording:i,openRecordingPreview:r,openBugReportForm:s,showActionButton:o,position:a,activeSession:l,rrwebRePlayer:u,setRRwebRePlayer:c}=(0,nr.useContext)(Kr),[A,d]=(0,nr.useState)(void 0),h=(0,nr.useRef)(null);return(0,nr.useEffect)((()=>{if(!r){const e=null==u?void 0:u.getReplayer();e&&"function"==typeof(null==e?void 0:e.destroy)&&(null==e||e.destroy()),c(void 0)}}),[r]),(0,tr.jsxs)("div",{className:"fixed",ref:h,style:i?{zIndex:2147483647,bottom:(null==A?void 0:A.bottom)||void 0,right:(null==A?void 0:A.right)||void 0,top:null==A?void 0:A.top,left:null==A?void 0:A.left}:{zIndex:2147483647,bottom:a.bottom||void 0,right:a.right||void 0,top:a.top,left:a.left},children:[!i&&!r&&(0,tr.jsx)(Yr,{activeSession:l,open:t,onOpenChange:n,content:(null===(e=null==l?void 0:l.sessionHasScreenShot)||void 0===e?void 0:e.file)||s?(0,tr.jsx)(im,{}):(0,tr.jsx)($r,{}),children:o&&!t&&(0,tr.jsx)("div",{className:"bg-success relative px-4 py-2.5 rounded-md cursor-pointer hover:opacity-90 transition-opacity text-[#1c2221]",style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},children:(0,tr.jsxs)("div",{className:"text-sm flex items-center gap-2",children:[(0,tr.jsx)("span",{className:"text-[#1c2221] font-medium",children:"Report Bug"}),(0,tr.jsx)(Wr,{className:"w-4 h-4 inline-block text-[#1c2221]"})]})})}),i&&(0,tr.jsx)(BF,{recordingWidgetPosition:A,setRecordingWidgetPosition:d,widgetRef:h}),r&&(0,tr.jsx)(CF,{})]})},_F=n(9508),kF=n.n(_F),TF=n(5338);var EF=e=>{var n,i;if("undefined"==typeof window)return;const r=null===document||void 0===document?void 0:document.getElementById(t);r&&(null==r||r.remove());const s=null===document||void 0===document?void 0:document.createElement("bb-sdk");if(s){null===(n=null==s?void 0:s.classList)||void 0===n||n.add("betterbugs-sdk-main"),s.id=t;const r=null==s?void 0:s.attachShadow({mode:"open"}),o=null===document||void 0===document?void 0:document.createElement("div");null==r||r.appendChild(o);const a=(0,TF.createRoot)(o);null==a||a.render((0,tr.jsxs)(nr.StrictMode,{children:[(0,tr.jsx)("style",{type:"text/css",children:kF()}),(0,tr.jsx)(Nr,{children:(0,tr.jsx)(Gr,{options:e,children:(0,tr.jsx)(SF,{})})})]})),null===(i=null===document||void 0===document?void 0:document.documentElement)||void 0===i||i.append(s)}},IF=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};var UF=class{constructor(e){this.init(e)}init(e){return IF(this,void 0,void 0,(function*(){this.maxRecordingMinutes=(null==e?void 0:e.maxRecordingMinutes)||10,this.apiKey=null==e?void 0:e.apiKey,this.metaData=(null==e?void 0:e.metaData)||{},this.widgetOpen="boolean"==typeof(null==e?void 0:e.widgetOpen)&&(null==e?void 0:e.widgetOpen),this.captureRewindOnScreenshot="boolean"==typeof(null==e?void 0:e.captureRewindOnScreenshot)&&(null==e?void 0:e.captureRewindOnScreenshot),this.recordType=(null==e?void 0:e.recordType)||"rrweb",this.position=(null==e?void 0:e.position)||{top:"10px",left:"10px"},this.mode=(null==e?void 0:e.mode)||"development",this.enableRewind="boolean"==typeof(null==e?void 0:e.enableRewind)&&(null==e?void 0:e.enableRewind),this.enableAnnotation="boolean"!=typeof(null==e?void 0:e.enableAnnotation)||(null==e?void 0:e.enableAnnotation),this.showActionButton="boolean"!=typeof(null==e?void 0:e.showActionButton)||(null==e?void 0:e.showActionButton),this.eventHandlers={screenshot:[],recordingStart:[],recordingStop:[],bugSubmit:[],apiKeyUpdate:[],emailUpdate:[],metaDataUpdate:[],captureRewindOnScreenshotUpdate:[],recordTypeUpdate:[],positionUpdate:[],modeUpdate:[],enableRewind:[],enableAnnotation:[],widgetOpen:[],widgetClose:[],showActionButton:[],hideActionButton:[],sessionCreated:[],recordingPreviewOpen:[],recordingPreviewClose:[]},er.getInstance({maxRecordingMinutes:this.maxRecordingMinutes}).startRecording();const t=yield Dr({apiKey:this.apiKey});(null==t?void 0:t.id)&&EF({maxRecordingMinutes:this.maxRecordingMinutes,triggerEvent:this.triggerEvent.bind(this),apiKey:this.apiKey,metaData:this.metaData,widgetOpen:this.widgetOpen,captureRewindOnScreenshot:this.captureRewindOnScreenshot,recordType:this.recordType,position:this.position,mode:this.mode,enableRewind:this.enableRewind,enableAnnotation:this.enableAnnotation,showActionButton:this.showActionButton})}))}getApiKey(){return this.apiKey}getMetadata(){return this.metaData}getWidgetOpen(){return this.widgetOpen}getCaptureRewindOnScreenshot(){return this.captureRewindOnScreenshot}getRecordType(){return this.recordType}getPosition(){return this.position}getMode(){return this.mode}getEnableRewind(){return this.enableRewind}getEnableAnnotation(){return this.enableAnnotation}getShowActionButton(){return this.showActionButton}updateApiKey(e){this.apiKey=e;const t=new CustomEvent("betterbugs:apiKeyUpdate",{detail:{apiKey:e}});document.dispatchEvent(t)}updateMetadata(e){this.metaData=e;const t=new CustomEvent("betterbugs:metaDataUpdate",{detail:{metaData:e}});document.dispatchEvent(t)}updateCaptureRewindOnScreenshot(e){this.captureRewindOnScreenshot=e;const t=new CustomEvent("betterbugs:captureRewindOnScreenshotUpdate",{detail:{captureRewindOnScreenshot:e}});document.dispatchEvent(t)}updateRecordType(e){this.recordType=e;const t=new CustomEvent("betterbugs:recordTypeUpdate",{detail:{recordType:e}});document.dispatchEvent(t)}updatePosition(e){this.position=e;const t=new CustomEvent("betterbugs:positionUpdate",{detail:{position:e}});document.dispatchEvent(t)}updateMode(e){this.mode=e;const t=new CustomEvent("betterbugs:modeUpdate",{detail:{mode:e}});document.dispatchEvent(t)}updateEnableRewind(e){this.enableRewind=e;const t=new CustomEvent("betterbugs:enableRewind",{detail:{enableRewind:e}});document.dispatchEvent(t)}updateEnableAnnotation(e){this.enableAnnotation=e;const t=new CustomEvent("betterbugs:enableAnnotation",{detail:{enableAnnotation:e}});document.dispatchEvent(t)}updateWidgetOpen(e){this.widgetOpen=e;const t=new CustomEvent("betterbugs:widgetOpen",{detail:{widgetOpen:e}});document.dispatchEvent(t)}show(){this.showActionButton=!0;const e=new CustomEvent("betterbugs:showActionButton",{detail:{showActionButton:!0}});document.dispatchEvent(e)}hide(){this.showActionButton=!1;const e=new CustomEvent("betterbugs:hideActionButton",{detail:{showActionButton:!1}});document.dispatchEvent(e)}startRecording(){const e=new CustomEvent("betterbugs:startRecording");document.dispatchEvent(e)}stopRecording(){const e=new CustomEvent("betterbugs:stopRecording");document.dispatchEvent(e)}captureScreenshot(){const e=new CustomEvent("betterbugs:captureScreenshot");document.dispatchEvent(e)}submitBug(e){const t=new CustomEvent("betterbugs:submitBug",{detail:e});document.dispatchEvent(t)}destroy(){const e=new CustomEvent("betterbugs:destroy");document.dispatchEvent(e);const n=er.getInstance({maxRecordingMinutes:this.maxRecordingMinutes});if((null==n?void 0:n.stopRecording)&&n.stopRecording(),this.eventHandlers)for(const e in this.eventHandlers)this.eventHandlers[e]=[];this.widgetOpen=!1,this.captureRewindOnScreenshot=!1,this.recordType="rrweb",this.position={top:"10px",left:"10px"},this.mode="development",this.enableRewind=!1,this.enableAnnotation=!0,this.showActionButton=!0,this.metaData={},setTimeout((()=>{var e,n;null===(e=document.getElementById(t))||void 0===e||e.remove(),null===(n=document.getElementById(r))||void 0===n||n.remove()}),0)}on(e,t){this.eventHandlers[e]&&this.eventHandlers[e].push(t)}off(e,t){this.eventHandlers[e]&&(this.eventHandlers[e]=this.eventHandlers[e].filter((e=>e!==t)))}triggerEvent(e,t){this.eventHandlers&&this.eventHandlers[e]&&this.eventHandlers[e].forEach((e=>e(t)))}};class FF extends UF{constructor(e){super(e)}getAPIKey(){return super.getApiKey()}getMetadata(){return super.getMetadata()}getWidgetOpen(){return super.getWidgetOpen()}getCaptureRewindOnScreenshot(){return super.getCaptureRewindOnScreenshot()}getRecordType(){return super.getRecordType()}getPosition(){return super.getPosition()}getMode(){return super.getMode()}getEnableRewind(){return super.getEnableRewind()}getEnableAnnotation(){return super.getEnableAnnotation()}getShowActionButton(){return super.getShowActionButton()}setAPIKey(e){super.updateApiKey(e)}setMetadata(e){super.updateMetadata(e)}setCaptureRewindOnScreenshot(e){super.updateCaptureRewindOnScreenshot(e)}setRecordType(e){super.updateRecordType(e)}setPosition(e){super.updatePosition(e)}setMode(e){super.updateMode(e)}setEnableRewind(e){super.updateEnableRewind(e)}setEnableAnnotation(e){super.updateEnableAnnotation(e)}openWidget(){super.updateWidgetOpen(!0)}closeWidget(){super.updateWidgetOpen(!1)}show(){super.show()}hide(){super.hide()}destroy(){super.destroy()}startRecording(){super.startRecording()}stopRecording(){super.stopRecording()}captureScreenshot(){super.captureScreenshot()}submitBug(e){super.submitBug(e)}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}}window.Betterbugs=FF;var DF=FF}(),i=i.default}()}));